'use strict';jQryIter.setQueryParam=function(d,a){var f=!1,e=0,b=window.location.search||"?";b=b.replace(new RegExp("([?&]"+d+"=)[^?&]*","g"),function(h,g){f=!0;return g+(a instanceof Array?a[e++]:a)});if(f){if(a instanceof Array&&a.length>e)for(var c=e;c<a.length;c++)"?"!==b&&(b+="&"),b+=d+"="+a[c]}else if(a instanceof Array&&1<a.length)for(c=0;c<a.length;c++)"?"!==b&&(b+="&"),b+=d+"="+a[c];else c=a instanceof Array?a[0]:a,"?"!==b&&(b+="&"),b+=d+"="+c;window.location.href=[location.protocol,"//",
location.host,location.pathname,b,window.location.hash].join("")};"undefined"!==typeof jQryIter.hooks&&(jQryIter.hooks.pay=jQryIter.hooks.pay||{},jQryIter.hooks.pay.paypalButtonStyle=function(){return{label:"paypal"}});
'use strict';(function(a){a.fn.extend({wlazyloadPager:function(f,d){d=d||200;var b=a(document).find(f);if(0!=b.size()){var e=b.first();b=a(window);b=b.scrollTop()+b.height();var g=e.offset().top;if(b+d>g)b=e.attr("src"),a.ajax({url:b}).success(function(c){null!=c&&(c=c.trim());c=a(c);var h=e.parent();e.remove();h.append(c);ITER.PORTLET_COMPLETE.launchAll();a(document).trigger("widgetCompleteLoad",[c]);window.dispatchEvent(new CustomEvent("widgetCompleteLoad",{detail:c}));a("body.public-page").wlazyloadPager(f,
d)});else a(window).one("scroll",function(){a("body.public-page").wlazyloadPager(f,d)})}}})})(jQryIter);
'use strict';var ITER=ITER||{};ITER.PORTLET_COMPLETE=ITER.PORTLET_COMPLETE||{};ITER.PORTLET_COMPLETE.launchAll=function(){jQuery("._tc, ._rc").each(function(){var a=jQuery(this),c=a.attr("id"),b="";a.hasClass("_tc")?b="teaserCompleteLoad":a.hasClass("_rc")&&(b="rankingCompleteLoad");jQuery(document).trigger(b,c)})};jQryIter(document).ready(ITER.PORTLET_COMPLETE.launchAll);
'use strict';var ITER=ITER||{};ITER.FAVORITE=ITER.FAVORITE||{};ITER.FAVORITE.CORE=ITER.FAVORITE.CORE||{};ITER.FAVORITE.CORE.apirequest=function(a,b,c,d){var e=new XMLHttpRequest;e.open(a,b);e.onload=function(){200===e.status?"function"===typeof c&&c(e):"function"===typeof d&&d(e)};e.send()};ITER.FAVORITE.CORE.findArticleById=function(a,b){return a.find(function(c){return c.id==this},b)};
ITER.FAVORITE.CORE.render=function(a,b,c){a="/news-portlet/renderArticle/"+a+"/"+btoa(b);jQryIter.ajax({url:a,dataType:"html",success:function(d,e,f){c.append(d)}})};ITER.FAVORITE.ARTICLES=ITER.FAVORITE.ARTICLES||{};ITER.FAVORITE.ARTICLES.list=null;ITER.FAVORITE.ARTICLES.isEnabled=function(){return jQryIter.isFavoriteArticlesEnabled()&&jQryIter.isUserAuthenticated()};
ITER.FAVORITE.ARTICLES.onLoad=function(a,b){null===ITER.FAVORITE.ARTICLES.list?ITER.FAVORITE.ARTICLES.load(a,b):"function"===typeof a&&a()};ITER.FAVORITE.ARTICLES.load=function(a,b){ITER.FAVORITE.ARTICLES.isEnabled()&&ITER.FAVORITE.CORE.apirequest("GET","/restapi/user/favorite/articles/get/"+ITER.USER.id,function(c){c=JSON.parse(c.responseText);ITER.FAVORITE.ARTICLES.list=[];for(var d in c.user.articles)ITER.FAVORITE.ARTICLES.list.push(c.user.articles[d]);"function"===typeof a&&a()},b)};
ITER.FAVORITE.ARTICLES.get=function(){return null===ITER.FAVORITE.ARTICLES.list?[]:ITER.FAVORITE.ARTICLES.list};ITER.FAVORITE.ARTICLES.isFavorite=function(a){return"undefined"!==typeof ITER.FAVORITE.CORE.findArticleById(ITER.FAVORITE.ARTICLES.list,a)};ITER.FAVORITE.ARTICLES.count=function(){return null===ITER.FAVORITE.ARTICLES.list?0:ITER.FAVORITE.ARTICLES.list.length};
ITER.FAVORITE.ARTICLES.add=function(a,b,c){ITER.FAVORITE.ARTICLES.isEnabled()&&ITER.FAVORITE.CORE.apirequest("POST","/restapi/user/favorite/articles/add/"+a,function(){ITER.FAVORITE.ARTICLES.list.push({crc:"",id:a});"undefined"!==typeof MASStatsMgr&&MASStatsMgr.notifyFavoriteArticleAdded();"function"===typeof b&&b()},c)};
ITER.FAVORITE.ARTICLES.remove=function(a,b,c){ITER.FAVORITE.ARTICLES.isEnabled()&&ITER.FAVORITE.CORE.apirequest("POST","/restapi/user/favorite/articles/remove/"+a,function(){var d=ITER.FAVORITE.CORE.findArticleById(ITER.FAVORITE.ARTICLES.list,a);ITER.FAVORITE.ARTICLES.list.splice(ITER.FAVORITE.ARTICLES.list.indexOf(d),1);"function"===typeof b&&b()},c)};
ITER.FAVORITE.ARTICLES.show=function(a,b){if("undefined"!==typeof a&&a)if("undefined"!==typeof b&&b instanceof jQuery)if(ITER.USER.id)ITER.FAVORITE.ARTICLES.onLoad(function(){for(var c in ITER.FAVORITE.ARTICLES.list){var d=jQryIter("<div></div>");jQryIter(b).append(d);ITER.FAVORITE.CORE.render(ITER.FAVORITE.ARTICLES.list[c].crc+ITER.FAVORITE.ARTICLES.list[c].id,a,d)}},function(){console.log("Unexpected error rendering favorite articles")});else console.log("There is no authenticated user");else console.log("Parameter 'container' is not a JQuery object");
else console.log("Parameter 'templateid' is empty")};ITER.FAVORITE.TOPICS=ITER.FAVORITE.TOPICS||{};ITER.FAVORITE.TOPICS.loaded=!1;ITER.FAVORITE.TOPICS.isEnabled=function(){return jQryIter.isFavoriteTopicsEnabled()&&jQryIter.isUserAuthenticated()};ITER.FAVORITE.TOPICS.onLoad=function(a,b){ITER.FAVORITE.TOPICS.loaded?"function"===typeof a&&a():ITER.FAVORITE.TOPICS.load(a,b)};
ITER.FAVORITE.TOPICS.load=function(a,b){ITER.FAVORITE.TOPICS.isEnabled()&&(ITER.FAVORITE.TOPICS.DATA.load(),ITER.FAVORITE.CORE.apirequest("GET","/restapi/user/favorite/topics/get/"+ITER.USER.id,function(c){c=JSON.parse(c.responseText);ITER.FAVORITE.TOPICS.DATA.merge(c.user);ITER.FAVORITE.TOPICS.loaded=!0;"function"===typeof a&&a()},b))};
ITER.FAVORITE.TOPICS.get=function(){var a=[],b;for(b in ITER.FAVORITE.TOPICS.DATA.topics)0<ITER.FAVORITE.TOPICS.DATA.topics[b].id&&a.push(ITER.FAVORITE.TOPICS.DATA.topics[b]);return a};ITER.FAVORITE.TOPICS.isFavorite=function(a){return"undefined"===typeof ITER.FAVORITE.TOPICS.DATA.findById(a)?!1:!0};
ITER.FAVORITE.TOPICS.add=function(a,b,c){ITER.FAVORITE.TOPICS.isEnabled()&&ITER.FAVORITE.CORE.apirequest("POST","/restapi/user/favorite/topics/add/"+a,function(){var d=jQryIter("*[data-categoryid='"+a+"'][data-categoryname]");d=0<d.size()?d.attr("data-categoryname"):"";ITER.FAVORITE.TOPICS.DATA.addTopic(a,d);"undefined"!==typeof MASStatsMgr&&MASStatsMgr.notifyFavoriteTopicAdded();"function"===typeof b&&b()},c)};
ITER.FAVORITE.TOPICS.remove=function(a,b,c){ITER.FAVORITE.TOPICS.isEnabled()&&ITER.FAVORITE.CORE.apirequest("POST","/restapi/user/favorite/topics/remove/"+a,function(){ITER.FAVORITE.TOPICS.DATA.removeTopic(a);"function"===typeof b&&b()},c)};ITER.FAVORITE.TOPICS.onVisitPendingArticle=null;ITER.FAVORITE.TOPICS.getPendingArticlesFrom=function(a){var b=[],c;for(c in a.articles)!0!==a.articles[c].visited&&b.push(a.articles[c]);return b};ITER.FAVORITE.TOPICS.isPending=function(a){return 0<=ITER.FAVORITE.TOPICS.DATA.getArticles(!1).indexOf(a)};
ITER.FAVORITE.TOPICS.countPendingArticles=function(){return ITER.FAVORITE.TOPICS.DATA.getArticles(!1).length};ITER.FAVORITE.TOPICS.removePendingArticle=function(a,b,c){ITER.FAVORITE.TOPICS.isEnabled()&&ITER.FAVORITE.CORE.apirequest("POST","/restapi/user/favorite/articles/removepending/"+a,b,c)};
ITER.FAVORITE.TOPICS.markAsRead=function(a){ITER.FAVORITE.TOPICS.isEnabled()&&ITER.FAVORITE.TOPICS.removePendingArticle(a,function(){var b=!1,c;for(c in ITER.FAVORITE.TOPICS.DATA.topics)for(var d in ITER.FAVORITE.TOPICS.DATA.topics[c].articles){var e=ITER.FAVORITE.TOPICS.DATA.topics[c].articles[d];e.id===a&&(b=e.visited=!0)}if(b&&(ITER.FAVORITE.TOPICS.DATA.save(),"function"===typeof ITER.FAVORITE.TOPICS.onVisitPendingArticle))ITER.FAVORITE.TOPICS.onVisitPendingArticle()})};
ITER.FAVORITE.TOPICS.getReadLaterArticles=function(){var a=[],b=ITER.FAVORITE.TOPICS.DATA.findById(0);if("undefined"!==typeof b)for(var c in b.articles){var d=b.articles[c];!0!==d.visited&&a.push(d)}return a};ITER.FAVORITE.TOPICS.isReadLater=function(a){var b=ITER.FAVORITE.TOPICS.DATA.findById(0);if("undefined"===typeof b)return!1;a=ITER.FAVORITE.CORE.findArticleById(b.articles,a);return"undefined"===typeof a?!1:!0!==a.visited};ITER.FAVORITE.TOPICS.countReadLaterArticles=function(){return ITER.FAVORITE.TOPICS.getReadLaterArticles().length};
ITER.FAVORITE.TOPICS.readLater=function(a,b,c){ITER.FAVORITE.TOPICS.isEnabled()&&ITER.FAVORITE.CORE.apirequest("POST","/restapi/user/favorite/articles/readlater/"+a,function(){ITER.FAVORITE.TOPICS.DATA.load();var d=ITER.FAVORITE.TOPICS.DATA.findById(0);"undefined"===typeof d&&(d=ITER.FAVORITE.TOPICS.DATA.addTopic(0,"readlater"));var e=ITER.FAVORITE.CORE.findArticleById(d.articles,a);"undefined"!==typeof e?e.visited=!1:d.articles.push({crc:"",id:a});ITER.FAVORITE.TOPICS.DATA.save();"function"===typeof b&&
b()},c)};ITER.FAVORITE.TOPICS.removeReadLater=function(a,b,c){ITER.FAVORITE.TOPICS.isEnabled()&&ITER.FAVORITE.TOPICS.removePendingArticle(a,function(){ITER.FAVORITE.TOPICS.DATA.load();var d=ITER.FAVORITE.TOPICS.DATA.findById(0);if("undefined"!==typeof d){var e=ITER.FAVORITE.CORE.findArticleById(d.articles,a);"undefined"!==typeof d&&d.articles.splice(d.articles.indexOf(e),1);ITER.FAVORITE.TOPICS.DATA.save()}"function"===typeof b&&b()},c)};ITER.FAVORITE.TOPICS.DATA=ITER.FAVORITE.TOPICS.DATA||{};
ITER.FAVORITE.TOPICS.DATA.lastUpdate=0;ITER.FAVORITE.TOPICS.DATA.topics=[];ITER.FAVORITE.TOPICS.DATA.load=function(){var a=localStorage.getItem("IterPendingArticlesData");null!==a&&(a=JSON.parse(a),a=a[ITER.USER.id],"undefined"!==typeof a&&(ITER.FAVORITE.TOPICS.DATA.lastUpdate=a.date,ITER.FAVORITE.TOPICS.DATA.topics=a.topics))};ITER.FAVORITE.TOPICS.DATA.findById=function(a){return ITER.FAVORITE.TOPICS.DATA.topics.find(function(b){return b.id==this},a)};
ITER.FAVORITE.TOPICS.DATA.addTopic=function(a,b){ITER.FAVORITE.TOPICS.DATA.load();var c=ITER.FAVORITE.TOPICS.DATA.findById(a);"undefined"===typeof c&&(c={id:a,name:b,articles:[]},ITER.FAVORITE.TOPICS.DATA.topics.push(c),ITER.FAVORITE.TOPICS.DATA.save());return c};ITER.FAVORITE.TOPICS.DATA.removeTopic=function(a){ITER.FAVORITE.TOPICS.DATA.load();a=ITER.FAVORITE.TOPICS.DATA.findById(a);"undefined"!==typeof a&&(ITER.FAVORITE.TOPICS.DATA.topics.splice(ITER.FAVORITE.TOPICS.DATA.topics.indexOf(a),1),ITER.FAVORITE.TOPICS.DATA.save())};
ITER.FAVORITE.TOPICS.DATA.save=function(a){var b=localStorage.getItem("IterPendingArticlesData");b=null===b?{}:b=JSON.parse(b);b[ITER.USER.id]="undefined"!==typeof a?a:{date:ITER.FAVORITE.TOPICS.DATA.lastUpdate,topics:ITER.FAVORITE.TOPICS.DATA.topics};localStorage.setItem("IterPendingArticlesData",JSON.stringify(b))};ITER.FAVORITE.TOPICS.DATA.merge=function(a){ITER.FAVORITE.TOPICS.DATA.lastUpdate<a.date&&(ITER.FAVORITE.TOPICS.DATA.save(a),ITER.FAVORITE.TOPICS.DATA.load())};
ITER.FAVORITE.TOPICS.DATA.getArticles=function(a){var b=[],c;for(c in ITER.FAVORITE.TOPICS.DATA.topics){var d=ITER.FAVORITE.TOPICS.DATA.topics[c];if(0<d.id)for(var e in d.articles)(!0!==d.articles[e].visited?!1:!0)===a&&(b.includes(d.articles[e].id)||b.push(d.articles[e].id))}return b};
'use strict';var ITER=ITER||{};
ITER.SURVEYS=ITER.SURVEYS||function(){var k=function(a,b,d){return new Promise(function(e,f){var c=new XMLHttpRequest;c.open(a,b,!0);c.setRequestHeader("Content-Type","application/json;charset=UTF-8");c.send(d);c.onreadystatechange=function(){4===c.readyState&&(200===c.status?e(c.responseText):"undefined"!==typeof c.responseText&&c.responseText?(jsonError=JSON.parse(c.responseText),f(Error(jsonError.error))):f(Error(c.status)))}})},l=function(a){if(navigator.cookieEnabled&&"undefined"!==typeof a&&
a){var b=jQuery.cookie("IsVoted");return"undefined"!==typeof b&&b?-1===b.split(",").indexOf(a):!0}return!1},m=function(a){if("undefined"!==typeof a&&a&&(a instanceof jQryIter||a instanceof jQuery||(a=jQryIter(a)),a.is("form"))){const b={};a.serialize().split("&").map(function(d){d=d.split("=");2==d.length&&(b[d[0]]=d[1])});return"undefined"===typeof b.questionId||"undefined"===typeof b.choiceId?null:b}return null};return{vote:function(a,b,d){return new Promise(function(e,f){if(null===(a=m(a)))return f(Error("invalidform"));
if(!navigator.cookieEnabled)return f(Error("cantvote"));if(!l(a.questionId))return f(Error("duplicatevote"));k("POST","undefined"!==typeof a["g-recaptcha-response"]?"/restapi/poll/captchavote":"/restapi/poll/vote",JSON.stringify(a)).then(function(c){var h=a.questionId;if("undefined"!==typeof h&&h){var g=jQuery.cookie("IsVoted");"undefined"!==typeof g&&g?-1===g.split(",").indexOf(h)&&(g+=","+h):g=h;jQuery.cookie("IsVoted",g,{expires:5})}"undefined"!=typeof MASStatsMgr&&"undefined"!=typeof b&&"undefined"!=
typeof d&&MASStatsMgr.sendEvent("Encuestas",b,d);e(JSON.parse(c))})["catch"](function(c){f(c)})})},getResults:function(a){return new Promise(function(b,d){k("POST","/restapi/poll/getpoll/"+a,null).then(function(e){b(JSON.parse(e))})["catch"](function(e){d(e)})})}}}();
'use strict';jQryIter.b64EncodeUnicode=function(c){return encodeURIComponent(btoa(encodeURIComponent(c).replace(/%([0-9A-F]{2})/g,function(f,h){return String.fromCharCode("0x"+h)})))};jQryIter.b64DecodeUnicode=function(c){return decodeURIComponent(atob(decodeURIComponent(c)).split("").map(function(f){return"%"+("00"+f.charCodeAt(0).toString(16)).slice(-2)}).join(""))};
jQryIter(".iter-faceted-search .element").bind("click",function(){var c="",f=jQryIter(location).attr("href"),h=jQryIter(this).attr("data-url"),p=jQryIter(this).closest(".iter-faceted-search").attr("data-separator");f=f.split(p);var b=f[1].split("/"),a=b[8];if("0"==a)a=h;else{a=jQryIter.b64DecodeUnicode(a);var e=h.split(":"),l=e[1],k=e.length;if(2<k)for(var t=2;t<k;t++)l=l+":"+e[t];var q=a.split("$"),n=[];if(jQryIter(this).hasClass("checked")){jQryIter(this).removeClass("checked");k=h.replace(/[).?+^$|({[\\]\*/g,
"\\$&").replace(/:/g,":.*");var r=new RegExp(k,"gi");jQryIter.each(q,function(d,g){g.match(r)?(d=g.replace(l,""),d=d.replace(/(:\^)|(\^\^)|(^\$)/g,function(m){var u="";""!=m&&(u=-1!=m.indexOf(":")?":":-1!=m.indexOf("$")?"$":"^");return u}),d.trim().match(/.*:$/)||n.push(d)):n.push(q[d])});a=n.join("$")}else jQryIter(this).addClass("checked"),k=e[0]+":.*",r=new RegExp(k,"gi"),-1!=a.search(r)?(jQryIter.each(q,function(d,g){if(g.match(r)){d=g+"^"+e[1];g=e.length;if(2<g)for(var m=2;m<g;m++)d=d+":"+e[m];
n.push(d)}else n.push(q[d])}),a=n.join("$")):a=a+"$"+h}a.lastIndexOf("^")==a.length-1&&(a=a.substring(0,a.length-1));c=f[0]+p;jQryIter.each(b,function(d,g){8==d?(a=0==a.length?"0":jQryIter.b64EncodeUnicode(a),c=c+a+"/"):c=13==d?c+"0/":14==d?c+"1":c+g+"/"});window.location.href=c});
jQryIter(".iter-faceted-search-reset").bind("click",function(){var c=jQryIter(location).attr("href"),f=jQryIter(this).attr("data-type"),h=jQryIter(this).closest(".iter-faceted-search").attr("data-separator");c=c.split(h);var p=c[1].split("/"),b=jQryIter.b64DecodeUnicode(p[8]),a="";if(0<=b.toLowerCase().indexOf(f.toLowerCase())){a=new RegExp("(.*)"+f+":[^\\$]+\\$?(.*)");b=b.replace(a,"$1$2");0==b.indexOf("$")&&(b=b.substring(1,b.length));b.lastIndexOf("$")==b.length-1&&(b=b.substring(0,b.length-1));
var e=c[0]+h;jQryIter.each(p,function(l,k){8==l?(b=0==b.length?"0":jQryIter.b64EncodeUnicode(b),e=e+b+"/"):e=13==l?e+"0/":14==l?e+"1":e+k+"/"});window.location.href=e}});
'use strict';function doLogout(){jQryIter.ajax({type:"POST",url:"/restapi/user/logout",dataType:"json",error:function(a,b,c){ITER.UTIL.MESSAGE.alert("error",c)},success:function(a,b,c){(b=a.exception)?(a=b.indexOf(":"),a=b.substring(a+1),ITER.UTIL.MESSAGE.dialog("error",{title:jQryIter(".errTitle")[0].val(),oklabel:"OK",text:a})):a.returnValue.sso?window.location.assign(a.returnValue.sso):window.location.reload(!0)}})};
'use strict';function LoginForm(){}
LoginForm.sendForm=function(a,c){var d=jQryIter(jQryIter(a.target).parents("form")[0]);a=d.find(".userInput").val();var g=d.find(".inputPassword").val(),h=d.find(".chkKeep").is(":checked");jQryIter.ajax({type:"POST",url:"/restapi/user/login",data:{username:a,password:g,keepAlive:h,origin:c},dataType:"json",error:function(b,e,f){ITER.UTIL.MESSAGE.alert("error",f)},success:function(b){var e=b.exception;if(e)b=e.indexOf(":"),b=e.substring(b+1),ITER.UTIL.MESSAGE.dialog("error",{title:d.siblings(".errTitle").val(),
oklabel:"OK",text:b});else if(e=ITER.UTIL.COOKIE.get("ITR_COOKIE_AFTER_AUTHENTICATION_URL"))ITER.UTIL.COOKIE.remove("ITR_COOKIE_AFTER_AUTHENTICATION_URL","/"),jQryIter(window.location).attr("href",e);else if(b.returnValue.infomsg)d.find(".closeWrapper").click(),ITER.UTIL.MESSAGE.dialog("error",{title:d.siblings(".errTitle").val(),oklabel:"OK",text:b.returnValue.infomsg,href:b.returnValue.sso?b.returnValue.sso:c});else if(b.returnValue.furtheraction&&"redirect"==b.returnValue.furtheraction.action)jQryIter(window.location).attr("href",
b.returnValue.furtheraction.location);else if(b.returnValue.sso)jQryIter(window.location).attr("href",b.returnValue.sso);else{b=!0;try{b=null!=window.opener}catch(f){}b?window.close():""!=c?window.location.href=c:window.location.reload(!0)}}})};
LoginForm.onKeyDown=function(a){if(9==(a.keyCode?a.keyCode:a.which)){var c=jQryIter(a.target);a.shiftKey&&"userInput"==c.attr("class")?(a.preventDefault(),jQryIter(a.target).parents("form").find(".btnLogin").focus()):a.shiftKey||"btnLogin"!=c.attr("class")||(a.preventDefault(),jQryIter(a.target).parents("form").find(".userInput").focus())}};LoginForm.onKeyPress=function(a){13==(a.keyCode?a.keyCode:a.which)&&jQryIter(a.target).parents("form").find(".btnLogin").click()};
'use strict';function loginloadSWF(a,c){var b=document.getElementById("flex-msie");a=logincreateIeObject(a,c);b.parentNode.replaceChild(a,b);jQryIter("#currentPortletConfig").show()}
function logincreateIeObject(a,c){var b=document.createElement("div");b.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' width='100%' height='100%' id='flex-msie'><param name='movie' value='"+a+"'> <param name='quality' value='high'><param name='bgcolor' value='#ffffff'><param name='allowScriptAccess' value='sameDomain'><param name='allowFullScreen' value='true'><param name='wmode' value='transparent'><param name='flashVars' value='"+c+"' id='param-flashvars-msie'/><object type='application/x-shockwave-flash' data='"+
a+"' width='100%' height='100%' id='flex-other'><param name='quality' value='high'><param name='bgcolor' value='#ffffff'><param name='allowScriptAccess' value='sameDomain'><param name='allowFullScreen' value='true'><param name='wmode' value='transparent'><param name='flashvars' value='"+c+"' id='param-flashvars-other'/></object></object>";return b.firstChild};
'use strict';function showError(e,f,c){jQryIter("<div></div>").dialog({dialogClass:"d-modal",modal:!0,title:e,open:function(a,b){jQryIter(".ui-widget-overlay").css({background:"rgba(54, 54, 54, 0.5)",height:"100%",width:"100%",left:"0",top:"0",position:"fixed","z-index":"9999999"});a=jQryIter('<div id="MenuDialog">'+c+"</div>");jQryIter(this).html(a)},buttons:[{text:f,click:function(){jQryIter(this).dialog("close")}}]})}
function showWarn(e,f,c,a){jQryIter("<div></div>").dialog({dialogClass:"d-modal",modal:!0,title:e,open:function(b,d){jQryIter(".ui-widget-overlay").css({background:"rgba(54, 54, 54, 0.5)",height:"100%",width:"100%",left:"0",top:"0",position:"fixed","z-index":"9999999"});b=jQryIter('<div id="MenuDialog">'+a+"</div>");jQryIter(this).html(b)},close:function(b,d){""!=c&&(window.location.href=c)},buttons:[{text:f,click:function(){jQryIter(this).dialog("close");var b=!0;try{b=null!=window.opener}catch(d){}b?
window.close():""!=c?window.location.href=c:window.location.reload(!0)}}]})}
function showInfo(e,f,c,a,b){jQryIter("<div></div>").dialog({dialogClass:"d-modal",modal:!0,title:e,open:function(d,g){jQryIter(".ui-widget-overlay").css({background:"rgba(54, 54, 54, 0.5)",height:"100%",width:"100%",left:"0",top:"0",position:"fixed","z-index":"9999999"});d=jQryIter('<div id="MenuDialog">'+c+"</div>");jQryIter(this).html(d)},close:function(d,g){""!=a&&(window.location.href=a)},buttons:[{text:f,click:function(){jQryIter(this).dialog("close");""!=a?window.location.href=a:!0===b&&window.location.reload(!0)}}]})}
;
'use strict';var urlService="/c/portal/json_service",ITER=ITER||{};ITER.newsletter=ITER.newsletter||{};ITER.newsletter.error=ITER.newsletter.error||{};ITER.newsletter.error.EMAIL_REPEATED="XYZ_FIELD_USER_EMAIL_REPEATED_ZYX";ITER.newsletter.error.ACCEPT_LICENSE="XYZ_E_NEWSLETTER_ACCEPT_LICENSE_ZYX";ITER.newsletter.expandAllNewsletter=function(){jQryIter(".newsletters .newsletters_options:hidden").prev().removeClass("newsletters_closed").addClass("newsletters_open");jQryIter(".newsletters .newsletters_options:hidden").slideToggle("fast")};
ITER.newsletter.collapseAllNewsletter=function(){jQryIter(".newsletters .newsletters_options:visible").prev().removeClass("newsletters_open").addClass("newsletters_closed");jQryIter(".newsletters .newsletters_options:visible").slideToggle("fast")};
ITER.newsletter.checkStatusExpanded=function(){jQryIter(".newsletters .newsletters_options:hidden").size()==jQryIter(".newsletters .newsletters_options").size()&&(jQryIter(".expandCollapse").removeClass("newsletters_expanded").addClass("newsletters_collapsed"),jQryIter(".newsletters_cab").removeClass("newsletters_open").addClass("newsletters_closed"));jQryIter(".newsletters .newsletters_options:visible").size()==jQryIter(".newsletters .newsletters_options").size()&&(jQryIter(".expandCollapse").removeClass("newsletters_collapsed").addClass("newsletters_expanded"),
jQryIter(".newsletters_cab").removeClass("newsletters_closed").addClass("newsletters_open"))};ITER.newsletter.disableLightSchedulers=function(a,c){jQryIter(".newsletters_check :input").each(function(){jQryIter(this).prop("disabled",a);void 0!==c&&(jQryIter(this)[0].checked=c)})};
ITER.newsletter.checkLightFields=function(){if(jQryIter("#newsletter_email_ctrl").length){var a=!jQryIter("#newsletter_license_check").length||jQryIter("#newsletter_license_check").prop("checked");0!=jQryIter("#newsletter_email_ctrl").val().length&&a?(jQryIter("#newsletter_chk_subs_ctrl").length&&jQryIter("#newsletter_chk_subs_ctrl").css("pointer-events","auto"),ITER.newsletter.disableLightSchedulers(!1)):(jQryIter("#newsletter_chk_subs_ctrl").length&&jQryIter("#newsletter_chk_subs_ctrl").css("pointer-events",
"none"),ITER.newsletter.disableLightSchedulers(!0))}};
ITER.newsletter.getLightNewsletterUser=function(a,c,d){var f=jQryIter("#newsletter_license_check").length&&jQryIter("#newsletter_license_check").prop("checked");f={email:jQryIter("#newsletter_email_ctrl").val(),licenseAcepted:f,ITER_HquetpesZ3rvl3tR3qu3z_:"",ITER_HquetpesZ3rvl3tR3zp0nz3_:"",serviceClassName:"com.protecmedia.iter.base.service.NewsletterMgrServiceUtil",serviceMethodName:"getMyLightNewsletters",serviceParameters:"['email','licenseAcepted','ITER_HquetpesZ3rvl3tR3qu3z_','ITER_HquetpesZ3rvl3tR3zp0nz3_']",doAsUserId:""};
jQryIter.ajax({type:"POST",url:urlService,data:f,dataType:"json",error:function(b,e,g){ITER.UTIL.MESSAGE.alert("error",g)},success:function(b){b=JSON.parse(b.returnValue);if("OK"===b.result){ITER.newsletter.disableLightSchedulers(!1,!1);b=b.options;for(var e in b)jQryIter("#"+b[e].id)[0].checked=!0}else console.log(b.cause),b.cause==ITER.newsletter.error.EMAIL_REPEATED?ITER.UTIL.MESSAGE.alert("error",a):b.cause==ITER.newsletter.error.ACCEPT_LICENSE?ITER.UTIL.MESSAGE.alert("error",d):ITER.UTIL.MESSAGE.alert("error",
c)}})};
ITER.newsletter.getNewsletterUser=function(){jQryIter.ajax({type:"POST",url:urlService,data:{ITER_HquetpesZ3rvl3tR3qu3z_:"",ITER_HquetpesZ3rvl3tR3zp0nz3_:"",serviceClassName:"com.protecmedia.iter.base.service.NewsletterMgrServiceUtil",serviceMethodName:"getMyNewsletters",serviceParameters:"['ITER_HquetpesZ3rvl3tR3qu3z_','ITER_HquetpesZ3rvl3tR3zp0nz3_']",doAsUserId:""},dataType:"json",error:function(a,c,d){ITER.UTIL.MESSAGE.alert("error",d)},success:function(a){var c=a.exception;if(c)ITER.UTIL.MESSAGE.alert("error",c);
else if(a=a.returnValue){a=JSON.parse(a).options;for(var d in a)"undefined"!==typeof jQryIter("#"+a[d].id)[0]&&(jQryIter("#"+a[d].id)[0].checked=!0)}}})};
ITER.newsletter.manageNewsletter=function(a,c,d,f,b){var e={optionid:a,suscribe:c,ITER_HquetpesZ3rvl3tR3qu3z_:"",ITER_HquetpesZ3rvl3tR3zp0nz3_:"",serviceClassName:"com.protecmedia.iter.base.service.NewsletterMgrServiceUtil",serviceMethodName:"manageNewsletter",serviceParameters:"['optionid','suscribe','ITER_HquetpesZ3rvl3tR3qu3z_','ITER_HquetpesZ3rvl3tR3zp0nz3_']",doAsUserId:""};jQryIter.ajax({type:"POST",url:urlService,data:e,dataType:"json",error:function(g,l,h){ITER.UTIL.MESSAGE.alert("error",
h)},success:function(g){"OK"===JSON.parse(g.returnValue).result?e.suscribe?ITER.UTIL.MESSAGE.alert("info",d):ITER.UTIL.MESSAGE.alert("info",f):(ITER.UTIL.MESSAGE.alert("error",b),jQryIter("#"+e.optionid)[0].checked=!e.suscribe)}})};
ITER.newsletter.manageLightNewsletter=function(a,c,d,f,b,e,g){var l=jQryIter("#newsletter_license_check").length&&jQryIter("#newsletter_license_check").prop("checked"),h={email:jQryIter("#newsletter_email_ctrl").val(),licenseAcepted:l,optionid:a,suscribe:c,ITER_HquetpesZ3rvl3tR3qu3z_:"",ITER_HquetpesZ3rvl3tR3zp0nz3_:"",serviceClassName:"com.protecmedia.iter.base.service.NewsletterMgrServiceUtil",serviceMethodName:"manageLightNewsletter",serviceParameters:"['email','licenseAcepted','optionid','suscribe','ITER_HquetpesZ3rvl3tR3qu3z_','ITER_HquetpesZ3rvl3tR3zp0nz3_']",
doAsUserId:""};jQryIter.ajax({type:"POST",url:urlService,data:h,dataType:"json",error:function(k,n,m){ITER.UTIL.MESSAGE.alert("error",m)},success:function(k){k=JSON.parse(k.returnValue);"OK"===k.result?h.suscribe?ITER.UTIL.MESSAGE.alert("info",d):ITER.UTIL.MESSAGE.alert("info",f):(k.cause==ITER.newsletter.error.EMAIL_REPEATED?ITER.UTIL.MESSAGE.alert("error",e):k.cause==ITER.newsletter.error.ACCEPT_LICENSE?ITER.UTIL.MESSAGE.alert("error",g):ITER.UTIL.MESSAGE.alert("error",b),jQryIter("#"+h.optionid)[0].checked=
!h.suscribe)}})};
'use strict';var unregisterDialog;
function showUnregisterDialog(b,c,f,d,e,g,h,a){unregisterDialog||(unregisterDialog=jQryIter("<div></div>").html('<form id="unregisterForm"><div class="passwordWrapper"><label class="passwordLabel">'+f+'</label><input id="unregisterInputPassword1" class="inputPassword" type="password" required></div><div class="passwordWrapper"><label class="passwordLabel">'+d+'</label><input id="unregisterInputPassword2" class="inputPassword" type="password" required></div></form>').dialog({dialogClass:"d-modal",modal:!0,
autoOpen:!1,title:b,open:function(l,k){jQryIter(".ui-widget-overlay").css({background:"rgba(54, 54, 54, 0.5)",height:"100%",width:"100%",left:"0",top:"0",position:"fixed","z-index":"9999999"});jQryIter("input[id*='unregisterInputPassword']").on("input",function(){checkUnregisterButton()})},buttons:[{text:c,click:function(){unregisterUser(e,g,h,b,a)}}]}));unregisterDialog.dialog("open");jQryIter("#unregisterInputPassword1").val("");jQryIter("#unregisterInputPassword2").val("");checkUnregisterButton()}
function checkUnregisterButton(){var b=jQryIter("#unregisterInputPassword1").val(),c=jQryIter("#unregisterInputPassword2").val();b&&c&&b===c?jQryIter(".ui-dialog-buttonpane").find("button:first").css("visibility","visible"):jQryIter(".ui-dialog-buttonpane").find("button:first").css("visibility","hidden")}
function unregisterUser(b,c,f,d,e){var g=jQryIter("#unregisterInputPassword1").val(),h=jQryIter("#unregisterInputPassword2").val();jQryIter.ajax({type:"POST",url:"/c/portal/json_service",data:{ITER_HquetpesZ3rvl3tR3qu3z_:"",ITER_HquetpesZ3rvl3tR3zp0nz3_:"",password1:g,password2:h,serviceClassName:"com.protecmedia.iter.user.service.IterRegisterServiceUtil",serviceMethodName:"unregisterUser",serviceParameters:"['ITER_HquetpesZ3rvl3tR3qu3z_','ITER_HquetpesZ3rvl3tR3zp0nz3_','password1','password2']",
doAsUserId:""},dataType:"json",error:function(a,l,k){alert(k)},success:function(a){a=JSON.parse(a.returnValue);"OK"===a.result?ITER.UTIL.MESSAGE.dialog("info",{title:d,oklabel:e,text:b,href:a.sso?a.sso:"",reload:!0}):"KO"===a.result?ITER.UTIL.MESSAGE.dialog("error",{title:d,oklabel:e,text:c}):ITER.UTIL.MESSAGE.dialog("error",{title:d,oklabel:e,text:f})}})};
'use strict';function enableSendButton(){""!=jQryIter("#emailinput").val().trim()&&(jQryIter("#namecheck").is(":checked")||jQryIter("#pwdcheck").is(":checked"))?(jQryIter("#sendbtt").removeClass("disabled"),jQryIter("#sendbtt").removeAttr("disabled")):(jQryIter("#sendbtt").addClass("disabled"),jQryIter("#sendbtt").attr("disabled","disabled"))}
function onKeyDown(a){9==(a.keyCode?a.keyCode:a.which)&&(a.shiftKey&&"emailinput"==a.target.id?(a.preventDefault(),jQryIter("#sendbtt").focus()):a.shiftKey||"sendbtt"!=a.target.id||(a.preventDefault(),jQryIter("#emailinput").focus()))}
function sendReminder(a,c){function f(b){if(b.exception){var e=b.exception.indexOf(":");b=b.exception.substring(e+1);ITER.UTIL.MESSAGE.dialog("error",{title:jQryIter("#forgotTitle").val(),oklabel:jQryIter("#forgotBttText").val(),text:b})}else jQryIter.each(b,function(d,g){d=JSON.parse(g);d.form?drawForm(d):drawEmailMsg(d.email)})}var h=jQryIter("#emailinput").val(),k=jQryIter("#namecheck").is(":checked"),l=jQryIter("#pwdcheck").is(":checked");jQryIter.ajax({type:"POST",url:"/c/portal/json_service",
data:{groupid:a,email:h,isnamechecked:k,ispwdchecked:l,refererurl:c,ITER_HquetpesZ3rvl3tR3qu3z_:"",ITER_HquetpesZ3rvl3tR3zp0nz3_:"",serviceClassName:"com.protecmedia.iter.user.service.IterRegisterServiceUtil",serviceMethodName:"getUserCredentials",serviceParameters:"['groupid','email','isnamechecked','ispwdchecked','refererurl','ITER_HquetpesZ3rvl3tR3qu3z_','ITER_HquetpesZ3rvl3tR3zp0nz3_']",doAsUserId:""},dataType:"json",error:function(b,e,d){ITER.UTIL.MESSAGE.alert("error",d)},success:function(b){f(b)}})}
function drawForm(a){var c=jQryIter("#forgotpasswordform").parent();jQryIter("#forgotpasswordform").remove();c.append(a.form);jQryIter("form").submit(function(){return!1})}function drawEmailMsg(a){var c=jQryIter("#forgotpasswordform").parent();jQryIter("#forgotpasswordform").remove();c.append(a);-1!==c.html().indexOf("ckeditor-wrapper-content")&&ckEditorWrapperContent()};
