(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92025],{82364:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AggregatedCloseupSavedToBoardInfo_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"1c0dd9839405d82cabfd205ccf6b71f5"};e.exports=n},375882:e=>{var n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};i.hash="2d8f315013487d39e45789c61794f121",e.exports=i},396190:e=>{var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SavedToText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"726966a5dc7cf7fa52c9cdb9ab829535"};e.exports=n},848842:e=>{var n,i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};t.hash="8d7bd7a5f2c2827017b3814423934967",e.exports=t},347702:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-55781e6a.svg"},852544:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-1e39c058.svg"},430467:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-89903abe.svg"},240291:e=>{e.exports="https://s.pinimg.com/webapp/commentLovedOutline-ce03475d.svg"},356554:(e,n,i)=>{i.d(n,{L:()=>t,b:()=>l});const t=(0,i(667294).createContext)({isStoryPinWithProducts:!1}),l=t.Provider},213036:(e,n,i)=>{i.d(n,{ZP:()=>R,VS:()=>z,It:()=>M});var t=i(702664),l=i(458843),o=i(558150),a=i(248975),r=i(609943),s=i(954571),c=i(102500),d=i(623568),u=i(539497);const m=e=>{(async({pinId:e,link:n,mobileLink:i,origImageUrl:t,trackedLink:l,clientTrackingParams:o})=>{var a;const r={check_only:!0,client_tracking_params:o,pin_id:null!=e?e:null,url:null!==(a=(0,d.Zt)({link:n,mobileLink:i,origImageUrl:t,trackedLink:l}))&&void 0!==a?a:""},s=await(0,c.Z)(r).callGet();if(s&&s.resource_response&&!s.resource_response.error){const{redirect_status:e}=s.resource_response.data;return e}return"error"})(e).then((e=>(0,u.My)(`mweb.unauth.clickthrough_quality.${e}`)))};var g,h=i(250946),_=i(826067),p=i(755506),y=i(350576),x=i(663023),v=i(217013),f=i(389920),P=i(802201),b=i(630135),k=i(112690),j=i(52022),A=i(332611),C=i(48714),S=i(276775),I=i(167912);const w=void 0!==g?g:g=i(848842),z=({commerceData:e,hasRichMetadata:n,hasRichMetadataProducts:i,hasRichMetadataArticle:t,hasRichMetadataRecipe:l,imageSignature:o,location:a,pinId:s,pinMobileLink:c,trackingParams:d})=>{const u=(0,r.Z)((a.state||{}).trackingParams,d);return{object_id_str:s,component:4,element:35,view_type:3,view_parameter:(0,y.RX)(c)?3172:(0,p.CK)({hasRichMetadata:n,hasRichMetadataProducts:i,hasRichMetadataArticle:t,hasRichMetadataRecipe:l}),clientTrackingParams:u,aux_data:{commerce_data:e,image_signature:o}}},T=()=>navigator.onLine,L=({history:e,location:n,dispatch:i,shouldUpsellHomePage:t,userIsNew:r,hasPromoter:s,isAuthenticated:c,viewParameter:g,clickthroughInterstitialExperience:h,linklessOptions:p,hasPin:y,pinId:v,isEligibleForPdp:f,isOosProduct:P,isStaleProduct:b,shoppingFlags:k,imageSignature:j,mobileLink:S,trackingParams:I,link:w,trackedLink:L,hasRichMetadata:M,hasRichMetadataProducts:R,hasRichMetadataArticle:E,hasRichMetadataRecipe:F,images:O,embedSrc:D,embedType:U,category:Z,domain:N,linkDomainOfficialUserImageMediumUrl:B,logContextEvent:H,trackInteraction:K})=>()=>{var $,q;if(!y)return;const G=z({commerceData:(0,o.Z)({isEligibleForPdp:f,isOosProduct:P,isStaleProduct:b,pinShoppingFlags:k}),hasRichMetadata:M,hasRichMetadataProducts:R,hasRichMetadataArticle:E,hasRichMetadataRecipe:F,imageSignature:j,location:n,pinId:v,pinMobileLink:S,trackingParams:I});var W;((0,u.My)("mweb_pin_page.pin_image.clickthrough_occurred"),K({action:"click",item:"clickthrough"}),c)||m({pinId:v,link:w,mobileLink:S,origImageUrl:null==O||null===(W=O.orig)||void 0===W?void 0:W.url,trackedLink:L,clientTrackingParams:G.clientTrackingParams});12===(0,x.jC)(G)&&H({event_type:8948,view_type:3,view_parameter:g,object_id_str:v,clientTrackingParams:G.clientTrackingParams,aux_data:{image_signature:j,closeup_navigation_type:(0,l.Z)(e),click_type:"clickthrough",cosmic_ray_count:"1"}});const X=null!==($=(0,d.Zt)({link:w,mobileLink:S,origImageUrl:null==O||null===(q=O.orig)||void 0===q?void 0:q.url,trackedLink:L}))&&void 0!==$?$:"",Y={pin:v,client_tracking_params:G.clientTrackingParams};if(p){if(!p.actionBarIsMinifiedToMainPinImage){const e=new XMLHttpRequest;e.open("GET",(0,C.nS)({url:X,queryParams:Y})),e.send()}return void p.onTap()}const V=!s&&(r||t);if(V&&i((0,A.kd)(1000162)),V&&h){i((0,A.UT)(h.placement_id,h.experience_id)),i((0,A.CK)(h.placement_id,h.experience_id));const e=(0,C.nS)({url:X,queryParams:Y}),t=(0,a.Z)({images:O,embedSrc:D,embedType:U}),l=n.pathname+n.search;if(!T())return;const o={domain:null!=N?N:"",domainImageUrl:null!=B?B:"",origin:l,pinCategory:Z,pinImageUrl:t,redirectUrl:e};window.open((0,_.ru)("/pin_redirect",o),"_blank")}else{if(!T())return;(0,C.Gj)({url:X,queryParams:Y})}},M=({clickthroughInterstitialExperience:e,linklessOptions:n,graphqlRef:i})=>{var l,o,a,r,c,d,u,m,g,_;const p=(0,S.useHistory)(),y=(0,S.useLocation)(),x=(0,t.useDispatch)(),f=(0,b.S)(),P=(0,t.useSelector)((({users:e,session:n})=>(0,s.Z)(e[n.userId].created_at))),{isAuthenticated:A,viewParameter:C}=(0,v.R)(),z=(0,I.useFragment)(w,i),T=(0,h.Z)(z),M=!(!z.promoter||z.isDownstreamPromotion),R=null!==(l=z.category)&&void 0!==l?l:"",E=(0,k.Z)(),F=(0,j.Z)();return L({history:p,location:y,dispatch:x,shouldUpsellHomePage:f,userIsNew:P,hasPromoter:M,isAuthenticated:A,viewParameter:C,clickthroughInterstitialExperience:e,linklessOptions:n,logContextEvent:E,trackInteraction:F,hasPin:Boolean(z.entityId),pinId:null!==(o=z.entityId)&&void 0!==o?o:"",isEligibleForPdp:Boolean(z.isEligibleForPdp),isOosProduct:Boolean(z.isOosProduct),isStaleProduct:Boolean(z.isStaleProduct),shoppingFlags:null!==(a=z.shoppingFlags)&&void 0!==a?a:void 0,imageSignature:z.imageSignature,mobileLink:z.mobileLink,trackingParams:z.trackingParams,link:z.link,trackedLink:z.trackedLink,hasRichMetadata:Boolean(z.richMetadata),hasRichMetadataProducts:Boolean(null===(r=z.richMetadata)||void 0===r?void 0:r.products),hasRichMetadataArticle:Boolean(null===(c=z.richMetadata)||void 0===c?void 0:c.article),hasRichMetadataRecipe:Boolean(null===(d=z.richMetadata)||void 0===d?void 0:d.recipe),images:T,embedSrc:null===(u=z.embed)||void 0===u?void 0:u.src,embedType:null===(m=z.embed)||void 0===m?void 0:m.type,category:R,domain:z.domain,linkDomainOfficialUserImageMediumUrl:null===(g=z.linkDomain)||void 0===g||null===(_=g.officialUser)||void 0===_?void 0:_.imageMediumUrl})},R=({clickthroughInterstitialExperience:e,linklessOptions:n,pinId:i})=>{var l,o,a,r,c,d,u,m;const g=(0,S.useHistory)(),h=(0,S.useLocation)(),_=(0,t.useDispatch)(),p=(0,b.S)(),y=(0,t.useSelector)((({users:e,session:n})=>(0,s.Z)(e[n.userId].created_at))),x=(0,P.S6)()(i),A=(0,f.Ph)(null!=x?x:void 0),{isAuthenticated:C,viewParameter:I}=(0,v.R)(),w=(0,k.Z)(),z=(0,j.Z)();return L({history:g,location:h,dispatch:_,shouldUpsellHomePage:p,userIsNew:y,hasPromoter:!!A,isAuthenticated:C,viewParameter:I,clickthroughInterstitialExperience:e,linklessOptions:n,logContextEvent:w,trackInteraction:z,hasPin:Boolean(x),pinId:null!==(l=null==x?void 0:x.id)&&void 0!==l?l:"",isEligibleForPdp:Boolean(null==x?void 0:x.is_eligible_for_pdp),isOosProduct:Boolean(null==x?void 0:x.is_oos_product),isStaleProduct:Boolean(null==x?void 0:x.is_stale_product),shoppingFlags:null==x?void 0:x.shopping_flags,imageSignature:null==x?void 0:x.image_signature,mobileLink:null==x?void 0:x.mobile_link,trackingParams:null==x?void 0:x.tracking_params,link:null==x?void 0:x.link,trackedLink:null==x?void 0:x.tracked_link,hasRichMetadata:Boolean(null==x?void 0:x.rich_metadata),hasRichMetadataProducts:Boolean(null==x||null===(o=x.rich_metadata)||void 0===o?void 0:o.products),hasRichMetadataArticle:Boolean(null==x||null===(a=x.rich_metadata)||void 0===a?void 0:a.article),hasRichMetadataRecipe:Boolean(null==x||null===(r=x.rich_metadata)||void 0===r?void 0:r.recipe),images:null==x?void 0:x.images,embedSrc:null==x||null===(c=x.embed)||void 0===c?void 0:c.src,embedType:null==x||null===(d=x.embed)||void 0===d?void 0:d.type,category:null==x?void 0:x.category,domain:null==x?void 0:x.domain,linkDomainOfficialUserImageMediumUrl:null==x||null===(u=x.link_domain)||void 0===u||null===(m=u.official_user)||void 0===m?void 0:m.image_medium_url})}},777269:(e,n,i)=>{i.d(n,{ZP:()=>x});var t=i(883119),l=i(802201),o=i(785893);const a=({maxPrice:e,minPrice:n,price:i,standardPrice:t,NoPrice:l,RangedPrice:a,RegularPrice:r,RangedSalePrice:s,SalePrice:c})=>n&&e&&t?(0,o.jsx)(s,{saleMinPrice:n,saleMaxPrice:e,regularPriceRange:t}):n&&e?(0,o.jsx)(a,{maxPrice:e,minPrice:n}):i?t&&i!==t?(0,o.jsx)(c,{regularPrice:t,salePrice:i}):(0,o.jsx)(r,{price:i}):(0,o.jsx)(l,{});var r,s=i(167912);const c=()=>null,d=void 0!==r?r:r=i(375882),u=({price:e,align:n})=>(0,o.jsx)(t.X6,{color:"default",size:"400",align:n,children:e}),m=({minPrice:e,maxPrice:n,align:i})=>(0,o.jsx)(t.X6,{color:"default",size:"400",align:i,children:`${e}-${n}`}),g=({salePrice:e,regularPrice:n,align:i})=>(0,o.jsxs)(t.X6,{size:"400",align:i,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:e})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${n}`})]}),h=({saleMinPrice:e,saleMaxPrice:n,regularPriceRange:i,align:l})=>(0,o.jsxs)(t.X6,{size:"400",align:l,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:`${e}-${n}`})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${i}`})]});function _({maxPrice:e,minPrice:n,price:i,standardPrice:t,align:l,NoPrice:r,RangedPrice:s,RangedSalePrice:d,RegularPrice:_,SalePrice:p}){return r||(r=e=>(0,o.jsx)(c,{...e,align:l})),s||(s=e=>(0,o.jsx)(m,{...e,align:l})),d||(d=e=>(0,o.jsx)(h,{...e,align:l})),_||(_=e=>(0,o.jsx)(u,{...e,align:l})),p||(p=e=>(0,o.jsx)(g,{...e,align:l})),(0,o.jsx)(a,{maxPrice:e,minPrice:n,price:i,standardPrice:t,NoPrice:r,RegularPrice:_,RangedPrice:s,RangedSalePrice:d,SalePrice:p})}function p(e){var n,i,t,l,a,r;const c=(0,s.useFragment)(d,e.graphqlRef),u=null==c?void 0:c.richMetadata,m=null==c?void 0:c.richSummary;let g;return null!=u&&null!==(n=u.products)&&void 0!==n&&n[0]&&u.products[0].name&&u.products[0].offerSummary&&(g=u.products[0].offerSummary),!g&&null!=m&&null!==(i=m.products)&&void 0!==i&&i[0]&&m.products[0].name&&m.products[0].offerSummary&&(g=m.products[0].offerSummary),(0,o.jsx)(_,{maxPrice:null===(t=g)||void 0===t?void 0:t.maxPrice,minPrice:null===(l=g)||void 0===l?void 0:l.minPrice,price:null===(a=g)||void 0===a?void 0:a.price,standardPrice:null===(r=g)||void 0===r?void 0:r.standardPrice,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function y(e){var n,i,t,a,r,s;const c=(0,l.S6)()(e.pinId||""),d=null==c?void 0:c.rich_metadata,u=null==c?void 0:c.rich_summary;let m;return null!=d&&null!==(n=d.products)&&void 0!==n&&n[0]&&d.products[0].name&&d.products[0].offer_summary&&(m=d.products[0].offer_summary),!m&&null!=u&&null!==(i=u.products)&&void 0!==i&&i[0]&&u.products[0].name&&u.products[0].offer_summary&&(m=u.products[0].offer_summary),(0,o.jsx)(_,{maxPrice:null===(t=m)||void 0===t?void 0:t.max_price,minPrice:null===(a=m)||void 0===a?void 0:a.min_price,price:null===(r=m)||void 0===r?void 0:r.price,standardPrice:null===(s=m)||void 0===s?void 0:s.standard_price,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function x(e){return e.graphqlRef?(0,o.jsx)(p,{...e}):(0,o.jsx)(y,{...e})}},852782:(e,n,i)=>{i.d(n,{Z:()=>re});var t=i(667294),l=i(702664),o=i(814449),a=i(116303),r=i(898781),s=i(883119),c=i(785893);const d=({isQuestion:e,name:n,size:i,src:t})=>{const l=(0,r.ZP)();return(0,c.jsxs)(s.xu,{position:"relative",children:[(0,c.jsx)(a.Z,{size:i,src:t,name:n}),e&&(0,c.jsxs)(s.xu,{position:"absolute",right:!0,bottom:!0,marginEnd:-1,marginBottom:-1,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,c.jsx)(s.xu,{position:"absolute",children:(0,c.jsx)(s.JO,{icon:"speech",color:"dark",accessibilityLabel:l._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A')})}),(0,c.jsx)(s.xu,{position:"absolute",children:(0,c.jsx)(s.JO,{icon:"question-mark",color:"light",size:8,accessibilityLabel:l._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A')})})]})]})},u=({color:e,isMarkedHelpful:n})=>{const i=(0,r.ZP)();return(0,c.jsx)(s.JO,{color:n?"brandPrimary":e,accessibilityLabel:i._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful'),icon:void 0,size:12,dangerouslySetSvgPath:{__path:"M21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5ZM21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5Z"},inline:!0})};var m=i(223815),g=i(499128),h=i(28754),_=i(717615),p=i(845772),y=i(19121),x=i(541776),v=i(625124),f=i(975209),P=i(778821),b=i(874934),k=i(407043),j=i(773285),A=i(844949),C=i(343341),S=i(231947);const I=({aggregatedPinDataId:e,anchor:n,closeupAttributionId:i,comment:o,dismiss:a,isOpen:d,isReply:u,onEdit:I,onReportTry:w,onShowBlockUserModal:z,parentId:T,pinnerId:L,pinId:M})=>{const R=(0,r.ZP)(),E=(0,l.useDispatch)(),{logContextEvent:F}=(0,k.v)(),{showToast:O}=(0,C.F9)(),{anyEnabled:D}=(0,j.F)().checkExperiment("web_m10n_business_access_orbac_ga"),{toggleAggregatedCommentHighlight:U}=(0,b.nf)(),Z=(0,h.Z)(),[N,B]=(0,t.useState)(!1);(0,t.useEffect)((()=>{B(d)}),[d,B]);const H=(0,y.Z)(),K=(0,_.Z)(),$=(0,p.Z)(),{reportComment:q}=(0,A.f)(),G=null!=i?i:"",W=o.user.id,X=H.isAuth&&G===H.id,Y=(0,S.q6)(H,null!=L?L:"",D?K:{}),V=(0,S.D3)(H,W,D?K:{}),J=(0,S.D3)(H,G,D?K:{}),Q=H.isAuth&&(o.tagged_users||[]).filter((({id:e})=>e===H.id)).length>0,ee=e=>{U({aggregatedCommentId:o.id,pinId:M,isHighlighted:e}),F({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:W}}),O((({hideToast:n})=>(0,c.jsx)(g.ZP,{primaryAction:{accessibilityLabel:R._('Undo comment highlight or comment highlight removal', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton', 'Undo comment highlight or comment highlight removal'),label:R._('Undo', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:()=>E(U({aggregatedCommentId:o.id,pinId:M,isHighlighted:!e}))},onHide:n,text:e?R._('Highlight removed', 'unifiedComment.unifiedCommentContainer.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'):R._('Comment highlighted', 'unifiedComment.unifiedCommentContainer.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.')})))};if(!d)return null;const ne={highlight:R._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),removeHighlight:R._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),edit:R._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),delete:R._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),reportContent:R._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),removeMention:R._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),blockUser:R._('Block user', 'closeup.activityItem.blockUser', 'Block comment author')},ie=new s.Ry(1);return(0,c.jsx)(t.Fragment,{children:N&&(0,c.jsx)(m.Z,{children:(0,c.jsxs)(s.Lt,{id:"comment-overflow-popover",anchor:n,idealDirection:"down",onDismiss:a,isWithinFixedContainer:!1,zIndex:ie,children:[!u&&X&&!o.highlighted_by_pin_owner&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>ee(!1),option:{label:ne.highlight,value:ne.highlight},dataTestId:"dropdown-item-highlight"}),!u&&X&&o.highlighted_by_pin_owner&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>ee(!0),option:{label:ne.removeHighlight,value:ne.removeHighlight},dataTestId:"dropdown-item-remove-highlight"}),V&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>I(),option:{label:ne.edit,value:ne.edit},dataTestId:"dropdown-item-edit"}),(V||J)&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>{"aggregatedcomment"===o.type?Z({aggregatedCommentId:o.id,aggregatedPinId:null!=e?e:"",feedType:u?"aggregatedComments":P.DV.UNIFIED_COMMENTS,orbacSubjectId:$,parentId:T,type:u?x.Rv.REPLY_TO_AGGREGATED:x.Rv.TOP,updateParentCommentCount:!0}):E((0,f.lg)({aggregatedPinDataId:null!=e?e:"",feedType:P.DV.UNIFIED_COMMENTS,id:o.id,isOwnedByMe:!0,pinId:null!=M?M:"",username:o.user.username,updateParentDidItCount:!0}))},option:{label:ne.delete,value:ne.delete},dataTestId:"dropdown-item-delete"}),!V&&!Y&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>{"aggregatedcomment"===o.type?q(o.id,null,null):"userdiditdata"===o.type&&w()},option:{label:ne.reportContent,value:ne.reportContent},dataTestId:"dropdown-item-report"}),Q&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>(E((0,v.Q)(o.id)),void O((({hideToast:e})=>(0,c.jsx)(g.ZP,{onHide:e,text:R._('@mention removed!', 'unifiedComment.unifiedCommentContainer.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in the comment')})))),option:{label:ne.removeMention,value:ne.removeMention},dataTestId:"dropdown-item-remove-mention"}),!V&&(0,c.jsx)(s.Lt.Item,{onSelect:()=>(B(!1),void z()),option:{label:ne.blockUser,value:ne.blockUser},dataTestId:"dropdown-item-block-user"})]})})})};var w=i(852544),z=i.n(w),T=i(240291),L=i.n(T);const M={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:`url(${z()})`},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:`url(${L()})`}},R=({setHelpful:e,setLoved:n})=>{const i=(0,r.ZP)(),[l,o]=(0,t.useState)(!1),[a,d]=(0,t.useState)(!1),u=e=>()=>{o(e)},m=e=>()=>{d(e)};return(0,c.jsxs)(s.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:M.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,c.jsx)(s.iP,{fullHeight:!0,onMouseDown:n,onMouseEnter:m(!0),onMouseLeave:m(!1),children:(0,c.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:M.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:a?3:1,position:"absolute",width:18,children:a&&(0,c.jsx)(s.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:M.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,c.jsx)(s.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:i._('Love', 'comment.button.loved', 'loved reaction')})})})}),(0,c.jsx)(s.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:u(!0),onMouseLeave:u(!1),children:(0,c.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:M.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:l?3:1,position:"absolute",width:18,children:l&&(0,c.jsx)(s.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:M.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,c.jsx)(s.xv,{color:"inverse",overflow:"normal",size:"100",weight:"bold",children:i._('Helpful', 'comment.button.helpful', 'helpful reaction')})})})})]})};var E=i(347702),F=i.n(E),O=i(430467),D=i.n(O);const U={helpfulStyle:{backgroundImage:`url(${F()})`},lovedStyle:{backgroundImage:`url(${D()})`}},Z=({response:e})=>{const n=14===e.reaction_type,i=1===e.reaction_type;return(0,c.jsxs)(s.kC,{alignItems:"center",children:[(0,c.jsx)(s.iP,{role:"link",href:`/${e.user.username}/`,children:(0,c.jsxs)(s.kC,{alignItems:"center",children:[(0,c.jsx)(s.xu,{maxWidth:40,children:(0,c.jsx)(a.Z,{outline:!0,accessibilityLabel:"",name:e.user.full_name,size:"sm",src:e.user.image_medium_url})}),(0,c.jsx)(s.xu,{marginStart:2,maxWidth:80,children:(0,c.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:e.user.full_name})})]})}),(0,c.jsxs)(s.xu,{alignContent:"end",display:"flex",padding:2,children:[i&&(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:U.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),n&&(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:U.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var N=i(784590);const B=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.full_name","user.id","user.image_medium_url","user.username"],H=({commentId:e,isMarkedHelpfulByMe:n,isLovedByMe:i})=>{var l,o;const a=(0,y.Z)(),r=(0,N.Z)({name:"ApiResource",options:{url:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:B}});let d=null===(l=r.data)||void 0===l?void 0:l.filter((e=>e.user.id!==a.id));if((i||n)&&d){d=[{id:e,reaction_type:i?1:14,user:{full_name:a.isAuth?a.fullName:"",id:a.isAuth?a.id:"",image_medium_url:a.isAuth?a.imageMediumUrl:"",username:a.isAuth?a.username:""}},...d]}const u=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const{current:e}=u,n=()=>{r.isFetching||(r.isAtEnd?null==e||e.removeEventListener("scroll",n):r.fetchMore())};return null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}}),[r]),(0,c.jsx)(s.xu,{color:"selected",maxHeight:140,overflow:"scroll",ref:u,rounding:2,width:180,children:null===(o=d)||void 0===o?void 0:o.map((e=>(0,c.jsx)(s.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,c.jsx)(Z,{response:e})},e.id)))})},K=({commentId:e,dismissReactionList:n,helpfulCount:i,isMarkedHelpfulByMe:l,isLovedByMe:o,isReactionListOpen:a,lovedCount:d,onReactionCountHover:u,onToggleHelpful:m,onToggleLove:g})=>{const h=(0,r.ZP)(),_=(0,t.useRef)(),[p,y]=(0,t.useState)(!1);let x=(d||0)+(i||0);l&&o&&(x-=1);const v=e=>()=>{y(e)},f=p?(0,c.jsx)(s.iP,{onMouseLeave:v(!1),onMouseDown:v(!1),children:(0,c.jsx)(R,{setHelpful:m(!0),setLoved:g(!0)})}):(0,c.jsx)(s.iP,{onMouseEnter:v(!0),children:(0,c.jsx)(s.JO,{accessibilityLabel:h._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),color:"subtle",icon:"heart-outline",size:16})});return(0,c.jsxs)(s.kC,{alignItems:"center",gap:{row:1,column:0},children:[l||o?(0,c.jsx)(s.iP,{onMouseDown:()=>{m(!1)(),g(!1)()},children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${o?D():F()})`}},"data-test-id":o?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):f,x>0&&(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(s.iP,{onMouseEnter:u,children:(0,c.jsx)(s.xu,{"data-test-id":"comment-reaction-container-reaction-count",ref:_,children:(0,c.jsx)(s.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:x})})}),a&&(0,c.jsx)(s.mh,{children:(0,c.jsx)(s.J2,{anchor:_.current,idealDirection:"down",onDismiss:n,positionRelativeToAnchor:!1,children:(0,c.jsx)(H,{commentId:e,isMarkedHelpfulByMe:l,isLovedByMe:o})})})]})]})};var $=i(428837),q=i(486553),G=i(349700);function W(e){const{featuredCommentId:n,parentId:i,parentType:o,isDesktop:a,isLoading:d,isReadOnly:u,openOverflowMenu:m,replyingToCommentId:g,toggleHelpful:h,toggleLike:_,toggleReplyComposer:p,isORBACProfileManager:y,isVideo:x,storyPinDataId:v,pinId:f,closeupAttributionId:k,aggregatedPinDataId:j,closeupAttributionUsername:A,pinnerId:C,reactionListCommentId:S,showReactionListForComment:I}=e,w=(0,r.ZP)(),z=(0,b.lV)(),T=(0,l.useSelector)((({feeds:e})=>(e[`${P.DV.AGGREGATED_COMMENT_REPLIES}:${i}`]||[]).reduce(((e,{id:n})=>{const i=z[n];return i&&e.push(i),e}),[]))),[L,M]=(0,t.useState)(1),R=L===T.length;return(0,c.jsxs)(t.Fragment,{children:[T.length>1&&(0,c.jsx)(s.iP,{onTap:()=>{M(R?0:T.length)},children:(0,c.jsxs)(s.xu,{marginBottom:4,children:[(0,c.jsx)(s.xu,{display:"inlineBlock",marginEnd:2,children:(0,c.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:"⎯⎯"})}),(0,c.jsx)(s.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:R?w._('Hide replies', 'comment.button.hideReplies', 'hide comment replies'):(0,G.nk)(w.ngettext('View {{ commentCount }} reply', 'View {{ commentCount }} replies', T.length, 'comment.button.showReplies', 'show comment replies'),{commentCount:T.length})})]})}),(0,c.jsx)(re,{comments:T.slice(0,L),featuredCommentId:n,gapSize:2,isDesktop:a,isLoading:d,isReadOnly:u,openOverflowMenu:m,toggleReplyComposer:p,parentId:i,parentType:o,replyingToCommentId:g,toggleHelpful:h,toggleLike:_,userAvatarSize:"sm",isORBACProfileManager:y,isVideo:x,storyPinDataId:v,pinId:f,closeupAttributionId:k,aggregatedPinDataId:j,closeupAttributionUsername:A,pinnerId:C,showReactionListForComment:I,reactionListCommentId:S})]})}const X=({tags:e,taggedUsers:n,text:i})=>{const t=(e,n)=>(0,c.jsx)(s.xv,{inline:!0,overflow:"normal",children:e},n);return(0,c.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!e.length||!n||e.length!==n.length)return t(i,"1");let l=0,o=[];return e.forEach(((e,a)=>{const r=i.substring(l,e.offset);l=e.offset+e.length;const d=i.substring(e.offset,l);o=o.concat(t(r,`${a}a`)).concat(((e,i,t,l)=>(0,c.jsx)(s.xv,{color:e,inline:!0,weight:"bold",overflow:"normal",children:(0,c.jsx)(s.rU,{href:`/${n[t].username}`,inline:!0,underline:"hover",children:i})},l))(e.color,d,a,`${a}b`))})),o=o.concat(t(i.substring(l),"2")),(0,c.jsx)(s.xv,{inline:!0,overflow:"normal",children:o})})()})};var Y=i(964569),V=i(482546),J=i(107656),Q=i(129274),ee=i(379725),ne=i(473727),ie=i(2361),te=i(162379),le=i(584595);function oe(e){var n,i,a,m;const{aggregatedPinDataId:h,closeupAttributionId:p,closeupAttributionUsername:x,comment:v,featuredCommentId:f,isDesktop:P,isReadOnly:A,isVideo:w,openOverflowMenu:z,toggleReplyComposer:T,parentId:L,parentType:M=J.o.pin,pinId:R,storyPinDataId:E,replyingToCommentId:F,showReactionListForComment:O,toggleHelpful:D,toggleLike:U,userAvatarSize:Z,isORBACProfileManager:N,pinnerId:B,reactionListCommentId:H}=e,{user:{id:oe,first_name:ae,id:re,image_medium_url:se,username:ce},id:de,comment_count:ue,helpful_count:me,tags:ge}=v;let he=!1,_e=0,pe=!1;const ye=!!v.marked_helpful_by_me;let xe;const ve=!A,fe=[v.user];let Pe="",be=0;"aggregatedcomment"===v.type?(he=v.highlighted_by_pin_owner,_e=v.reaction_counts[1],pe=v.reaction_by_me>0,fe.push(...v.tagged_users),Pe=`${ce} ${v.text}`,be=new Date-new Date(v.created_at)):(xe=(v.images[0]||{})["150x150"],Pe=`${ce} ${v.details}`,be=new Date-new Date(v.done_at));const ke=(0,r.ZP)(),{logContextEvent:je}=(0,k.v)(),{checkExperiment:Ae}=(0,j.F)(),{showToast:Ce}=(0,C.F9)(),Se=(0,l.useDispatch)(),Ie=(0,t.useRef)(),{anyEnabled:we}=Ae("web_m10n_business_access_orbac_ga"),ze=1===v.comment_tag,Te=(0,y.Z)(),Le=(0,_.Z)(),Me=we?(0,S.lJ)(Te,Le):"",{nativeEngagementsHiddenForUser:Re}=(0,ie.G)(),{aggregatedCommentsHiddenForUser:Ee,updateAggregatedComment:Fe}=(0,b.nf)(),Oe=(0,Y.Z)(),De="userdiditdata"===v.type,Ue=P&&ve&&!De&&!N&&Ae("web_comment_reaction_integration").anyEnabled,Ze=[{offset:0,length:ce.length,color:"darkGray"},...ge.map((e=>({...e,offset:(e.offset||0)+ce.length+1,color:"blue"})))],[Ne,Be]=(0,t.useState)(!1),[He,Ke]=(0,t.useState)(!1),[$e,qe]=(0,t.useState)(!1),[Ge,We]=(0,t.useState)(!1),[Xe,Ye]=(0,t.useState)(!1),[Ve,Je]=(0,t.useState)(!1),[Qe,en]=(0,t.useState)(te.A.NONE),nn=e=>()=>{Ke(e)};(0,t.useEffect)((()=>{ue>0&&Se((0,ee.U)("aggregatedcomment"===v.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:de,redux_normalize_feed:!0}}))}),[v.type,de]);const tn=M.toLowerCase()===J.o.aggregatedComment.toLowerCase(),ln=e=>()=>{Be(e),Je(e)},on=e=>()=>{Ye(!e)},an=()=>{en(te.A.NONE)};return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(s.$j,{show:$e,accessibilityLabel:"Loading comment"}),!He&&!$e&&(0,c.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(s.xu,{marginEnd:2,children:(0,c.jsx)(ne.rU,{to:`/${ce}/`,children:(0,c.jsx)(d,{isQuestion:ze,name:ae||ce||"",size:Z,src:null!=se?se:""})})}),(0,c.jsxs)(s.kC,{flex:"grow",justifyContent:"start",direction:"column",children:[(0,c.jsxs)(s.kC,{justifyContent:"between",children:[(0,c.jsx)(s.kC.Item,{minWidth:0,children:(0,c.jsxs)(s.kC,{direction:"column",children:[xe&&(0,c.jsx)(s.xu,{marginTop:1,marginBottom:4,children:(0,c.jsx)(s.zd,{width:150,height:150,rounding:2,wash:!0,children:(0,c.jsx)(s.Ee,{alt:null!==(n=xe.url)&&void 0!==n?n:"",src:null!==(i=xe.url)&&void 0!==i?i:"",color:"#efefef",naturalWidth:null!==(a=xe.width)&&void 0!==a?a:1,naturalHeight:null!==(m=xe.height)&&void 0!==m?m:1},xe.url)})}),(0,c.jsx)(X,{taggedUsers:fe,tags:Ze,text:Pe})]})}),f===de&&(0,c.jsx)(s.xu,{alignSelf:"center",color:"primary",height:8,rounding:"pill",minWidth:8})]}),he&&(0,c.jsx)(s.xu,{marginTop:4,marginBottom:3,children:(0,c.jsx)(s.xv,{size:"100",children:(0,G.nk)(ke._('Highlighted by @{{ closeupAttributionUsername }}', 'comment.highlighted.label', 'label on comment that has been highlighted by the Pin creator'),{closeupAttributionUsername:x})})}),ve&&(0,c.jsxs)(s.xu,{alignItems:"center",display:"flex",height:25,justifyContent:"between",position:"relative",children:[(0,c.jsxs)(s.kC,{alignItems:"center",gap:{row:5,column:0},children:[(0,c.jsx)(s.xv,{color:"subtle",size:"200",children:(0,q.Z)(be)}),!De&&(!N||we)&&(0,c.jsx)(s.iP,{onTap:()=>{T(v,L,M)},children:(0,c.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:ke._('Reply', 'comment.button.reply', 'entry point to reply to comment')})}),!De&&!N&&(Ue?(0,c.jsx)(K,{commentId:de,dismissReactionList:()=>{O(void 0)},helpfulCount:me,isMarkedHelpfulByMe:ye,isLovedByMe:pe,lovedCount:_e,onReactionCountHover:()=>{O(de)},onToggleHelpful:e=>()=>{D(de,!e)()},onToggleLove:e=>()=>{U(de,!e)()},isReactionListOpen:H===de}):(0,c.jsxs)(s.xu,{display:"flex",alignItems:"center","data-test-id":"reactions-likeWithCountButton",children:[(0,c.jsx)(s.hU,{accessibilityLabel:ke._('Like', 'comment.button.like', 'like or unlike comment'),icon:"heart",iconColor:pe?"red":"gray",size:"xs",onClick:U(de,pe)}),_e>0&&(0,c.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:_e})]})),!(Te.id===re&&ze)&&(!N||we)&&(0,c.jsx)(s.xu,{ref:Ie,children:(0,c.jsx)(s.hU,{accessibilityLabel:ke._('More', 'comment.button.more', 'see more options for comment'),icon:"ellipsis",iconColor:"gray",size:"xs",onClick:()=>{P?Be(!Ne):z&&z(v)}})})]}),!De&&!N&&!Ue&&(0,c.jsx)(s.xu,{children:(0,c.jsx)(s.iP,{fullWidth:!1,onTap:D(de,ye),children:(0,c.jsxs)(s.kC,{height:"100%",alignItems:"center",gap:{row:1,column:0},children:[(0,c.jsx)(u,{color:"subtle",isMarkedHelpful:ye}),(0,c.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:ke._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful')}),me>0&&(0,c.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:me})]})})})]})]})]}),P&&(0,c.jsxs)(t.Fragment,{children:[He&&(0,c.jsx)(s.xu,{marginTop:3,children:(0,c.jsx)(te.Z,{commentWarningModalState:Qe,dismissCommentWarningModal:an,initialText:"aggregatedcomment"===v.type?v.text:v.details,initialTags:v.tags,onAddItem:async({contentMarkdown:e,force:n,tags:i})=>{qe(!0);try{await Fe({commentId:v.id,force:n,orbacSubjectId:Me,tags:i,text:e})}catch(t){if([le.ky,le.LJ].includes(t.code)&&P)return en(t.code===le.ky?te.A.WARNING:te.A.BLOCK),qe(!1),!1}return Ke(!1),qe(!1),!0},onCancelItem:nn(!1),objectType:J.o.aggregatedComment,shouldShowEmojiTrayEntryPoint:!0,statusType:"textInFlightEdit"})}),F===de&&(0,c.jsx)(s.xu,{marginTop:3,marginStart:tn?0:12,children:(0,c.jsx)(te.Z,{commentWarningModalState:Qe,dismissCommentWarningModal:an,initialText:tn?`@${v.user.username} `:"",initialTags:tn?[{offset:0,object_id:oe,length:v.user.username.length+1,tag_type:1}]:[],onAddItem:async({contentMarkdown:e,force:n,tags:i})=>{let t;We(!0);let l=v.id;if(tn&&(l=L,t=v.id),l)try{await Oe({force:n,fromUnifiedComment:!0,objectType:J.o.aggregatedComment,objectId:l,orbacSubjectId:Me,tags:i,text:e,replyToCommentId:t})}catch(o){if([le.ky,le.LJ].includes(o.code)&&P)return en(o.code===le.ky?te.A.WARNING:te.A.BLOCK),We(!1),!1}return T(void 0),We(!1),!0},onCancelItem:()=>{T()},objectType:J.o.aggregatedComment,shouldShowEmojiTrayEntryPoint:!0,statusType:"textInflightCreation"})})]}),(ue>0||Ge)&&(0,c.jsx)(s.xu,{marginStart:12,marginTop:4,children:(0,c.jsx)(W,{featuredCommentId:f,isDesktop:P,isLoading:Ge,isReadOnly:A,parentId:de,parentType:v.type,replyingToCommentId:F,toggleReplyComposer:T,openOverflowMenu:z,toggleHelpful:D,toggleLike:U,isORBACProfileManager:N,pinId:R,closeupAttributionId:p,isVideo:w,storyPinDataId:E,aggregatedPinDataId:h,closeupAttributionUsername:x,pinnerId:B,showReactionListForComment:O,reactionListCommentId:H})}),P&&!A&&(0,c.jsx)(I,{anchor:Ie.current,comment:v,dismiss:()=>{Be(!1)},isOpen:Ne,isReply:tn,onEdit:nn(!0),onReportTry:on(!1),onShowBlockUserModal:ln(!0),parentId:L,closeupAttributionId:p,pinnerId:B,pinId:R,aggregatedPinDataId:h}),Xe&&(0,c.jsx)(Q.N,{children:(0,c.jsx)($.Z,{aggregatedPinDataId:h,didItDataId:de,onClose:on,pinId:null!=R?R:"",username:ce,users:[v.user]})}),Ve&&(0,c.jsx)(o.Z,{firstName:null!=ae?ae:"",onBlockUser:()=>{Se((0,V.Ge)(oe,Me)),Ee(oe),Re(oe),je({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:Te.isAuth?Te.id:null}}),Je(!1),Ce((({hideToast:e})=>(0,c.jsx)(g.ZP,{onHide:e,text:(0,G.nk)(ke._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:ce}).join("")})))},onClearModal:ln(!1)})]})}var ae=i(366428);function re(e){const{aggregatedPinDataId:n,comments:i,displayShowMoreButton:t,featuredCommentId:l,gapSize:o=6,isDesktop:a,isLoading:d=!1,isReadOnly:u,loadMore:m,openOverflowMenu:g,toggleReplyComposer:h,parentId:_,parentType:p,replyingToCommentId:y,toggleHelpful:x,toggleLike:v,userAvatarSize:f,isORBACProfileManager:P,isVideo:b,storyPinDataId:k,pinId:j,closeupAttributionId:A,closeupAttributionUsername:C,pinnerId:S,showReactionListForComment:I,reactionListCommentId:w}=e,z=(0,r.ZP)();let T;return T=k?"story":b?"video":"pin",(0,c.jsxs)(s.kC,{dataTestId:"aggregated-comment-list",direction:"column",children:[(0,c.jsxs)(s.kC,{direction:"column",gap:{row:0,column:o},children:[i.map(((e,i)=>(0,c.jsx)(ae.F,{impressionAuxFields:{commentId:e.id,pinId:j,pinOwnerUserId:A,pinType:T,parentId:_,parentType:p,commentType:"aggregatedComment"},componentType:"pin"===p?13696:13697,impressionType:"Comment",loggingId:e.id,slotIndex:i,viewType:3,children:({impressionTrackerRef:i})=>(0,c.jsx)(s.xu,{ref:i,"data-test-id":"commentThread-comment",children:(0,c.jsx)(oe,{comment:e,isDesktop:a,featuredCommentId:l,isReadOnly:u,parentId:_,parentType:p,openOverflowMenu:g,replyingToCommentId:y,toggleReplyComposer:h,toggleHelpful:x,toggleLike:v,userAvatarSize:f,isORBACProfileManager:P,aggregatedPinDataId:n,closeupAttributionUsername:C,closeupAttributionId:A,pinId:j,storyPinDataId:k,isVideo:b,pinnerId:S,showReactionListForComment:I,reactionListCommentId:w})})},e.id))),(0,c.jsx)(s.$j,{accessibilityLabel:z._('Comments loading', ' - ', ' -- '),show:d})]}),t&&(0,c.jsx)(s.xu,{alignSelf:"center",marginTop:a?4:6,children:(0,c.jsx)(s.zx,{fullWidth:!a,text:z._('See more', 'commentThread.button.seeMore', 'button to see more comments'),onClick:m})})]})}},735397:(e,n,i)=>{i.d(n,{Z:()=>d});var t=i(121151),l=i(50286),o=i(898781),a=i(349700),r=i(966113),s=i(883119),c=i(785893);const d=({isBlock:e,isOpen:n,onDismiss:i,onIgnore:d})=>{const u=(0,o.ZP)(),m="desktop"===(0,l.ZP)();return(0,c.jsx)(t.ZP,{accessibilityModalLabel:u._('Comment warning modal', 'commentCreate.warningModal.accessibilityLabel', 'accessibility label for modal that appears when users try create a comment containing words that trigger a warning or block'),isOpen:n,onDismiss:i,children:(0,c.jsxs)(s.xu,{direction:"column",display:"flex",paddingX:4,paddingY:8,children:[(0,c.jsx)(s.X6,{align:"center",size:"500",children:u._('Keep things positive', 'commentCreate.warningModal.heading', 'heading in warning modal reminding users to keep their comments positive')}),(0,c.jsx)(s.xu,{marginTop:m?4:2,marginBottom:8,children:(0,c.jsx)(s.xv,{align:"center",children:(0,a.nk)(e?u._('It looks like your comment violates the {{communityGuidelinesLink}}. Edit your comment to comply with the guidelines before you post.', 'commentCreate.warningModal.description', 'message informing users that their comment violates our community guidelines'):u._('It looks like your comment might violate the {{communityGuidelinesLink}}. Edit your comment to comply with the guidelines before you post.', 'commentCreate.blockModal.description', 'message warning users that their comment might violate our community guidelines'),{communityGuidelinesLink:(0,c.jsx)(s.rU,{href:r.MsG,inline:!0,children:u._('Community Guidelines', 'commentCreate.warningBlockModal.link.communityGuidelines', 'link to Pinterest community guidelines')})})})}),(0,c.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[!e&&(0,c.jsx)(s.zx,{onClick:d,text:u._('Post anyway', 'commentCreate.warningModal.button.postAnyway', 'button in modal users can click to ignore warning and post comment anyway')}),(0,c.jsx)(s.zx,{color:"red",onClick:i,text:u._('Edit comment', 'commentCreate.warningModal.button.editComment', 'button in modal users can click on to heed warning and edit comment before posting')})]})]})})}},162379:(e,n,i)=>{i.d(n,{A:()=>k,Z:()=>A});var t=i(667294),l=i(116303),o=i(121151),a=i(941646),r=i(883119),s=i(785893);const c=({accessibilityModalLabel:e,cancelButtonText:n,confirmButtonText:i,detail:t,heading:l,onConfirm:c,onDismiss:d})=>(0,s.jsx)(o.ZP,{accessibilityModalLabel:e,heading:l,onDismiss:d,size:"md",children:(0,s.jsxs)(r.xu,{children:[(0,s.jsx)(r.xu,{padding:4,children:(0,s.jsx)(r.xv,{children:t})}),(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,s.jsx)(r.xu,{margin:2,children:(0,s.jsx)(a.Z,{id:"confirm-modal-cancel",children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:d,text:n})})}),(0,s.jsx)(r.xu,{margin:2,children:(0,s.jsx)(a.Z,{id:"confirm-modal-confirm",children:(0,s.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>{c(),d()},text:i})})})]})]})});var d=i(735397),u=i(199324),m=i(367216),g=i(160380),h=i(898781),_=i(717615),p=i(19121),y=i(107656),x=i(641012),v=i(407043),f=i(773285),P=i(36243),b=i(231947);const k={NONE:"none",WARNING:"warning",BLOCK:"block"},j=({dismissCommentWarningModal:e,initialTags:n,initialText:i,objectType:o,onAddItem:a,onCancelItem:j,onEnter:A,privatePin:C,shouldShowEmojiTrayEntryPoint:S,commentWarningModalState:I,isUiUpdated:w,statusType:z})=>{var T;const L=(0,h.ZP)(),M=(0,p.Z)(),R=(0,_.Z)(),{checkExperiment:E}=(0,f.F)(),{anyEnabled:F}=E("web_m10n_business_access_orbac_ga"),O=F?(0,b.lJ)(M,R):"",{logContextEvent:D}=(0,v.v)(),[U,Z]=(0,t.useState)(!1),[N,B]=(0,t.useState)(!1),[H,K]=(0,t.useState)(!1),[$,q]=(0,t.useState)(n||[]),[G,W]=(0,t.useState)(i),[X,Y]=(0,t.useState)(!1),V=M.isAuth?{image_medium_url:O?null===(T=R.user)||void 0===T?void 0:T.imgUrl:M.imageMediumUrl,username:O?(0,b.Ms)(M,R):M.username}:{},J=$.length>x.b7,Q=G!==i,ee=[y.o.pin,y.o.didIt].includes(o),ne={background:"transparent",border:"0",display:Q?"inline-block":"block",fontFamily:u.Z,minHeight:"textStaticDisplay"===z?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"};let ie=L._('Reply', 'Adding text to a community comment', 'Adding text to a community comment');ee&&(ie=C?L._('Add a public comment', 'Add a comment', 'Add a comment'):L._('Add a comment', 'Prompt to add a comment', 'Prompt to add a comment'));const te=ee?L._('Done', 'Post a top level comment on a pin or tried it', 'Post a top level comment on a pin or tried it'):L._('Reply', 'Posting a reply to a post or comment', 'Posting a reply to a post or comment');let le=X?"darkWash":"secondary";"textStaticDisplay"!==z&&(le="default");const oe=w&&"textInFlightEdit"!==z,ae=()=>{A()},re=()=>{B(!1),K(!1),Z(!1),W("")},se=async e=>{const n={contentMarkdown:G,force:e,imageSignatures:"",objectIds:[],tags:JSON.stringify($)};return a&&await a(n)?(re(),!0):(K(!1),!1)},ce=()=>J?Promise.resolve(!1):(K(!0),Z(!1),se(!1)),de=()=>{re(),j&&j()},ue=()=>{B(!N),Z(!1)};return(0,s.jsxs)(t.Fragment,{children:[["textInflightCreation","textInFlightEdit"].includes(z)||oe?(0,s.jsxs)(r.xu,{dangerouslySetInlineStyle:oe?{__style:{borderTop:"1px solid #EFEFEF",borderBottomRightRadius:32,borderBottomLeftRadius:32}}:void 0,color:"default",paddingX:oe?8:void 0,paddingY:6,width:"100%",children:[(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[("textInflightCreation"===z||oe)&&(0,s.jsx)(r.xu,{alignItems:"end",display:"flex",marginEnd:2,children:(0,s.jsx)(l.Z,{src:V.image_medium_url,name:V.username,size:"md"})}),(0,s.jsx)(r.xu,{borderStyle:"textStaticDisplay"===z&&oe?void 0:"sm",color:oe?le:void 0,flex:"grow",paddingY:oe?0:3,rounding:oe?6:4,children:(0,s.jsx)(r.iP,{onMouseEnter:()=>{Y(!0)},onMouseLeave:()=>{Y(!1)},fullHeight:!0,children:(0,s.jsx)(g.Z,{cursor:"textStaticDisplay"!==z&&oe?"auto":void 0,focusOnMount:!oe,initialMentions:n,initialText:i,isUiUpdated:oe,onAddMention:()=>{D({event_type:8905,aux_data:{tag_type:1}})},onChange:({text:e,mentions:n})=>{n.length<$.length&&D({event_type:8906,aux_data:{tag_type:1}}),W(e),q(n)},onBlur:oe?j:void 0,onFocus:ae,onPost:ce,onSearchMentionCancel:()=>{D({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:()=>{D({event_type:8907,aux_data:{tag_type:1}})},openEmojiTrayOnLoad:U,placeholder:ie,privatePin:C,statusType:z})})})]}),J&&(0,s.jsx)(r.xv,{color:"error",size:"100",align:"end",children:(0,P.bl)(!1,L)}),!oe&&(0,s.jsxs)(r.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,s.jsx)(r.zx,{color:"gray",onClick:Q?ue:de,text:L._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')}),(0,s.jsx)(r.xu,{marginStart:2,"data-test-id":"activity-item-create-submit",children:(0,s.jsx)(r.zx,{color:"red",disabled:!Q||H||!G.length,onClick:()=>{ce()},text:"textInFlightEdit"===z?L._('Save', 'comment save button', 'comment save button'):te})})]})]}):(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2,children:(0,s.jsx)("div",{"aria-label":L._('Add comment field', 'ActivityItemCreate.textbox.accessibilityLabel', 'Textbox for comment field.'),onKeyDown:ae,onClick:ae,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"},children:(0,s.jsxs)(r.xu,{column:12,display:"flex",children:[(0,s.jsx)(r.xu,{width:48,children:(0,s.jsx)(l.Z,{src:V.image_medium_url,name:V.username,size:"md"})}),(0,s.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:2,paddingY:4,borderStyle:"sm",children:[(0,s.jsx)(r.xu,{flex:"grow",marginStart:4,children:(0,s.jsx)("textarea",{"data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:ae,placeholder:ie,rows:1,style:ne})}),S&&(0,s.jsx)(m.Z,{isEmojiTrayOpen:U,onClick:()=>{Z(!U)}})]})]})})}),N&&(0,s.jsx)(c,{accessibilityModalLabel:L._('Confirm discard composer', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),heading:L._('Are you sure?', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),cancelButtonText:L._('Cancel', 'Cancel discarding a post or comment', 'Cancel discarding a post or comment'),confirmButtonText:"textInFlightEdit"===z?L._('Discard changes', 'Clear edits', 'Clear edits'):L._('Delete', 'delete draft of a post or comment', 'delete draft of a post or comment'),detail:"textInFlightEdit"===z?L._('Your changes will be discarded', 'Confirmation dialog before discarding changes', 'Confirmation dialog before discarding changes'):L._('Once you delete a draft, you can\u2019t undo it', 'Confirmation before discarding changes', 'Confirmation before discarding changes'),onConfirm:de,onDismiss:ue}),I!==k.NONE&&(0,s.jsx)(d.Z,{isBlock:I===k.BLOCK,onDismiss:e,onIgnore:()=>{se(!0),e(),j&&j()}})]})};j.defaultProps={initialText:"",isUiUpdated:!1,onEnter:()=>{},shouldShowEmojiTrayEntryPoint:!1};const A=j},486553:(e,n,i)=>{i.d(n,{Z:()=>l});var t=i(202139);function l(e){return e<t.FS?`${Math.floor(e/t.DH)}s`:e<t.UK?`${Math.floor(e/t.FS)}m`:e<t.F4?`${Math.floor(e/t.UK)}h`:e<t.VL?`${Math.floor(e/t.F4)}d`:e<t.v6?`${Math.floor(e/t.VL)}w`:e<t.N1?`${Math.floor(e/t.v6)}mo`:e>=t.N1?`${Math.floor(e/t.N1)}y`:""}},496793:(e,n,i)=>{i.d(n,{U:()=>_});var t=i(172071),l=i(6637);const o="nic_v3",a="nic_v3=1a",r="nic_v3=1b",s=[a,r],c=["invite_code","invite","board_invite_code","sender"];let d=null;const u=e=>!!c.find((n=>e.includes(n))),m=e=>{return e.pathname.includes("/pin/")&&!u(e.search)&&(n=e.search,!s.find((e=>n.includes(e))));var n},g=(e,n,i=!1,l)=>{if(!m(e))return;const o=i?"mweb":"web";if(n){t.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.attempt`);try{const s=((e,n,i)=>{const t=(e.search?"&":"?")+(i?r:a)+n;return e.pathname+e.search+t})(e,n,i);t.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.success`),l(s)}catch(s){t.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.caught_exception`)}}else t.Z.increment(`${o}.nic_v3.social_tracking_pin_non_invite.insert.no_encrypted_id`)},h=(e,n,i=!1,o)=>{d?g(e,d,i,o):(e=>l.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate().then((e=>{if(!e||!e.resource_response)return t.Z.increment("nic_v3.social_tracking_pin_non_invite.no_resource_response"),"";const n=e.resource_response.data,i=encodeURIComponent(n);return t.Z.increment("nic_v3.social_tracking_pin_non_invite.encrypted."+(i?"true":"false")),i})))(n).then((n=>{d=n,g(e,d,i,o)}))},_=(e,n,i,l,a)=>{const r=i?"mweb":"web";t.Z.increment(`${r}.nic_v3.social_tracking_pin_non_invite.attempt`);try{!i&&l&&m(e)?(t.Z.increment(`${r}.nic_v3.social_tracking_pin_non_invite.search_string_eligible`),h(e,n,i,a)):(s=e.search,u(s)||(e=>e.includes("sender"))(s)||!s.includes(o)||t.Z.increment(`${r}.nic_v3.social_tracking_pin_non_invite.search_string_land`))}catch(c){t.Z.increment(`${r}.nic_v3.social_tracking_pin_non_invite.caught_exception`)}var s}},954959:(e,n,i)=>{function t({isEligibleForPdp:e,isStaleProduct:n,isOutOfStockProduct:i}){return!!e||!!n||!!i}i.d(n,{Z:()=>t})},81072:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(667294),l=i(700380);const o=()=>{const[e,n]=(0,t.useState)(0);return(0,t.useEffect)((()=>{const e=(0,l.Z)((()=>n(window.scrollY)),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),e}},845772:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(717615),l=i(19121),o=i(231947);const a=()=>{const e=(0,l.Z)(),n=(0,t.Z)();return(0,o.lJ)(e,n)}},398690:(e,n,i)=>{i.d(n,{Z:()=>x});var t,l=i(116303),o=i(985913),a=i(898781),r=i(215292),s=i(407043),c=i(773285),d=i(802201),u=i(883119),m=i(167912),g=i(785893);const h=void 0!==t?t:t=i(82364);function _({hasPinner:e,pinnerFullName:n,pinnerAvatarUrl:i,pinnerUsername:t,pinnerIsAdsOnlyProfile:d,pinnerAdsOnlyProfileSite:m,savedToText:h}){const _=(0,a.ZP)(),{checkExperiment:p}=(0,c.F)(),{logContextEvent:y}=(0,s.v)();if(!e)return null;const x=p("web_ads_only_profiles_link_redirect").anyEnabled&&d&&m?m:`/${t||""}/`,v=(0,o.Z)(_._('{{ pinnerFullName }} avatar link', 'aggregatedCloseupSavedToBoardInfo.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!=n?n:""});return(0,g.jsx)(u.xu,{marginBottom:5,children:(0,g.jsx)("div",{className:"AggregatedCloseupCard",style:{padding:"0",borderTop:"none"},children:(0,g.jsx)(u.iP,{children:(0,g.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(u.rU,{accessibilityLabel:v,href:x,onClick:()=>((e,n)=>{e===n&&y({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})})(x,m),children:(0,g.jsx)(r.q,{children:({active:e,focused:t,hovered:o,onBlur:a,onFocus:r,onMouseEnter:s,onMouseLeave:c})=>(0,g.jsx)(u.xu,{marginEnd:2,onFocus:r,onBlur:a,onMouseEnter:s,onMouseLeave:c,children:(0,g.jsx)(u.zd,{wash:o||e||t,rounding:"circle",children:(0,g.jsx)(l.Z,{size:"sm",name:null!=n?n:"",src:null!=i?i:""})})})})}),(0,g.jsx)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"start",width:"100%",children:(0,g.jsx)(u.xu,{display:"flex",justifyContent:"between",marginStart:-5,marginEnd:-5,children:(0,g.jsx)(u.xu,{paddingX:5,children:(0,g.jsx)(u.xv,{size:"200",children:n&&h?h:null})})})})]})})})})}const p=({graphqlRef:e,savedToText:n})=>{const i=(0,m.useFragment)(h,e),{pinner:t}=i;return(0,g.jsx)(_,{hasPinner:!!t,pinnerFullName:null==t?void 0:t.fullName,pinnerAvatarUrl:null==t?void 0:t.imageMediumUrl,pinnerUsername:null==t?void 0:t.username,pinnerIsAdsOnlyProfile:null==t?void 0:t.isAdsOnlyProfile,pinnerAdsOnlyProfileSite:null==t?void 0:t.adsOnlyProfileSite,savedToText:n})},y=({pinId:e,savedToText:n})=>{const i=(0,d.S6)()(e),{pinner:t}=null!=i?i:Object.freeze({});return(0,g.jsx)(_,{hasPinner:!!t,pinnerFullName:null==t?void 0:t.full_name,pinnerAvatarUrl:null==t?void 0:t.image_medium_url,pinnerUsername:null==t?void 0:t.username,pinnerIsAdsOnlyProfile:null==t?void 0:t.is_ads_only_profile,pinnerAdsOnlyProfileSite:null==t?void 0:t.ads_only_profile_site,savedToText:n})};function x({graphqlRef:e,pinId:n,savedToText:i}){return e?(0,g.jsx)(p,{graphqlRef:e,savedToText:i}):(0,g.jsx)(y,{pinId:n,savedToText:i})}},692948:(e,n,i)=>{i.d(n,{Z:()=>f});var t,l=i(898781),o=i(717615),a=i(19121),r=i(231947),s=i(349700),c=i(407043),d=i(773285),u=i(904411),m=i(802201),g=i(883119),h=i(167912),_=i(785893);const p=void 0!==t?t:t=i(396190);function y({boardLayout:e,boardName:n,boardPrivacy:i,boardUrl:t,hasSection:u,isOwnPin:m,pinnerName:h,pinnerUsername:p,pinnerIsAdsOnlyProfile:y,pinnerAdsOnlyProfileSite:x,sectionSlug:v,sectionTitle:f}){const P=(0,l.ZP)(),b=(0,a.Z)(),{checkExperiment:k}=(0,d.F)(),j=(0,o.Z)(),{logContextEvent:A}=(0,c.v)(),C=(0,r.lJ)(b,j),S=C?`?orbac_subject_id=${C}`:"",I=k("web_ads_only_profiles_link_redirect").anyEnabled&&y&&x?x:`/${p||""}/`,w="quick_saves"===e,z="quick_creates"===e,T=(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,href:`${null!=t?t:""}${S}`,underline:"hover",children:n})},"board"),L=(e,n)=>{e===n&&A({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})};if(z)return(0,s.nk)(P._('Created by {{ pinnerName }}', 'closeup.AggregatedCloseupCard.quickCreatesPinText', 'Showing who created this Pin on closeup'),{pinnerName:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,onClick:()=>L(I,x),href:I,underline:"hover",children:h})},"pinner")});if(m){if(w)return(0,s.nk)(P._('{{ You }} saved this Pin', 'closeup.AggregatedCloseupCard.quickSavesOwnPinText', 'Text explaining that you saved this Pin'),{You:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,onClick:()=>L(I,x),href:I,underline:"hover",children:P._('You', 'closeup.AggregatedCloseupCard.quickSavesOwnPinYouText', '"You" in "{{ You }} saved this Pin"')})},"you")});if(u){const e=`${null!=t?t:""}${null!=v?v:""}/${S}`;return(0,s.nk)(P._('You saved to {{ sectionName }} in {{ boardName }}', 'Showing that you saved this pin to a section within a board on closeup', 'Showing that you saved this pin to a section within a board on closeup'),{sectionName:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,href:e,underline:"hover",children:f})},"section"),boardName:T})}return(0,s.nk)(P._('{{ You }} saved to {{ boardName }}', 'Indicating you saved this pin to a board on closeup', 'Indicating you saved this pin to a board on closeup'),{You:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,onClick:()=>L(I,x),href:I,underline:"hover",children:P._('You', '"you" in "{{ You }} saved to {{ boardName }}"', '"you" in "{{ You }} saved to {{ boardName }}"')})},"you"),boardName:T})}if("protected"===i||w)return(0,s.nk)(P._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,onClick:()=>L(I,x),href:I,underline:"hover",children:h})},"pinner")});if(u){const e=`${null!=t?t:""}${null!=v?v:""}/${S}`;return(0,s.nk)(P._('{{ pinnerName }} saved to {{ sectionName }} in {{ boardName }}', 'Showing who saved this pin to a section within a board on closeup', 'Showing who saved this pin to a section within a board on closeup'),{pinnerName:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,onClick:()=>L(I,x),href:I,underline:"hover",children:h})},"pinner"),sectionName:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,href:e,underline:"hover",children:f})},"section"),boardName:T})}return(0,s.nk)(P._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:(0,_.jsx)(g.xv,{inline:!0,size:"200",weight:"bold",children:(0,_.jsx)(g.rU,{inline:!0,onClick:()=>L(I,x),href:I,underline:"hover",children:h})},"pinner"),boardName:T})}const x=({graphqlRef:e,isOwnPin:n})=>{const i=(0,h.useFragment)(p,e),{board:t,pinner:l,section:o}=i;return(0,_.jsx)(y,{boardLayout:null==t?void 0:t.layout,boardName:null==t?void 0:t.name,boardPrivacy:null==t?void 0:t.privacy,boardUrl:null==t?void 0:t.url,hasSection:!!o,isOwnPin:n,pinnerName:null==l?void 0:l.fullName,pinnerUsername:null==l?void 0:l.username,pinnerIsAdsOnlyProfile:null==l?void 0:l.isAdsOnlyProfile,pinnerAdsOnlyProfileSite:null==l?void 0:l.adsOnlyProfileSite,sectionSlug:null==o?void 0:o.slug,sectionTitle:null==o?void 0:o.title})},v=({pinId:e,isOwnPin:n})=>{var i,t,l,o;const a=(0,m.S6)()(e),{board:r,pinner:s,section:c}=null!=a?a:Object.freeze({});let d=(0,u.gC)()(r);return"object"==typeof r&&(d=r),(0,_.jsx)(y,{boardLayout:null===(i=d)||void 0===i?void 0:i.layout,boardName:null===(t=d)||void 0===t?void 0:t.name,boardPrivacy:null===(l=d)||void 0===l?void 0:l.privacy,boardUrl:null===(o=d)||void 0===o?void 0:o.url,hasSection:!!c,isOwnPin:n,pinnerName:null==s?void 0:s.full_name,pinnerUsername:null==s?void 0:s.username,pinnerIsAdsOnlyProfile:null==s?void 0:s.is_ads_only_profile,pinnerAdsOnlyProfileSite:null==s?void 0:s.ads_only_profile_site,sectionSlug:null==c?void 0:c.slug,sectionTitle:null==c?void 0:c.title})};function f({graphqlRef:e,pinId:n,isOwnPin:i}){return e?(0,_.jsx)(x,{graphqlRef:e,isOwnPin:i}):(0,_.jsx)(v,{pinId:n,isOwnPin:i})}},126554:(e,n,i)=>{i.d(n,{Z:()=>p});var t=i(667294),l=i(898781),o=i(949222),a=i(883119),r=i(785893);const s=e=>0===e?0:2,c=({children:e,dangerouslySetInlineStyle:n,marginTop:i})=>(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:n,"data-test-id":"structured-description",marginTop:i,children:e}),d=({content:e,order:n,type:i})=>{if(!e)return null;const t=i===o.X0.HEADER,l=[o.X0.HEADER,o.X0.BOLD].includes(i),d=n>0&&t?4:s(n);return(0,r.jsx)(c,{marginTop:d,children:(0,r.jsx)(a.xv,{size:"200",weight:l?"bold":"normal",children:e})})},u=({content:e,order:n})=>e?(0,r.jsx)(c,{marginTop:s(n),children:e}):null,m=({content:e,order:n})=>Array.isArray(e)&&0!==e.length?(0,r.jsx)(c,{marginTop:s(n),children:e.map((e=>(0,r.jsxs)(a.xu,{display:"flex",direction:"row",marginStart:1,marginTop:1,children:[(0,r.jsx)(a.xv,{size:"200",weight:"bold",inline:!0,children:"·"}),(0,r.jsx)(a.xu,{marginStart:1,children:(0,r.jsx)(a.xv,{size:"200",children:e})})]},e)))}):null,g=({accessibilityLabel:e,content:n,order:i})=>n&&"object"==typeof n?(0,r.jsx)(c,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(i),children:(0,r.jsx)(a.iA,{accessibilityLabel:e,children:(0,r.jsx)(a.iA.Body,{children:Object.entries(n).map((([e,n],i)=>(0,r.jsxs)(a.iA.Row,{children:[(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(a.xv,{size:"100",weight:"bold",children:e})}),(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(a.xv,{size:"100",children:String(n)})})]},i)))})})}):null,h=({accessibilityLabel:e,content:n,order:i})=>{if(!Array.isArray(n)||n.length<2)return null;const t=n[0],l=n.slice(1);return(0,r.jsx)(c,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(i),children:(0,r.jsxs)(a.iA,{accessibilityLabel:e,children:[(0,r.jsx)(a.iA.Header,{children:(0,r.jsx)(a.iA.Row,{children:t.map(((e,n)=>(0,r.jsx)(a.iA.HeaderCell,{children:(0,r.jsx)(a.xv,{size:"100",weight:"bold",children:e})},n)))})}),(0,r.jsx)(a.iA.Body,{children:l.map(((e,n)=>(0,r.jsx)(a.iA.Row,{children:e.map(((e,n)=>(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(a.xv,{size:"100",children:e})},n)))},n)))})]})})},_=e=>{const n=(0,l.ZP)();switch(e.type){case o.X0.POINTS:return(0,r.jsx)(m,{...e});case o.X0.SPECS:return(0,r.jsx)(g,{accessibilityLabel:n._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case o.X0.TABLE:return(0,r.jsx)(h,{accessibilityLabel:n._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case o.X0.ELEMENT:return(0,r.jsx)(u,{...e});default:return(0,r.jsx)(d,{...e})}};function p({descriptions:e,onLoad:n}){return(0,t.useEffect)((()=>{"function"==typeof n&&n()}),[n]),0===e.length?null:e.map((({content:e,type:n},i)=>(0,r.jsx)(_,{content:e,order:i,type:n},i)))}},949222:(e,n,i)=>{i.d(n,{Eh:()=>r,X0:()=>o,fv:()=>a,jo:()=>s});var t=i(883119),l=i(785893);const o={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=e=>{var n;const i=null==e||null===(n=e.formatted_description)||void 0===n?void 0:n.components;return Array.isArray(i)?i:[]},r=e=>Array.isArray(e)?e.map((({name:e="",values:n=[]})=>({content:(0,l.jsxs)(t.xv,{size:"200",children:[(0,l.jsx)("b",{children:e}),n.join(", ")]}),type:o.ELEMENT}))):[],s=({components:e,pinDescription:n})=>e&&0!==e.length?e:[{content:n,type:o.PARAGRAPH}]},625124:(e,n,i)=>{i.d(n,{Q:()=>o,a:()=>l});var t=i(6637);function l(e,n){return async i=>{const{resource_response:l}=await t.Z.create("ApiResource",{url:`/v3/storypins/${e}/mentions/`}).callDelete();return i(function(e,n){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:n}}}(e,n)),l}}function o(e){return async n=>{const{resource_response:i}=await t.Z.create("MentionsResource",{aggregatedCommentId:e,field_set_key:"comment"}).callDelete(),{data:l}=i;return n(function(e,n){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:n}}}(l.id,l.tagged_users)),i}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92025-1255d32cdccfeea5.mjs.map