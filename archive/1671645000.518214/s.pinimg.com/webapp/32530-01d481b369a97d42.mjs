(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[32530,84098],{294184:(e,n)=>{var t;!function(){var r={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)&&t.length){var i=a.apply(null,t);i&&e.push(i)}else if("object"===o)for(var s in t)r.call(t,s)&&t[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(n,[]))||(e.exports=t)}()},829932:e=>{e.exports=function(e,n){for(var t=-1,r=null==e?0:e.length,a=Array(r);++t<r;)a[t]=n(e[t],t,e);return a}},989881:(e,n,t)=>{var r=t(247816),a=t(899291)(r);e.exports=a},121078:(e,n,t)=>{var r=t(862488),a=t(137285);e.exports=function e(n,t,o,i,s){var c=-1,u=n.length;for(o||(o=a),s||(s=[]);++c<u;){var p=n[c];t>0&&o(p)?t>1?e(p,t-1,o,i,s):r(s,p):i||(s[s.length]=p)}return s}},247816:(e,n,t)=>{var r=t(228483),a=t(3674);e.exports=function(e,n){return e&&r(e,n,a)}},297786:(e,n,t)=>{var r=t(671811),a=t(240327);e.exports=function(e,n){for(var t=0,o=(n=r(n,e)).length;null!=e&&t<o;)e=e[a(n[t++])];return t&&t==o?e:void 0}},200013:e=>{e.exports=function(e,n){return null!=e&&n in Object(e)}},702958:(e,n,t)=>{var r=t(646384),a=t(690939);e.exports=function(e,n,t,o){var i=t.length,s=i,c=!o;if(null==e)return!s;for(e=Object(e);i--;){var u=t[i];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var p=(u=t[i])[0],l=e[p],d=u[1];if(c&&u[2]){if(void 0===l&&!(p in e))return!1}else{var m=new r;if(o)var g=o(l,d,p,e,n,m);if(!(void 0===g?a(d,l,3,o,m):g))return!1}}return!0}},267206:(e,n,t)=>{var r=t(191573),a=t(716432),o=t(406557),i=t(701469),s=t(139601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},269199:(e,n,t)=>{var r=t(989881),a=t(498612);e.exports=function(e,n){var t=-1,o=a(e)?Array(e.length):[];return r(e,(function(e,r,a){o[++t]=n(e,r,a)})),o}},191573:(e,n,t)=>{var r=t(702958),a=t(301499),o=t(542634);e.exports=function(e){var n=a(e);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(t){return t===e||r(t,e,n)}}},716432:(e,n,t)=>{var r=t(690939),a=t(227361),o=t(379095),i=t(115403),s=t(689162),c=t(542634),u=t(240327);e.exports=function(e,n){return i(e)&&s(n)?c(u(e),n):function(t){var i=a(t,e);return void 0===i&&i===n?o(t,e):r(n,i,3)}}},882689:(e,n,t)=>{var r=t(829932),a=t(297786),o=t(267206),i=t(269199),s=t(571131),c=t(307518),u=t(285022),p=t(406557),l=t(701469);e.exports=function(e,n,t){n=n.length?r(n,(function(e){return l(e)?function(n){return a(n,1===e.length?e[0]:e)}:e})):[p];var d=-1;n=r(n,c(o));var m=i(e,(function(e,t,a){return{criteria:r(n,(function(n){return n(e)})),index:++d,value:e}}));return s(m,(function(e,n){return u(e,n,t)}))}},840371:e=>{e.exports=function(e){return function(n){return null==n?void 0:n[e]}}},379152:(e,n,t)=>{var r=t(297786);e.exports=function(e){return function(n){return r(n,e)}}},571131:e=>{e.exports=function(e,n){var t=e.length;for(e.sort(n);t--;)e[t]=e[t].value;return e}},880531:(e,n,t)=>{var r=t(562705),a=t(829932),o=t(701469),i=t(733448),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(n){if("string"==typeof n)return n;if(o(n))return a(n,e)+"";if(i(n))return c?c.call(n):"";var t=n+"";return"0"==t&&1/n==-Infinity?"-0":t}},671811:(e,n,t)=>{var r=t(701469),a=t(115403),o=t(555514),i=t(479833);e.exports=function(e,n){return r(e)?e:a(e,n)?[e]:o(i(e))}},626393:(e,n,t)=>{var r=t(733448);e.exports=function(e,n){if(e!==n){var t=void 0!==e,a=null===e,o=e==e,i=r(e),s=void 0!==n,c=null===n,u=n==n,p=r(n);if(!c&&!p&&!i&&e>n||i&&s&&u&&!c&&!p||a&&s&&u||!t&&u||!o)return 1;if(!a&&!i&&!p&&e<n||p&&t&&o&&!a&&!i||c&&t&&o||!s&&o||!u)return-1}return 0}},285022:(e,n,t)=>{var r=t(626393);e.exports=function(e,n,t){for(var a=-1,o=e.criteria,i=n.criteria,s=o.length,c=t.length;++a<s;){var u=r(o[a],i[a]);if(u)return a>=c?u:u*("desc"==t[a]?-1:1)}return e.index-n.index}},899291:(e,n,t)=>{var r=t(498612);e.exports=function(e,n){return function(t,a){if(null==t)return t;if(!r(t))return e(t,a);for(var o=t.length,i=n?o:-1,s=Object(t);(n?i--:++i<o)&&!1!==a(s[i],i,s););return t}}},301499:(e,n,t)=>{var r=t(689162),a=t(3674);e.exports=function(e){for(var n=a(e),t=n.length;t--;){var o=n[t],i=e[o];n[t]=[o,i,r(i)]}return n}},900222:(e,n,t)=>{var r=t(671811),a=t(135694),o=t(701469),i=t(565776),s=t(541780),c=t(240327);e.exports=function(e,n,t){for(var u=-1,p=(n=r(n,e)).length,l=!1;++u<p;){var d=c(n[u]);if(!(l=null!=e&&t(e,d)))break;e=e[d]}return l||++u!=p?l:!!(p=null==e?0:e.length)&&s(p)&&i(d,p)&&(o(e)||a(e))}},137285:(e,n,t)=>{var r=t(562705),a=t(135694),o=t(701469),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},115403:(e,n,t)=>{var r=t(701469),a=t(733448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,n){if(r(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=n&&e in Object(n))}},689162:(e,n,t)=>{var r=t(513218);e.exports=function(e){return e==e&&!r(e)}},542634:e=>{e.exports=function(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}},624523:(e,n,t)=>{var r=t(288306);e.exports=function(e){var n=r(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}},555514:(e,n,t)=>{var r=t(624523),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(a,(function(e,t,r,a){n.push(r?a.replace(o,"$1"):t||e)})),n}));e.exports=i},240327:(e,n,t)=>{var r=t(733448);e.exports=function(e){if("string"==typeof e||r(e))return e;var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},227361:(e,n,t)=>{var r=t(297786);e.exports=function(e,n,t){var a=null==e?void 0:r(e,n);return void 0===a?t:a}},379095:(e,n,t)=>{var r=t(200013),a=t(900222);e.exports=function(e,n){return null!=e&&a(e,n,r)}},288306:(e,n,t)=>{var r=t(883369);function a(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function(){var r=arguments,a=n?n.apply(this,r):r[0],o=t.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return t.cache=o.set(a,i)||o,i};return t.cache=new(a.Cache||r),t}a.Cache=r,e.exports=a},139601:(e,n,t)=>{var r=t(840371),a=t(379152),o=t(115403),i=t(240327);e.exports=function(e){return o(e)?r(i(e)):a(e)}},189734:(e,n,t)=>{var r=t(121078),a=t(882689),o=t(105976),i=t(816612),s=o((function(e,n){if(null==e)return[];var t=n.length;return t>1&&i(e,n[0],n[1])?n=[]:t>2&&i(n[0],n[1],n[2])&&(n=[n[0]]),a(e,r(n,1),[])}));e.exports=s},479833:(e,n,t)=>{var r=t(880531);e.exports=function(e){return null==e?"":r(e)}},17314:(e,n,t)=>{t.d(n,{Z:()=>u});var r,a,o=t(813653),i=t(861470),s=0,c=0;const u=function(e,n,t){var u=n&&t||0,p=n||new Array(16),l=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:a;if(null==l||null==d){var m=e.random||(e.rng||o.Z)();null==l&&(l=r=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==d&&(d=a=16383&(m[6]<<8|m[7]))}var g=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:c+1,h=g-s+(f-c)/1e4;if(h<0&&void 0===e.clockseq&&(d=d+1&16383),(h<0||g>s)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=g,c=f,a=d;var y=(1e4*(268435455&(g+=122192928e5))+f)%4294967296;p[u++]=y>>>24&255,p[u++]=y>>>16&255,p[u++]=y>>>8&255,p[u++]=255&y;var _=g/4294967296*1e4&268435455;p[u++]=_>>>8&255,p[u++]=255&_,p[u++]=_>>>24&15|16,p[u++]=_>>>16&255,p[u++]=d>>>8|128,p[u++]=255&d;for(var v=0;v<6;++v)p[u+v]=l[v];return n||(0,i.Z)(p)}},630135:(e,n,t)=>{t.d(n,{E:()=>i,S:()=>s});var r=t(667294),a=t(957161);const o="_loggingInNotHome",i=e=>{e?(0,a.Nh)(o,1):(0,a.L_)(o)},s=()=>{const[e,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{n(!0)}),[]),e&&(0,a.qn)(o)}},558068:(e,n,t)=>{t.d(n,{Hv:()=>c,aX:()=>l,nK:()=>d});var r=t(667294),a=t(425288),o=t(276775),i=t(785893);const{Provider:s,useHook:c}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),u=e=>e&&e.pathname?e.pathname+(e.search||""):"";function p(e,n){var t;const r={action:n.type,location:n.location,match:n.match};if(n.location===(null===(t=e.current)||void 0===t?void 0:t.location))return e;switch(n.type){case"POP":return e.forward.length>0&&u(e.forward[0].location)===u(r.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:n.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:n.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function l(){const{current:e,previous:n}=c();return(0,r.useMemo)((()=>e?n.concat(e):n),[e,n])}function d({children:e}){const n=(0,o.useHistory)(),t=(0,o.useLocation)(),a=(0,o.useRouteMatch)(),c={forward:[],current:{action:n.action,location:t,match:a},previous:[]},[u,l]=(0,r.useReducer)(p,c);return(0,r.useEffect)((()=>{const{action:e}=n;l({type:e,location:t,match:a})}),[t]),(0,i.jsx)(s,{value:u,children:e})}},78714:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(56641),a=t(954931),o=t(539497);const i=(e,n)=>{null!=n&&n.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,r.Z)(e)}},407043:(e,n,t)=>{t.d(n,{B:()=>c,v:()=>s});var r=t(385740),a=t(425288),o=t(785893);const{Provider:i,useHook:s}=(0,a.Z)("ContextLogger");function c({children:e,value:n}){const{setViewContextData:t}=(0,r.sV)();return n.injectSetViewContextDataFromHook=t,(0,o.jsx)(i,{value:n,children:e})}},375571:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(667294),a=t(172071),o=t(395164);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class s extends r.Component{constructor(...e){super(...e),i(this,"state",{error:null,info:null}),i(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,n){try{var t;const n=this.props.name,r=this.props.type||"secondary";(0,o.T)({extraData:null!==(t=e.extraData)&&void 0!==t?t:{},errorBoundary:n,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(r){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:n})}render(){const{renderErrorState:e}=this.props,{error:n,info:t}=this.state;return n&&t?e?e({error:n,info:t,resetError:this.resetError}):null:this.props.children}}},319915:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t(375571).Z},123159:(e,n,t)=>{t.d(n,{F:()=>d,M:()=>l});var r=t(667294),a=t(702664),o=t(14890),i=t(957191),s=t(425288),c=t(332611),u=t(785893);const{Provider:p,useHook:l}=(0,s.Z)("ExperienceContext");function d({children:e}){const[n,t]=(0,r.useReducer)(((e,n)=>{if("MOUNT_PLACEMENT"===n.type)return{...e,[n.payload]:!0};if("UNMOUNT_PLACEMENT"===n.type){const t={...e};return delete t[n.payload],t}return e}),{}),s=(0,a.useDispatch)(),l=(0,a.useSelector)((e=>e.experiences)),d=(0,r.useMemo)((()=>{const e=(0,o.bindActionCreators)({completeExperience:c.CK,dismissExperience:c.Qu,fetchAllExperiences:c.fO,fetchAllExperiencesMulti:i.NW,fetchExperienceForPlacements:c.pz,mountPlacement:c.N,triggerExperimentsForPlacement:c.kd,viewExperience:c.UT},s);return{...e,mountPlacement:(n,...r)=>{e.mountPlacement(n,...r),t({type:"MOUNT_PLACEMENT",payload:n})},unmountPlacement:e=>{t({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[s,t]),m=(0,r.useMemo)((()=>({experiences:l,mountedPlacements:n,...d})),[l,n,d]);return(0,u.jsx)(p,{value:m,children:e})}},497529:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(667294),a=(t(957191),t(764990)),o=t(123159);t(332611);function i(e){const{mountedPlacements:n,completeExperience:t,dismissExperience:i,experiences:s,fetchAllExperiences:c,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:p,triggerExperimentsForPlacement:l,viewExperience:d}=(0,o.M)(),m=e?(0,a.MQ)(s,n,e):null;return(0,r.useMemo)((()=>({completeExperience:t,dismissExperience:i,experienceForPlacement:m,fetchAllExperiences:c,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:p,triggerExperimentsForPlacement:l,viewExperience:d})),[t,i,m,c,u,p,l,d])}},411938:(e,n,t)=>{t.d(n,{Z:()=>r});function r(e,n,t=28){if(!(e||{}).resurrection_info&&!(n||{}).resurrectionInfo)return!1;let r;r=n?((n||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const a=new Date,o=r?new Date(r):a;return o.setDate(o.getDate()+t),(new Date).getTime()<o.getTime()}},66743:(e,n,t)=>{t.d(n,{NC:()=>o,Rc:()=>s,WK:()=>u,X9:()=>a,b9:()=>r,f9:()=>c,gu:()=>i});const r="pin-builder-font-faces",a="system-font-faces",o="pin-builder-education-font-faces",i="licensed",s="system",c="brand",u=4},83969:(e,n,t)=>{t.d(n,{Fm:()=>i,OY:()=>c,PL:()=>p,Px:()=>s,mK:()=>l,ru:()=>u});var r=t(713930),a=t(966113),o=t(539497);const i=()=>{var e,n,t;return null===(e=window)||void 0===e||null===(n=e.google)||void 0===n||null===(t=n.accounts)||void 0===t?void 0:t.id},s=e=>(0,r.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),c=({autoSelect:e,itpSupport:n},t)=>{var r;null===(r=i())||void 0===r||r.initialize({auto_select:null!=e&&e,client_id:a.v3o,callback:t,cancel_on_tap_outside:!1,context:"use",itp_support:n})},u=({buttonRef:e,isDesktop:n})=>{const t=i();if(t&&e.current){const n=e.current.offsetWidth;t.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:n+"px"})}else(0,o.My)((n?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},p=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",l=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},773285:(e,n,t)=>{t.d(n,{F:()=>o,a:()=>a});var r=t(425288);const{Provider:a,useHook:o}=(0,r.Z)("ExperimentContext")},584992:(e,n,t)=>{t.d(n,{Z:()=>A});var r=t(667294),a=t(425288),o=t(198462),i=t(729524),s=t(860273),c=t(169213),u=t(358864),p=t(558775),l=t(505771),d=t(985271),m=t(383434),g=t(543059),f=t(453821),h=t(638089),y=t(607150),_=t(790348);const v=(0,m.X)("PwtStopwatch"),b=(e,n)=>{if(d.Z){if("start"===n.type&&!e.isTiming){const{name:t,startTime:r,navigationType:a}=n;return(0,_.A9)(`TIMING.${t}`),{isTiming:!0,name:t,isSampled:n.isSampled,startTime:"number"==typeof r?r:d.Z.now(),metricId:{type:"stopwatch",name:t,navigationType:a},pwtStaticContext:n.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(!n.bypassIsTimingCheck){const t=n.name||e.name;return v("ignoring action - stopwatch is not actively timing",n),(0,_.A9)(`WARN.${t}.noTiming.${n.type}`),e}v("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",n)}if("annotate"===n.type){const t=d.Z.now();return v(`adding annotation {${n.label}: ${t}}`),{...e,annotations:e.annotations.concat([{label:n.label,timestamp:t}])}}if("binaryAnnotate"===n.type)return v(`adding binary annotation {${n.name}: ${String(n.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[n.name]:{value:n.value,type:n.annotationType}}};if("binaryAnnotateOperation"===n.type){const{value:t,type:r}=n.binaryAnnotationValueAndType;if(e.binaryAnnotations[n.name]){const a=e.binaryAnnotations[n.name].value||0;return v(`operating on binary annotation {\n          name: ${n.name}\n          pervious value: ${String(a)}\n          operand: ${String(t)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[n.name]:{value:t?n.operation(a,t):a,type:r}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[n.name]:{value:t,type:r}}}}if("addSubspan"===n.type){v(`adding subspan {${n.name}}`);-1!==e.spans.findIndex((e=>e.name===n.name))&&v(`WARNING: adding duplicate subspan name {${n.name}}`);const t=n.id||(0,u.Z)();-1!==e.spans.findIndex((e=>e.id===t))&&v(`WARNING: adding duplicate subspan id {${n.name}: ${t}}`);let r=0;return n.startTime?r=n.startTime:e.startTime?r=e.startTime:v(`WARNING: adding subspan {${n.name}} without start time`),{...e,spans:[...e.spans,{name:n.name,id:t,startTime:r,endTime:n.endTime||1/0,annotationMap:{...n.annotations},binaryAnnotationMap:{...n.binaryAnnotations},parentId:n.parentId}]}}if("subspanStart"===n.type){var t;v(`starting subspan {${n.name}}`);-1!==e.spans.findIndex((e=>e.name===n.name))&&v(`WARNING: starting duplicate subspan name {${n.name}}`);const r=n.id||(0,u.Z)();-1!==e.spans.findIndex((e=>e.id===r))&&v(`WARNING: starting duplicate subspan id {${n.name}: ${r}}`);const a=n.parentName?null===(t=e.spans.find((e=>e.name===n.parentName)))||void 0===t?void 0:t.id:null;return{...e,spans:[...e.spans,{name:n.name,id:r,parentId:n.parentId||a,startTime:d.Z.now(),endTime:1/0,annotationMap:{...n.annotations},binaryAnnotationMap:{...n.binaryAnnotations}}]}}if("subspanStop"===n.type){if(v(`stopping subspan {${n.name}}`),!n.id){e.spans.reduce(((e,t)=>(t.name===n.name&&e.push(t),e)),[]).length>1&&(0,_.H)("duplicate_subspan_stop_name",{name:n.name,type:n.type})}const t=n.id?e.spans.findIndex((e=>e.id===n.id)):e.spans.findIndex((e=>e.name===n.name));return t>-1?(e.spans[t].endTime=d.Z.now(),n.annotations&&(e.spans[t].annotationMap={...e.spans[t].annotationMap,...n.annotations}),n.binaryAnnotations&&(e.spans[t].binaryAnnotationMap={...e.spans[t].binaryAnnotationMap,...n.binaryAnnotations})):(0,_.H)("invalid_subspan_stop_name",{name:n.name}),e}if("subspanUpdateName"===n.type){e.spans.reduce(((e,t)=>(t.name===n.currentName&&e.push(t),e)),[]).length>1&&(0,_.H)("duplicate_subspan_stop_name",{name:n.currentName,type:n.type});const t=e.spans.findIndex((e=>e.name===n.currentName));return t>-1?n.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:n.currentName,newName:n.newName}]:(v(`renaming subspan {${n.currentName}} to {${n.newName}}`),e.spans[t].name=n.newName):(0,_.H)("no_subspan_found_to_rename",{name:n.currentName}),e}if("stop"===n.type&&e.isTiming){const{startTime:t,metricId:r,pwtStaticContext:a,annotations:o,binaryAnnotations:c,isSampled:m,spans:_,traceId:b}=e;if(n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect(),m){const m=n.stopTime||d.Z.now(),E=[..._.map((n=>{n.endTime===1/0&&(n.endTime=m);const t=e.spanNameUpdates.findIndex((e=>n.name===e.currentName));return t>-1&&(v(`renaming subspan {${n.name}} to {${e.spanNameUpdates[t].newName}}`),n.name=e.spanNameUpdates[t].newName,e.spanNameUpdates=e.spanNameUpdates.filter((e=>e.newName!==n.name))),n}))];if(n.manualAndResourceSpans||0===_.length){const e=(0,u.Z)();E.push({name:"network_resources",id:e,startTime:t,endTime:m,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(n.customStopwatchBuffer||[]).map((n=>(0,l.Z)((0,f.p)(n,[]),e))).filter(Boolean))}const T="initial_app_load"===r.navigationType&&(0,s.Z)(),A={type:"COMPLETE",traceId:b,startTime:t,endTime:m,spans:E,annotationMap:{...(0,i.Z)(o),...(0,y.jh)("browser_",T?(0,y.D3)(T):{}),...(0,y.jh)("mark_",(0,g.gQ)())},binaryAnnotationMap:(0,h.ng)({metricId:r,pwtStaticContext:a,binaryAnnotations:c,performanceResourceTimings:n.customStopwatchBuffer||[]})};(0,p.Z)({metricId:r,pwtStaticContext:a,result:A})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,u.Z)(),spanNameUpdates:[]}}if("error"===n.type){const{error:t,stopwatchPerformanceObserver:r}=n;return t&&(0,_.H)(t),r&&r.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,u.Z)(),spanNameUpdates:[]}}if("abort"===n.type&&e.isTiming){n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect();const{metricId:t,pwtStaticContext:r}=e,a=n.reason||"";return(0,p.Z)({metricId:t,pwtStaticContext:r,result:{type:"ABORT",reason:a}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,u.Z)(),spanNameUpdates:[]}}}return e},E=({name:e,sampleRate:n,navigationType:t,manualAndResourceSpans:a=!1})=>{const i=(0,o.N5)(),s=(0,r.useRef)([]),p=(0,r.useRef)(null),[l,d]=(0,r.useReducer)(b,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,u.Z)(),spanNameUpdates:[]});return i?{isTiming:l.isTiming,start:r=>{if(window.PerformanceObserver){const e=1e3;s.current=[],p.current=(0,c.Z)({entryTypes:["resource"]},(n=>{s.current=s.current.concat(n.getEntries()),s.current.length>e&&(s.current=s.current.slice(-e))}))}const a={type:"start",startTime:r,name:e,navigationType:t,pwtStaticContext:i,isSampled:!n||Math.random()<n};return d(a)},stop:e=>d({type:"stop",stopTime:e,stopwatchPerformanceObserver:p.current,customStopwatchBuffer:s.current,manualAndResourceSpans:a}),error:e=>{d({type:"error",stopwatchPerformanceObserver:p.current,error:e})},abort:e=>d({type:"abort",stopwatchPerformanceObserver:p.current,customStopwatchBuffer:s.current,reason:e}),annotate:(e,n,t=!1)=>d({type:"annotate",label:e,parentId:n,bypassIsTimingCheck:t}),binaryAnnotate:(e,n,t,r,a=!1)=>d({type:"binaryAnnotate",name:e,value:n,annotationType:t,parentId:r,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:n,operation:t,parentId:r,bypassIsTimingCheck:a=!1})=>d({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:n,operation:t,parentId:r,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:n,endTime:t,annotations:r={},binaryAnnotations:a={},parentId:o=null,id:i=null,bypassIsTimingCheck:s=!1})=>d({type:"addSubspan",name:e,startTime:n,endTime:t,annotations:r,binaryAnnotations:a,parentId:o,id:i,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:n={},binaryAnnotations:t={},parentId:r=null,parentName:a=null,id:o=null,bypassIsTimingCheck:i=!1})=>d({type:"subspanStart",name:e,annotations:n,binaryAnnotations:t,parentId:r,parentName:a,id:o,bypassIsTimingCheck:i}),subspanStop:({name:e,annotations:n,binaryAnnotations:t,id:r,parentId:a,bypassIsTimingCheck:o=!1})=>d({type:"subspanStop",name:e,annotations:n,binaryAnnotations:t,id:r,parentId:a,bypassIsTimingCheck:o}),subspanUpdateName:({currentName:e,newName:n,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:r=!0})=>d({type:"subspanUpdateName",currentName:e,newName:n,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:r}),getSpans:(e,n)=>l.spans.filter((t=>t[e]===n)),getTraceId:()=>l.traceId}:null};var T=t(785893);const A=({name:e,sampleRate:n,abortOnUnloadOrClientNavigation:t=!0,navigationType:i,manualAndResourceSpans:s=!1})=>{const{Provider:c,useMaybeHook:u}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){const u=E({name:e,sampleRate:n,navigationType:i,manualAndResourceSpans:s}),p=(0,o.fM)(),l=p?p.time:0,d=(0,r.useRef)(!1),m=null==u?void 0:u.isTiming,g=(0,r.useCallback)((n=>{d.current?(d.current=!1,null==u||u.abort(n)):(0,_.A9)(`WARN.${e}.noTiming.abort`)}),[u]),f=(0,r.useCallback)(((e,n)=>{null==u||u.annotate(e,n)}),[u]),h=(0,r.useCallback)(((e,n,t,r)=>{null==u||u.binaryAnnotate(e,n,t,r)}),[u]),y=(0,r.useCallback)((({name:e,binaryAnnotationValueAndType:n,operation:t,parentId:r,bypassIsTimingCheck:a})=>{null==u||u.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:n,operation:t,parentId:r,bypassIsTimingCheck:a})}),[u]),v=(0,r.useCallback)((({name:e,startTime:n,endTime:t,annotations:r,binaryAnnotations:a,parentId:o,id:i,bypassIsTimingCheck:s})=>{null==u||u.addSubspan({name:e,startTime:n,endTime:t,annotations:r,binaryAnnotations:a,parentId:o,id:i,bypassIsTimingCheck:s})}),[u]),b=(0,r.useCallback)((({name:e,annotations:n,binaryAnnotations:t,parentId:r,parentName:a,id:o,bypassIsTimingCheck:i})=>{null==u||u.subspanStart({name:e,annotations:n,binaryAnnotations:t,parentId:r,parentName:a,id:o,bypassIsTimingCheck:i})}),[u]),A=(0,r.useCallback)((({name:e,annotations:n,binaryAnnotations:t,id:r,parentId:a,bypassIsTimingCheck:o})=>{null==u||u.subspanStop({name:e,annotations:n,binaryAnnotations:t,id:r,parentId:a,bypassIsTimingCheck:o})}),[u]),C=(0,r.useCallback)((({currentName:e,newName:n,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:r})=>{null==u||u.subspanUpdateName({currentName:e,newName:n,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:r})}),[u]),w=(0,r.useCallback)(((e,n)=>u?u.getSpans(e,n):[]),[u]),I=(0,r.useCallback)((()=>u?u.getTraceId():0),[u]),N=(0,r.useCallback)((n=>{d.current?(d.current=!1,null==u||u.error(n)):(0,_.A9)(`WARN.${e}.noTiming.error`)}),[u]),O=(0,r.useCallback)((e=>{d.current&&(null==u||u.abort("duplicated_init_stopwatch_action")),d.current=!0,null==u||u.start(e)}),[u]),x=(0,r.useCallback)((n=>{d.current?(d.current=!1,null==u||u.stop(n)):(0,_.A9)(`WARN.${e}.noTiming.stop`)}),[u]);(0,r.useEffect)((()=>()=>{t&&g("unloadOrClientNavigation")}),[l]);const M=(0,r.useMemo)((()=>({isTiming:m,abort:g,addAnnotation:f,addBinaryAnnotation:h,binaryAnnotationOperation:y,addSubspan:v,subspanStart:b,subspanStop:A,getSpans:w,getTraceId:I,updateSubspanName:C,stop:x,error:N,start:O})),[m,g,f,h,y,v,b,A,w,I,C,x,N,O]);return(0,T.jsx)(c,{value:M,children:a})},useHook:u}}},729524:(e,n,t)=>{t.d(n,{Z:()=>r});const r=e=>{let n={};e.forEach((({label:e,timestamp:t})=>{n={...n,[e]:(n[e]||[]).concat([t])}}));let t=Object.freeze({});return Object.keys(n).forEach((e=>{(n[e]||[]).forEach(((n,r)=>{const a=r?`${e}_${r+1}`:e;t={...t,[a]:n}}))})),t}},350576:(e,n,t)=>{t.d(n,{RX:()=>y,XE:()=>g,Xn:()=>m,an:()=>f,rV:()=>h});var r=t(826067);const a="BING",o="GOOGLE",i="YAHOO",s="YANDEX",c="RAKUTEN",u="NAVER",p="AMP_CACHE",l="DUCKDUCKGO",d=[o,a,i,s,c,u,p,l];function m(e){return d.includes(function(e){const{hostname:n}=(0,r.Qc)(e,!0);if(n&&e){if(n.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return o;if(n.includes("bing."))return a;if(n.includes("yahoo."))return i;if(n.includes("yandex."))return s;if(n.includes("rakuten."))return c;if(n.includes("naver."))return u;if(n.includes("duckduckgo."))return l;if(n.includes(".cdn.ampproject.org"))return p}return""}(e))}function g(e){return((0,r.Qc)(e).hostname||"").includes(".cdn.ampproject.org")}function f(e){return e||"undefined"!=typeof document&&document.referrer||""}const h="amp",y=e=>Boolean(e&&g(e))},696157:(e,n,t)=>{t.d(n,{E9:()=>c,F6:()=>m,MM:()=>A,MS:()=>r,On:()=>d,SI:()=>E,TJ:()=>u,TO:()=>l,W3:()=>s,WM:()=>b,XC:()=>_,XS:()=>C,Y9:()=>h,Yp:()=>g,_b:()=>a,_l:()=>y,bY:()=>p,e9:()=>o,iu:()=>v,kl:()=>T,om:()=>i,ou:()=>w,qo:()=>f});const r="visitedPagesBeforeLogin",a="_lastVisitedPages",o="visitedPinLandingPagesBeforeLogin",i="visitedBoardLandingPagesBeforeLogin",s="lastVisitedPage",c="unauthTopicsFollowed",u="unauthPins",p="unauthHybridLoginModalView",l="unauthHybridClickthroughCount",d="unauthHybridClickthroughTS",m="signupTime",g="signupInterestsPickerScrollDown",f="signupTriedSkipInputName",h="signupTriedSkipGender",y="signupInterestsPickerStartTime",_="signupUserLocale",v="signupUserCountry",b="uoiou",E="unauthRevisitation",T="urh",A="lineOAuthOneTimeCode",C="unlinkNetwork",w="mfapc"},224496:(e,n,t)=>{t.d(n,{Cc:()=>l,Gf:()=>m,LX:()=>a,Rf:()=>c,YL:()=>s,ap:()=>o,h8:()=>p,pE:()=>u,s5:()=>d,yR:()=>i});var r=t(883119);const a={w:9,h:16},o=a.w/a.h,i=8,s=10,c=5e3;function u(e,n=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(n-1)}}const p={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},l={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},d=new r.Ry(5),m=new r.H3([d])},790123:(e,n,t)=>{t.d(n,{j:()=>l,w:()=>p});var r=t(829407),a=t(19121),o=t(407043),i=t(50286),s=t(425288),c=t(785893);const{Provider:u,useMaybeHook:p}=(0,s.Z)("TimeSpentManagerContext");function l({children:e,value:n}){const t=(0,o.v)(),s=(0,i.HG)(),{isAuth:p}=(0,a.Z)(),l=s&&p;return(0,r.Z)((()=>{document.hasFocus()&&n(t,l).registerApp(),n(t,l).addEventListeners()})),(0,c.jsx)(u,{value:n(t,l),children:e})}},245474:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(172045),a=t(17314);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const s=class{constructor(e){o(this,"start",(()=>(this.startTime=i(),this.startTime))),o(this,"end",(()=>(this.endTime=i(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,r.Z)()}catch(n){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},311541:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(667294);function a(e,n){const t=(0,r.useRef)([]),[a,o]=(0,r.useState)(),[i,s]=(0,r.useReducer)(null!=a?a:()=>n,n),c=(0,r.useCallback)((n=>{a?s(n):(t.current.length||e().then((e=>{o((()=>e.default))})),t.current=[...t.current,n])}),[e,a]);return(0,r.useEffect)((()=>{a&&(t.current.forEach(s),t.current=[])}),[a]),[i,c]}},134906:(e,n,t)=>{t.d(n,{Bh:()=>p,C9:()=>b,CB:()=>m,CU:()=>i,FU:()=>N,GT:()=>s,Gy:()=>h,J_:()=>C,Jx:()=>g,MZ:()=>y,VC:()=>d,VG:()=>c,ZA:()=>u,Zt:()=>f,a3:()=>O,aH:()=>o,h7:()=>A,nw:()=>v,oR:()=>E,qA:()=>l,qp:()=>w,sG:()=>_,vd:()=>I,xk:()=>T});var r=t(89254);const a=e=>{const n={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},t=String(e).split("");return t.forEach(((e,r)=>{const a=n[e];a&&(t[r]=a)})),t.join("")};function o(e){return function(n,t){const r=[];n&&/\S/.test(n)||r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}const i=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function s(e){return function(n,t){const r=[];(n=n&&n.trim()).match(i)||r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function c(e){return function(n,t){const r=[];(n=n&&n.trim()).match(/^[^0-9].*$/)||r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function u(e){return function(n,t){const r=[];if(n){const t=parseInt(n,10);Number.isNaN(t)?r.push(e.invalidAgeString):(e.ageTooShortString&&t<10&&r.push(e.ageTooShortString),t<=0||t>120?r.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<13&&r.push(e.checkUnderAgeWithString))}const a={errors:r,warnings:[]};return t&&t(a),a}}function p(e){return function(n,t){const r=(n=n&&n.trim()).replace(/[\(\)\+\-\. ]/g,""),a=[],o=!1!==e.checkLength&&r.length<7;!n||n.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!o||a.push(e.message);const i={errors:a,warnings:[]};return t&&t(i),i}}function l(e){return function(n,t){const r=/^\d+$/,o=[];"number"==typeof n||"string"==typeof n&&(n=n&&n.trim(),(n=a(n))&&!n.match(r)&&o.push(e.message));const i={errors:o,warnings:[]};return t&&t(i),i}}function d(e){return function(n,t){const r=/^[\d\ -]+$/,o=[];"number"==typeof n||"string"==typeof n&&(n=n&&n.trim(),(n=a(n))&&!n.match(r)&&o.push(e.message));const i={errors:o,warnings:[]};return t&&t(i),i}}const m=e=>!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi);function g(e){return function(n,t){const r=[];n&&!m(n)&&r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function f(e){return function(n,t){const a=[];if(n)try{const t=(0,r.Z)(n);t&&t.protocol&&("http"!==t.protocol||"localhost"===t.hostname)||a.push(e.message)}catch(i){a.push(e.message)}const o={errors:a,warnings:[]};return t&&t(o),o}}function h(e){return function(n,t){const r=[];(e.should_trim||!1)&&(n=n&&n.trim());const a=n.length;e.min&&a<e.min?r.push(e.minErrorString):e.max&&a>e.max&&r.push(e.maxErrorString);const o={errors:r,warnings:[]};return t&&t(o),o}}function y(e){return function(n,t){const r=!e.checkExclusion,a=e.substrings,o=[];(r&&!a.some((e=>n.includes(e)))||!r&&a.some((e=>n.includes(e))))&&o.push(e.message);const i={errors:o,warnings:[]};return t&&t(i),i}}function _(e){return function(n,t){const r=[];n!==(e&&e.targetValue)&&r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function v(e){return function(n,t){const r=[];(n?parseFloat(n):0)<e.value&&r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function b(e){return function(n,t){const r=new Date(n),a=[];e.date instanceof Date&&r instanceof Date&&e.date<r&&a.push(e.message);const o={errors:a,warnings:[]};return t&&t(o),o}}function E(e){return function(n,t){const r=[];/^[\040-\176]*$/.test(n)||r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function T(e){return function(n,t){let r=2;if(e.hasFractionalCents)r=3;else if(e.currencyCode){const{maximumFractionDigits:n}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();r=n}const a=new RegExp(r?`^\\d*(\\.\\d{1,${r}})?$`:"^\\d*$"),o=[];"number"==typeof n&&(n=n.toString()),n&&!n.match(a)&&(n=n&&n.trim(),o.push(e.message));const i={errors:o,warnings:[]};return t&&t(i),i}}function A(e){return function(n,t){const r=[];Number(n)>=1e13&&r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function C(e){return function(n,t){n=n&&n.trim();const r=[],a=new Date(n);n&&!a.getTime()&&r.push(e.message);const o={errors:r,warnings:[]};return t&&t(o),o}}function w(e){return function(n,t){const r=n&&n.trim(),a=[];r&&!r.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&a.push(e.message);const o={errors:a,warnings:[]};return t&&t(o),o}}function I(e){return function(n,t){const r=[];e.pattern.test(n)||r.push(e.message);const a={errors:r,warnings:[]};return t&&t(a),a}}function N(e,n){const t=e.map((e=>e(n).errors));return[].concat(...t)}function O(e,n){let t="";return n.some((n=>{const r=n(e);return r.errors.length>0&&(t=r.errors[0],!0)})),t}},874934:(e,n,t)=>{t.d(n,{pb:()=>y,nf:()=>_,lV:()=>v});var r=t(667294),a=t(6637),o=t(618446),i=t.n(o),s=t(682492),c=t.n(s);const u={feature_map:Object.freeze({})},p=(e,n)=>{const t={...c()({},e,n),...n.content?{content:n.content}:Object.freeze({}),...n.reaction_counts?{reaction_counts:n.reaction_counts}:Object.freeze({}),...n.tags?{tags:n.tags}:Object.freeze({}),...n.tagged_users?{tagged_users:n.tagged_users}:Object.freeze({})};return i()(e,t)?e:t},l=(e=u,n)=>{if("FETCH_COMPLETE"===n.type){const{payload:{resource:t}}=n,r=n.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===t||"AggregatedCommentReplyFeedResource"===t||"DidItCommentsResource"===t){const n=(r||[]).reduce(((n,t)=>(n[t.id]=p(e[t.id],t),n)),{});return{...e,...n}}if("UnifiedCommentsResource"===t&&r&&r.length>0){const n=r.filter((e=>"aggregatedcomment"===e.type)).reduce(((n,t)=>(n[t.id]=p(e[t.id],t),n)),{});return{...e,...n}}if("UnifiedCommentsPreviewResource"===t&&r&&r.length>0){const n=r[0].aggregated_comment,t=n?{[n.id]:p(e[n.id],n)}:{},a=r[0].creator_reply,o=a?{[a.id]:p(e[a.id],a)}:{};return{...e,...t,...o}}if("AggregatedCommentFeaturesResource"===t&&r&&Object.keys(r).length>0)return{...e,feature_map:r}}else{if("AGGREGATED_COMMENT_CREATED"===n.type){const{payload:{aggregatedComment:t}}=n;return t.id?{...e,[t.id]:t}:e}if("AGGREGATED_COMMENT_DELETED"===n.type||"AGGREGATED_COMMENT_HIDDEN"===n.type){const{payload:{aggregatedCommentId:t}}=n,r={...e};return delete r[t],r}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===n.type){const{payload:{userId:t}}=n;return Object.fromEntries(Object.entries(e).filter((e=>{var n;return(null===(n=e[1].user)||void 0===n?void 0:n.id)!==t})))}if("AGGREGATED_COMMENT_UPDATED"===n.type){const{payload:{data:t}}=n;return{...e,[t.id]:p(e[t.id],t)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===n.type){const{payload:{data:t}}=n,r=e[t.id],a=r.reaction_counts[1]||0,o={1:t.reaction_by_me?a+1:a-1},i={...r,reaction_by_me:t.reaction_by_me,reaction_counts:o};return{...e,[t.id]:i}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===n.type){const{payload:{data:t}}=n,r=e[t.id],a=r.helpful_count||0,o=t.marked_helpful_by_me?a+1:a-1,i={...r,marked_helpful_by_me:t.marked_helpful_by_me,helpful_count:o};return{...e,[t.id]:i}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===n.type){const{payload:{data:t}}=n,r={...e[t.aggregated_comment_id],highlighted_by_pin_owner:t.is_highlighted};return{...e,[t.aggregated_comment_id]:r}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===n.type){const{payload:{data:{featureMap:t}}}=n;return{...e,feature_map:{...e.feature_map,...t}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===n.type){const{payload:{increment:t,id:r}}=n,a=e[r],o={...a,comment_count:a.comment_count+t};return{...e,[r]:o}}if("DELETE_COMMENT_MENTION"===n.type){const{payload:{aggregatedCommentId:t,tagged_users:r}}=n,a={...e[t],tagged_users:r};return{...e,[t]:a}}}return e};var d=t(425288),m=t(505920),g=t(785893);const{Provider:f,useHook:h}=(0,d.Z)("AggregatedComments");function y({children:e}){const[n,t]=(0,r.useReducer)(l,u),a=e=>{t({type:"FETCH_COMPLETE",payload:e})};(0,m.Z8)("AggregatedCommentFeaturesResource",a),(0,m.my)("AggregatedCommentFeaturesResource",a),(0,m.Z8)("AggregatedCommentFeedResource",a),(0,m.my)("AggregatedCommentFeedResource",a),(0,m.Z8)("AggregatedCommentReplyFeedResource",a),(0,m.my)("AggregatedCommentReplyFeedResource",a),(0,m.Z8)("DidItCommentsResource",a),(0,m.my)("DidItCommentsResource",a),(0,m.Z8)("UnifiedCommentsPreviewResource",a),(0,m.my)("UnifiedCommentsPreviewResource",a),(0,m.Z8)("UnifiedCommentsResource",a),(0,m.my)("UnifiedCommentsResource",a);const o=(0,r.useMemo)((()=>({aggregatedComments:n,dispatch:t})),[n,t]);return(0,g.jsx)(f,{value:o,children:e})}function _(){const{dispatch:e}=h();return(0,r.useMemo)((()=>({aggregatedCommentCreated(n,t){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:n,aggregatedComment:t}})},aggregatedCommentDeleted:(n,t)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:n,aggregatedCommentId:t}})},aggregatedCommentHidden:n=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:n}})},aggregatedCommentsHiddenForUser:n=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:n}})},flagAggregatedComment:async({commentId:e,reason:n,detailedReasons:t})=>{const r={commentId:e,reason:n,detailedReasons:t};return a.Z.create("AggregatedCommentFlagResource",r).callCreate()},deleteCommentMention:async n=>{var t;const{resource_response:r}=await a.Z.create("MentionsResource",{aggregatedCommentId:n,field_set_key:"comment"}).callDelete(),o=null!==(t=null==r?void 0:r.data)&&void 0!==t?t:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:o.id,tagged_users:o.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:n,isMarkedHelpfulByMe:t})=>{const r=a.Z.create("HelpfulResource",{helpfulModelType:1,objectId:n});t?r.callDelete({showError:!1}):r.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:n,marked_helpful_by_me:!t}}})},toggleAggregatedCommentHighlight:({aggregatedCommentId:n,pinId:t,isHighlighted:r})=>{const o=a.Z.create("AggregatedCommentHighlightResource",{aggregatedCommentId:n,pinId:t});r?o.callDelete({showError:!1}):o.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:n,pin_id:t,is_highlighted:!r}}})},toggleAggregatedCommentLike:({aggregatedCommentId:n,isLikedByMe:t})=>{const r=a.Z.create("AggregatedCommentLikeResource",{aggregatedCommentId:n});t?r.callDelete({showError:!1}):r.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:n,reaction_by_me:t?0:1}}})},updateAggregatedComment:async({commentId:n,force:t,orbacSubjectId:r,tags:o,text:i})=>{var s;const{resource_response:c}=await a.Z.create("AggregatedCommentResource",{commentId:n,force:t,tags:o,text:i,...r?{orbacSubjectId:r}:{}}).callUpdate({showError:!1}),{tagged_users:u}=null!==(s=null==c?void 0:c.data)&&void 0!==s?s:{},p=u.map((e=>Object.assign({},e)));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:n,tagged_users:p,tags:JSON.parse(o),text:i}}})},updateAggregatedCommentFeatures:async({userId:n,featureMap:t})=>{var r;const{resource_response:o}=await a.Z.create("AggregatedCommentFeaturesResource",{userId:n,featureMap:t}).callUpdate({showError:!1}),i=null!==(r=null==o?void 0:o.data)&&void 0!==r?r:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:i}}})},updateCommentCount:(n,t)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:t,id:n}})}})),[e])}function v(){const{aggregatedComments:e}=h();return e}},801336:(e,n,t)=>{t.d(n,{H8:()=>m,Ut:()=>d,fr:()=>l});var r=t(667294),a=t(673087),o=t(311541),i=t(425288),s=t(785893);const c=()=>t.e(80093).then(t.bind(t,680093)),{Provider:u,useHook:p}=(0,i.Z)("IdeaPin");function l({children:e}){const[n,t]=(0,o.Z)(c,a.Z),i=(0,r.useMemo)((()=>({dispatch:t,ideaPin:n})),[t,n]);return(0,s.jsx)(u,{value:i,children:e})}function d(){const{dispatch:e}=p();return(0,r.useMemo)((()=>({setIdeaPinActivePage:n=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:n}})},setIdeaPinDynamicWidth:n=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:n}})}})),[e])}function m(){const{ideaPin:e}=p();return e}},673087:(e,n,t)=>{t.d(n,{Z:()=>r});const r={activePage:0,dynamicWidth:0}},2361:(e,n,t)=>{t.d(n,{G:()=>d,Kl:()=>m,vo:()=>l});var r=t(667294),a=t(311541),o=t(425288),i=t(505920),s=t(785893);const c=()=>t.e(86497).then(t.bind(t,786497)),{Provider:u,useHook:p}=(0,o.Z)("NativeEngagements");function l({children:e}){const[n,t]=(0,a.Z)(c,[]),o=e=>{t({type:"FETCH_COMPLETE",payload:e})};(0,i.Z8)("NativeInteractionsResource",o),(0,i.my)("NativeInteractionsResource",o);const p=(0,r.useMemo)((()=>({dispatch:t,nativeEngagements:n})),[t,n]);return(0,s.jsx)(u,{value:p,children:e})}function d(){const{dispatch:e}=p();return(0,r.useMemo)((()=>({nativeEngagementsHiddenForUser:n=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:n}})}})),[e])}function m(){const{nativeEngagements:e}=p();return e}},281180:(e,n,t)=>{t.d(n,{Tt:()=>p,kW:()=>c,kY:()=>l,mN:()=>u});var r=t(702664),a=t(19121),o=t(425288),i=t(785893);const{Provider:s,useHook:c}=(0,o.Z)("Users");function u(){const e=c();return n=>e[n]}function p(){const{id:e}=(0,a.Z)();return c()[null!=e?e:""]}function l({children:e}){const n=(0,r.useSelector)((({users:e})=>e),r.shallowEqual);return(0,i.jsx)(s,{value:n,children:e})}},153183:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(66743);function a(e){var n;return{defaultStyle:0,fontFamily:null!==(n=e.name)&&void 0!==n?n:"",fontGroup:r.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},395164:(e,n,t)=>{t.d(n,{T:()=>s,Z:()=>c});var r=t(635240),a=t(226198),o=t(314880);const i=[];function s(e){let n;try{n=JSON.stringify({errorObj:e})}catch(u){n=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const t=(s={report_context:JSON.stringify({current_url:window.location.href,client_version:(0,r.Z)()}),report_data:n},Object.keys(s).map((e=>e+"="+encodeURIComponent(s[e]))).join("&"));var s;const c=window.btoa(t);if(-1===i.indexOf(c)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const n=(0,o.H)();n&&e.setRequestHeader("X-Pinterest-PWS-Handler",n),e.setRequestHeader("X-CSRFToken",function(e){const n=("; "+document.cookie).split("; "+e.name+"=");return 2===n.length?n.pop().split(";").shift():""}(a.fS)),e.send(t),i.push(c)}i.length>100&&i.shift()}function c(){window.addEventListener("error",(e=>{const n=e.error||{};s({extraData:n.extraData,name:n.name,message:n.message||e.message,stack:n.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var n,t,r,a,o;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:i}=e,c="string"==typeof(null==i?void 0:i.message)?i.message:String(i);s({name:null!==(n=null==i?void 0:i.name)&&void 0!==n?n:"unhandledrejection",message:c,message_detail:null==i?void 0:i.message_detail,original_message:null==i?void 0:i.original_message,stack:null==i?void 0:i.stack,filename:null==i?void 0:i.fileName,line:null!==(t=null!==(r=null==i?void 0:i.lineno)&&void 0!==r?r:null==i?void 0:i.line)&&void 0!==t?t:null==i?void 0:i.lineNumber,column:null!==(a=null!==(o=null==i?void 0:i.column)&&void 0!==o?o:null==i?void 0:i.colno)&&void 0!==a?a:null==i?void 0:i.columnNumber})}))}},204942:(e,n,t)=>{function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:()=>r})},601413:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(204942);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/32530-01d481b369a97d42.mjs.map