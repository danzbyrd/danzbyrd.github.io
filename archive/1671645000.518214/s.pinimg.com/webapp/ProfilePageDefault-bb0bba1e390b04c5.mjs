(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[74306,51798,13047,39395,24661,90984,99155,46984,84678,76849],{361600:e=>{var t,n,i,o,s,r,a,l,c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};c.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=c},865107:e=>{var t,n,i,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[o],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};s.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=s},226501:e=>{var t,n,i,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"883f2b104e00c718116da73d5cdc8f8c5e6e2cf3831d44a2e0e75f3f2b971bba",metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:null}};s.hash="085db880bf812861c72fed5460061cbc",e.exports=s},675600:e=>{var t,n,i,o,s,r={fragment:{argumentDefinitions:t=[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FollowersListDuploPaginationQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},o,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:s,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:"ac0d278d416e5fc59ee8124e9e7402efdfa1dea7a952a61e5c31926e70586b1b",metadata:{},name:"FollowersListDuploPaginationQuery",operationKind:"query",text:null}};r.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=r},958045:e=>{var t,n,i,o,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileFollowersGraphQL_user"}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileFollowersControllerGraphQLDuploQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:o=[{kind:"Literal",name:"first",value:10}],concreteType:"UserFollowersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:10)"},{alias:null,args:o,filters:null,handle:"connection",key:"FollowersList_user_followers_connection",kind:"LinkedHandle",name:"connection"}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"113a04938a3424313cd86088ca2f07ea7750d863589ede601cba4e731ea68ea2",metadata:{},name:"ProfileFollowersControllerGraphQLDuploQuery",operationKind:"query",text:null}};r.hash="790a1cc582da875dd51867ea26d81354",e.exports=r},44438:(e,t,n)=>{var i,o={argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:i=["followers","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:i},fragmentPathInResult:["node"],operation:n(675600),identifierField:"id"}},name:"ProfileFollowersGraphQL_user",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followers",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"UserFollowersConnection",kind:"LinkedField",name:"__FollowersList_user_followers_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserFollowersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileUserRepGraphQL_user"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"UserFollowersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};o.hash="815f47a7b48abdeb66f5dd65284badb5",e.exports=o},382375:e=>{var t,n,i,o,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLFollowMutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3FollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3FollowUserMethod",abstractKey:null}],storageKey:null}]},params:{id:"ceccdead2a38fe5ad869a6b84a3fbea169fdfd18998ae6c1d5620a4a56aad71f",metadata:{},name:"ProfileUserRepGraphQLFollowMutation",operationKind:"mutation",text:null}};r.hash="80ca7b23e17dc132070cd2e1a348eef3",e.exports=r},200722:e=>{var t,n,i,o,s,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"followee"}],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"followee",variableName:"followee"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[i={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ProfileUserRepGraphQLUnfollowMutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3UnfollowUserMethodMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[o,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3UnfollowUserMethod",abstractKey:null}],storageKey:null}]},params:{id:"db9541cfba8a2b97d0f3bd91e8c898ef8027d65ff994b3b267e9c77b56f2455d",metadata:{},name:"ProfileUserRepGraphQLUnfollowMutation",operationKind:"mutation",text:null}};r.hash="2faed66ab14b45f67a0df0446b21703d",e.exports=r},896355:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileUserRepGraphQL_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageXlargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"22d1ebb77d326b5a38c56d478e47ea07"};e.exports=t},166379:e=>{var t,n,i,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[o],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"ab55ea9f382837bc92cb5dab03686e16868a27912a9e4237e2ddbe7a15540d21",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};s.hash="9c91c46b70b37b163403747442a8c1d4",e.exports=s},380465:e=>{var t,n,i,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[o],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"8d8e9da7f5f5830ad00711d5fa1aa68c48b859aac0680cc0e49d58d3c1ccea88",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};s.hash="e485abf49d319ba9c47587981f2a86be",e.exports=s},656177:e=>{var t,n,i,o,s,r,a,l,c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"ShareInviteMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"30e03e1f3b6dded5c6d93bfecfb50065b254f1307aec34dfa67719890b615b82",metadata:{},name:"ShareInviteMutation",operationKind:"mutation",text:null}};c.hash="c33b898a613c3dc2792113fb7e97b0f5",e.exports=c},397066:(e,t,n)=>{n.d(t,{b:()=>d,h:()=>u});var i=n(983722),o=n(768559),s=n(43760),r=n(966113),a=n(619937),l=n(48714),c=n(366284);const d=({href:e,pinId:t,pin:n,location:s,auxData:d},u)=>{if(n&&n.is_promoted){var h,_,p,m;const w=(0,o.Z)({boardUrl:null===(h=n.board)||void 0===h?void 0:h.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:s,pinId:n.id,pinnerUserName:null===(_=n.pinner)||void 0===_?void 0:_.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),P=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:w,auxData:d}),S=(0,i.Z)();if((0,c.G6)(null!==(p=null==S?void 0:S.userAgent.browserName)&&void 0!==p?p:"")){var g,f;const{group:i}=null!==(g=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{};let o=null!=S&&null!==(f=S.userAgent)&&void 0!==f&&f.browserVersion?S.userAgent.browserVersion:"0.0";if(o=parseFloat(o.split(".")[0]+"."+o.split(".")[1]),void 0!==n.campaign_id&&o>=14.1&&["enabled_safari"].includes(i)){var b;const i=n.attribution_source_id?((e,t,n)=>{const i=document.createElement("a");return i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(a.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(a.$N.ATTRIBUTE_ON,n),i.click(),e})(n.attribution_source_id,P,e):((e,t,n)=>{const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block";const o=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return i.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,o),i.setAttribute(a.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(a.$N.ATTRIBUTE_ON,n),i.click(),o})(null!==(b=n.pin_promotion_id)&&void 0!==b?b:0,P,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:i,page_url:e}}),!0}}else if((0,c.i7)(null!==(m=null==S?void 0:S.userAgent.browserName)&&void 0!==m?m:"")){var y,v;const{group:i}=null!==(y=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==y?y:{},o=null!=S&&null!==(v=S.userAgent)&&void 0!==v&&v.browserVersion?parseInt(S.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&o>=101&&["enabled"].includes(i)){var x;const i=((e,t,n)=>{const i=new URL(`${r.C00}/attribution_source/`);i.searchParams.set(a.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),i.searchParams.set(a.NR.ATTRIBUTION_DESTINATION,n),i.searchParams.set(a.NR.ATTRIBUTION_EXPIRY,""+a.uV);const o=document.createElement("a");return o.setAttribute("href",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener nofollow noreferrer"),o.style.cursor="pointer",o.style.display="block",o.setAttribute(a.NR.ATTRIBUTION_SOURCE,i.toString()),o.click(),e})(null!==(x=n.attribution_source_id)&&void 0!==x?x:"0",P,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:i,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:n,location:i,auxData:r},a)=>{if("undefined"!=typeof window&&window.Windows)(0,s.Z)({url:e,pinId:t,pin:n,location:i,auxData:r});else{var c,u;if(d({href:e,pinId:t,pin:n,location:i,auxData:r},a))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,o.Z)({boardUrl:null==n||null===(c=n.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:null==n?void 0:n.call_to_create_source_pin_id,location:i,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:r})}}},807496:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(723776),s=n(883119),r=n(785893);const a={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function l({children:e,forwardRef:t,position:n="static",shouldShowShadow:l=!1,top:c,style:d={}}){const{currentScrollPosition:u,isScrolled:h,setSubheaderShadow:_}=(0,o.W)();(0,i.useEffect)((()=>(l&&_("contentHeader"),()=>{l&&_(null)})),[l]);let p=!1;"pending"!==c&&(p=null!=c?u>=c:h);const m=(0,r.jsx)(s.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:n,...d,...p&&l&&{...a,zIndex:499}}},children:e});return"sticky"===n?(0,r.jsx)(s.Le,{top:0,children:m}):m}},224455:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(667294),o=n(702664),s=n(898781),r=n(883119),a=n(785893);function l(e){const t=(0,s.ZP)(),{viewType:n,boardId:i,handleTouch:o}=e,l=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),c=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===n&&i?(0,a.jsx)(r.iP,{role:"link",href:`/board/${i}/create_section/`,rounding:2,onTap:o,children:(0,a.jsx)(r.xu,{paddingY:2,"data-test-id":"addSectionButton",children:(0,a.jsx)(r.X6,{size:"400",children:c})})}):(0,a.jsx)(r.iP,{role:"link",onTap:o,href:"/board/create/",children:(0,a.jsx)(r.xu,{paddingY:2,"data-test-id":"createMenuCreateBoardButton",children:(0,a.jsx)(r.X6,{size:"400",children:l})})})}var c=n(276775),d=n(741740);function u({disabledPinCreation:e,handleDisablePublish:t,handleTouch:n}){const i=(0,s.ZP)(),o=(0,c.useHistory)(),l=e=>({base64Image:e,method:d.I}),u=i._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,a.jsx)(r.iP,{tapStyle:"none",onTap:()=>{e?t():n()},children:(0,a.jsxs)(r.xu,{position:"relative",paddingY:2,children:[(0,a.jsx)(r.X6,{size:"400",children:u}),e?null:(0,a.jsx)("input",{id:"upload-pin",type:"file",accept:"image/*",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{const e=t.result;o.push({pathname:`/pin/create/${d.I}/`,state:l(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"}})]})})}var h=n(121151);function _({isOpen:e,onDismiss:t}){const n=(0,s.ZP)();return(0,a.jsx)(h.ZP,{accessibilityModalLabel:n._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:e,mobileAccessibilityCloseIconLabel:n._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:t,type:"DisabledPublishingModal",children:(0,a.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,a.jsx)(r.X6,{children:n._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,a.jsx)(r.xu,{paddingY:3,children:(0,a.jsx)(r.xv,{children:n._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,a.jsx)(r.xu,{paddingY:3,children:(0,a.jsx)(r.zx,{color:"red",onClick:()=>t(),size:"lg",text:n._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}var p=n(941646),m=n(500594),g=n(134906),f=n(773285),b=n(112690),y=n(728214),v=n(859704);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=e=>{const t=window&&window.innerWidth||0,n=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),i=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?i:n};class P extends i.PureComponent{constructor(...e){super(...e),x(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),x(this,"createPinFromLinkInput",(0,i.createRef)()),x(this,"closeCreateModal",(()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})})),x(this,"clearValidationError",(()=>{this.setState({urlValidationError:null})})),x(this,"openCreateModal",(e=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,m.is)(this.props.i18n)})()})),x(this,"handleCreatePinFromLinkTouch",(()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})})),x(this,"handleDisablePublish",(()=>{this.setState({showCreateModal:!1,showPublishingDisabledError:!0})})),x(this,"handleLinkFieldChange",(({value:e})=>{this.setState({createPinFromLinkUrl:e})})),x(this,"handlePinFromLinkFormSubmit",((e,t)=>{const{createPinFromLinkUrl:n}=this.state;e.preventDefault();const{errors:i}=(0,g.Jx)({message:this.props.i18n._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(n),[o]=i;o?this.setState({urlValidationError:o}):this.handleUrlValidationSuccess(t)})),x(this,"handleTouch",(()=>{const{logContextEvent:e,viewType:t,elementType:n}=this.props;e({view_type:t,view_parameter:3106,element:n,event_type:102})})),x(this,"handleUrlValidationSuccess",(e=>{this.setState({showInlineTextEditCreatePin:!1});const t=this.state.createPinFromLinkUrl;this.props.updatePinBuilderInput({submittedLink:t}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:t}}),this.closeCreateModal()})),x(this,"renderCreatePinFromLinkOption",(()=>{const{disabledPinCreation:e,history:t}=this.props,{createPinFromLinkUrl:n,showInlineTextEditCreatePin:i}=this.state,o=this.props.i18n._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,a.jsx)(r.kC,{alignItems:"center",height:46,justifyContent:"start",children:i?(0,a.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,a.jsxs)(r.xu,{display:"flex",justifyContent:"between",position:"relative",children:[(0,a.jsxs)(r.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,a.jsx)(r.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:w(this.props.i18n),size:"lg",value:n})]}),(0,a.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),iconColor:"darkGray",icon:"arrow-forward",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,a.jsx)(r.iP,{onTap:()=>{e?this.handleDisablePublish():this.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,a.jsx)(r.xu,{position:"relative","data-test-id":"websiteButton",children:(0,a.jsx)(r.X6,{size:"400",children:o})})})})})),x(this,"renderErrorFlyout",(()=>{const{urlValidationError:e}=this.state;return e&&(0,a.jsx)(r.J2,{anchor:this.createPinFromLinkInput.current,color:"red",idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,a.jsx)(r.xu,{padding:3,width:"100%",children:(0,a.jsx)(r.xv,{align:"center",color:"inverse",weight:"bold",children:e})})})}))}componentDidMount(){const{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){const{bgColor:e,boardId:t,buttonPadding:n,disabledPinCreation:o,i18n:s,iconButtonColor:c="gray",iconButtonSize:d="xl",viewType:m}=this.props,{showCreateModal:g,showPublishingDisabledError:f}=this.state;let b=this.props.i18n._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===m?b=this.props.i18n._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===m&&(b=this.props.i18n._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||s._('Add to board', 'heading in board create modal', 'heading in board create modal'));const y=4===m?this.props.i18n._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):b;return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,a.jsx)(p.Z,{id:"createMenuCreateButton",children:(0,a.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:e,iconColor:c,icon:"add",size:d,padding:"auto"!==n?n:1,onClick:({event:e})=>this.openCreateModal(e)})})}),g&&(0,a.jsx)(h.ZP,{mobileAccessibilityCloseIconLabel:this.props.i18n._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),accessibilityModalLabel:"",heading:y,isOpen:this.state.showCreateModal,onDismiss:this.closeCreateModal,type:"create_menu",children:(0,a.jsx)(r.xu,{padding:3,children:(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,a.jsxs)(i.Fragment,{children:[(0,a.jsxs)(r.xu,{paddingX:2,children:[(0,a.jsx)(r.xv,{children:this.props.i18n._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')}),(0,a.jsx)(i.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,a.jsx)(u,{disabledPinCreation:o,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==m&&(0,a.jsxs)(r.xu,{marginTop:6,paddingX:2,children:[(0,a.jsx)(r.xv,{children:this.props.i18n._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,a.jsx)(l,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:m})]})]}),(0,a.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,a.jsx)(r.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),f&&(0,a.jsx)(_,{isOpen:!0,onDismiss:()=>{this.setState({showPublishingDisabledError:!1})}})]})}}function S(e){const t=(0,s.ZP)(),{checkExperiment:n}=(0,f.F)(),i=["disable_all","disable_web_pins"].includes(n("disable_pin_creation").group),r=(0,o.useDispatch)(),l=(0,c.useHistory)(),{pinBuilder:d}=(0,o.useSelector)((e=>e.session)),u=(0,b.Z)(),h=d&&d.isInputOpen,_=d&&d.submittedLink,p=(0,y.Z)();return(0,a.jsx)(P,{...e,disabledPinCreation:i,history:l,i18n:t,isInputOpen:h,logContextEvent:u,requireAuthForLimitedLogin:p,submittedLink:_,updatePinBuilderInput:e=>r((0,v.p)(e))})}},141280:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(124580),s=n(740990),r=n(223815),a=n(643010),l=n(968121),c=n(494349),d=n(883119),u=n(785893);const h={border:(0,a.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,a.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},_={modalOpen:{__style:{...h}},modalClose:{__style:{...h,transform:"translate3d(0px, 100%, 0px)"}}};function p({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:a}){const{setAppFocusState:h}=(0,c.I)(),p=(0,i.useRef)(null);return(0,i.useEffect)((()=>(a&&(o.Z.pause(),h(!1),document.body&&(document.body.style.overflow="hidden")),()=>{a&&(o.Z.resume(),h(!0),document.body&&(document.body.style.overflow=""))})),[a,h]),(0,u.jsx)(r.Z,{allowClickAndDrag:t,children:(0,u.jsx)(d.mh,{zIndex:l.b7,children:(0,u.jsx)(d.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(d.xu,{ref:p,dangerouslySetInlineStyle:{__style:a?_.modalOpen.__style:_.modalClose.__style},children:(0,u.jsx)(s.Z.Provider,{value:p.current,children:n})})})})})}},7111:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(898781),o=n(883119),s=n(785893);const r=({isInModal:e})=>{const t=(0,i.ZP)();return(0,s.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,s.jsx)(o.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},723776:(e,t,n)=>{n.d(t,{H:()=>c,W:()=>l});var i=n(667294),o=n(700380),s=n(425288),r=n(785893);const{Provider:a,useHook:l}=(0,s.Z)("HeaderShadow");function c({children:e}){const[t,n]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(0),[u,h]=(0,i.useState)(null),_=(0,o.Z)((()=>{t&&(l(window.scrollY>0),d(window.scrollY))}),50);return(0,i.useEffect)((()=>(n(!0),()=>{n(!1)})),[]),(0,i.useEffect)((()=>(window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)})),[t]),(0,r.jsx)(a,{value:{currentScrollPosition:c,isScrolled:s,setSubheaderShadow:h,subheaderShadow:u},children:e})}},30700:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);function s({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:s,rounding:r,fullWidth:a=!1,pressState:l="none",accessibilityLabel:c,role:d}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,o.jsx)(i.iP,{fullWidth:a,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:s&&(({event:e})=>s(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:c,role:d,children:e})}},707853:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(907620);const o=new(n(883119).H3)([i.N])},118668:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(777918),o=n(883119),s=n(785893);function r(e){return(0,s.jsxs)(o.xu,{alignItems:"center","data-test-id":"all-pins-header",display:"flex",justifyContent:"between",marginTop:-1,children:[(0,s.jsx)(i.Z,{color:"darkGray",fallbackUrl:"/",padding:3,size:"sm"}),(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.X6,{size:"300",accessibilityLevel:1,children:e.title})}),(0,s.jsx)(o.xu,{width:48})]})}var a=n(224455),l=n(821050),c=n(361777),d=n(898781),u=n(407043),h=n(378518),_=n(276775);function p({isOwnProfile:e}){const t=(0,_.useHistory)(),n=(0,d.ZP)(),{logContextEvent:r}=(0,u.v)(),p=(0,h._)({id:1000312});return e?(0,s.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:8}},"data-test-id":"profile-own-header",display:"flex",children:[(0,s.jsx)(o.xu,{flex:"grow",children:(0,s.jsx)(c.Z,{history:t,type:"syop",viewParameter:3106,viewType:4})}),(0,s.jsx)(o.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,s.jsx)(a.Z,{iconButtonColor:"darkGray",iconButtonSize:"lg",elementType:249,viewType:4})}),(0,s.jsxs)(o.xu,{"data-test-id":"profile-settings",marginEnd:-3,children:[(0,s.jsx)(o.iP,{role:"link",onTap:()=>{r({event_type:101,element:57,view_type:4,view_parameter:3106})},tapStyle:"none",rounding:"circle",href:"/settings",children:(0,s.jsx)(o.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:"rotate(90deg)"}},children:(0,s.jsx)(o.JO,{accessibilityLabel:n._('Settings', 'profile.ProfileActionsContainer.LinkToSettingsPage', 'Link to your settings page'),color:"default",icon:"cog",size:20})})})}),(0,s.jsx)(o.xu,{marginEnd:3,children:(0,s.jsx)(l.Z,{color:"blue",experience:p,eligibleIds:[504307],onClickComplete:()=>{t.push("/settings/edit-profile/")},showCaret:!0,textWeight:"normal",children:()=>null})})]})]}):(0,s.jsx)(o.xu,{alignItems:"center","data-test-id":"profile-header",display:"flex",children:(0,s.jsx)(i.Z,{color:"darkGray",fallbackUrl:"/",padding:3,size:"sm"})})}var m=n(892819),g=n(349700),f=n(780280);function b({location:e,user:t,viewerId:n}){const{locale:i}=(0,f.B)(),o=(0,d.ZP)(),a=(0,m.Z)(),{follower_count:l=0,following_count:c=0,interest_following_count:u=0,username:h}=t,_=c-(null!=u?u:0),b=a(i,l||0,{}),y=a(i,_||0,{}),v=e.pathname.includes(`${h}/_followers`),x=e.pathname.includes(`${h}/_following`),w=e.pathname.includes(`${h}/pins`),P=t.id===n;return w?(0,s.jsx)(r,{title:o._('All Pins', 'profilePinsHeader.heading', 'Heading for page that shows all Pins of a user')}):v?(0,s.jsx)(r,{title:P?(0,g.nk)(o.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', l, 'ProfilePage.followerCount.ownProfile', 'number of followers you have'),{followerCount:b}):(0,g.nk)(o.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', l, 'ProfilePage.followerCount.othersProfile', 'number of followers another profile has'),{followerCount:b})}):x?(0,s.jsx)(r,{title:P?(0,g.nk)(o.ngettext('{{ followingCount }} following', '{{ followingCount }} following', _, 'ProfilePage.followingCount.ownProfile', 'number of profiles you are following'),{followingCount:y}):(0,g.nk)(o.ngettext('{{ followingCount }} following', '{{ followingCount }} following', _, 'ProfilePage.followingCount.othersProfile', 'number of other profiles another user is following'),{followingCount:y})}):(0,s.jsx)(p,{isOwnProfile:P})}},949372:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(702664);const o=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},32509:(e,t,n)=>{n.d(t,{Z:()=>a,e:()=>r});var i=n(702664),o=n(883119),s=n(785893);const r=new o.Ry(1);function a({children:e,isImagePinForUnauthOnTablet:t}){const n=(0,i.useSelector)((({session:e})=>e.isAuthenticated));return(0,s.jsxs)(o.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:r,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,s.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},907620:(e,t,n)=>{n.d(t,{N:()=>v,Z:()=>x});var i=n(667294),o=n(223815),s=n(529285),r=n(898781),a=n(52022),l=n(539497),c=n(883119),d=n(785893);function u({icon:e}){const{hide:t}=(0,s.Z)(),n=(0,r.ZP)(),i=(0,a.Z)();return(0,d.jsx)(o.Z,{children:(0,d.jsx)(c.xu,{"data-test-id":"expandButton",children:(0,d.jsx)(c.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:n._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),i({action:"click",item:"expand-button",within:"pin-image"}),t()}})})})}var h=n(700380),_=n(50286),p=n(792182),m=n(32509),g=n(444445),f=n(773285);const b=.3,y=.75,v=new c.H3([m.e]),x=({children:e,closableDrawer:t})=>{var n;const{hide:o}=(0,s.Z)(),r=(0,i.useRef)(null),a=(0,i.useRef)(null),[l,m]=(0,i.useState)(null),[x,w]=(0,i.useState)(0),[P,S]=(0,i.useState)(!1),A=(null===(n=(0,p.Z)())||void 0===n?void 0:n.height)||0,[I,E]=(0,i.useState)(!1),C=(0,_.ZP)(),{checkExperiment:k}=(0,f.F)(),j=null!=l?l:.75*A,T=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&A>0?t-A*b+60:0};return(0,i.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=r.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+j>t&&o()};e();const t=(0,h.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[o,j]),(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(c.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:v,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...P?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&P?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:a,onTouchStart:e=>{const{clientY:t}=e.touches[0];w(t),S(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],n=null!=l?l:.75*window.innerHeight,i=t-x;if(null!==n&&i){const e=A*b,t=A*y,s=Math.floor(Math.min(t,Math.max(e,n+i)));m(s);const r=T();if(A>0&&r>0){const e=r*(o=s/A,1-(Math.max(b,Math.min(y,o))-b)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}s<.525*A&&E(!0)}var o;w(t)},onTouchEnd:()=>{if(I){S(!0);m(A*b);const e=T();e&&window.scrollTo({top:e,behavior:"smooth"}),E(!1)}},children:["desktop"!==C&&(t?(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,d.jsx)(u,{icon:"cancel"})}):!k("pcons_remove_expand_button").anyEnabled&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,right:!0,children:(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsx)(u,{})})})})),(0,d.jsx)(c.xu,{paddingX:g.D6,children:e})]}),(0,d.jsx)(c.xu,{ref:r,height:"100vh"})]})}},529285:(e,t,n)=>{n.d(t,{Z:()=>c,t:()=>l});var i=n(667294),o=n(539497),s=n(276775),r=n(785893);const a=(0,i.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function l({children:e,isEligible:t}){const[n,l]=(0,i.useState)(!t),[c,d]=(0,i.useState)(!1),{pathname:u}=(0,s.useLocation)();(0,i.useEffect)((()=>{l(!t)}),[u,t]);const h=(0,i.useCallback)((()=>{(0,o.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),_=(0,i.useCallback)((e=>{d(!!e)}),[]),p=(0,i.useMemo)((()=>({isHidden:n,hide:h,isScrolledToPins:c,scrollToPins:_})),[n,h,c,_]);return(0,r.jsx)(a.Provider,{value:p,children:e})}const c=()=>(0,i.useContext)(a)},821050:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(702664),s=n(121093),r=n(30700),a=n(883119),l=n(332611),c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),d(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),d(this,"handleDismiss",(e=>{const{onClickDismiss:t,dismissExperience:n,experience:i}=this.props;if(!i)return;const{experience_id:o,placement_id:s}=i;n(s,o),t&&t()})),d(this,"wrapperRef",(0,i.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){const{experience:e}=this.props;if(!e)return;const{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;const n=e.current.getBoundingClientRect(),{height:i,width:o}=n,s=-(68+i/2),l=-(68-o/2);return(0,c.jsx)(r.Z,{pressState:"none",children:(0,c.jsx)(a.xu,{position:"absolute",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:s,marginLeft:l,pointerEvents:"none"}},children:(0,c.jsx)(a.o3,{paused:t,size:136})})})}render(){const{children:e,color:t,eligibleIds:n,experience:i,idealDirection:o,onClickComplete:r,showCaret:l,size:d,textWeight:u="bold"}=this.props,{showPulsar:h,hasMounted:_}=this.state;if(!i||!n.includes(i.experience_id)||!_)return e({experience:i});const{display_data:p}=i;return(0,c.jsx)(s.Z,{eligibleIds:n,experience:i,children:({complete:n})=>(0,c.jsxs)(a.xu,{ref:this.wrapperRef,children:[e({experience:i}),h?this.renderPulsar():p.has_tooltip&&(0,c.jsx)(a.J2,{anchor:this.wrapperRef.current,color:t,idealDirection:o||"down",onDismiss:this.handleDismiss,showCaret:l,size:d,children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(a.kC,{direction:"column",gap:{row:0,column:3},children:[(0,c.jsx)(a.xu,{column:12,children:(0,c.jsx)(a.xv,{color:"inverse",weight:u,children:p.text})}),p.complete_button_text&&(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:p.complete_button_text&&(0,c.jsx)(a.kC,{alignContent:"center",children:(0,c.jsx)(a.zx,{color:"white",onClick:()=>{n(1),r&&r()},size:"md",text:p.complete_button_text})})})]})})})]})})}}const h=(0,o.connect)(null,(e=>({dismissExperience:(t,n)=>e((0,l.Qu)(t,n)),completeExperience:(t,n)=>e((0,l.CK)(t,n))})))(u)},500594:(e,t,n)=>{n.d(t,{Bb:()=>f,Bx:()=>c,DF:()=>r,F4:()=>l,OG:()=>s,Qj:()=>d,_6:()=>g,gv:()=>a,hg:()=>u,is:()=>p,jP:()=>m,lt:()=>o,oM:()=>h,wI:()=>_});var i=n(826067);const o=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),s=e=>e.pathname,r=e=>{var t;return null!==(t=null==e?void 0:e._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==t?t:"You'll need to log in to do that"},a=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},c=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),h=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),_=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},p=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),f=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},426287:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664),o=n(947411),s=n(479739),r=n(276775),a=n(785893);function l(e){const t=(0,r.useParams)(),n=(0,i.useSelector)((e=>e)),l=(0,s.Il)(n)[t.username];return(0,a.jsx)(o.Z,{...e,user:l})}},777918:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(702664),o=n(941646),s=n(898781),r=n(112690),a=n(52022),l=n(539497),c=n(385740),d=n(883119),u=n(276775),h=n(785893);function _({alignIconLeft:e,bgColor:t,color:n,disableRedirect:_=!1,fallbackUrl:p,icon:m="arrow-back",onTouch:g,padding:f,placement:b,shouldUseFallbackUrl:y,size:v="lg",viewParameter:x,viewType:w}){const P=(0,s.ZP)(),S=(0,u.useHistory)(),A=(0,u.useLocation)(),I=(0,i.useSelector)((e=>e.session.isAuthenticated)),E=(0,r.Z)(),C=(0,a.Z)(),{viewType:k,viewParameter:j}=(0,c.SU)(),[T,R]=w?[w,x]:[k,j],O=()=>{(0,l.My)(`mweb_back_button_click.${String(b)}.is_auth_${String(I)}`),C({action:"click",item:"back-button"}),T&&E({view_type:T,view_parameter:R,element:34,event_type:102}),g&&g(),_||((!A.key||A.state&&"redirect"===A.state.referrer||y)&&p?S.push(p):A.pathname.includes("/password/reset/")&&A.search&&A.search.includes("?nativeShouldDismiss=true")?S.push("/login/?dismissWebview=true"):S.goBack())};return(0,h.jsx)(o.Z,{id:"back-button",children:e?(0,h.jsx)(d.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===m?-1:-2,children:(0,h.jsx)(d.hU,{accessibilityLabel:P._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:m,onClick:O,padding:"auto"!==f?f:2,size:v})}):(0,h.jsx)(d.hU,{accessibilityLabel:P._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:m,onClick:O,padding:"auto"!==f?f:2,size:v})})}},114728:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(333312),s=n(829407),r=n(898781),a=n(622739),l=n(883119),c=n(276775),d=n(785893);const u="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.4)",h={transform:"scale(0)",opacity:"0",transition:u},_={transform:"scale(1)",opacity:"1",transition:u};function p({scope:e,onTap:t}){const n=(0,r.ZP)();let u;const p=[];let m=1000432;switch(e){case"buyable_pins":u="shopping-bag",p.push(504961),m=1000433;break;case"users":u="person",p.push(504963),m=1000432}const g=(0,c.useLocation)(),f=(0,c.useHistory)(),b=g.search,y=(0,l.JZ)(),[v,x]=(0,i.useState)(y?_:h),w=(0,i.useRef)();(0,s.Z)((()=>y?()=>{}:(x(_),()=>{x(h)})));const P=new l.Ry(100);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.xu,{width:43,height:43,marginEnd:2,ref:w,children:(0,d.jsx)(l.xu,{ref:w,dangerouslySetInlineStyle:{__style:v},children:(0,d.jsx)(l.iP,{rounding:"circle",tapStyle:"compress",onTap:function({event:e}){e.stopPropagation(),t?t():f.push((0,a.NZ)("/search/pins/",b))},children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"13.5px"}},rounding:"circle",color:"selected",children:(0,d.jsx)(l.JO,{accessibilityLabel:n._('Search mode icon', 'searchBox.modesIcon.accessibilityLabel', 'Search mode icon in search box'),icon:u,color:"inverse",size:16})})})})}),(0,d.jsx)(l.mh,{zIndex:P,children:(0,d.jsx)(o.default,{anchor:w.current,positionRelativeToAnchor:!1,hasFullWidthButton:!1,placementId:m,experienceIds:p,showCaret:!0,textAlign:"center",textWeight:"normal"})})]})}},361777:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(114728),s=n(898781),r=n(112690),a=n(773285),l=n(597897),c=n(883119),d=n(785893);function u({history:e,placeholder:t,query:n="",scope:u,type:h="default",viewParameter:_,viewType:p}){const m=(0,s.ZP)(),g=(0,l.U)(),{checkExperiment:f}=(0,a.F)(),b=(0,r.Z)();(0,i.useEffect)((()=>{g&&setTimeout((()=>{var e;null===(e=g.preload)||void 0===e||e.call(g,new URL("search.js","file://"))}),500)}),[]);const{anyEnabled:y}=f("mweb_search_onebar_v01"),v={default:{label:m._('Search', 'SearchBar.searchTypes.default.label', 'Search input label'),path:"/search/"},syop:{label:"en"===m.getLocaleData().locale.split("-")[0]?m._('Search your Pins', 'SearchBar.searchTypes.profile.englishLabel', 'text for profile search bar'):m._('Search', 'SearchBar.searchTypes.profile.nonEnglishLabel', 'text for profile search bar'),path:"/search/me/"}},x=()=>v[h].path,[w,P]=(0,i.useState)(null!=u?u:"pins"),S=("buyable_pins"===w||"users"===w)&&y;(0,i.useEffect)((()=>{P(null!=u?u:"pins")}),[u]);const A=n?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:(0,d.jsx)(c.xu,{marginStart:1,overflow:"hidden",children:(0,d.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:n})})}),(0,d.jsx)(c.xu,{alignItems:"center","data-test-id":"cancelSearch",display:"flex",children:(0,d.jsx)(c.hU,{accessibilityLabel:m._('Clear search query', 'SearchBar.clearIconButton.accessibilityLabel', 'Accessibility label for icon button to clear the current search query'),onClick:({event:t})=>{const n=x();t.stopPropagation(),e.push(n)},icon:"clear",padding:1,size:"md",iconColor:"gray"})})]}):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c.JO,{accessibilityLabel:m._('Search', 'SearchBar.searchIcon.accessibilityLabel', 'Accessibility label for search bar "search" icon'),icon:"search",size:16}),(0,d.jsx)(c.xu,{marginStart:2,children:(0,d.jsx)(c.xv,{color:"subtle",children:t||v[h].label})})]});return(0,d.jsx)(c.iP,{onTap:()=>(()=>{const t=x();b({component:43,element:227,event_type:102,aux_data:{entered_query:n},view_parameter:_,view_type:p});const i=n?`${t}?rs=typed&q=${encodeURIComponent(n)}&scope=${u||""}`:t;return e.push(i)})(),rounding:2,children:(0,d.jsxs)(c.xu,{alignItems:"center",borderStyle:"lg",color:"default","data-test-id":"searchBarPlaceholder",display:"flex",flex:"grow",height:48,dangerouslySetInlineStyle:{__style:{padding:"13px 16px"}},rounding:8,children:[S&&(0,d.jsx)(c.xu,{marginStart:-4,children:(0,d.jsx)(o.Z,{scope:u})}),A]})})}},209236:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),o=n(702664),s=n(90771),r=n(31149),a=n(659522),l=n(214680),c=n(331744),d=n(172071),u=n(757146),h=n(785893);function _({size:e=56}){return(0,h.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,h.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var p=n(862960),m=n(941646),g=n(499128),f=n(464240),b=n(287072),y=n(89396),v=n(22641),x=n(467570),w=n(539497),P=n(773285),S=n(50286),A=n(167912),I=n(780280),E=n(898781),C=n(112690),k=n(52022),j=n(391968),T=n(833715),R=n(883119),O=n(957161),L=n(644035),z=n(343341);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F=56,M=String(86),N=({text:e})=>(0,h.jsx)(R.xv,{align:"center",size:"100",children:e});class Z extends i.PureComponent{constructor(...e){super(...e),D(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),D(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,T.sF)(n,t,e,this.showCopyToast)})),D(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,h.jsx)(g.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),D(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,T.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),D(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,O.qn)(j.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),D(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||j.F6.has(e)||(0,O.Nh)(j.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),D(this,"handleMessagingAppClick",(e=>{var t,n,i,o;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(o=this.props).setShareSent)||void 0===i||i.call(o,!0),this.logShareClick(e),this.setFreshInviteCode(e),j.rO.has(e)||(0,O.Nh)(j.Cq,e),this.setNewAppOrder(e)})),D(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),D(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),D(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),D(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),D(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),D(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),D(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),D(this,"handleFacebookClick",(e=>{var t,n,i,o;const{isDesktop:s}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(o=this.props).setShareSent)||void 0===i||i.call(o,!0),(0,w.My)(`pcons.${s?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"});const{inviteCode:r,invitePath:a,fbLoaded:l}=this.state;(0,T.Rh)(l,a,r||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),D(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),D(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:o,clientTrackingParams:s,logContextEvent:r,viewType:a,viewParameter:l}=this.props;(0,T.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:o,clientTrackingParams:s,logContextEvent:r,view_type:a,view_parameter:l})})),D(this,"copyButtonRef",null),D(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:o,WhatsApp:s,Twitter:r,Viber:a,Telegram:l,CopyLink:c,Sms:d,ShareVia:u})=>{const _=this.getAppOrder(),p=new Map([[6,n],[10,s],[5,t],[9,r],[3,e],[8,o],[20,l],[22,a],[4,d],[12,c],[11,u]]);return(0,h.jsx)(i.Fragment,{children:_.map((e=>p.get(e)))})})),D(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,x.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n}=this.props,{invitePath:i,inviteCode:o,title:s,message:r}=await(0,T.yP)(e,t,n,this.props.relayEnvironment),a={};i&&(a.invitePath=i),o&&(a.inviteCode=o),s&&(a.inviteTitle=s),r&&(a.inviteMessage=r),this.setState(a)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:o}=this.props,{invitePath:g,inviteMessage:b,inviteTitle:x}=this.state,{emailShareLink:w,messengerShareLink:P,twitterShareLink:S,whatsappShareLink:A,lineShareLink:I,telegramShareLink:E,viberShareLink:C,smsShareLink:k}=(0,T.tA)({invitePath:g,inviteTitle:x,objectType:t,i18n:this.props.i18n,isDesktop:e}),j=({children:t})=>(0,h.jsx)(R.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${M}px`:"100%",children:t}),O=({children:e})=>(0,h.jsx)(R.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),L=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(m.Z,{id:"fbmessenger-share-icon",children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,h.jsx)(u.Z,{size:F})})})}),(0,h.jsx)(N,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),z=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(m.Z,{id:"whatsapp-share-icon",children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,h.jsx)(v.Z,{size:F})})})}),(0,h.jsx)(N,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),D=(0,h.jsx)(R.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,h.jsx)(a.Z,{size:F})})}),(0,h.jsx)(N,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),Z=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(m.Z,{id:"twitter-share-icon",children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,h.jsx)(f.Z,{size:F})})})}),(0,h.jsx)(N,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),B=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,h.jsx)(c.Z,{size:F})})}),(0,h.jsx)(N,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),U=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,h.jsx)(y.Z,{size:F})})}),(0,h.jsx)(N,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),H=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:E,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,h.jsx)(p.Z,{size:F})})}),(0,h.jsx)(N,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),V=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(m.Z,{id:"email-share-button",children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,h.jsx)(r.Z,{size:F})})})}),(0,h.jsx)(N,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),G=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const o=b.indexOf("https://");navigator.share&&navigator.share({url:g,text:o>0?b.slice(0,o):b,title:x}).then((()=>{this.handleMessagingAppClick(11),d.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{d.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,h.jsx)(R.xu,{height:F,children:(0,h.jsx)(R.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,h.jsx)(N,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),$=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:o?(0,h.jsx)(l.Z,{size:F}):(0,h.jsx)(s.Z,{size:F})})}),(0,h.jsx)(N,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),W=(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:F,children:(0,h.jsx)(R.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,h.jsx)(N,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,h.jsxs)(R.xu,{children:[(0,h.jsx)(R.xu,{height:4}),(0,h.jsx)(R.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,h.jsxs)(R.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[i&&n&&(()=>(0,h.jsxs)(j,{children:[(0,h.jsx)(O,{children:(0,h.jsx)(R.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,h.jsx)(_,{size:F})})}),(0,h.jsx)(N,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:V,Facebook:D,FBMessenger:L,Line:B,WhatsApp:z,Twitter:Z,Viber:U,Telegram:H,CopyLink:W,Sms:$,ShareVia:G})]})}),(0,h.jsx)(R.xu,{height:16})]})}}function B(e){const t=(0,E.ZP)(),n=(0,S.HG)(),{showToast:i}=(0,z.F9)(),{country:s,locale:r}=(0,I.B)(),a=(0,b.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:l}=(0,P.F)(),c=(0,o.useSelector)((({session:e})=>e.userAgentPlatform)),d=c===L.RL||c===L.s4,u=l("graphql_migration_sharesheet_sgrowth_web").anyEnabled,_=(0,A.useRelayEnvironment)(),p=(0,C.Z)(),m=(0,k.Z)();return(0,h.jsx)(Z,{...e,country:s,i18n:t,isDesktop:n,locale:r,showToast:i,onNavigation:a,logContextEvent:p,isAppleDevice:d,relayEnvironment:u?_:void 0,trackInteraction:m})}},833715:(e,t,n)=>{n.d(t,{Iz:()=>g,Rh:()=>h,pW:()=>d,rL:()=>m,sF:()=>_,tA:()=>u,yP:()=>p});var i,o,s=n(6637),r=n(467570),a=n(867060),l=n(167912);const c={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:o,Facebook:s,Twitter:r,Email:a,Line:l,Telegram:d,Viber:u,Sms:h,CopyLink:_,ShareVia:p}=c;function m(){switch(e){case"US":return t?[o,s,r,a]:[h,i,o,s,r];case"ID":return t?[o,l,a,s]:[o,d,h,l,a,s];case"JP":case"TH":case"TW":return t?[l,r,a,s]:[l,a,h,r,s];case"GR":return t?[o,s,r,a]:[u,i,o,h,s,r];case"IR":case"IQ":return t?[o,s,r,a]:[o,d,h,i,r];case"UA":case"RU":return t?[o,s,r,a]:[o,u,d,s,i,h,r];default:return t?[o,s,r,a]:[o,i,h,s,r]}}return t?[_,...m()]:[...m(),_,...n?[p]:[]]}function u({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:o}){let s=i._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===n&&(s=i._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const a=`mailto:?subject=${encodeURIComponent(s)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${r.GH}`,c=`${t}\n${e}`,d=o?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(c)}`:`twitter://post?message=${encodeURIComponent(c)}`,u=o?`https://web.whatsapp.com/send?text=${encodeURIComponent(c)}`:`whatsapp://send?text=${encodeURIComponent(c)}`,h=o?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(c)}`,_=`viber://forward?text=${encodeURIComponent(c)}`;return{emailShareLink:a,messengerShareLink:l,twitterShareLink:d,whatsappShareLink:u,lineShareLink:h,telegramShareLink:`tg://msg?text=${encodeURIComponent(c)}`,viberShareLink:_,smsShareLink:`sms:?&body=${encodeURIComponent(c)}`}}function h(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function _(e,t,n,i){if(!n||!t)return;const o=new t(n,{text:()=>e});o.on("success",(e=>{i&&i(e)})),o.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function p(e,t,o,r){if(r)return((e,t,o,s,r)=>{const a=void 0!==i?i:i=n(865107),c={invite_category:t,invite_object:o,invite_channel:s};return(0,l.fetchQuery)(e,a,{inviteType:JSON.stringify(c),objectId:r}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,n,i,o;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(n=null==e?void 0:e.inviteUrl)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",message:null!==(o=null==e?void 0:e.message)&&void 0!==o?o:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(r,3,o,e.toString(),t);{const n=s.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:o,invite_channel:e},object_id:t}),i=await n.callCreate(),{invite_url:r,invite_code:a,title:l,message:c}=i.resource_response.data;return{inviteCode:a,invitePath:r,title:l,message:c}}}const m=(e,t,i,s,r,a)=>{const c=void 0!==o?o:o=n(361600),d={inviteType:JSON.stringify({invite_category:t,invite_object:i,invite_channel:s}),inviteCode:r,objectId:a};(0,l.commitMutation)(e,{mutation:c,variables:{...d}})};async function g({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:o,clientTrackingParams:r,logContextEvent:l,view_parameter:c,view_type:d}){l({aux_data:{invite_object:i},object_id_str:n,component:o,clientTrackingParams:r,element:a.c[e],event_type:102,view_type:d,view_parameter:c}),s.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:r}).callCreate()}},418651:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(209236),o=n(39540),s=n(883119),r=n(785893);const a=new s.H3([o.Z]);function l({anchor:e,onDismiss:t,objectId:n,objectType:o,title:l}){return(0,r.jsx)(s.mh,{zIndex:a,children:(0,r.jsx)(s.J2,{anchor:e,onDismiss:t,size:"xl",positionRelativeToAnchor:!1,children:(0,r.jsxs)(s.kC,{alignItems:"center",direction:"column",wrap:!0,width:360,overflow:"hidden",children:[(0,r.jsx)(s.xu,{marginTop:4,marginBottom:4,children:(0,r.jsx)(s.xv,{size:"300",weight:"bold",children:l})}),(0,r.jsx)(s.kC,{width:360,children:(0,r.jsx)(i.Z,{objectId:n,objectType:o,onDismiss:t})})]})})})}},203345:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var i=n(667294),o=n(209236),s=n(702664),r=n(766935),a=n(940519),l=n(936776),c=n(172071),d=n(6637),u=n(700380),h=n(784590),_=n(19121),p=n(479739),m=n(773285),g=n(281180),f=n(25719),b=n(116303),y=n(499128),v=n(898781),x=n(728214),w=n(349700),P=n(479301),S=n(883119),A=n(276775),I=n(343341),E=n(785893);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.PureComponent{constructor(...e){var t;super(...e),t=this,C(this,"state",{viewConversation:!1,isSent:!1,path:""}),C(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,E.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,E.jsx)(S.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,E.jsx)(S.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,E.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,E.jsx)(S.xu,{marginEnd:2,children:(0,E.jsx)(S.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,E.jsx)(S.xu,{marginEnd:2,children:(0,E.jsx)(S.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),C(this,"onViewConversation",(()=>{const{path:e}=this.state;c.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),C(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:n,i18n:i,isFullHeight:o,onDismiss:s,setShareSent:r,recipient:a,sendObject:l,showToast:d,email:u,updateCachedContactsAfterSend:h,userId:_}=t.props,p=e[l.objectType];t.setState({isSent:!0});try{const e=await n({user_ids:a?[a.id,_]:void 0,[p]:l.objectId,emails:u?[u]:void 0});if(e){const n=e.id;t.setState({path:`/conversation/${n}`,viewConversation:!0}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),r(!0),null==h||h(),!o&&s&&(d((({hideToast:e})=>(0,E.jsx)(y.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:i._('View the conversation', 'ContactItem.ConfirmationToast.a11yButtonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),label:i._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),onClick:t.onViewConversation},duration:4e3,onHide:e,text:(0,w.Wc)(i._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==a?void 0:a.full_name)||""}),iconThumbnail:(0,E.jsx)(b.Z,{size:"fit",src:(null==a?void 0:a.image_large_url)||"",name:(null==a?void 0:a.full_name)||""}),thumbnailShape:"circle"}))),s(n))}}catch(m){d((({hideToast:e})=>(0,E.jsx)(y.ZP,{variant:"error",text:(null==m?void 0:m.message_detail)||(null==m?void 0:m.message)||i._('Failed to create conversation.', 'ContactItem.errorToast.text', 'Error during message send from the share sheet'),onHide:e}))),t.setState({isSent:!1}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:m})}}}))}render(){var e,t,n,i;const{isFullHeight:o,recipient:s,email:r}=this.props,{isSent:a}=this.state;return!o&&s?(0,E.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,E.jsx)(S.iP,{onTap:()=>this.onInlineSend(),children:(0,E.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,E.jsx)(b.Z,{size:"fit",src:null!==(e=s.image_large_url)&&void 0!==e?e:"",name:null!==(t=s.full_name)&&void 0!==t?t:""})})}),(0,E.jsx)(S.xu,{width:56,children:(0,E.jsx)(S.xv,{lineClamp:1,size:"100",align:"center",children:s.full_name})})]}):(0,E.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[s?(0,E.jsx)(S.xu,{children:(0,E.jsx)(b.Z,{size:"md",src:null!==(n=s.image_large_url)&&void 0!==n?n:"",name:null!==(i=s.full_name)&&void 0!==i?i:""})}):r&&(0,E.jsx)(S.xu,{children:(0,E.jsx)(b.Z,{size:"md",name:r})}),(0,E.jsx)(S.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,E.jsx)(S.xv,{lineClamp:1,weight:"bold",children:s?s.full_name:r&&a?r:(0,w.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:r})})}),(0,E.jsx)(S.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:a?this.renderViewConversationButton():(0,E.jsx)(S.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}})})]})}}function j(e){const t=(0,A.useHistory)(),n=(0,v.ZP)(),i=(0,x.Z)(),{showToast:o}=(0,I.F9)(),s=(0,P.aX)();return(0,h.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,E.jsx)(k,{...e,createConversation:s,history:t,i18n:n,requireAuthForLimitedLogin:i,showToast:o})}var T=n(112690),R=n(379725);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class z extends i.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,i=t&&!this.props.fetching,o=this.getContactSuggestions();if(!n&&i){const e=o.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),O(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),O(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,i={options:{user:t,term:e}};this.setState({value:e},n(i))})),O(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:n}=this.props,{value:i,defaultSuggestions:o}=this.state;if(!i)return o.filter((e=>n[e.id]))||[];const s=`share-suggestions:${t}:${i}`,r=`share-suggestions:${t}:${i.slice(0,-1)}`;return e[s]||e[r]||[]})),O(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:n,isFullHeight:i,onDismiss:o,sendObject:s,setShareSent:r,userId:a,users:c,updateCachedContactsAfterSend:d}=this.props,{loadingDefaultSuggestions:u,value:h}=this.state,_=this.getContactSuggestions(),p=t||u;let m;return m=!i&&p?107:"100%",p?(0,E.jsx)(S.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:m,paddingY:2,children:(0,E.jsx)(S.$j,{show:!0,accessibilityLabel:n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===_.length&&!(0,l.Z)(h)&&h&&i?(0,E.jsx)(S.xu,{marginTop:3,children:(0,E.jsx)(S.xv,{align:"center",children:n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,E.jsx)(S.kC,{direction:i?"column":"row",overflow:i?void 0:"hidden",children:(0,E.jsxs)(S.xu,{display:i?void 0:"flex",height:m,overflow:i?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:i?4:1,paddingY:0,children:[0===_.length&&(0,l.Z)(h)&&(0,E.jsx)(j,{email:h,isFullHeight:i,sendObject:s,setShareSent:r,userId:a}),!i&&(0,E.jsxs)(S.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,E.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,E.jsx)(S.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:e,size:"xl"})}),(0,E.jsx)(S.xv,{lineClamp:1,size:"100",children:n._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),_.map((e=>{var t;return(0,E.jsx)(j,{isFullHeight:i,onDismiss:o,recipient:c[null!==(t=e.id)&&void 0!==t?t:""],sendObject:s,setShareSent:r,userId:a,updateCachedContactsAfterSend:d},e.id)}))]})})})),this.scrollerRef=(0,i.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:n,updateCachedShareSuggestions:i}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await n()||[];i(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await n()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,o=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,E.jsx)(i.Fragment,{children:t?(0,E.jsxs)(S.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,E.jsx)(S.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?L:null},children:(0,E.jsx)(a.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:t})}),(0,E.jsx)(S.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:o,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,E.jsx)(S.xu,{children:this.renderContactSuggestions()})})}}function D(e){const t=(0,v.ZP)(),n=(0,g.kW)(),i=(0,T.Z)(),{id:o}=(0,_.Z)(),a=(0,s.useDispatch)();(0,h.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:o}});const l=(0,s.useSelector)((t=>(0,p.oF)(t,e))),u=(0,s.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),b=Object.keys(u||{}).some((e=>u[e].fetching)),{cachedShareSuggestions:y,clearCachedShareSuggestions:x,updateCachedShareSuggestions:w}=(0,f.$)(),P=async()=>{let e;const t=d.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var n;e=null===(n=(await t.callGet()).resource_response)||void 0===n?void 0:n.data}catch(i){c.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:S}=(0,m.F)(),A=S("mweb_cache_contacts_share").anyEnabled;return(0,E.jsx)(z,{...e,i18n:t,logContextEvent:i,users:n,searchContacts:e=>{(0,r.Z)(a((0,R.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:b,userId:o||"",typeaheadSuggestions:l,inContactsCacheExp:A,cachedShareSuggestions:y,getFreshContactSuggestions:P,updateCachedContactsAfterSend:async()=>{if(A){x();const e=await P();e&&w(e)}},updateCachedShareSuggestions:w})}var F=n(141280),M=n(121151),N=n(667679),Z=n(52022),B=n(539497),U=n(53987),H=n(50286);const V=14121,G=({heading:e,onDismiss:t})=>{const n=(0,v.ZP)();return(0,E.jsxs)(S.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,E.jsx)(S.xu,{display:"flex",alignItems:"center",padding:1,children:(0,E.jsx)(S.hU,{accessibilityLabel:n._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,E.jsx)(S.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,E.jsx)(S.xv,{align:"center",weight:"bold",children:(0,E.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},$=({children:e,isOpen:t,onDismiss:n,childPaddingX:i=3,shouldRenderCloseIcon:o,shouldRenderFullHeight:s,heading:r})=>{const a=(0,v.ZP)(),l={mobileAccessibilityCloseIconLabel:a._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:r,mobileHideCloseIcon:!o,isOpen:t,onDismiss:n,type:"share_menu"};return s?(0,E.jsxs)(F.Z,{isOpen:t,accessibilityModalLabel:r,children:[(0,E.jsx)(G,{heading:r,onDismiss:n}),e]}):(0,E.jsx)(M.ZP,{...l,children:(0,E.jsx)(S.xu,{marginTop:o?0:4,paddingX:i,children:e})})},W=({isOpen:e,onDismiss:t,objectType:n,objectId:s,hideContactsSuggestions:r,clientTrackingParams:a,element:l,viewType:d,viewParameter:u})=>{const h=(0,v.ZP)(),[p,g]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),y=p||!r,x=(0,A.useLocation)(),w=(0,H.HG)(),{isAuth:P}=(0,_.Z)(),{checkExperiment:I}=(0,m.F)(),C=(0,N.Z)(),k=(0,T.Z)(),j=(0,Z.Z)(),R=e=>{I("mweb_share_menu_logging").anyEnabled&&k({clientTrackingParams:a,component:V,event_type:f||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:n}});const i=(e=>(0,U.cD)(e)?"profile_page":(0,U.am)(e)?"board_page":(0,U.uM)(e)?"pin_page":"unknown")(x),o=!w&&!P&&I("unauth_mweb_after_invite_signup_modal").anyEnabled;j({action:"click",item:"close-share-menu"}),t(),o&&f&&C({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap_unauth_${i}_share_menu_click_invite`}),b(!1),(0,B.My)(`mweb_${i}_share_menu.click_invite.close`)},O=I("mweb_share_menu_logging").anyEnabled;(0,i.useEffect)((()=>{e&&k({event_type:7120,component:V,object_id_str:s,clientTrackingParams:O?a:null,element:O?l:null,view_type:O?d:70,view_parameter:O?u:256,aux_data:O?{invite_object:n}:void 0})}),[e,I,O]);const L=(0,H.Wb)(),z=h._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),F=h._('Share', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),M=p?z:(0,E.jsx)(S.xu,{marginTop:0,children:(0,E.jsx)(S.xv,{align:"center",weight:"bold",size:"300",children:y?z:F})});return(0,E.jsx)($,{isOpen:e,onDismiss:p?()=>{g(!1),c.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>R(),shouldRenderFullHeight:p,shouldRenderCloseIcon:!0,childPaddingX:0,heading:M,children:(0,E.jsxs)(S.xu,{marginBottom:8,marginTop:p||!y?0:-4,maxWidth:L?440:"100%",children:[y&&(0,E.jsx)(D,{sendObject:{objectId:s,objectType:n},expandContactsList:()=>{g(!0),c.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:p,onDismiss:R,setShareSent:e=>b(e)}),!p&&(0,E.jsxs)(i.Fragment,{children:[y&&(0,E.jsxs)(S.xu,{marginTop:4,paddingX:4,children:[(0,E.jsx)(S.iz,{}),(0,E.jsx)(S.xu,{marginTop:8,children:(0,E.jsx)(S.xv,{align:"center",size:"300",weight:"bold",children:F})})]}),(0,E.jsx)(o.Z,{objectId:s,objectType:n,viewType:O?d:70,viewParameter:u,onDismiss:R,setShareSent:e=>b(e),clientTrackingParams:a,component:V})]})]})})}},25719:(e,t,n)=>{n.d(t,{$:()=>a,l:()=>l});var i=n(667294),o=n(425288),s=n(785893);const{Provider:r,useHook:a}=(0,o.Z)("ShareSuggestions");function l({children:e}){const[t,n]=(0,i.useState)(void 0),o=(0,i.useCallback)((()=>{n(void 0)}),[]),a=(0,i.useCallback)((e=>{n(e)}),[]),l=(0,i.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:o,updateCachedShareSuggestions:a})),[t,o,a]);return(0,s.jsx)(r,{value:l,children:e})}},391968:(e,t,n)=>{n.d(t,{B:()=>s,Cq:()=>o,F6:()=>u,RV:()=>i,VZ:()=>r,W_:()=>l,bm:()=>a,iS:()=>h,rO:()=>d,zn:()=>c});const i="animatedShareIconLastViewed",o="lastUsedSocialShare",s="customizedSocialAppOrder",r=44,a=9e5,l=4e3,c=5e3,d=new Set([12,3,11]),u=new Set([11,12]),h=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},940519:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(883119),s=n(785893);class r extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e&&(this.searchRef=e)},(n="setSearchRef")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:r,placeholder:a,value:l}=this.props;return(0,s.jsx)(o.Um,{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:r,placeholder:a,ref:this.setSearchRef,size:"lg",value:l})}}},39540:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(883119).Ry)(9999)},693099:(e,t,n)=>{n.d(t,{AA:()=>s,E9:()=>m,EU:()=>b,IO:()=>f,Jd:()=>_,KH:()=>d,QR:()=>c,Uw:()=>o,ZR:()=>y,dy:()=>l,eA:()=>h,fo:()=>p,k7:()=>r,rT:()=>g,tz:()=>u,u9:()=>v,zR:()=>a,zu:()=>i});const i="OPEN_UNAUTH",o="openUnauthType",s="_isAfterLogin",r="_lastVisitedPages",a="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",h=20,_="_unauthInviteCode",p="_unauthReferrerString",m="unauthTopicsFollowed",g=["US","CA","NZ","AU"],f=new Set(["GB","IE"]),b=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),y=new Set(["BR","MX","AR","CL","CO","PE"]),v="ad_img"},741740:(e,t,n)=>{n.d(t,{I:()=>i,y:()=>o});const i="uploaded",o="pinbuilder"},81759:(e,t,n)=>{n.d(t,{CC:()=>x,Cb:()=>b,Ff:()=>j,H$:()=>P,Mt:()=>v,OJ:()=>f,Yi:()=>I,Ys:()=>g,Yy:()=>C,Z4:()=>m,ZN:()=>h,dc:()=>A,dp:()=>w,i$:()=>p,kw:()=>y,p9:()=>S,t_:()=>_});var i=n(231486),o=n(6637),s=n(826067),r=n(400660),a=n(226198),l=n(539497),c=n(622096),d=n(957161),u=n(693099);const h=["utm_pai","utm_source","invite_code"],_=()=>(0,d.qn)(u.tz,""),p=()=>{const e=_();let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},m=(e,t)=>{const n=p(),i=n.length,o=i?n[0].path:"";if(i<u.eA&&(!i||e!==o)){const i={path:e,pageType:t,ts:Date.now()};(0,d.Nh)(u.tz,JSON.stringify([i].concat(n)))}},g=e=>{(0,d.Nh)(u.Jd,e)},f=()=>(0,d.qn)(u.fo,""),b=e=>{(0,d.Nh)(u.fo,e)},y=()=>{_()&&(0,d.L_)(u.tz),(0,d.qn)(u.Jd,"")&&(0,d.L_)(u.Jd),f()&&(0,d.L_)(u.fo)},v=(e,t,n,i,o,s,r=u.k7)=>{const a=(0,d.qn)(r)?JSON.parse((0,d.qn)(r)):[];if(!a[0]||a[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:o||"",is_shared:!!s,pin_invite_code:s}];(0,d.Nh)(r,JSON.stringify(l.concat(a)))}},x=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:o})=>{const s=(()=>{const e=(0,c.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!s[0]||s[0].path!==e){const r=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:o||""}];(0,c.Nh)(u.KH,JSON.stringify(r.concat(s)))}};function w(e,t,n,i,o,s){v(e,t,n,i,o,s,u.zR)}const P=(e,t)=>{var n,i;v(e,t.image_signature,t.id,null===(n=t.images)||void 0===n?void 0:n["236x"],null!==(i=t.description)&&void 0!==i?i:"","",u.dy)};function S(e,t,n,i,o){v(e,t,n,i,o,"",u.QR)}function A(){return p().filter((e=>"closeup"===e.pageType)).length}function I(){const e=o.Z.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const o=e.resource_response.data,s=!!i.U2(a.x3);return o?((0,r.Wn)(o.medium_image_url)&&(o.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(s?"true":"false")),t(o)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(s?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function E({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!n&&!i)return{showPLPBanner:!1,pinForBanner:null};let o;try{o=JSON.parse((0,c.qn)(u.KH))}catch(s){o=[]}if(o&&o.length>0){const t=o[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const C=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function k({i18n:e,location:t}){var n;const i=(null===(n=t.state)||void 0===n?void 0:n.next)||C(t);if(i){const t=i.indexOf("?"),n=(0,s.mB)(i.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,s.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function j({i18n:e,location:t}){return k({i18n:e,location:t}).showPLPBanner?k({i18n:e,location:t}):E({i18n:e,location:t}).showPLPBanner?E({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},400660:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>r,V0:()=>i,Wn:()=>s,xT:()=>o});const o=e=>!!e&&2===e.login_state,s=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},983360:(e,t,n)=>{n.d(t,{$o:()=>r,$t:()=>I,AC:()=>pe,AO:()=>X,Ae:()=>w,BM:()=>_,C2:()=>T,CB:()=>oe,DC:()=>y,Df:()=>g,Fl:()=>h,GG:()=>K,HQ:()=>N,IY:()=>J,JG:()=>H,K0:()=>s,Kp:()=>Q,L6:()=>o,LB:()=>E,Ly:()=>F,MA:()=>D,MU:()=>i,NE:()=>re,OO:()=>$,Pz:()=>G,Qj:()=>Y,R8:()=>R,Th:()=>V,U1:()=>L,UD:()=>ue,Uf:()=>j,Wn:()=>le,XA:()=>ee,YZ:()=>c,Yn:()=>m,ZX:()=>A,a9:()=>b,aj:()=>M,b6:()=>d,c7:()=>f,cZ:()=>O,cs:()=>C,dF:()=>S,dO:()=>ne,eI:()=>z,fz:()=>l,hC:()=>_e,hl:()=>v,il:()=>he,j_:()=>ce,l_:()=>a,le:()=>B,lj:()=>de,m2:()=>ae,mU:()=>ie,nk:()=>p,o3:()=>q,pV:()=>U,pd:()=>se,q:()=>W,tg:()=>k,u2:()=>u,vH:()=>Z,vW:()=>te,xV:()=>x,xl:()=>P});const i="APPEND_FEED_ITEMS",o="DISMISS_UNAUTH_APP_UPSELL",s="TOPIC_FOLLOW",r="PIN_ADD",a="PIN_DELETE",l="PIN_EDIT",c="PIN_UNDO_SAVE",d="PIN_IMPRESSIONS",u="PINS_MOVE",h="PINS_MOVE_ALL",_="SET_SESSION_DATA",p="BOARD_SECTION_EDIT",m="BOARD_SECTION_DELETE",g="AUTHENTICATE_USER",f="REGISTER_USER",b="SET_LOGIN_SIGNUP_FROM",y="UPDATE_CURRENT_SEARCH",v="UPDATE_RECENT_SEARCHES",x="CLEAR_RECENT_SEARCH",w="CLEAR_RECENT_PERSONAL_SEARCH",P="CLEAR_RECENT_SEARCHES",S="CLEAR_RECENT_PERSONAL_SEARCHES",A="COMPLETE_STORY",I="SET_NUM_SIGNUP_STEPS",E="SET_OWN_PROFILE_PINS_REFRESH",C="SHOW_REPIN_ANIMATION",k="HIDE_REPIN_ANIMATION",j="MESSAGE_SEND_PENDING",T="MESSAGE_SEND_PENDING_SUCCESS",R="MESSAGE_SEND_PENDING_FAILURE",O="ONE_TAP_SAVE",L="ONE_TAP_UNSAVE",z="CLEAR_MESSAGES_BADGE",D="CLEAR_MESSAGE_BADGE",F="RELOAD_VISUAL_SEARCH_ANNOTATIONS",M="SHOW_NUX_HOMEFEED_LOADER",N="SHOW_BIZ_NUX_HOMEFEED_LOADER",Z="SET_VIEWED_IMAGE",B="SET_VIEWED_SHARED_PINS",U="SHOW_NAV_FOOTER",H="HIDE_NAV_FOOTER",V="SET_MESSENGER_CAMPAIGN_DATA",G="LOGGED_OUT_USER_INFO_FOUND",$="LOGGED_OUT_USER_INFO_NOT_FOUND",W="PIN_BUILDER_LOADED_IMAGES",K="UPDATE_PIN_BUILDER_INPUT",Y="SET_ACTIVE_HOMEFEED_TAB",q="SET_SOCIAL_SEASONAL_BOARD",X="SET_SHARE_ON_BOARD_PAGE",Q="UPDATE_PIN_REACTION_COUNT",J="SET_FLASHLIGHT_CROP_SOURCE",ee="ALLOW_ALL_COOKIES",te="SCROLL_TO_CLOSEUP_PIN",ne="STOP_SCROLL_TO_CLOSEUP_PIN",ie="UPDATE_CONTACT_REQUEST_STATUS",oe="REMOVE_CONTACT_REQUESTS",se="SHOW_TOAST_CONTACT_REQUEST_UNDO",re="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",ae="CONVERSATION_DELETE",le="DISMISS_UNAUTH_SAVE",ce="SET_UNAUTH_SAVE_PIN_ID",de="COMPLETE_UNAUTH_SAVE_ACTION",ue="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",he="SET_LANDING_PAGE_TYPE",_e="REPLACE_STATE",pe="SET_DARK_MODE"},859704:(e,t,n)=>{n.d(t,{F:()=>o,p:()=>s});var i=n(983360);const o=e=>({type:i.q,payload:e}),s=e=>({type:i.GG,payload:e})},479739:(e,t,n)=>{n.d(t,{CQ:()=>l,Cj:()=>p,Il:()=>m,In:()=>A,Is:()=>f,JF:()=>P,NZ:()=>h,PN:()=>b,R_:()=>d,T_:()=>x,Ud:()=>_,gI:()=>u,i3:()=>y,ik:()=>I,kT:()=>v,oF:()=>c,ts:()=>a,ut:()=>S});var i=n(442279);const o=e=>e.boards,s=e=>e.invites,r=e=>e.users,a=e=>e.users[e.session.userId]||null,l=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e),c=(0,i.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((t,n)=>({...t,[n]:e[n]})),{}))),d=(0,i.P1)(s,(e=>Object.keys(e).reduce(((t,n)=>{const i=n.split(":")[0],o=t[i]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[n]&&"not_invited"!==e[n].status&&("pending_approval"===e[n].status?o.pendingOwnerAction.push(n):o.notPendingOwnerAction.push(n),t[i]=o),t}),{}))),u=(0,i.P1)(s,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[n]=i,t}),{}))),h=(0,i.P1)(a,s,((e,t)=>Object.keys(t).reduce(((n,i)=>{const o=i.split(":"),s=o[0],r=o[1],a=e.id===r,l=t[i]&&["new","contact_request_not_approved"].includes(t[i].status);return a&&l&&(n[s]=i),n}),{}))),_=(0,i.P1)(r,s,((e,t)=>Object.keys(t).reduce(((n,i)=>{const o=t[i]||{};return n[i]=e[o.invited_by_user],n}),{}))),p=(0,i.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.slug]=i,t[n]=i,t}),{}))),m=(0,i.P1)(r,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.username]=i,t}),{}))),g=(0,i.P1)(a,o,((e,t)=>Object.keys(t).reduce(((n,i)=>{var o;const s=t[i];return!s.archived_by_me_at&&((null===(o=s.owner)||void 0===o?void 0:o.id)===e.id||s.collaborating_users&&s.collaborating_users.map((({id:e})=>e)).includes(e.id))&&s.cover_images?n.concat([s]):n}),[]))),f=(0,i.P1)(g,(e=>e.sort(((e,t)=>e.name.localeCompare(t.name))))),b=(0,i.P1)(((e,t)=>e.users[t.user_id]||null),o,((e,t)=>Object.keys(t).reduce(((n,i)=>{var o;const s=t[i];return!s.archived_by_me_at&&e&&((null===(o=s.owner)||void 0===o?void 0:o.id)===e.id||s.collaborating_users&&s.collaborating_users.map((({id:e})=>e)).includes(e.id))&&n.push(s),n}),[]))),y=(0,i.P1)(o,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.url]=i,i.oldSlugUrl&&(t[i.oldSlugUrl]=i),t}),{}))),v=(0,i.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((t,n)=>{var i;const o=e[n];return t[`${null===(i=o.board)||void 0===i?void 0:i.id}_${o.slug}`]=o,t}),{}))),x=l((({boardId:e})=>`board-sections:${e}`)),w=l((({pinId:e})=>`call-to-create-pins:${e}`)),P=(0,i.P1)((e=>e.pins),w,((e=[],t=[])=>t.map((t=>e[t.id])))),S=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),A=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,I=({pins:e},{pinId:t})=>{const n=e[t];return{callToCreateResponseCount:n.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:n.call_to_create_responses_preview_image_urls,callToCreateSourcePin:n.call_to_create_source_pin,callToCreateSourcePinId:n.call_to_create_source_pin_id,isCallToCreate:n.is_call_to_create}}},184609:(e,t,n)=>{n.r(t),n.d(t,{ProfilePage:()=>ie,default:()=>se,getUserResourceOptions:()=>oe});var i=n(667294),o=n(702664),s=n(116303),r=n(901410),a=n(807496),l=n(418651),c=n(7111),d=n(240684),u=n(507712),h=n(542554),_=n(426287),p=n(118668),m=n(550405),g=n(335972),f=n(203345),b=n(430323),y=n(499128),v=n(949372),x=n(112690),w=n(784590),P=n(19121),S=n(674806),A=n(98265),I=n(81759),E=n(935409),C=n(332611),k=n(313047),j=n(957161),T=n(723776),R=n(349700),O=n(693099),L=n(826067),z=n(539497),D=n(378518),F=n(281180),M=n(50286),N=n(597897),Z=n(458882),B=n(780280),U=n(539278),H=n(898781),V=n(728214),G=n(52022),$=n(273576),W=n(500594),K=n(479739),Y=n(276775),q=n(482546),X=n(883119),Q=n(343341),J=n(785893);function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const te=(0,d.ZP)({resolved:{},chunkName:()=>"components-SEODebugModule",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72657).then(n.bind(n,737381)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 737381}}),ne=[$.Bj,$.cn,$.c0];class ie extends i.Component{constructor(...e){super(...e),ee(this,"state",{isInviteActionTaken:!1,isSpinnerShown:!1,sendProfileModalIsOpen:!1}),ee(this,"openSendProfileModal",(()=>{const{isAuthenticated:e,showUnauthSharingModals:t,user:n,viewerId:i,logContextEvent:o,trackInteraction:s}=this.props;e||t();const r=(n||{}).id,a=r===i;s({action:"click",item:"main-share-button"}),o({event_type:101,component:13675,element:1079,object_id_str:r,view_type:4,view_parameter:a?3106:3107}),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({sendProfileModalIsOpen:!0}),modalHeader:(0,W._6)(this.props.i18n)})()})),ee(this,"closeSendPinModal",(()=>{const{isAuthenticated:e,hideUnauthSharingModals:t}=this.props;e||t(),this.setState({sendProfileModalIsOpen:!1})})),ee(this,"handleLastPageVisited",(()=>{const e=(0,j.qn)(O.QR)?JSON.parse((0,j.qn)(O.QR)):[];if(!(e.length>0&&e[0].path===this.props.location.pathname)){const{location:e,userBoardExample:t}=this.props,n=!!e.state&&e.state.isFromNavFooterPage,i=t?t.cover_pin:{},o=t?t.cover_images:null,s=i?i.image_signature:null,r=i?i.pin_id:"",a=o?o["222x"]:null;n||(0,I.p9)(e.pathname,s,r,a,"profile")}})),ee(this,"shouldShowUserHeader",(()=>{var e,t;const{location:{pathname:n},user:i}=this.props;let o=!1;return ne.forEach((e=>{n.indexOf(e)>-1&&(o=!0)})),(n.endsWith(`/${null!==(e=null==i?void 0:i.username)&&void 0!==e?e:""}`)||n.endsWith(`/${null!==(t=null==i?void 0:i.username)&&void 0!==t?t:""}/`))&&(o=!0),o})),ee(this,"handleInviteResponse",(e=>{const{invite:t,location:n,onAccept:i,onDismiss:o,showToast:s,user:r}=this.props;if(!t||!t.board)return;const{invited_by_user:a,board:{id:l=null,url:c=""}}=t,{first_name:d=""}=a||{};this.props.requireAuthForLimitedLogin({fn:()=>{const t=(r||{}).id;l?e?(i(l,t),s((({hideToast:e})=>(0,J.jsx)(y.ZP,{href:c,text:this.props.i18n._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfilePage.handleInviteResponse.acceptInviteToast', 'Toast text after accepting board collaborator invite.'),onHide:e})))):(o(l,t),s((({hideToast:e})=>(0,J.jsx)(y.ZP,{text:this.props.i18n._('Invitation declined', 'Toast text after declining board collaborator invite', 'Toast text after declining board collaborator invite'),onHide:e})))):s((({hideToast:e})=>(0,J.jsx)(y.ZP,{text:this.props.i18n._('Invalid Invite', 'Toast text for an invalid board collab invite', 'Toast text for an invalid board collab invite'),onHide:e})))},modalHeader:(0,W.gv)({firstName:d,i18n:this.props.i18n}),nextLocation:(0,W.F4)(n)})(),this.setState({isInviteActionTaken:!0})})),ee(this,"renderInvite",(()=>{const{invite:e}=this.props;return e?(0,J.jsx)(X.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 -14px"}},children:(0,J.jsx)(r.Z,{handleInviteResponse:this.handleInviteResponse,invite:e})}):null})),ee(this,"experienceRef",(0,i.createRef)())}componentDidMount(){(0,u.Z)();const{fetchExperienceWithExtraContext:e,isAuthenticated:t,user:n,viewerId:i}=this.props;t||(0,z.NC)("view_profile_page");e({profile_ownership:(n||{}).id===i?"own":"other"})}render(){const{blockUser:e,children:t,headerTab:n,i18n:i,invite:o,isAuthenticated:s,isDesktop:r,location:d,match:{params:{username:u}},trackInteraction:g,unblockUser:y,user:v,userBoardExample:x,viewerId:w,isBot:P}=this.props,{isInviteActionTaken:A,isSpinnerShown:I,sendProfileModalIsOpen:E}=this.state;if(!v)return(0,J.jsx)(X.xu,{margin:5,children:(0,J.jsx)(X.$j,{show:!0,accessibilityLabel:this.props.i18n._('Loading user profile', 'Loading state for the user profile page', 'Loading state for the user profile page')})});x&&!s&&this.handleLastPageVisited();const{id:C,is_verified_merchant:j,eligible_profile_tabs:T=[]}=v||{},R=C===w,O=`/${u||""}${$.cn}`,L={0:{component:13669,href:`/${u||""}${$.c0}`,id:$.c0,text:this.props.i18n._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},3:{component:13671,href:O,id:$.cn,text:this.props.i18n._('Tried', 'mobile.routes.profilePage.', 'Link to the tried tab on the profile page')},1:{component:13668,href:`/${u||""}${$.Bj}`,id:$.Bj,ref:this.experienceRef,text:this.props.i18n._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header')}},D=T.filter((({tab_type:e})=>!!L[e])).filter((({tab_type:e})=>!((3===e||1===e)&&P))).map((({tab_type:e})=>L[e])),F=D.findIndex((e=>e.id===n)),M=R?3106:3107,N=!A&&!!o&&R,Z=this.shouldShowUserHeader(),B=Z&&D.length>1;return(0,J.jsx)(S.Z,{objectIdStr:C,viewParameter:M,viewType:4,children:(0,J.jsx)(b.Z,{objectId:C,view:4,viewParameter:M,children:(0,J.jsxs)(h.default,{dataLayoutShiftBoundaryId:"ProfilePageContainer",hasFixedHeader:s,children:[s&&(0,J.jsx)(a.Z,{shouldShowShadow:!0,position:"sticky",children:(0,J.jsx)(k.FixedHeader,{children:(0,J.jsx)(p.Z,{location:d,user:v,viewerId:w})})}),!r&&(0,J.jsx)(f.default,{hideContactsSuggestions:!s,isOpen:E,objectId:C,objectType:3,onDismiss:this.closeSendPinModal,element:12631,viewType:4,viewParameter:M}),(Z||B||N)&&(0,J.jsxs)(X.xu,{direction:"column",display:"flex",paddingX:4,paddingY:0,marginBottom:3,children:[Z&&(0,J.jsx)(X.xu,{marginBottom:5,children:(0,J.jsx)(_.Z,{blockUser:e,unblockUser:y,handleShareClick:this.openSendProfileModal,isVerifiedMerchant:j,user:v,renderShareMenu:r&&E?e=>(0,J.jsx)(l.Z,{anchor:e,title:i._('Send this profile', 'ProfileHeader.ShareMenu.Title', 'title for share menu popover'),onDismiss:this.closeSendPinModal,objectId:C,objectType:3}):null})}),B&&(0,J.jsx)(X.xu,{"data-test-id":"tabs-container",display:"flex",justifyContent:"center",marginTop:2,children:(0,J.jsx)(X.xu,{marginTop:1,marginBottom:1,overflow:"hidden",children:(0,J.jsx)(X.mQ,{tabs:D,onChange:({activeTabIndex:e})=>{const{isAuthenticated:t,user:n,viewerId:i,logContextEvent:o}=this.props,s=D[e],r=(n||{}).id===i;o({event_type:101,component:s.component,view_type:4,view_parameter:r?3106:3107}),t||((0,z.NC)("press_change_tab"),g({action:"click",item:"page-tabs"}))},activeTabIndex:F>-1?F:0})})}),N&&this.renderInvite()]}),(0,J.jsx)(X.xu,{children:t}),I?(0,J.jsx)(c.Z,{}):null,!s&&(0,J.jsx)(m.Z,{user:v})]})})})}}const oe=({username:e,isAuthenticated:t=!1,getPageMetadata:n,inviteCode:i})=>({field_set_key:t?"profile":"unauth_profile",username:e,is_mobile_fork:!0,get_page_metadata:n,invite_code:i});function se(e){var t,n;const r=(0,o.useDispatch)(),a=(0,Y.useLocation)(),l=(0,Y.useHistory)(),c=(0,Y.useRouteMatch)(),{locale:d}=(0,B.B)(),u=(0,P.Z)(),{isAuth:h}=u,_=u.isAuth?u.id:"",p=u.isAuth?u.username:"",m=null!==(t=c.params.username)&&void 0!==t?t:"",f=(0,H.ZP)(),b=(0,M.HG)(),S=(0,N.U)(),{isBot:I}=(0,B.B)(),k=(0,v.Z)(),{showToast:j}=(0,Q.F9)(),O=(0,x.Z)(),z=(0,G.Z)(),{hideUnauthSharingModals:$,showUnauthSharingModals:W}=null!==(n=(0,Z.l)())&&void 0!==n?n:Object.freeze({}),X=(0,F.mN)(),ee=(0,o.useSelector)((e=>{const t=(0,K.NZ)(e),n=Object.values(t||{})[0],i=n?(0,K.gI)(e)[n]:null,o=i?e.boards[i.board]:null,s=null!=i&&i.invited_by_user?X(i.invited_by_user):null;return i?{board:o?{id:o.id,image_cover_url:o.image_cover_url,name:o.name,url:o.url}:null,created_at:i.created_at,invited_by_user:s?{id:s.id,first_name:s.first_name,full_name:s.full_name,username:s.username,image_small_url:s.image_small_url}:null,status:i.status,type:t.type}:null}));(0,w.Z)(h?{name:"BoardInvitesResource",options:{current_user:!0}}:null);const{data:ne}=(0,w.Z)({name:"UserResource",noCache:h&&p!==m,options:oe({username:m,isAuthenticated:h})}),se=(0,o.useSelector)((e=>(0,K.Il)(e)[m])),re=null!=ne?ne:se,ae=(0,o.useSelector)((e=>re?(0,K.PN)(e,{user_id:re.id}):[])),le=(null==re?void 0:re.id)===_,[ce,de]=(0,i.useState)(!0),ue=(0,o.useSelector)((e=>e.session.seoDebug)),he=(0,V.Z)();(0,i.useEffect)((()=>{S&&setTimeout((()=>{var e,t,n,i,o;(null===(e=S.preload)||void 0===e||e.call(S,new URL("[username]/[slug].js","file://")),null===(t=S.preload)||void 0===t||t.call(S,new URL("[username]/_saved.js","file://")),null===(n=S.preload)||void 0===n||n.call(S,new URL("[username]/pins.js","file://")),null===(i=S.preload)||void 0===i||i.call(S,new URL("[username]/tried.js","file://")),le)&&(null===(o=S.preload)||void 0===o||o.call(S,new URL("settings.js","file://")))}),500)}),[]),(0,i.useEffect)((()=>{const e=(0,L.mB)(a.search).message===U.aU;var t;le&&e&&(j((({hideToast:e})=>(0,J.jsx)(y.ZP,{duration:U.Jl,text:(0,U.ZP)(f,a,null==re?void 0:re.username),iconThumbnail:(0,J.jsx)(s.Z,{name:(null==re?void 0:re.full_name)||"",src:(null==re?void 0:re.image_medium_url)||"",size:"md"}),onHide:e}))),l.replace(`/${null!==(t=null==re?void 0:re.username)&&void 0!==t?t:""}/`))}),[re]);const _e=(0,D._)({id:1000312});if(null!=re&&re.username&&re.username!==m){const e=a.pathname.replace(m,re.username);return(0,J.jsx)(Y.Redirect,{to:e})}return(0,J.jsx)(g.Z,{surface:le?"own_profile":"other_profile",children:(0,J.jsxs)(T.H,{children:[re&&ue&&ce&&(0,J.jsx)(te,{entityId:re.id,entityType:"user",setShowSeoDebugModule:de}),(0,J.jsx)(ie,{...e,blockUser:(e,t)=>r((0,q.Ge)(e)).then((()=>{j((({hideToast:e})=>(0,J.jsx)(y.ZP,{text:(0,R.nk)(f._('You\'ve blocked {{ name }}', 'profilePage.mapDispatch.blockUserToast', 'Toast confirming that you\'ve blocked a user'),{name:t}).join(" "),onHide:e})))})),canUpsellNativeApp:k,experience:_e,fetchExperienceWithExtraContext:e=>r((0,C.pz)([1000312],I,e)),i18n:f,isDesktop:b,requireAuthForLimitedLogin:he,isBot:I,showToast:j,hideUnauthSharingModals:()=>null==$?void 0:$(),showUnauthSharingModals:()=>{null==W||W()},unblockUser:e=>r((0,q.h2)(e)),userBoardExample:ae.length>0?ae[0]:null,isAuthenticated:h,locale:d,user:re,viewerId:_,history:l,location:a,match:c,logContextEvent:O,trackInteraction:z,invite:ee,onAccept:(e,t)=>{const n=X(t);n&&r((0,A.SD)(e,n))},onDismiss:(e,t)=>r((0,E.xR)(e,t))})]})})}},27255:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},918301:(e,t,n)=>{n.d(t,{CB:()=>_,y9:()=>h});var i=n(667294),o=n(121151),s=n(6637),r=n(898781),a=n(883119),l=n(785893);const c=({onConfirm:e})=>{const t=(0,r.ZP)(),[n,c]=(0,i.useState)(!1),d=()=>{c(!0),s.Z.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return(0,l.jsx)(o.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,l.jsxs)(a.kC,{justifyContent:"end",gap:{row:2,column:0},children:[n?(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent'),disabled:n,onClick:d}):(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email'),disabled:n,onClick:d}),(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required'),onClick:e})]}),role:"alertdialog",children:(0,l.jsx)(a.xu,{padding:8,children:(0,l.jsx)(a.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};var d=n(425288);const{Provider:u,useHook:h}=(0,d.Z)("EmailVerificationReminderModal");function _({children:e}){const[t,n]=(0,i.useState)(!1),o=(0,i.useMemo)((()=>({showEmailVerificationReminderModal:()=>{n(!0)}})),[]);return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(u,{value:o,children:e}),t&&(0,l.jsx)(c,{onConfirm:()=>{n(!1)}})]})}},558068:(e,t,n)=>{n.d(t,{Hv:()=>l,aX:()=>u,nK:()=>h});var i=n(667294),o=n(425288),s=n(276775),r=n(785893);const{Provider:a,useHook:l}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=l();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function h({children:e}){const t=(0,s.useHistory)(),n=(0,s.useLocation)(),o=(0,s.useRouteMatch)(),l={forward:[],current:{action:t.action,location:n,match:o},previous:[]},[c,u]=(0,i.useReducer)(d,l);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:o})}),[n]),(0,r.jsx)(a,{value:c,children:e})}},244617:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(567831),o=n(794230),s=n(107193),r=n(402201),a=n(704115),l=n(6637);const c={open(e){var t;const n=(d=e,c._validParams.reduce(((e,t)=>(d&&Object.prototype.hasOwnProperty.call(d,t)&&(e[t]=d[t]),e)),{}));var d;const u=c._getDialogType(e),h=c.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),_=e.object_type&&e.object_id&&"feed"===u;let p=(0,i.Z)(e.path);const m=(0,a.Z)();if(m.ptrf&&(p=(0,o.Z)(p,{ptrf:m.ptrf})),_&&(p=(0,o.Z)(p,{fb_ref:h})),n.method=u,"feed"===n.method){const t=(0,r.Z)({width:e.width,height:e.height});let i="http://www.facebook.com/sharer/sharer.php?u="+p;n.picture&&(i+="&picture="+n.picture),n.name&&(i+="&title="+n.name),n.description&&(i+="&description="+n.description),n.caption&&(i+="&caption="+n.caption),window.open(encodeURI(i),"sharer",t)}else"send"===n.method?n.link=p:"share"===n.method&&(n.href=p),(0,s.default)((t=>{t.getLoginStatus((()=>{if("send"===n.method){t.ui(n);let i,o=10;const s=setInterval((()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&o||(clearInterval(s),i&&c.executeMessengerCallback(i,e.callback)),o-=1}),1e3)}else"share"===n.method&&t.ui(n,(t=>{_&&t&&!t.error_message&&l.Z.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:h}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval((()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:e=>c._validOptions.includes(e.type)?e.type:"feed"},d=c;function u(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)}const h={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){u(h._getWindowUrl(e.share_path,e.share_text),h.DIALOG_WIDTH,h.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,o.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,i.Z)(e):void 0,text:t})},_=h,p={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){u(p._getWindowUrl(e.tweet_path,e.tweet_text),p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,o.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,i.Z)(e):void 0,text:t||void 0})},m=p;var g,f,b=n(167912);const y=void 0!==g?g:g=n(166379),v=void 0!==f?f:f=n(380465),x={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t,n){const i=this._convertToInviteObject(e.object_type),o=e.invite_channel,s=null==e.invite_category?3:e.invite_category,r=e.object_id;return l.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:s,invite_object:i,invite_channel:o},invite_code:t,object_id:r,client_tracking_params:e.client_tracking_params}).callCreate()},createShareInviteData(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,o=null==e.invite_category?3:e.invite_category,s=e.orbac_subject_id;if(10===o&&e.path){if(t)return(async(e,t,n)=>{var i;const o=await(0,b.fetchQuery)(e,v,{invite_category:n.toString(),url:t}).toPromise();return(e=>{var t,n,i;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:""}})(null==o||null===(i=o.v3CreateShareLinkQuery)||void 0===i?void 0:i.data)})(t,e.path,o);return l.Z.create("ShareLinkResource",{invite_category:o,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}if(t)return(async(e,t,n,i,o)=>{var s;const r={invite_category:t,invite_object:n,invite_channel:i},a=await(0,b.fetchQuery)(e,y,{inviteType:JSON.stringify(r),objectId:o}).toPromise();return(e=>{var t,n,i;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:""}})(null==a||null===(s=a.v3InviteUserExternalQuery)||void 0===s?void 0:s.data)})(t,o,n,i.toString(),e.object_id);{const t=e.object_id;return l.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:i},object_id:t,...s?{orbac_subject_id:s}:{}}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t,n){t&&x._logShareInvite(e,t.invite_code,n)},shareFacebookInvite(e,t){const{options:n,unauthId:i,viewer:o}=e;return x.createShareInviteData(n,t).then((e=>{const s=e.invite_url,r=e.invite_code;if(s){const a={type:"share",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:s,picture:n.picture,callback(e){e&&!e.error_message&&x._logShareInvite(n,r,t)}};d.open({...a,display:"popup",unauthId:i,viewer:o})}return Promise.resolve(e)}),(e=>Promise.reject(e)))},shareTwitterInvite(e,t){const n=this._convertToInviteObject(e.object_type);return x.createShareInviteData(e,t).then((i=>{const o=i.invite_url,s=i.invite_code;let r=e.description;return 6===n&&e.name&&(r=e.name),r.trim()||(r=`${i.title}\n`),o&&m.openDialog({tweet_path:o,tweet_text:r}),x._logShareInvite(e,s,t),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareLineInvite(e,t){const n=this._convertToInviteObject(e.object_type);return x.createShareInviteData(e,t).then((i=>{const o=i.invite_url,s=i.invite_code;let r=e.description;return 6===n&&e.name&&(r=e.name),r.trim()||(r=`${i.title}\n`),o&&_.openDialog({share_path:o,share_text:r}),x._logShareInvite(e,s,t),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareFbMessengerInvite(e,t){const{options:n,unauthId:i,viewer:o}=e;return x.createShareInviteData(n,t).then((e=>{const s=e.invite_url,r=e.invite_code;return s&&d.open({type:"send",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:s,picture:n.picture,callback(e){e&&e.success&&x._logShareInvite(n,r,t)},display:"popup",unauthId:i,viewer:o}),Promise.resolve(e)}),(e=>Promise.reject(e)))}},w=x},941646:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);function s(e){const{children:t,display:n,id:s}=e;return(0,o.jsx)(i.xu,{"data-test-id":s,display:n,children:t})}},512176:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(898781),s=n(112690),r=n(967181),a=n(883119),l=n(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:d,inspirationalBadges:u,inspirationalBadgesColor:h}){const _=(0,o.ZP)(),[p,m]=(0,i.useState)(!1),{dangerousInlineStyle:g,iconColor:f}=(0,r.W)(!!e),b=(0,s.Z)();return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(a.iP,{onTap:()=>{b({component:13534,element:11717,event_type:102}),m(!0)},rounding:"circle",children:(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,l.jsx)(a.JO,{accessibilityLabel:e?_._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):_._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:f,inline:!0,size:c[t]}),n&&!d&&(0,l.jsx)(a.xu,{marginStart:2,children:(0,l.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:g,children:_._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!d)&&(0,l.jsx)(r.Z,{showModal:p,setShowModal:m,inspirationalBadges:u,inspirationalBadgesColor:h})]})}},967181:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>h});var i=n(667294),o=n(121151),s=n(898781),r=n(112690),a=n(966113),l=n(752403),c=n(883119),d=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function h({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:h}){const _=(0,s.ZP)(),[p,m]=(0,i.useState)(!0),{dangerousInlineStyle:g,iconColor:f}=u(!0),b=(0,r.Z)();return(0,i.useEffect)((()=>{n&&p&&(m(!1),b({event_type:13,component:13534}))}),[n]),(0,d.jsx)(o.ZP,{"data-test-id":"modal",isOpen:n,mobileAccessibilityCloseIconLabel:_._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{b({component:13534,element:11716,event_type:102}),h(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsxs)(c.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,d.jsx)(c.JO,{accessibilityLabel:_._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:f,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:g,children:_._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,d.jsx)(c.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:_._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,d.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(c.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(c.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:_._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:a.vBy,text:_._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},619937:(e,t,n)=>{n.d(t,{$N:()=>h,GY:()=>l,MZ:()=>r,NR:()=>d,Vn:()=>c,fm:()=>i,kM:()=>s,q6:()=>o,qp:()=>a,uV:()=>u});const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},s={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},a={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},l={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},d={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},u=604800,h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},366284:(e,t,n)=>{n.d(t,{G6:()=>s,i7:()=>r,oi:()=>i,u$:()=>o,un:()=>l,vU:()=>a});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}};function s(e){return o(e)===i.SAFARI}function r(e){return o(e)===i.CHROME}function a(e){return o(e)===i.FIREFOX}function l(e){return o(e)===i.EDGE}},56641:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(567831),o=n(539497);function s(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,o.My)("setting_new_window_location")}),0),window.location.href=t,window}}},792182:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(23279),s=n.n(o);function r(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=s()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),e}},752403:(e,t,n)=>{n.d(t,{Bu:()=>p,Dm:()=>a,I:()=>f,NG:()=>h,QP:()=>d,S4:()=>c,Xe:()=>u,_f:()=>_,eT:()=>m,hm:()=>g,yQ:()=>l,ym:()=>y});var i=n(642345);const o=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),s=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),a=[...Object.keys(o).map((e=>o[e])),...Object.keys(s).map((e=>s[e]))],l=[...Object.keys(r).map((e=>r[e]))],c=3,d=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:d[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},h="https://help.pinterest.com/article/merchant-details",_="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function p({verifiedMerchant:e}){var t,n;const i=null==e?void 0:e.isVerifiedMerchant,o=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,s=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(i&&o&&s)}function m(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function g(e){return(null==e?void 0:e.profile_badges)||[]}function f(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function b(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,o,s]=t;return(0,i.DW)(n,o,s)<=i.I?"white":"black"}function y(e){const t=e||d[0];return{backgroundColor:t,color:b(t)}}},834911:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(835209),o=n(341732);function s({carouselData:e,images:t,richMetadata:n,richSummary:s,shouldUnifyImageSizes:r,additionalImages:a}){const l=(0,i.Z)({richPinData:n||s});return l&&a&&a.length>0?(0,o.Z)(null,a,e&&e.index,r,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,o.Z)(t,l.additional_images,e&&e.index,r,l.id):e||void 0}},341732:(e,t,n)=>{n.d(t,{Z:()=>s});const i=["236x","474x","564x","736x"];function o(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function s(e,t,n,i,s){const r=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],a=e?[{images:e},...r]:r;return{carousel_slots:i?o(a):a,index:n||0,id:s}}},768559:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(826067);const o=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,s=/\/discover\/article\/[\w-]+\/(\d+)/,r=(e,t)=>t?e.substring(t.length).split("/")[0]:e,a=({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:a,pinnerUserName:l,query:c,search:d,storyPinDataId:u})=>{var h,_;if(!n)return"";let p="";switch(n){case"/":case"/homefeed/":return"UserHomefeedResource";case l&&`/${l}/pins/`:return"UserPinsResource";case l&&`/${l}/`:case/\/_activity\//.test(n)&&n:return"UserActivityPinsResource";case/\/_created\//.test(n)&&n:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(n)&&n:return"UserDiscoveredPinsResource";case/\/_shop\//.test(n)&&n:return"StoreFrontFeedResource";case/\/_saved\//.test(n)&&n:return"BoardlessPinsResource";case l&&`/${l}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(n)&&n:return"VisualLiveSearchResource";case/\/pin\//.test(n)&&n:p="/pin/";const m=r(n,p);if(a!==m)return t?`ApiResource_callToCreatePins_${m}`:`RelatedPinFeedResource_${m}`;break;case/\/search\//.test(n)&&n:if(d){return`SearchResource_${((0,i.mB)(d,{shouldDecode:!1}).q||"").toLowerCase()}`}if(c)return`SearchResource_${encodeURIComponent(c.q||"").toLowerCase()}`;break;case s.test(n)&&n:return`ExploreArticleResource_${(null===(h=n.match(s))||void 0===h?void 0:h[2])||"unknown"}`;case/\/discover\/article\//.test(n)&&n:p="/discover/article/";return`ExploreArticleResource_${r(n,p)}`;case/\/categories\//.test(n)&&n:p="/categories/";return`CategoryFeedResource_${r(n,p)}`;case/\/discover\/topics\//.test(n)&&n:return"CategoryFeedResource";case/\/news_hub\//.test(n)&&n:p="/news_hub/";return`NewsHubDetailsResource_${r(n,p)}`;case/\/_tools\/more-ideas\//.test(n)&&n:return"BoardContentRecommendationResource";case/\/topics\//.test(n)&&n:p="/topics/";return`TopicFeedResource_${r(n,p)}`;case l&&`/${l}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(n)&&n:p="/source/";return`DomainFeedResource_${r(n,p)}`;case/\/explore\//.test(n)&&n:p="/explore/";return`SearchResource_${r(n,p)}`;case e:case!!e&&/\/more_ideas\//.test(n)&&n:return"BoardFeedResource";case e&&n.indexOf(e)>-1&&n:return"BoardSectionPinsResource";case/\/following\//.test(n)&&n:return"FollowingFeedResource";case/\/brand_catalog\//.test(n)&&n:return"BrandCatalogFeedResource";case o.test(n)&&n:return`TodayArticleFeedResource_${(null===(_=n.match(o))||void 0===_?void 0:_[2])||"unknown"}`;case/\/today\//.test(n):return"TodayTabResource";case/\story_feed\//.test(n)&&n:if(d){const{feed_type:e,request_params:t}=(0,i.mB)(d);return`StoryFeedResource_${e}_${t}`}}return""},l=({boardUrl:e,callToCreateSourcePinId:t,location:n,pinId:i,pinnerUserName:o,previousHistory:s,storyPinDataId:r,trackingParams:l,trackingParamsMap:c={}})=>{if(!i||!l||!n)return;if(!c)return`${l}~0`;const{pathname:d,search:u,query:h}=n,_=a({boardUrl:e,callToCreateSourcePinId:t,path:d,pinId:i,pinnerUserName:o,query:h,search:u,storyPinDataId:r,trackingParams:l,trackingParamsMap:c}),p=Object.keys(c);let m;if((d||"").startsWith("/pin/")){const e=p.find((e=>"PinResource"!==e));m=e?c[e]:c.PinResource}else m=c[_];let g;if(!m&&s&&s.length){const n=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(s[s.length-1].location);g=a({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:i,pinnerUserName:o,query:h,search:u,storyPinDataId:r,trackingParams:l,trackingParamsMap:c}),m=c[g]}return m||(m=`${l||""}~0`),m}},827896:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(768559),o=n(802201),s=n(276775);function r(){const e=(0,o.S6)(),t=(0,s.useLocation)();return(n,o)=>{let s;const r=e(n);if(null!=o&&o.shouldTrackForPrevLocation){const e=(null==r?void 0:r.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));r&&(s=t?e[t]:e.PinResource)}else if(r){var a,l;s=(0,i.Z)({boardUrl:null===(a=r.board)||void 0===a?void 0:a.url,callToCreateSourcePinId:r.call_to_create_source_pin_id,location:t,pinId:r.id,pinnerUserName:null===(l=r.pinner)||void 0===l?void 0:l.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return s}}},642345:(e,t,n)=>{n.d(t,{DW:()=>a,I:()=>r,oo:()=>s,vq:()=>o});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},o=(e,t,n)=>"#"+i(e)+i(t)+i(n),s=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=.18,a=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},81636:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var i=n(667294),o=n(682492),s=n.n(o),r=n(112690),a=n(780280),l=n(385740);function c(e,t){const{setViewContextData:n}=(0,l.sV)(),{requestIdentifier:o}=(0,a.B)(),c=(0,r.Z)(),{viewData:d}=(0,l.SU)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?s()(d,e.view_data):s()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:o}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},643010:(e,t,n)=>{n.d(t,{F6:()=>h,Hs:()=>u,Uf:()=>a,Yc:()=>c,vs:()=>d});var i=n(667294),o=n(702664),s=n(539497),r=n(957161);const a="theme",l="dark"===(0,r.qn)(a),c=()=>l;function d(){const{inDarkMode:e}=(0,o.useSelector)((({inDarkMode:e})=>e))||{},t=c(),n=(0,o.useDispatch)();return(0,i.useEffect)((()=>{n({type:"SET_DARK_MODE",payload:{darkMode:t}})}),[n,t]),!!e}const u=()=>{(0,r.Nh)(a,"dark"),(0,s.My)("mweb.dark_mode.enable"),window.location.reload()},h=()=>{(0,r.L_)(a),(0,s.My)("mweb.dark_mode.disable"),window.location.reload()}},782534:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>o.k});var i=n(780280),o=n(451820),s=n(785893);const r=({dateFormatType:e,useUTC:t=!0,value:n})=>(0,s.jsx)(i.LC,{children:i=>(0,o.Z)(i.locale,n,e,t)})},451820:(e,t,n)=>{n.d(t,{Z:()=>o,k:()=>i});const i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"};function o(e,t,n,o=!0){const s=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);o&&(s.timeZone="UTC");return new Intl.DateTimeFormat(e,s).format(t)}},816068:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>Math.floor(new Date(e).getTime()/1e3)},766935:(e,t,n)=>{function i(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>e(...i)),t)}}n.d(t,{Z:()=>i})},966476:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(973935);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),s(this,"observer",null),s(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const a=r},11363:(e,t,n)=>{n.d(t,{Bx:()=>o,N4:()=>r,is:()=>a,lt:()=>i,oM:()=>s});const i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),a=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},946984:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(898781),o=n(11363),s=n(154391);const r=()=>{const{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,s.H)(),r=(0,i.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==n||n.setText((null==t?void 0:t.loginModalHeader)||(0,o.lt)(r))}}},124237:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(607187),o=n.n(i);const s={};s._showErrorCallback=s._showErrorCallback||null,s.setShowHtmlErrorCallback=function(e){s._showErrorCallback=e},s.showError=function(e,t,n){const i=o()(e);return s.showHtmlError(i,t,n)},s.showHtmlError=function(e,t,n){"function"==typeof s._showErrorCallback&&s._showErrorCallback(e,t,n)};const r=s},121093:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(702664),s=n(332611),r=n(242923);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),a(this,"state",{hasCompleted:[],hasDismissed:[]}),a(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:o}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",o(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),a(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:o,preventRemoval:s,targeting:r}=this.props,a=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:l}=i||{},c=s||2===a;(1===a||c)&&e&&l&&(o?n(i,c):r?t(e,l,c,r):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),a(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:o,targeting:s}=this.props,{placement_id:r,experience_id:a}=n||{};n&&!this.state.hasDismissed.includes(a)&&(i?t(n):s?e(r,a,!!o,s):e(r,a,!!o),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),a(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:o}=this.props,{experience_id:s,type:r}=e;if(t&&t.includes(s))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(r))return!0;if(o&&o===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}a(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,o.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,n,i,o)=>e((0,s.CK)(t,n,i,!1,{},o)),completeExperienceObject:(t,n)=>e((0,r.Tl)(t,n)),dismissExperience:(t,n,i,o)=>e((0,s.Qu)(t,n,i,void 0,o)),dismissExperienceObject:t=>e((0,r.CF)(t)),viewExperience:(t,n,i)=>e((0,s.UT)(t,n,!1,!1,void 0,i)),viewExperienceObject:t=>e((0,r.dy)(t))})))(l)},123159:(e,t,n)=>{n.d(t,{F:()=>h,M:()=>u});var i=n(667294),o=n(702664),s=n(14890),r=n(957191),a=n(425288),l=n(332611),c=n(785893);const{Provider:d,useHook:u}=(0,a.Z)("ExperienceContext");function h({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),a=(0,o.useDispatch)(),u=(0,o.useSelector)((e=>e.experiences)),h=(0,i.useMemo)((()=>{const e=(0,s.bindActionCreators)({completeExperience:l.CK,dismissExperience:l.Qu,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:r.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:l.UT},a);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[a,n]),_=(0,i.useMemo)((()=>({experiences:u,mountedPlacements:t,...h})),[u,t,h]);return(0,c.jsx)(d,{value:_,children:e})}},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(667294),o=n(121093),s=n(570470),r=n(883119),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,o=n.slice(-3);return(0,a.jsx)(r.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(r.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,a.jsx)(r.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(r.zd,{rounding:2,height:60,children:(0,a.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:h=!0,idealDirection:_,useMasonryFlyout:p,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:b,positionRelativeToAnchor:y,shouldTimeoutDismiss:v,showCaret:x,textAlign:w,textOverflow:P,textOverrideFn:S,textWeight:A,customizedComplete:I,pulsarZIndex:E}=this.props,C=t||(({children:e})=>p?(0,a.jsx)(r.mh,{children:e}):e),k="blue";return(0,a.jsx)(o.Z,{eligibleIds:n,placementId:b,eligibleTypes:[8],children:({complete:t,dismiss:n,experience:o})=>{const{display_data:b}=o;if(this.setDefaultPulsarTooltip(b),!b.has_pulsar&&!b.has_tooltip)return t(),null;v&&b.disappearTime&&b.disappearTime>0&&(this.timer=setTimeout((()=>(n(),null)),b.disappearTime));const j=501041===o.experience_id||505086===o.experience_id;return(0,a.jsxs)(i.Fragment,{children:[b.has_pulsar&&(0,a.jsx)(s.Z,{anchor:e,leftOverride:j?342:void 0,onTouch:()=>this.handlePulsarClick(b.has_tooltip,t),paused:this.state.paused,topOverride:j?-5:void 0,zIndex:E&&E.index()}),b.has_tooltip&&(!b.has_pulsar||this.state.paused)&&(b.thumbnail_urls?(0,a.jsx)(c,{anchor:e,dismiss:n,idealDirection:_||"down",text:b.text,thumbnails:b.thumbnail_urls}):(0,a.jsx)(C,{children:(0,a.jsx)(r.J2,{anchor:e,color:k,idealDirection:_||"down",onDismiss:m?()=>{}:n,positionRelativeToAnchor:!p&&y,shouldFocus:!1,showCaret:x,size:d,children:(0,a.jsxs)(r.xu,{column:12,padding:3,children:[(0,a.jsxs)(r.xv,{align:"right"===w?"end":w,color:"inverse",overflow:P,size:u,weight:A||"bold",children:[this.getText(b,l,S),b.secondary_cta_link&&(0,a.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(r.xv,{size:u,weight:"bold",color:"inverse",children:(0,a.jsx)(r.rU,{inline:!0,target:"blank",href:b.secondary_cta_link.url,underline:"hover",children:b.secondary_cta_link.text})})})]}),b.sub_text&&(0,a.jsx)(r.xu,{paddingY:2,children:(0,a.jsx)(r.xv,{color:"inverse",size:u,children:b.sub_text})}),(b.dismiss_button_text||b.complete_button_text)&&(0,a.jsxs)(r.xu,{display:"flex",alignItems:"center",marginTop:2,children:[b.dismiss_button_text&&(0,a.jsx)(r.xu,{marginEnd:1,column:6,children:(0,a.jsx)(r.zx,{fullWidth:h,color:k,onClick:()=>{f&&f(),n()},size:"md",text:b.dismiss_button_text})}),b.complete_button_text&&(0,a.jsx)(r.xu,{column:b.dismiss_button_text?6:12,children:I?(0,a.jsx)(r.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,a.jsx)(r.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(r.xv,{color:"shopping",weight:"bold",children:b.complete_button_text})})}):(0,a.jsx)(r.kC,{justifyContent:"center",children:(0,a.jsx)(r.zx,{fullWidth:h,color:"white",href:b.complete_button_cta_url,role:b.complete_button_cta_url?"link":"button",size:"md",target:b.complete_button_cta_url?"blank":null,text:b.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),t(),g&&g()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:(e,t,n)=>{n.d(t,{CK:()=>h,N:()=>f,Qu:()=>_,UT:()=>u,YX:()=>g,d9:()=>p,fO:()=>l,kd:()=>m,pz:()=>c});var i=n(6637),o=n(764990),s=n(172071),r=n(957191);let a;const l=(e,t)=>n=>{const o=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",o).callGet().then((e=>e.resource_response?n((0,r.OD)(e.resource_response.data)):void 0))},c=(e,t,n,s)=>(l,c)=>{if(t)return Promise.resolve();if(s&&(a=s),1===e.length){const t=e[0],i=c().experiences[t],s=(null==i?void 0:i.extraContext)||null;if(JSON.stringify(s)===JSON.stringify(n)||(0,o.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:s}).callGet().then((e=>e.resource_response?l((0,r.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(n,o,s,c=!1,d,u)=>(h,_)=>{const{experiences:p,experiencesMulti:m}=_();let g=null,f=!0;var b;c||(f=p[n]&&p[n].experience_id===o,g=f?p[n]:Array.isArray(m[n])&&(null===(b=m[n])||void 0===b?void 0:b.find((e=>e.experience_id===o))));if(g&&g.experience_id===o||c&&n&&o){const c=i.Z.create(e,{placed_experience_id:`${n}%3A${o}`,extra_context:null!=d?d:{},targeting:u}),_=f?r.Yb:r.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{h(_(n,o,t)),h(l(void 0,a))}));case"completed":return c.callUpdate().then((()=>{s||(h(_(n,o,t)),h(l(void 0,a)))}));case"viewed":return h(_(n,o,t)),c.callUpdate().then((()=>{1000162===n&&h(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{s||h(_(n,o,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),h=d("UserExperienceCompletedResource","completed"),_=d("UserExperienceResource","dismissed"),p=d("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(n,o)=>{const{experiences:r}=o(),a=r[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach((n=>{const[,o]=n.split(":");let r=t;a.metadata&&a.metadata[o]&&(r=Object.assign({},t,a.metadata[o])),i.Z.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:r}).callUpdate().then((()=>{((e,t,n={})=>{s.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:o})}))}))},g=e=>(t,n)=>{t(m(e));const{experiences:i}=n();return i[e]},f=(e,t,n)=>i=>{n&&(a=n),i(m(e,t)),t&&Object.keys(t).length>0&&i(c([e],!1,t,n))}},242923:(e,t,n)=>{n.d(t,{CF:()=>a,Tl:()=>r,dy:()=>l});var i=n(6637),o=n(332611);const s=(e,t)=>(n,s)=>r=>{if(n&&n.id){const a=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{r((0,o.fO)())}));break;case"completed":a.callUpdate().then((()=>{s||r((0,o.fO)())}));break;case"viewed":a.callUpdate()}}},r=s("UserExperienceCompletedResource","completed"),a=s("UserExperienceResource","dismissed"),l=s("UserExperienceViewedResource","viewed")},764990:(e,t,n)=>{function i(e){return!!e&&0!==e.type}n.d(t,{A0:()=>s,E3:()=>i,MQ:()=>o});const o=(e,t,n)=>{const o=e[n];return t[n]&&i(o)?o:null};function s(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>o,_4:()=>r,iY:()=>a,mR:()=>s});const i="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},957191:(e,t,n)=>{n.d(t,{NW:()=>r,OD:()=>l,Yb:()=>a,cL:()=>c,xW:()=>s});var i=n(6637),o=n(207737);const s=(e,t,n)=>({type:o.V$,payload:{placementId:e,experienceId:t,status:n}}),r=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0;var n})),a=(e,t,n)=>({type:o.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:o._4,payload:{experiences:e}}),c=e=>({type:o.mR,payload:{experiences:e}})},570470:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),s=n(785893);function r({anchor:e,children:t,zIndex:n,leftOverride:r,topOverride:a}){const l=(0,i.useRef)(null),[c,d]=(0,i.useState)(0),[u,h]=(0,i.useState)(0),{height:_,width:p}=e.getBoundingClientRect();(0,i.useEffect)((()=>{const{current:t}=l;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:o}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(_,p,e,n);d(i),h(o)}}));const m=r||c,g=a||u;return(0,s.jsx)(o.xu,{position:"absolute",zIndex:n?new o.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:m,top:g}},ref:l,children:t})}const a=function(e){const{anchor:t,leftOverride:n,onTouch:i,onMouseEnter:a,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,s.jsx)(r,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,s.jsx)(o.iP,{fullWidth:!1,onTap:({event:e})=>i(e),onMouseEnter:a,rounding:"circle",children:(0,s.jsx)(o.o3,{paused:l,size:c})})}):null}},378518:(e,t,n)=>{n.d(t,{_:()=>c,a:()=>d});var i=n(667294),o=n(702664),s=n(618446),r=n.n(s),a=n(780280),l=n(332611);const c=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const s=(0,i.useRef)(),c=(0,o.useDispatch)(),{isBot:d}=(0,a.B)(),u=(0,o.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{c((0,l.kd)(t))}),[c,u,t]),(0,i.useEffect)((()=>{n||r()(s.current,e)||(c((0,l.pz)([t],d,e)),s.current=e)}),[c,e,d,t,n]),u},d=e=>(c(e),(0,o.useSelector)((t=>t.experiencesMulti[e.id])))},497529:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=(n(957191),n(764990)),s=n(123159);n(332611);function r(e){const{mountedPlacements:t,completeExperience:n,dismissExperience:r,experiences:a,fetchAllExperiences:l,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:h}=(0,s.M)(),_=e?(0,o.MQ)(a,t,e):null;return(0,i.useMemo)((()=>({completeExperience:n,dismissExperience:r,experienceForPlacement:_,fetchAllExperiences:l,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:u,viewExperience:h})),[n,r,_,l,c,d,u,h])}},402201:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const[t,n]=[(null==e?void 0:e.width)||580,(null==e?void 0:e.height)||400],[i,o]=[window.screen.width,window.screen.height];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes",`width=${t}`,`height=${n}`,`left=${Math.round((i-t)/2)}`,`top=${o>n?Math.round((o-n)/2):0}`].join(",")}},116303:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const s=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:a,verified:l}){return(0,o.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:s(a,t)?void 0:a,verified:l})}},121151:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>a.b7,bN:()=>l,p4:()=>c});var i=n(50286),o=n(883119),s=n(240684),r=n(785893),a=n(968121);const l=(0,s.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),c=(0,s.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function d(e){const t=(0,i.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:o,mobileIsFullscreen:s,mobileIsSlideUp:a,type:c,...d}=e;return(0,r.jsx)(l,{...d})}const{allowClickAndDrag:o,allowMediaPlay:s,allowScroll:a,role:d,size:u,...h}=e;return(0,r.jsx)(c,{...h,isOpen:n})}},968121:(e,t,n)=>{n.d(t,{JN:()=>u,Vf:()=>h,ZM:()=>a,b7:()=>r,bf:()=>d,i_:()=>l,ju:()=>_});var i=n(707853),o=n(643010),s=n(883119);const r=new s.Ry(1e3),a=new s.H3([i.Z]),l=12,c={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},d=()=>({__style:c.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:n,type:i})=>{const o=c.modal.fullscreenStyles;let s;return s=e?o:t?c.modal.tabletStyles:"signup"===i?c.modal.nonTabletSignUpStyles:{...c.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:n||s}},h=({isFullscreen:e,isTablet:t,isShowing:n,type:i})=>{let o=c.modal.baseStylesSliding,s=n?"translateY(0)":"translateY(100vh)";return o.height=e?"100vh":"",t&&"related_interests_modal"===i&&(o={...o,...c.modal.tabletNarrowStyle},s=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...o,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:s}}},_=e=>e?c.RTLheadingOffset:c.headingOffset},572752:(e,t,n)=>{function i(e){return`${e.userAgent.isMobile?"mobile":"desktop"}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}n.d(t,{Z:()=>i})},444445:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>f,D6:()=>l,KN:()=>b,Lo:()=>o,P2:()=>p,ZZ:()=>d,g5:()=>u,jC:()=>a,lX:()=>_,nW:()=>h,oX:()=>m,qG:()=>g,tG:()=>s,yF:()=>i,yc:()=>c});const i=236,o=2*i/3,s=175,r=24,a=4,l=2,c=2,d=14,u=16,h=12,_=16,p=24,m=16,g=-1,f=(e=!1,t=!1)=>e?t?_:h:p,b=(e,t,n,i,o=d)=>{const s=e+o;return`\n@media (min-width: ${t*s}px) and (max-width: ${(n+1)*s-1}px) {\n  ${i}\n}\n`}},890087:(e,t,n)=>{n.d(t,{$m:()=>d,ak:()=>c,j3:()=>l,yv:()=>a});var i=n(898781),o=n(883119),s=n(780280),r=n(785893);function a(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function l(){const{country:e=""}=(0,s.B)();return a(e)}function c(){const e=(0,i.ZP)();return e._('Imprint', 'impressumText', 'Text for link to impressum for Germany, Austra, or Switzerland')}function d({align:e,color:t,inline:n,italic:i,lineClamp:s,overflow:a,size:l,title:d,underline:u,weight:h}){return(0,r.jsx)(o.xv,{align:e,color:t,inline:n,italic:i,lineClamp:s,overflow:a,size:l,title:d,underline:u,weight:h,children:c()})}},898781:(e,t,n)=>{n.d(t,{ZP:()=>a,oz:()=>s,q6:()=>o});var i=n(425288);const{Provider:o,Consumer:s,useHook:r}=(0,i.Z)("i18n"),a=r},12610:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>h,LU:()=>_,ZP:()=>p});const o=1e6,s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:l,[r.stopped]:l,[r.paused]:l,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),i(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),i(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),i(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(r.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,s&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*o,endTime:Date.now()*o,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(s)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case r.flushed:case r.paused:case r.exit:a[this.debugId]=!0}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=!0,_=!1;class p{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=_,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new d(e),this.activeImpressions.set(e,t),this.observer.observe(e);const n=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(n)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=h){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===_&&(this.pausePriority=e))}resume(e=h){e===_&&this.pausePriority===h||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=_)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:n}=t.getBoundingClientRect();return n>e?n:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:n}=t.getBoundingClientRect();return n<e?n:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},564194:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(973935),s=n(983722),r=n(834911),a=n(124580),l=n(407043),c=n(802201),d=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class _ extends i.Component{constructor(e){super(e),u(this,"trackImpression",(()=>{try{this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),u(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:o,contextLogData:r,elementType:a,impressionAuxFields:l,impressionType:c,loggingId:d,objectIdStr:u,slotIndex:_,trackCarousel:p,viewData:m,viewParameter:g,viewType:f,logContextEvent:b}=this.props,y=h[c],v=y.idType,x=e.forcedExit&&"removed"===e.forcedExit?0:void 0,w={endTime:e.endTime,[v]:d,slotIndex:_,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...l,forcedExit:x},P=(0,s.Z)(),{checkExperiment:S}=(P||{}).experimentsClient||{},A="function"==typeof S&&S("web_mweb_story_impression_fix").anyEnabled;if(A&&(h.Story={impressionType:"storyImpression",idType:"idStr",eventType:170}),p||b({event_type:y.eventType,component:o,element:a,event_data:{[y.impressionType]:"Story"===c&&A?w:[w]},object_id_str:u,view_type:f,view_data:m||{},view_parameter:g,aux_data:{...r,closeup_navigation_type:i}}),t&&p){const{carousel_slots:e,index:n=0,id:i}=t;b({event_type:7352,component:o,event_data:{pinCarouselSlotImpressions:[{...w,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},object_id_str:u,view_type:f,view_data:m||{},view_parameter:g,aux_data:{...r}})}})),this.impressionsFramework=e.impressionsFramework||a.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function p(e){const{logContextEvent:t}=(0,l.v)(),{loggingId:n}=e,i=(0,c.AF)(),o=n?i[n]:{};return(0,d.jsx)(_,{...e,logContextEvent:t,carousel_data:o&&(0,r.Z)({carouselData:o.carousel_data,images:o.images,richMetadata:o.rich_metadata,richSummary:o.rich_summary})})}},124580:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(12610).ZP)},995081:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>o,jd:()=>s,oy:()=>r});const i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,o=28,s=e=>window.innerHeight>=748&&i(e),r=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>u,DEFAULT_PADDING_Y:()=>h,FixedFooter:()=>m,FixedHeader:()=>p});var i=n(667294),o=n(124580),s=n(53987),r=n(773285),a=n(834256),l=n(883119),c=n(643010),d=n(785893);const u=64,h=3;function _({children:e,footerConfig:t,headerConfig:n,height:s,hideOnScroll:a,hideOnScrollState:{isHidden:_,updateHiddenState:p},showDockedNavBar:m,dockNavBarForAuthTablet:g,dockNavBarForUnauthTablet:f,noPadding:b,paddingY:y=h,type:v,zIndex:x}){const{headerLimitedOverflow:w,ignoreObstructions:P,zIndexForGestaltBug:S}=n||{},{appUpsellFooterConfig:A,footerInLego:I,footerWidth:E}=t||{},C=!!A,k="header"===v?"top":"bottom",{anyEnabled:j}=(0,r.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),T=(0,c.vs)(),R=j?T:(0,c.Yc)(),O=(0,i.useRef)(null),L=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!P){const e=O.current;L.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,L.current instanceof HTMLElement&&o.Z.addObstruction(k,L.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{P||L.current instanceof HTMLElement&&o.Z.removeObstruction(k,L.current)}}),[P,w,k,R]);const z="top"===k?"relative":"fixed",D=b?0:y,F=(null!=s?s:u)+((null==n?void 0:n.overrideTop)||0),M=a||m||g||f?{transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",..._?{transform:`translateY(${"top"===k?-F:F}px)`,opacity:I?0:1}:Object.freeze({})}:{},N="relative"!==z||null!=n&&n.noGutter?0:2,Z=N?-N:0,B=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let U,H;return R&&("header"===v?U=-1:H=-1),(0,d.jsx)(l.xu,{ref:O,dangerouslySetInlineStyle:{__style:{top:U,bottomStyle:H,...!x||S?{zIndex:S||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...M}},zIndex:S?void 0:x,"data-test-id":v,display:C?"flex":void 0,height:s&&!I?s:void 0,position:z,bottom:"footer"===v,top:"header"===v,left:!0,right:!0,marginStart:I?"auto":Z,marginEnd:I?"auto":Z,onTransitionEnd:()=>{(a||m||g||f)&&L.current&&(_?o.Z.removeObstruction(k,L.current):o.Z.addObstruction(k,L.current))},width:I||"fixed"!==z?void 0:"100%",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&B||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:I?C?void 0:null!=s?s:u:"100%",boxShadow:I?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:I&&!m?16:void 0,...w?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==v||b?0:4)+N,paddingY:D,position:"relative",width:I&&E?E:C?void 0:"100%",rounding:I&&!m?"pill":void 0,display:I||null!=t&&t.alignCenter?"flex":void 0,marginStart:I?"auto":void 0,marginEnd:I?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:p}):e})})}function p({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:o,noGutter:s,overrideTop:r,useRoundedCorners:c,zIndexForGestaltBug:u,...p}){const{noPadding:m,paddingY:g=h,zIndex:f}=p,b=m?0:g;return(0,d.jsx)(l.Le,{top:r||0,height:t?44+2*b*4:void 0,zIndex:f||void 0,children:(0,d.jsx)(a.Z,{hideOnScroll:p.hideOnScroll,children:a=>(0,d.jsx)(_,{...p,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:o,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:s,overrideTop:r,zIndexForGestaltBug:u,useRoundedCorners:c}})})})}function m({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,forceShow:o,hasTopShadow:r,location:l,showDockedNavBar:c,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:h,isModal:p,onScroll:m,...g}){const f=!!l&&(0,s.uM)(l)&&(!!c||!!u||!!h);return(0,d.jsx)(a.Z,{appUpsellFooterConfig:t,forceShow:o,hideOnScroll:g.hideOnScroll,location:l,isDockedNavOnPlp:f,isModal:p,onScroll:m,children:o=>(0,d.jsx)(_,{...g,hideOnScrollState:o,showDockedNavBar:c,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:h,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,hasTopShadow:r}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>a,m:()=>r});var i=n(667294),o=n(700380);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=20;class a extends i.Component{constructor(...e){super(...e),s(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),s(this,"lastScrollPos",0),s(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),s(this,"handleScroll",(0,o.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n,isDockedNavOnPlp:i}=this.props,{isHidden:o}=this.state,s=window.scrollY,a=s-this.lastScrollPos;let l="none";const{scrollHeight:c,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(c)&&!Number.isNaN(d))if(a<0){const e=window.scrollMinY||0;l=s<=Math.abs(e+Math.max(a,r))?"start":"none"}else{l=s>=(window.scrollMaxY||c-d)-Math.max(a,r)?"end":"none"}const u=t?0:55;if(e)if(a>r&&o&&s>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(a<-r&&!o||s<=u)&&(this.updateHiddenState(!0),n&&n(!0));else!this.props.hideOnScroll&&i?"start"===l&&!o||s<=u?(this.updateHiddenState(!0),n&&n(!0)):(s>u||"end"===l)&&o&&(this.updateHiddenState(!1),n&&n(!1)):(a<-r||"start"===l)&&o||s<=u?(this.updateHiddenState(!1),n&&n(!1)):(a>r||"end"===l)&&!o&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=s}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t&&n,updateHiddenState:this.updateHiddenState})}}},542554:(e,t,n)=>{n.r(t),n.d(t,{AMPPageContainer:()=>c,default:()=>d});var i=n(883119),o=n(134879),s=n(444445),r=n(780280),a=n(995081),l=n(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,height:d,showKeychainError:u=!1,useViewport:h=!1})=>{const _=(0,r.B)(),p=(0,a.jd)(_.userAgent.platform)?a.Vf:0;return(0,l.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:h?`calc(100vh - ${p}px)`:d,paddingX:c?s.D6:void 0,paddingY:n||u?void 0:3,children:(0,l.jsx)(o.C,{value:!!c,children:e})})},d=c},134879:(e,t,n)=>{n.d(t,{C:()=>s,V:()=>r});var i=n(667294);const o=(0,i.createContext)(!1),s=o.Provider,r=()=>(0,i.useContext)(o)},48714:(e,t,n)=>{n.d(t,{nS:()=>x,iw:()=>P,gV:()=>y,G3:()=>S,lI:()=>A,Gj:()=>w,Jd:()=>b,$3:()=>v});var i=n(231486),o=n(56641),s=n(768559),r=n(250059);const a=e=>"string"!=typeof e&&e?e.state:null;var l=n(643913),c=n(547239),d=n(508847),u=n(102500),h=n(43760),_=n(579164),p=n(307640),m=n(397066),g=n(623568),f=n(226198);const b=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},y=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),v=({location:e,pin:t,surface:n})=>!(0,g.jL)(t)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),o=p.ZF.includes(n),s=e.pathname.includes(t);return i&&!o||s})({location:e,pinId:t.id,surface:n}),x=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";i.t8((0,f.GS)(t),n);const o=`${t}-${n}`,{queryParams:s,url:r}=e;let a={token:o,url:r};if(!s){const{pinId:t,csrId:n,clientTrackingParams:i,auxData:o}=e;a={...a,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:i,aux_data:o?JSON.stringify(o):void 0}}s&&(a={...a,...s});return`/offsite/?${(0,l.Z)(a)}`},w=e=>{(0,o.Z)(x(e),!0)},P=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:o})=>{var r,a;const l=await(0,u.Z)({check_only:!0,client_tracking_params:(0,s.Z)({boardUrl:null==t||null===(r=t.board)||void 0===r?void 0:r.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:n,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(a=t.pinner)||void 0===a?void 0:a.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:o}).callGet({showError:!1});if(!l.resource_response.error&&e){const e=l.resource_response.data||{},{message:t,redirect_status:n,url:o}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:o})}},S=({event:e,onHistoryChange:t,href:n,history:i,target:s})=>{const l=(0,r.Z)(n),u=a(n),h=(0,c.Z)(l);h===_.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===s?(0,o.Z)(l,"blank"===s):i&&h===_.Z.SAME_ORIGIN&&(i.push((0,d.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},A=({href:e,pinId:t,pin:n,location:i,auxData:o,spamCheck:r,queryParams:a},l,c)=>{"undefined"!=typeof window&&window.Windows?(0,h.Z)({url:e,pinId:t,pin:n,location:i,auxData:o}):n?(({spamCheck:e,auxData:t,location:n,pin:i,pinId:o,href:r},a,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{var c,d;if((0,m.b)({href:r,pinId:o,pin:i,location:n,auxData:t},a))return;w({url:r,pinId:o,csrId:null,clientTrackingParams:(0,s.Z)({boardUrl:null===(c=i.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:n,pinId:i.id,pinnerUserName:null===(d=i.pinner)||void 0===d?void 0:d.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}),auxData:t})}})({spamCheck:r,auxData:o,location:i,pin:n,pinId:t,href:e},l,c):w({url:e,pinId:t,queryParams:a})}},102500:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(6637);function o(e){return i.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>d,p:()=>u});var i=n(667294),o=n(250059),s=n(149230),r=n(407043),a=n(643074),l=n(48714),c=n(276775);function d(e){var t;const{externalData:n,href:d,onHistoryChange:u,target:h}=e,{logContextEvent:_}=(0,r.v)(),[p,m]=(0,i.useState)(null),[g,f]=(0,i.useState)(!1),b=(0,c.useHistory)(),y=(0,c.useLocation)(),v=(0,s.Z)({url:(0,o.Z)(d)}),{showWarning:x}=null!==(t=(0,a.s)())&&void 0!==t?t:{};return(0,i.useEffect)((()=>(f(!0),()=>{f(!1)})),[]),(0,i.useEffect)((()=>{v&&null!=n&&n.pin&&null===p&&g&&(0,l.$3)({location:y,pin:n.pin,surface:n.surface})&&(0,l.iw)({isMounted:g,pin:n.pin,location:y,spamCheckCallback:e=>m(e),href:(0,o.Z)(d)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,d,v,g,y,p]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:v,event:e})||(e.preventDefault(),d&&(v||null!=n&&n.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==n?void 0:n.auxData,href:(0,o.Z)(d),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:y,spamCheck:p},_,x):(0,l.G3)({event:e,href:d,history:b,onHistoryChange:u,target:"blank"===h?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:d(t)})},713930:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(172071);function o(e,t){return new Promise(((n,o)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(t)}}))}},539278:(e,t,n)=>{n.d(t,{Di:()=>h,Jl:()=>c,R:()=>d,ZP:()=>f,aU:()=>_,j2:()=>u,pN:()=>p,rL:()=>b,vW:()=>g});var i=n(116303),o=n(499128),s=n(349700),r=n(826067),a=n(883119),l=n(785893);const c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",h="account_deactivated",_="unlink_successful",p="account_switch_to_settings";function m(e,t,n){return(0,l.jsx)(a.xv,{align:n||"center",children:(0,s.nk)(e,{username:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t})})})}function g({i18n:e,message:t,multipleAccounts:n,username:i=""}){switch(t){case d:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:return m(n?e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'):e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case h:return m(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case _:return m(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case p:return m(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}function f(e,t,n=""){if(!t||!t.search)return"";const i=(0,r.mB)(t.search).message,o=(0,r.mB)(t.search).username||n;return g({i18n:e,message:i,multipleAccounts:"true"===(0,r.mB)(t.search).multiple_accounts,username:o})}function b({showOneToast:e,i18n:t,location:n,history:s,username:a,fullName:d,avatarUrl:u}){if(!n||!n.search)return;const h=f(t,n,a||""),m=(0,r.mB)(n.search).message,g=m===p||m===_;h&&(e((({hideToast:e})=>(0,l.jsx)(o.ZP,{duration:c,onHide:e,text:h,iconThumbnail:g?(0,l.jsx)(i.Z,{name:d||"",src:u||"",size:"md"}):null}))),s.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},623568:(e,t,n)=>{n.d(t,{Js:()=>a,NK:()=>b,Nc:()=>y,VX:()=>l,Zt:()=>g,_J:()=>u,_Q:()=>r,_S:()=>v,cL:()=>p,dZ:()=>P,hb:()=>f,hy:()=>d,iR:()=>s,jL:()=>c,o:()=>x,oN:()=>i,pU:()=>w,rM:()=>m,sV:()=>h,sY:()=>_});const i=5e3,o=["Uploaded by user"],s=e=>!!e&&!!e.video_list,r=e=>!!e.promoted_is_lead_ad,a=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},c=e=>!!e.promoter&&!e.is_downstream_promotion,d=e=>!!e,u=e=>!!e.video_status&&5!==e.video_status,h=e=>["email","messages","deep_linking"].includes(e),_=e=>!!e&&"gif"===e,p=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!_(n)&&!(e=>"pinstory"===e)(t),m=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,g=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",f=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",b=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){var t,n;return!s(e.videos)&&!d(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function v(e){for(const t of o)if(e===t)return!1;return!0}function x(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function w(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function P(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}},336882:(e,t,n)=>{n.d(t,{Z:()=>i});const i={STARTED:1,FINISHED:2}},177471:(e,t,n)=>{n.d(t,{k:()=>w});var i=n(667294),o=n(702664),s=n(6637),r=n(19121),a=n(414327),l=n(780280);const c=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"];async function d(e,t){if(c.includes(e))return await s.Z.create("UserSocialNetworkResource",{network:e,data:t}).callCreate();const n=`/v3/connect/${e}/`,i=((e,t)=>{let n;switch(e){case"gplus":n=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":n=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:n=Object.freeze({})}return n})(e,t);return await s.Z.create("ApiResource",{url:n,data:i}).callUpdate()}var u=n(553171),h=n(124237),_=n(402201),p=n(572752),m=n(966113),g=n(83969),f=n(539497);let b=Object.freeze({});const y=e=>{const{network:t}=e;if(!b[t])return;const{[t]:{error:n,success:i,complete:o},...s}=b;b={...s},"error"===e.type?null==n||n(Object.freeze({})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==o||o()},v=({i18n:e,network:t,callbacks:n,requestContext:i})=>{if(n={error:()=>{},complete:()=>{},...n},(0,f.My)(`auth_web.social_connect.${t}.${(0,p.Z)(i)}`),"gplus"===t||"google"===t)(0,f.My)("auth_web.social_connect.google.migration"),async function(e){var t,n;await(0,g.Px)();const i=null===(t=window.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.oauth2;i&&i.initCodeClient({client_id:m.v3o,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}((e=>{n.success({one_time_code:e.code,redirect_uri:"postmessage"})}));else if("line"===t){const{locale:e}=i;(0,u.Z)(e,n)}else{const i=window.open("/connect/"+t+"/","",(e=>{switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,_.Z)({width:580,height:580});case"etsy":return(0,_.Z)({width:580,height:775});case"youtube":return(0,_.Z)({width:605,height:640});default:return(0,_.Z)()}})(t));var o,s;if(!i)return h.Z.showError(e._('You must enable popups!', ' - ', ' -- ')),void(null===(o=(s=n).error)||void 0===o||o.call(s,Object.freeze({})));const r=setInterval((()=>{i.closed&&(clearInterval(r),y({network:t,type:"error"}))}),1e3);b={...b,[t]:n}}};window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==t)return;const n=e.data;if(n&&"social-connect-complete"===n.type){const t=e.data;t.network&&y(t)}}));class x{constructor({invalidateResource:e,requestContext:t,viewer:n}){this.getUserId=()=>n.isAuth?n.id:"",this.getUsername=()=>n.isAuth?n.username:"",this.isLimitedLogin=()=>n.isLimitedLogin,this.invalidateResource=e,this.requestContext=t}handleConnect(e,t,n,i){const o=t=>{("connect"===t.type?d(e,t.data):s.Z.create("ApiResource",{url:`/v3/connect/${e}/`}).callDelete()).then((e=>{var t;const i={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",i),s.Z.create("UserResource",i).callGet(),null===(t=n.success)||void 0===t||t.call(n,e)}),(e=>{var t;e&&"object"==typeof e&&(null===(t=n.error)||void 0===t||t.call(n,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((()=>{var e;null===(e=n.complete)||void 0===e||e.call(n)}))};t?this.isLimitedLogin()?o({type:"connect"}):v({network:e,callbacks:{success:e=>o({type:"connect",data:e}),error:n.error,complete:n.complete},i18n:i,requestContext:this.requestContext}):o({type:"disconnect"})}}function w(){const e=(0,o.useDispatch)(),t=(0,l.B)(),n=(0,r.Z)();return(0,i.useMemo)((()=>new x({invalidateResource:(t,n)=>e((0,a.jB)(t,n)),requestContext:t,viewer:n})),[e,t,n])}},553171:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(231486);var o=n(643913),s=n(226198),r=n(966113),a=n(696157),l=n(826067),c=n(957161);const d="undefined"!=typeof window,u=d?`${window.location.origin}/oauth/line/redirect`:"";function h(e,t){var n;if(!d)return void(null===(n=t.error)||void 0===n||n.call(t,{message:"Window is undefined"}));let h;const _=function(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(Math.random()*t.length)])).join("")}(10),p=async e=>{if(!e.isTrusted)return;const n=e instanceof MessageEvent?(({origin:e,data:t})=>t&&e===window.location.origin?String(t):null)(e):(({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==a.MM)return null;const n=(0,c.qn)(a.MM);return(0,c.L_)(a.MM),n})(e),r=(0,l.mB)(n);if(r.state&&r.code&&r.state===_){h&&!h.closed&&h.close();try{const e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(i.U2(s.fS))}`},method:"POST",body:(0,o.Z)({code:r.code,redirect_uri:u})}),n=await e.json(),{id_token:a,access_token:l}=n;var d;if(a&&l)t.success({line_id_token:a,line_access_token:l});else null===(d=t.error)||void 0===d||d.call(t,{message:"No tokens returned"})}catch(f){var m;null===(m=t.error)||void 0===m||m.call(t,f)}finally{var g;h&&!h.closed&&h.close(),window.removeEventListener("message",p),window.removeEventListener("storage",p),null===(g=t.complete)||void 0===g||g.call(t)}}};window.addEventListener("message",p),window.addEventListener("storage",p),h=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.zal}&redirect_uri=${encodeURIComponent(u)}&state=${_}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},467570:(e,t,n)=>{n.d(t,{$:()=>c,GH:()=>l,JF:()=>g,Jb:()=>_,MI:()=>m,sl:()=>u,we:()=>h});var i=n(935879),o=n(713930),s=n(816068),r=n(6637),a=n(539497);const l="274266067164",c=["public_profile","email","user_birthday","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,a.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,a.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,a.dy)({event:"global_object_not_found",provider:"facebook"})},h=(e,t)=>{t&&(0,a.dy)({event:"load_script_start",provider:"facebook"});return(0,o.Z)((0,i.Z)(e),"FACEBOOK").then((()=>u(t)))},_=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),p=({userID:e,accessToken:t,data:{birthday:n,email:i,first_name:o,gender:r,last_name:a,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,s.Z)(n):void 0,email:i,first_name:o,gender:r,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:a});async function m(e){var t;const n=(null===(t=(await r.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:d.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const g=()=>new Promise((e=>{window.FB.login(e,{scope:c.join(",")})})).then((e=>((e,t)=>new Promise(((n,i)=>{if("connected"!==e.status)return void i({status:e.status||"unknown"});const{userID:o,accessToken:s}=e.authResponse;m(s).then((e=>{n({creds:{facebook_id:o,facebook_token:s,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:p({userID:o,accessToken:s,data:e})})}),i)})))(e)))},107193:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(336882),o=n(935879),s=n(713930),r=n(6637),a=n(966113),l=n(539497);let c=!1;const d=(e,t,n="en-US",u)=>{u&&(0,l.dy)({event:"load_script_start",provider:"facebook"}),(0,s.Z)((0,o.Z)(n),"FACEBOOK").then((()=>{u&&(0,l.dy)({event:"load_script_success",provider:"facebook"});const n=window.FB;n?(c||(u&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),n.init({appId:a.GHq,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{(e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin)(t)&&d((e=>{if(!e.getUserID())return;const t=e.getAccessToken();t&&r.Z.create("ApiResource",{url:"/v3/connect/facebook/",data:{facebook_token:t}}).callCreate({showError:!1})}),t)})),c=!0,window.fb_init=i.Z.FINISHED),e(n)):u&&(0,l.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=i.Z.STARTED},u=d},935879:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},83969:(e,t,n)=>{n.d(t,{Fm:()=>r,OY:()=>l,PL:()=>d,Px:()=>a,mK:()=>u,ru:()=>c});var i=n(713930),o=n(966113),s=n(539497);const r=()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},a=e=>(0,i.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),l=({autoSelect:e,itpSupport:t},n)=>{var i;null===(i=r())||void 0===i||i.initialize({auto_select:null!=e&&e,client_id:o.v3o,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:t})},c=({buttonRef:e,isDesktop:t})=>{const n=r();if(n&&e.current){const t=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else(0,s.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},d=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},648492:(e,t,n)=>{n.d(t,{Z:()=>o});const i=new function(){function e(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:n}function t(e,t,i){let l;for(e=i?Math.floor(e/o):e>>1,e+=Math.floor(e/t),l=0;e>(n-s)*r>>1;l+=n)e=Math.floor(e/(n-s));return Math.floor(l+(n-s+1)*e/(e+a))}this.utf16={encode:function(e){for(var t,n=[],i=0,o=e.length;o>i;){if(55296==(63488&(t=e[i++])))throw!0;t>65535&&(t-=65536,n.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),n.push(String.fromCharCode(t))}return n.join("")}};var n=36,o=700,s=1,r=26,a=38,l=2147483647;this.decode=function(i,o){let a,c,d,u,h,_,p,m,g,f,b,y,v,x=[],w=[],P=i.length;for(a=128,d=0,u=72,h=i.lastIndexOf("-"),0>h&&(h=0),_=0;h>_;++_){if(o&&(w[x.length]=i.charCodeAt(_)-65<26),i.charCodeAt(_)>=128)throw!0;x.push(i.charCodeAt(_))}for(p=h>0?h+1:0;P>p;){for(m=d,g=1,f=n;;f+=n){if(p>=P)throw!0;if(b=e(i.charCodeAt(p++)),b>=n)throw!0;if(b>Math.floor((l-d)/g))throw!0;if(d+=b*g,y=f>u?u+r>f?f-u:r:s,y>b)break;if(g>Math.floor(l/(n-y)))throw!0;g*=n-y}if(c=x.length+1,u=t(d-m,c,0===m),Math.floor(d/c)>l-a)throw!0;a+=Math.floor(d/c),d%=c,o&&w.splice(d,0,i.charCodeAt(p-1)-65<26),x.splice(d,0,a),d++}if(o)for(d=0,v=x.length;v>d;d++)w[d]&&(x[d]=String.fromCharCode(x[d]).toUpperCase().charCodeAt(0));return this.utf16.encode(x)},this.toUnicode=function(e){for(var t=e.split("."),n=[],o=0;o<t.length;++o){const e=t[o];n.push(e.match(/^xn--/)?i.decode(e.slice(4)):e)}return n.join(".")}};function o(e){try{return i.toUnicode(e)}catch(t){return e}}},932995:(e,t,n)=>{function i(e,t,n){const i=[...e],o=i.splice(t,1)[0];return i.splice(n,0,o),i}n.d(t,{Z:()=>i})},505920:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>h,my:()=>_});var i=n(667294),o=(n(702664),n(6637)),s=n(425288),r=n(785893);function a(e,t,n){var i;const o=[...null!==(i=t[e][n.payload.name])&&void 0!==i?i:[],n.payload.handler],s={...t};return s[e]={...t[e],[n.payload.name]:o},s}function l(e,t,n){if(!t[e][n.payload.name])return t;const i=t[e][n.payload.name].filter((e=>e!==n.payload.handler)),o={...t};return o[e]={...t[e],[n.payload.name]:i},o}const{Provider:c,useHook:d}=(0,s.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:n},s]=(0,i.useReducer)(((e,t)=>{switch(t.type){case"addListener":return a("listeners",e,t);case"addMoreListener":return a("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});o.Z.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:o,refresh:s,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:s,normalizedResponse:o,options:n,schema:r,resource:e,response:i})))},o.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:o,refresh:s,resourceSchema:r})=>{n[e]&&n[e].forEach((n=>n({isRefresh:s,normalizedResponse:o,options:t,schema:r,resource:e,response:i})))};const d=(0,i.useMemo)((()=>({listenerDispatch:s})),[]);return(0,r.jsx)(c,{value:d,children:e})}function h(e,t){const{listenerDispatch:n}=d();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}function _(e,t){const{listenerDispatch:n}=d();(0,i.useEffect)((()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},550405:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(748367),o=n(780280),s=n(785893);function r(e){const{fullPath:t,isAuthenticated:n,origin:r}=(0,o.B)(),{user:a}=e;return n?null:(0,s.jsx)(i.Z,{type:"application/ld+json",value:(()=>{const e={"@context":"http://schema.org/","@type":"Person",name:a.full_name||a.username,mainEntityOfPage:{"@type":"ProfilePage","@id":t?`${r}${t}`:`${r}/${a.username}/`}};return a.image_xlarge_url&&(e.image={"@type":"ImageObject",contentUrl:a.image_xlarge_url}),a.location&&(e.address={"@type":"PostalAddress",addressLocality:a.location}),a.about&&(e.description=a.about),a.domain_url&&(e.url=a.domain_url),e})()})}},995228:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(966476),s=n(464228),r=n(785893);function a({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const a=t||null,l=(0,o.Z)(),c=(0,s.P)();return c&&"legacy"!==c?n||l?(0,r.jsx)(i.Suspense,{fallback:a,children:e}):a:(0,r.jsx)(i.Suspense,{fallback:a,children:e})}},947599:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(995228).Z},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,n)=>{n.d(t,{Hd:()=>r,_R:()=>o,lw:()=>i,wF:()=>s});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},s=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},r=e=>{switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}}},648284:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:o,selectedPinImgSig:s,user:r}){const a=[o,n,e,r,s,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function o(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:i,filters:o,selectedPinImgSig:s,query:r,rs:a,scope:l,bubbleId:c,user:d}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:i=null,filters:o=null,query:s=null,rs:r="direct_navigation",scope:a="pins",selectedPinImgSig:l=null,sourceId:c=null,user:d}){return{article:i,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:o,query:s,query_pin_sigs:l,redux_normalize_feed:!0,rs:r,scope:a,source_id:c,user:d}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:i,filters:o,query:r,rs:a,scope:l,selectedPinImgSig:s,bubbleId:c,user:d})}}n.d(t,{Ht:()=>o,Tb:()=>i})},622739:(e,t,n)=>{n.d(t,{NZ:()=>d,Wd:()=>c,c0:()=>_,nz:()=>h});var i=n(667294),o=n(794230),s=n(276775),r=n(826067);const a=["filters","category","domains","price_min","price_max","rs"],l={query:"",queryParamStrings:{}};function c(e){const[t,n]=(0,i.useState)(l),{action:c}=(0,s.useHistory)();return(0,i.useEffect)((()=>{["PUSH","POP"].includes(c)&&n(l)}),[c]),{getFullUrlForTab:(0,i.useCallback)((({currentQueryParamString:i,currentTabIndex:s,incomingTabIndex:l,baseUrl:c})=>{n((t=>({query:t.query||e,queryParamStrings:{...t.queryParamStrings,[s]:i}})));const d=t.queryParamStrings[l];return(0,o.Z)(c,(0,r.mB)(d||(0,r.Gw)(i,a)))}),[e,t])}}function d(e,t){return(0,o.Z)(e,(0,r.mB)((0,r.Gw)(t,a)))}const u={explore:{href:"/search/pins/",loggingData:{element:11733},name:"explore",scope:"pins"},shop:{href:"/search/buyable_pins/",loggingData:{element:11734},name:"shop",scope:"buyable_pins"},profiles:{href:"/search/users/",loggingData:{element:12447},name:"profiles",scope:"users"}};function h(e){return(null==e?void 0:e.map((e=>({...u[e.tab_type],text:e.name}))))||[]}function _(e,t){return e.findIndex((e=>e.scope===t))}},706922:(e,t,n)=>{function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function o(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let s=0;s<n.length;s+=1)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!i(e[n[s]],t[n[s]]))return!1;return!0}n.d(t,{Z:()=>o})},835209:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},90771:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,i.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,i.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},31149:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},214680:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},331744:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},862960:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,i.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,i.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,i.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#37AEE2"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EFF7FC"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},464240:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,i.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},89396:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},22641:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);function o({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:(e,t,n)=>{n.d(t,{c:()=>i,y:()=>o});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116},o={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},957161:(e,t,n)=>{n.d(t,{L_:()=>o,Nh:()=>s,qn:()=>i});const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},o=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},s=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},696157:(e,t,n)=>{n.d(t,{E9:()=>l,F6:()=>_,MM:()=>P,MS:()=>i,On:()=>h,SI:()=>x,TJ:()=>c,TO:()=>u,W3:()=>a,WM:()=>v,XC:()=>b,XS:()=>S,Y9:()=>g,Yp:()=>p,_b:()=>o,_l:()=>f,bY:()=>d,e9:()=>s,iu:()=>y,kl:()=>w,om:()=>r,ou:()=>A,qo:()=>m});const i="visitedPagesBeforeLogin",o="_lastVisitedPages",s="visitedPinLandingPagesBeforeLogin",r="visitedBoardLandingPagesBeforeLogin",a="lastVisitedPage",l="unauthTopicsFollowed",c="unauthPins",d="unauthHybridLoginModalView",u="unauthHybridClickthroughCount",h="unauthHybridClickthroughTS",_="signupTime",p="signupInterestsPickerScrollDown",m="signupTriedSkipInputName",g="signupTriedSkipGender",f="signupInterestsPickerStartTime",b="signupUserLocale",y="signupUserCountry",v="uoiou",x="unauthRevisitation",w="urh",P="lineOAuthOneTimeCode",S="unlinkNetwork",A="mfapc"},936776:(e,t,n)=>{n.d(t,{Z:()=>o});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=e=>i.test(e)},883561:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="…",i=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+n}},70061:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},700380:(e,t,n)=>{function i(e,t){let n;const i=(...i)=>{n||(e(...i),n=setTimeout((()=>n=null),t))};return i.cancel=()=>{void 0!==n&&clearTimeout(n)},i}n.d(t,{Z:()=>i})},430323:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),o=n(722767),s=n(706922),r=n(245474),a=n(558068),l=n(802201),c=n(780280),d=n(790123),u=n(425288);const{Provider:h,useMaybeHook:_}=(0,u.Z)("timeSpentContext");var p=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),m(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:o,view:s,viewParameter:r}=this.props;return{view:s||o&&o.view,viewParameter:r||o&&o.viewParameter,component:t||o&&o.component,element:n,objectId:i||o&&o.objectId,clientTrackingParams:e||o&&o.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),m(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),m(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),m(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),m(this,"getTimedPair",(()=>this.state.timedPair)),m(this,"setTimedPair",(e=>this.setState({timedPair:e}))),m(this,"isRegistered",!1),m(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),m(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),m(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:o,top:s}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===o&&0===s?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new r.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,p.jsx)(h,{value:this.getContext(),children:(0,p.jsx)(o.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function f(e){var t;const n=(0,a.Hv)(),o=_(),s=(0,d.w)(),r=(0,l.H0)(),{requestIdentifier:u=""}=(0,c.B)(),h={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==s||s.setHistoryStackContext(n)}),[n,s]),(0,i.useEffect)((()=>{null==s||s.setPins(null!=r?r:{})}),[r,s]),s?(0,p.jsx)(g,{...e,auxData:h,timeSpentContext:o,timeSpentManager:s,children:e.children}):e.children}f.displayName="TimeSpent";const b=f},790123:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>d});var i=n(829407),o=n(19121),s=n(407043),r=n(50286),a=n(425288),l=n(785893);const{Provider:c,useMaybeHook:d}=(0,a.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,s.v)(),a=(0,r.HG)(),{isAuth:d}=(0,o.Z)(),u=a&&d;return(0,i.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,l.jsx)(c,{value:t(n,u),children:e})}},245474:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(172045),o=n(17314);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const a=class{constructor(e){s(this,"start",(()=>(this.startTime=r(),this.startTime))),s(this,"end",(()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,o.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,n)=>{n.d(t,{E5:()=>c,T7:()=>i,Y_:()=>d,Yj:()=>r,d9:()=>h,nx:()=>u,pe:()=>a,xt:()=>l});n(883119);function i(e,t,n,i){const o=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),s=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(n);return`/today/${o}/${encodeURIComponent(s)}/${i}/`}const o={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},s={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},r=(e,t)=>{const n=s[e];return!(null===n||n!==t&&!t.startsWith(n))},a=e=>o[e],l=(e,t,n)=>e||(t||n||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),d=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),h=e=>{var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)}},482981:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(784641);function o(e){const{article_creator_user:t,display_type:n,feed_source:o,header_pin_id:s,id:r,is_product_pin_feed:a,title:l,video_pin:c}=e;switch(n){case 0:case 1:return l?(0,i.T7)(o,null!=a&&a,l,r):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return s?`/pin/${s}/`:"";case 2:return null!=c&&c.id?`/pin/${c.id}/`:"";default:return""}}},207112:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(883119),s=n(785893);class r extends i.Component{constructor(e){var t,n,o;super(e),o={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const o=void 0===i.textContent?"innerText":"textContent",s=i[o];("boolean"!=typeof t.spaces||t.spaces?s.split(" "):s).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},a=n?{display:"inline",...r}:{...r};return i?(0,s.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:a},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,s.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:a},"data-test-id":"truncater",children:this.props.children})}}const a=r},939106:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(948618),s=n(883119),r=n(785893);function a(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:n,items:l}){const c=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(o.Z,{color:t})}):(0,r.jsx)(o.Z,{color:t}),d=l.filter(a).reduce(((e,t,n)=>[...e,0!==n?c:null,t]),[]).filter(a).map(((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t)));return 0===d.length?null:n?(0,r.jsx)(s.xu,{children:d}):(0,r.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:d})}},237900:(e,t,n)=>{n.d(t,{q:()=>s});var i=n(188682),o=n.n(i);const s=(e,t)=>{if(t){let t=e;return/.*?:\/\//.test(e)||(t="http://"+t),t=o()(t),t.host}return e=(e=e.replace(/.*?:\/\//g,"")).replace(/\/$/,"")}},250059:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(954931);const o=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(567831);const o=(e,t)=>0===e.lastIndexOf(t,0),s=({url:e})=>{const t=(0,i.Z)("/");return o(e,t)?e.substr(t.length-1):e}},887831:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);let o=null,s=!1,r=0;const a=()=>{o&&clearTimeout(o),s=!0,o=setTimeout((()=>{s=!1}),100)},l=()=>{const[e,t]=(0,i.useState)(!1),n=(0,i.useRef)(null);(0,i.useEffect)((()=>(0===r&&window.addEventListener("scroll",a),r+=1,()=>{n.current&&clearTimeout(n.current),r-=1,r||window.removeEventListener("scroll",a)})),[]);const o=e=>{n.current&&clearTimeout(n.current),n.current=e&&s?setTimeout((()=>o(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,i.useRef)({onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1)}).current}}},829407:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);const o=e=>{(0,i.useEffect)(e,[])}},644035:(e,t,n)=>{n.d(t,{GW:()=>o,RL:()=>i,s4:()=>s});const i="ios",o="android",s="ipad"},134906:(e,t,n)=>{n.d(t,{Bh:()=>d,C9:()=>v,CB:()=>_,CU:()=>r,FU:()=>E,GT:()=>a,Gy:()=>g,J_:()=>S,Jx:()=>p,MZ:()=>f,VC:()=>h,VG:()=>l,ZA:()=>c,Zt:()=>m,a3:()=>C,aH:()=>s,h7:()=>P,nw:()=>y,oR:()=>x,qA:()=>u,qp:()=>A,sG:()=>b,vd:()=>I,xk:()=>w});var i=n(89254);const o=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach(((e,i)=>{const o=t[e];o&&(n[i]=o)})),n.join("")};function s(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}const r=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function a(e){return function(t,n){const i=[];(t=t&&t.trim()).match(r)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function l(e){return function(t,n){const i=[];(t=t&&t.trim()).match(/^[^0-9].*$/)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function c(e){return function(t,n){const i=[];if(t){const n=parseInt(t,10);Number.isNaN(n)?i.push(e.invalidAgeString):(e.ageTooShortString&&n<10&&i.push(e.ageTooShortString),n<=0||n>120?i.push(e.invalidAgeString):e.checkUnderAgeWithString&&n<13&&i.push(e.checkUnderAgeWithString))}const o={errors:i,warnings:[]};return n&&n(o),o}}function d(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],s=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!s||o.push(e.message);const r={errors:o,warnings:[]};return n&&n(r),r}}function u(e){return function(t,n){const i=/^\d+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&s.push(e.message));const r={errors:s,warnings:[]};return n&&n(r),r}}function h(e){return function(t,n){const i=/^[\d\ -]+$/,s=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=o(t))&&!t.match(i)&&s.push(e.message));const r={errors:s,warnings:[]};return n&&n(r),r}}const _=e=>!!e.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi);function p(e){return function(t,n){const i=[];t&&!_(t)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function m(e){return function(t,n){const o=[];if(t)try{const n=(0,i.Z)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||o.push(e.message)}catch(r){o.push(e.message)}const s={errors:o,warnings:[]};return n&&n(s),s}}function g(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const o=t.length;e.min&&o<e.min?i.push(e.minErrorString):e.max&&o>e.max&&i.push(e.maxErrorString);const s={errors:i,warnings:[]};return n&&n(s),s}}function f(e){return function(t,n){const i=!e.checkExclusion,o=e.substrings,s=[];(i&&!o.some((e=>t.includes(e)))||!i&&o.some((e=>t.includes(e))))&&s.push(e.message);const r={errors:s,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function y(e){return function(t,n){const i=[];(t?parseFloat(t):0)<e.value&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function v(e){return function(t,n){const i=new Date(t),o=[];e.date instanceof Date&&i instanceof Date&&e.date<i&&o.push(e.message);const s={errors:o,warnings:[]};return n&&n(s),s}}function x(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function w(e){return function(t,n){let i=2;if(e.hasFractionalCents)i=3;else if(e.currencyCode){const{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();i=t}const o=new RegExp(i?`^\\d*(\\.\\d{1,${i}})?$`:"^\\d*$"),s=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(o)&&(t=t&&t.trim(),s.push(e.message));const r={errors:s,warnings:[]};return n&&n(r),r}}function P(e){return function(t,n){const i=[];Number(t)>=1e13&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function S(e){return function(t,n){t=t&&t.trim();const i=[],o=new Date(t);t&&!o.getTime()&&i.push(e.message);const s={errors:i,warnings:[]};return n&&n(s),s}}function A(e){return function(t,n){const i=t&&t.trim(),o=[];i&&!i.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&o.push(e.message);const s={errors:o,warnings:[]};return n&&n(s),s}}function I(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function E(e,t){const n=e.map((e=>e(t).errors));return[].concat(...n)}function C(e,t){let n="";return t.some((t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)})),n}},43760:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(768559),o=n(102500),s=n(48714);function r({url:e,pinId:t,pin:n,location:r,auxData:a}){var l,c;const d={check_only:!0,client_tracking_params:n?(0,i.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(a)};(0,o.Z)(d).callGet().then((o=>{if(o&&o.resource_response&&!o.resource_response.error){const{resource_response:e}=o,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var l,c;const o=(0,i.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,s.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:o,auxData:a})}else(0,s.Gj)({url:e,pinId:t})}))}},869899:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>y,useRoleBasedAccessControlContext:()=>b});var i=n(667294),o=n(389643),s=n(784590),r=n(19121),a=n(773285),l=n(425288),c=n(70061);const d=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=d(e[n]));return t},u=(e,t)=>{const n=[];for(const s in e)s!==t&&n.push({id:s,...d(e[s])});const i=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),o=new Map;for(const s of i)o.set(s.id,s);return o};var h=n(622096);const _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,n]=(0,i.useReducer)(p,_),o=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:o,disableProfileChanger:s,headerVisible:r}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!s})}),[t,e,s]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!r})}),[t,e,r])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:s,orbacVisibility:r}=t;(0,i.useEffect)((()=>{const e=(0,h.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,h.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,h.Nh)("orbacVisibility",r)}),[r]),(0,i.useEffect)((()=>{(0,h.Nh)("orbacActiveProfile",s)}),[s]);return{state:t,actions:o,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:u(e,t)})}),[n])}};var g=n(785893);const{Provider:f,useMaybeHook:b}=(0,l.Z)("RoleBasedAccessControlContext"),y=({children:e})=>{const{checkExperiment:t}=(0,a.F)(),n=(0,r.Z)(),l=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:u}=m(l),{activeProfile:h,headerVisible:_,profiles:p=[]}=c,b=p?Array.from(p.values()):[],y=(0,o.Z)(b),v=!!(n.isAuth&&b.length>0)&&y,x=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:A,toggleHeaderVisibility:I}=d;(0,i.useEffect)((()=>{l&&("string"!=typeof y?h||P(x):P(y))}),[y,x,l,P,h]),(0,i.useEffect)((()=>{l&&(v&&!_&&I(!0),!v&&_&&I(!1))}),[I,v,l,_,p]);const{data:E}=(0,s.Z)(l?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),C=null==E?void 0:E.profiles;let k;n&&n.isAuth&&c.activeProfile===n.id?k={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:h&&c.profiles&&(k=c.profiles.get(h)),(0,i.useEffect)((()=>{C&&u(C,x)}),[u,C,x]);const j=c.profiles?Array.from(c.profiles.values()):[];return(0,g.jsx)(f,{value:{profiles:j,headerVisible:c.headerVisible,activeProfile:k,changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:A,toggleHeaderVisibility:I},children:e})}},717615:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(389643),o=n(773285),s=n(869899);const r=()=>{const{checkExperiment:e}=(0,o.F)(),t=(0,s.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,a=(0,i.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return r?l&&!a?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},389643:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664),o=n(19121),s=n(773285),r=n(53987),a=n(276775);const l=e=>{var t;const n=(0,a.useLocation)(),l=(0,o.Z)(),{anyEnabled:c}=(0,s.F)().checkExperiment("web_m10n_business_access_orbac_www"),d=(0,a.useRouteMatch)("/:username"),u=null==d||null===(t=d.params)||void 0===t?void 0:t.username,h=(0,a.useRouteMatch)("/pin/:id"),_=(0,i.useSelector)((e=>{var t,n,i,o;return!(null==h||null===(t=h.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(i=n[h.params.id])||void 0===i||null===(o=i.pinner)||void 0===o?void 0:o.id)}));if((0,r.ej)(n))return!1;if((0,r.RU)(n))return!0;if((0,r.mY)(n))return c;const p=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&u||_&&n)&&(i===u||_===n)}));return!!p&&p.id}},231947:(e,t,n)=>{n.d(t,{D3:()=>c,DX:()=>a,KY:()=>d,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>s,nl:()=>o,q6:()=>l});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},a=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),c=(e,t,n)=>!!(l(e,t,n)||e&&e.isAuth&&t===e.id),d=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return c(e,i,n)};function u(e,t,n){const i=t?t.id:"";return c(e,i,n)}},494349:(e,t,n)=>{n.d(t,{g:()=>_,I:()=>h});var i=n(667294),o=n(567450),s=n(150361),r=n.n(s);const a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:o,currentTime:s,inVideoGridAutoplayExp:a}=n,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:c,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=l,h=r()(d),_=r()(u);return!o&&c&&a?e:(o?h[i]={pinId:i,currentTime:s,paused:!1}:_[i]={pinId:i,currentTime:s,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:o?c:i,promotedVideosAutoplaying:h,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:o,currentTime:s}=n,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=a,d=r()(l),u=r()(c);return o?d[i]={...d[i],paused:!0,currentTime:s}:u[i]={...u[i],paused:!0,currentTime:s},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=n(425288),d=n(785893);const{Provider:u,useHook:h}=(0,c.Z)("AppUI");function _({children:e}){const[t,n]=(0,i.useReducer)(l,a),s=(0,i.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),r=(0,i.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),h=(0,i.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),_=(0,i.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),p=(0,i.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),m=(0,i.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,i.useMemo)((()=>({pauseAutoplay:s,setCurrentVideo:c,setFooterPlusButtonVisible:h,setIsAutoplay:_,setViewportSize:p,toggleTypeaheadOverlay:m,setAppFocusState:r,appUI:t})),[s,c,h,_,p,m,r,t]);return(0,i.useEffect)((()=>{o.Z.onSessionResume((()=>{r(!0)})).onSessionPause((()=>{r(!1)}))}),[r]),(0,d.jsx)(u,{value:g,children:e})}},758523:(e,t,n)=>{n.d(t,{$:()=>s,B:()=>o});var i=n(425288);const{Provider:o,useHook:s}=(0,i.Z)("SurfaceContext",{surface:"Unknown"})},307640:(e,t,n)=>{n.d(t,{UP:()=>a,Wv:()=>o,ZF:()=>i,zI:()=>s,zl:()=>r});const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],o=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],s=[...o,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],a=["BaseBoardPinGrid"]},87732:(e,t,n)=>{n.d(t,{a:()=>u,S:()=>d});var i=n(667294),o=n(6637);const s={boardMap:{}};function r(e=s,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){const{payload:{boardId:n,blockingActions:i}}=t;let o=null,s=null;const r={};return i.forEach((({section_id:e,progress:t,id:n,created_timestamp:i})=>{const a={id:n,createdAt:i,progress:t};e?"-1"===e?o=a:r[e]=a:s=a})),{...e,boardMap:{...e.boardMap,[n]:{wholeBoard:o,unorganized:s,sectionMap:r}}}}return e}var a=n(425288),l=n(785893);const{Provider:c,useMaybeHook:d}=(0,a.Z)("BlockingAction");function u({children:e}){const[t,n]=(0,i.useReducer)(r,s),a=(0,i.useCallback)((e=>function(e){return o.Z.create("BoardActionStatusResource",{board_id:e}).callGet({showError:!1}).then((e=>new Promise(((t,n)=>{const i=e&&e.resource_response&&e.resource_response.data&&e.resource_response.data.blocking_actions;i?t(i):n(new Error("No blocking actions found in the response"))}))))}(e).then((t=>(n({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)))),[]),d=(0,i.useMemo)((()=>({blockingActions:t,fetchBlockingActions:a})),[t,a]);return(0,l.jsx)(c,{value:d,children:e})}},901410:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(250059),s=n(298361),r=n(898781),a=n(349700),l=n(883119),c=n(785893);function d({invite:e,handleInviteResponse:t}){const n=(0,r.ZP)(),d=(0,s.Z)(),{url:u,name:h,image_cover_url:_}=e.board||{},{full_name:p}=e.invited_by_user||{},m=(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(l.xu,{paddingX:0,marginEnd:2,children:(0,c.jsx)(l.zx,{fullWidth:!0,color:"gray",text:n._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request'),onClick:()=>t(!1),size:"lg"})}),(0,c.jsx)(l.xu,{paddingX:0,children:(0,c.jsx)(l.zx,{fullWidth:!0,color:"red",text:n._('Accept', 'accept board invite', 'accept board invite'),onClick:()=>t(!0),size:"lg"})})]}),g=(0,o.Z)(u);return(0,c.jsx)(l.xu,{marginTop:6,marginBottom:8,padding:6,rounding:6,borderStyle:"shadow",children:(0,c.jsx)(l.iP,{role:"link",href:g,tapStyle:"none",children:(0,c.jsxs)(l.xu,{display:"flex",direction:"row",marginBottom:0,children:[(0,c.jsx)(l.xu,{position:"relative",marginEnd:0,children:(0,c.jsx)(l.zd,{width:48,height:48,rounding:2,children:(0,c.jsx)(l.Ee,{alt:h||"",naturalWidth:40,naturalHeight:40,src:_,fit:"cover"})})}),(0,c.jsxs)(l.xu,{display:"flex",flex:"grow",direction:"column",column:6,paddingX:2,children:[(0,c.jsx)(l.xv,{size:"300",children:(0,a.nk)(n._('{{ inviterFullName }} invited you to join the board {{ board }} {{ age }}', 'intro text for invitation on profile page', 'inviterFullName: full name of user, board: board name,age: time since creation, Profile page intro text for invitation'),{inviterFullName:p,board:(0,c.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(l.rU,{inline:!0,href:g,tapStyle:"none",underline:"hover",children:h})}),age:(0,c.jsx)(l.xv,{inline:!0,color:"subtle",children:d(e.created_at,!0)})})}),(0,c.jsx)(l.xu,{display:"flex",marginTop:2,children:m})]})]})})})}},479301:(e,t,n)=>{n.d(t,{i5:()=>v,sX:()=>P,aX:()=>x,Z5:()=>y,NG:()=>w,MT:()=>S,iu:()=>A});var i=n(667294),o=n(6637),s=n(802201),r=n(682492),a=n.n(r);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const o=t(i);return n[o]?(a()(n[o],i),e):(n[o]=i,e.concat([i]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,n){let i=l(e,t).concat(n);return i=c(i,(e=>e.id)),d(i)}const h={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function _(e=h,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:o}=t.payload,s=o.resource_response.data;if("ConversationMessagesResource"===i){const t=s||[],i=(null==n?void 0:n.conversation_id)||"",o=u(e,i,t),r=o[o.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:o,unread:0,last_message:r}}}}if("ConversationsResource"===i){const t=s||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:o,board:s,emails:r,unread:a,users:l,last_message:c}=e,d=u(n,t,[c]);n.data[t]={...n.data[t],id:t,created_at:i,name:o,board:s,emails:r||[],unread:a||0,users:l||[],last_message:c,messages:d}})),n}if("ConversationResource"===i){const t=s||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(s){const t=s.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;return e.data[n]?{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,i]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:n,tempMessage:i,newMessage:o}=t.payload;if(e.data[n]){if(l(e,n).find((e=>e.id===i.id&&e.created_ms===i.created_ms))){let t=l(e,n).filter((e=>e.id!==i.id)).concat([o]);return t=c(t,(e=>e.id)),t=d(t),{...e,data:{...e.data,[n]:{...e.data[n],last_message:o,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:n,tempMessageId:i}=t.payload;if(e.data[n]){const t=l(e,n).filter((e=>e.id!==i));return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:n,position:i}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:i}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:null}}}}}return e}var p=n(425288),m=n(505920),g=n(785893);const f=(()=>{let e=0;return()=>e++})(),{Provider:b,useHook:y}=(0,p.Z)("Conversations");function v({children:e}){const[t,n]=(0,i.useReducer)(_,h),s=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",s),(0,m.my)("ConversationMessagesResource",s),(0,m.Z8)("ConversationsResource",s),(0,m.Z8)("ConversationResource",s),(0,m.Z8)("NewsHubBadgeResource",s);const r=(0,i.useCallback)(((e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}})),[]),a=(0,i.useCallback)(((e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}})),[]),l=(0,i.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,i.useCallback)(((e,t)=>n({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),u=(0,i.useCallback)((e=>n({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),p=(0,i.useCallback)(((e,t,i)=>{o.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))}),[]),f=(0,i.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),y=(0,i.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),v=(0,i.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),x=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),w=(0,i.useCallback)(((e,t,i)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}})),[]),P=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),S=(0,i.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),A=(0,i.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),I=(0,i.useCallback)((e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),E=(0,i.useMemo)((()=>({clearMessageBadge:I,conversationOpen:r,conversationClose:a,conversationCreate:l,conversationDelete:c,conversationGet:p,saveConversationPosition:d,resetConversationPosition:u,dropdownClose:f,dropdownOpen:y,newMessageOpen:v,pendingMessageSend:x,pendingMessageSuccess:w,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:A,conversations:t})),[I,r,a,l,c,p,d,u,f,y,v,x,w,P,S,A,t]);return(0,g.jsx)(b,{value:E,children:e})}function x(){const{conversationCreate:e}=y();return async t=>{let n;const i=o.Z.create("ConversationsResource",t);try{var s;const t=null===(s=(await i.callCreate()).resource_response)||void 0===s?void 0:s.data;t&&(e(t),n=t)}catch(r){throw new Error(r.message)}return n}}function w(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:i,pendingMessageFailure:r}=y(),a=(0,s.AF)();return async(s,l,c,d)=>{const{text:u,pinId:h,boardId:_,userId:p,didItId:m}=l;async function g(){const e=o.Z.create("ConversationMessagesResource",{conversation_id:s,text:u,pin:h,board:_,user:p,user_did_it_data:m,source:c}),t=`${f()}`,l={text:u,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,pin:h?a[h]:null,type:"tempMessage"};n(s,l);try{var g;const t=null===(g=(await e.callCreate()).resource_response)||void 0===g?void 0:g.data;t&&i(s,l,t)}catch(b){throw r(s,t),new Error(b.message)}}if(e.data[s])await g();else{const e=o.Z.create("ConversationResource",{conversation_id:s});try{var b;const n=null===(b=(await e.callGet()).resource_response)||void 0===b?void 0:b.data;n&&(t(n),await g())}catch(y){throw new Error(y.message)}}}}function P(e){const{conversations:t}=y();return t.data[e]}function S(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function A(){const{conversations:{data:e}}=y(),t=(n=e,Object.keys(n).map((e=>n[e]))).filter((e=>e.users&&e.last_message));var n,i;return i=t,Array.from(i).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},545062:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(667294),o=n(702664),s=n(694379),r=n(898781),a=n(349700),l=n(883119),c=n(785893);const d=({followText:e,followerCount:t,userFollowed:n})=>{const i=(0,r.ZP)();return(0,a.nk)(i._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,c.jsx)(l.xu,{"data-test-id":"followCount",paddingX:1,opacity:n?void 0:.8,children:(0,c.jsx)(l.xv,{color:n?"subtle":"inverse",children:(0,c.jsx)(s.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,c.jsx)(l.xu,{"data-test-id":"followText",paddingX:1,children:(0,c.jsx)(l.xv,{color:n?"default":"inverse",weight:"bold",children:e})},"followText")})};var u=n(704177),h=n(829407),_=n(602574),p=n(11363),m=n(584595),g=n(407043),f=n(918301),b=n(281180),y=n(480622),v=n(946984),x=n(343341),w=n(5226);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.PureComponent{constructor(...e){super(...e),P(this,"handleButtonClick",(({event:e})=>{const{requireAuth:t,i18n:n,userFollowed:i}=this.props;if(t)return e.stopPropagation(),void t({loginModalHeader:(0,p.N4)({i18n:n,toFollow:!i})});const{shouldStopEventPropagation:o,loggingData:s}=this.props;o&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...s||Object.freeze({})}),this.toggleFollowUnfollow()})),P(this,"handleClick",(({event:e})=>{const{requireAuth:t}=this.props;(t||this.props.shouldStopEventPropagation)&&e.stopPropagation(),t?t():this.toggleFollowUnfollow()})),P(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:n,userFollowed:i,viewType:o,viewParameter:s}=this.props;i?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:o,view_parameter:s,aux_data:{pin_id:t},...n||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:o,view_parameter:s,aux_data:{pin_id:t},...n||Object.freeze({})}),this.follow())})),P(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:n,mostRecentPinId:i,setMostRecentPinId:o}=this.props;e(t,i,this.showConfirmation,this.showError),n&&n(!0),o(null)})),P(this,"showToast",(e=>{const{id:t,imageUrl:n,profileUrl:i,toastManagerContext:o,suppressToasts:s}=this.props;s||o.showOneToast((({hideToast:o})=>(0,c.jsx)(_.Z,{href:i,userId:t,imageUrl:n,handleHide:o,text:e})))})),P(this,"showConfirmation",(()=>{const e=(0,c.jsx)(l.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')});this.showToast(e)})),P(this,"showError",(e=>{const{fullName:t,userFollowed:n,showEmailVerificationReminderModal:i}=this.props,o=n?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(e&&e.api_error_code===m.H9)return void i();const s=(0,c.jsx)(l.xv,{children:(0,a.nk)(o,{usernameComponent:(0,c.jsx)(l.xv,{weight:"bold",inline:!0,children:t})})});this.showToast(s)})),P(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:n,mostRecentPinId:i,setMostRecentPinId:o}=this.props;n(e,i,(()=>{}),this.showError),t&&t(!1),o(null)}))}renderButton(){const{button:e,followerCount:t,inline:n=!1,isOwnProfile:i,invertButtonColor:o,isSecondaryButton:s,size:r,showFollowerCount:a,userFollowed:u}=this.props,h=u?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:h,onClick:this.handleButtonClick,userFollowed:u});if(i)return(0,c.jsx)(l.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(a){const e="number"==typeof t?(0,c.jsx)(d,{followerCount:t,userFollowed:u,followText:h}):h;return(0,c.jsx)(l.iP,{onTap:this.handleClick,children:(0,c.jsx)(l.xu,{color:u?"secondary":"primary",rounding:2,paddingX:3,paddingY:3,children:(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,c.jsx)(l.xu,{display:"inlineBlock","data-test-id":`user-${u?"unfollow":"follow"}-button`,children:(0,c.jsx)(l.zx,{accessibilityLabel:u?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:s||u?"gray":"red",selected:o?!u:!!u,fullWidth:n,onClick:this.handleButtonClick,size:null!=r?r:void 0,text:h})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,c.jsxs)(l.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,c.jsx)(l.iP,{onTap:this.handleClick,children:(0,c.jsx)(l.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,c.jsx)(l.o3,{paused:t||!1})})})]})}}function A(e){const{logContextEvent:t}=(0,g.v)(),n=(0,r.ZP)(),{id:i,setMostRecentPinId:s}=(0,y.f)(),a=(0,v.Z)(),l=(0,o.useDispatch)(),{showEmailVerificationReminderModal:d}=(0,f.y9)(),_=(0,b.mN)()(e.id),p=null==_?void 0:_.follower_count,m=_?_.explicitly_followed_by_me:e.userFollowed;return(0,h.Z)((()=>{const{id:t}=e,n=u.ZP.localStorage.getItem("unauthDesktopFollowId")||"";n&&n===t&&(u.ZP.localStorage.removeItem("unauthDesktopFollowId"),l((0,w.ZN)(n)))})),(0,c.jsx)(S,{...e,follow:(e,t,n,i)=>{l((0,w.yA)(e,t)).then(n).catch((e=>{i(e)}))},followerCount:p,i18n:n,logContextEvent:t,mostRecentPinId:i,requireAuth:a,setMostRecentPinId:s,showEmailVerificationReminderModal:d,toastManagerContext:(0,x.F9)(),unfollow:(e,t,n,i)=>{l((0,w.KF)(e,t)).then(n,i)},userFollowed:m})}},91214:(e,t,n)=>{n.d(t,{HW:()=>r,YW:()=>u,i3:()=>h,o2:()=>d});var i=n(667294),o=n(425288),s=n(785893);const r=660,a={educationId:null,paddingRight:0,zIndex:r};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:i}=t.payload;return{...e,paddingRight:i};case"FOOTER_SET_Z_INDEX":const{zIndex:o}=t.payload;return{...e,zIndex:o};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,o.Z)("footerContext");function h({children:e}){const[t,n]=(0,i.useReducer)(l,a),o=(0,i.useCallback)((e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),r=(0,i.useCallback)((e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,i.useCallback)((e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,i.useMemo)((()=>({...t,setEducationId:r,setPaddingRight:o,setZIndex:d})),[t,r,o,d]);return(0,s.jsx)(c,{value:u,children:e})}},934523:(e,t,n)=>{n.d(t,{L1:()=>s,Rz:()=>l,WZ:()=>r,cI:()=>o,fe:()=>a,hu:()=>i});const i=64,o=80,s=22,r="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},480622:(e,t,n)=>{n.d(t,{C:()=>l,f:()=>a});var i=n(667294),o=n(425288),s=n(785893);const{Provider:r,useHook:a}=(0,o.Z)("MostRecentPin");function l({children:e}){const[t,n]=(0,i.useState)(),[o,a]=(0,i.useState)(),l=(0,i.useCallback)((e=>{const t=o?o.slice(0,10):[],n=[e].concat(t.filter((t=>t!==e)));a(n)}),[o]),c=(0,i.useMemo)((()=>({id:t,plpImageSignatures:o,setMostRecentPinId:n,setMostRecentPinImage:l})),[t,o,l]);return(0,s.jsx)(r,{value:c,children:e})}},256883:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var i,o,s,r=n(319915),a=n(116303),l=n(985913),c=n(70598),d=n(499128),u=n(50286),h=n(898781),_=n(349700),p=n(780280),m=n(343341),g=n(883119),f=n(167912),b=n(785893);const y=void 0!==i?i:i=n(896355),v=({follower:e,viewerId:t,viewParameter:i,viewType:r})=>{const v=(0,h.ZP)(),x=(0,u.ZP)(),w=(0,f.useFragment)(y,e),{fullName:P,entityId:S,username:A,imageMediumUrl:I,imageXlargeUrl:E,explicitlyFollowedByMe:C,verifiedIdentity:k}=w,j=`/${String(A)}/`,{isRTL:T}=(0,p.B)(),{showOneToast:R}=(0,m.F9)();let O="";P&&P.length>0&&(O=P.length<=15?P:`${P.substring(0,15)}...`);const L=void 0!==o?o:o=n(382375),z=void 0!==s?s:s=n(200722),[D,F]=(0,f.useMutation)(L),[M,N]=(0,f.useMutation)(z),Z=F||N,B=()=>{C?M({variables:{followee:S}}):(D({variables:{followee:S}}),"desktop"===x&&R((({hideToast:e})=>(0,b.jsx)(d.ZP,{onHide:e,text:(0,b.jsx)(g.xv,{children:(0,_.nk)(v._('Now following {{ fullName }}', 'ProfileUserRepGraphQL.Toast.FullName', 'Text that comes before a board/user name in toast. fullName: user full name'),{fullName:(0,b.jsx)(g.xv,{weight:"bold",children:P})})}),href:j,imageUrl:null!=I?I:""}))))},U=A?`/${encodeURIComponent(A)}/`:"/",H=(0,l.Z)(v._('{{ pinnerFullName }} profile link', 'profileFollowers.link.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!=P?P:""});return(0,b.jsx)(g.xu,{"data-test-id":"user-rep",display:"flex",justifyContent:"center",paddingX:2,height:75,position:"relative",children:(0,b.jsxs)(g.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:["desktop"===x?(0,b.jsx)(g.xu,{width:72,children:(0,b.jsx)(g.rU,{accessibilityLabel:H,href:j,children:(0,b.jsx)(a.Z,{accessibilityLabel:"",name:null!=P?P:"",size:"lg",src:null!=E?E:void 0,verified:Boolean(null==k?void 0:k.verified)})},`${j}:avatar`)}):(0,b.jsx)(g.xu,{paddingX:2,children:(0,b.jsx)(g.HE,{accessibilityLabel:v._('User`s Avatar', 'User`s Avatar', 'User`s Avatar'),role:"link",href:U,collaborators:[{name:P||"",src:null!=I?I:void 0}],size:"sm"})}),(0,b.jsx)(g.xu,{paddingX:2,children:(0,b.jsx)(g.xv,{weight:"desktop"===x?"bold":void 0,children:(0,b.jsx)(g.rU,{href:U,rounding:2,tapStyle:"compress",children:O})})}),(0,b.jsx)(g.xu,{paddingX:3,position:"absolute",left:T,right:!T,children:(0,b.jsx)(c.Z,{id:S,disabled:Z,size:"md",isFollowed:C||!1,isUserFollowButton:!0,isUserMe:!!t&&t===S,onFollow:B,onUnfollow:B,followEventType:45,unfollowEventType:46,viewParameter:i,viewType:r})})]})})};var x,w=n(19121);const P=()=>window;function S({scrollContainer:e,userReference:t}){var i,o,s;const r=(0,u.ZP)(),{data:a,loadNext:l,hasNext:c}=(0,f.usePaginationFragment)(void 0!==x?x:x=n(44438),t),{id:d}=(0,w.Z)(),h=(null===(i=a.followers)||void 0===i||null===(o=i.connection)||void 0===o||null===(s=o.edges)||void 0===s?void 0:s.map((e=>null==e?void 0:e.node)).filter(Boolean))||[];let _=300;"desktop"===r&&(_=e?535:600);const p=!!h&&(0,b.jsx)(g.Rk,{columnWidth:_,Item:({data:e})=>e?(0,b.jsx)(v,{follower:e,viewerId:d,viewType:4,viewParameter:50}):null,gutterWidth:0,items:null!=h?h:[],layout:"desktop"===r?"uniformRow":"flexible",loadItems:()=>{c&&l(10)},minCols:1,scrollContainer:null!=e?e:P,virtualize:!0});return"desktop"===r?(0,b.jsx)(g.kC,{justifyContent:"center",children:(0,b.jsx)(g.kC.Item,{maxWidth:_,children:p})}):p}var A,I=n(947599),E=n(430323),C=n(784590),k=n(276775),j=n(81636);const T=void 0!==A?A:A=n(958045),R=({scrollContainer:e,userId:t})=>{var n;const i=(0,f.useLazyLoadQuery)(T,{userId:t}),{data:o}=null!==(n=i.v3GetUserHandlerQuery)&&void 0!==n?n:{};return(0,j.Q)(o?{view_type:4,view_parameter:50}:null),o?(0,b.jsx)(E.Z,{view:4,component:223,children:(0,b.jsx)(g.xu,{"data-test-id":"profile-followers-feed",paddingY:2,children:(0,b.jsx)(S,{scrollContainer:e,userReference:o})})}):null};function O({scrollContainer:e}){const t=(0,h.ZP)(),{username:n}=(0,k.useParams)(),{data:i}=(0,C.Z)({name:"UserResource",options:{field_set_key:"profile",username:n}});return null!=i&&i.id?(0,b.jsx)(r.Z,{name:"SafeSuspense_ProfileFollowersControllerGraphQL_ProfileFollowersController",children:(0,b.jsx)(I.Z,{fallback:(0,b.jsx)(g.xu,{padding:5,children:(0,b.jsx)(g.$j,{accessibilityLabel:t._('Loading profile followers list', 'profile.ProfileFollowersControllerGraphQL.loading', 'accessibility label for profile followers loading spinner'),show:!0})}),children:(0,b.jsx)(R,{scrollContainer:e,userId:i.id})})}):null}},812446:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(545846),o=n(112690),s=n(785893);function r(e){return t=>{const n=(0,o.Z)();return(0,s.jsx)(i.Z,{ref:t.shareButtonRef,Subject:e,logContextEvent:n,...t})}}},545846:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(482981),s=n(451204),r=n(121151),a=n(837727),l=n(946984),c=n(883119),d=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=new c.Ry(1),_=({children:e})=>e((0,l.Z)());class p extends i.Component{constructor(...e){super(...e),u(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),u(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),u(this,"flyoutProps",(()=>{var e;const{gridDescription:t,idealDirection:n,imageSrc:i,pinId:r,userId:l,board:c,sendType:u,fullName:h,profileUrl:_,element:p,viewParameter:m,viewType:g,onExternalSend:f,showCaret:b,todayArticle:y,ownerId:v}=this.props;let x={description:t,id:r,imageUrl:i,name:"",type:a.d.PIN,url:`/pin/${r}/`,ownerId:v},w=a.d.PIN;switch(u){case"user":x={description:t,id:l,imageUrl:i,name:h,type:a.d.PINNER,url:_},w=a.d.USER;break;case"board":x=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:a.d.BOARD,url:c.url,ownerId:null===(e=c.owner)||void 0===e?void 0:e.id},w=a.d.BOARD;break;case"today_article":x=y&&{description:y.subtitle||"",id:y.id,imageUrl:i,name:y.title,type:a.d.TODAY_ARTICLE,url:(0,o.Z)(y)},w=a.d.TODAY_ARTICLE}const P={element:p,onHide:this.onHide,onExternalSend:f,sendType:w,sharedObject:x,viewParameter:m,viewType:g};return{anchor:this.flyoutAnchor,idealDirection:n,onDismiss:this.handleDismiss,showCaret:b,children:(0,d.jsx)(s.default,{...P})}}))}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:n,userId:i,logContextEvent:o}=this.props;"user"===n&&o({event_type:101,component:13675,element:1079,object_id_str:i,view_type:4,view_parameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i,shownWithinProfileHeader:o}=this.props,{anchor:s,idealDirection:a,showCaret:l,children:u}=this.flyoutProps(),p=(0,d.jsx)(c.xu,{children:(0,d.jsx)(_,{children:t=>(0,d.jsx)(e,{handleSendShareFlyoutButtonClick:e=>{t?t():(null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle())},...this.props})})}),m=n&&(i||o?(0,d.jsx)(c.mh,{zIndex:o?h:void 0,children:(0,d.jsx)(c.xu,{zIndex:t?r.b7:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,d.jsx)(c.J2,{anchor:s,idealDirection:a,onDismiss:()=>{this.handleDismiss()},showCaret:l,size:"flexible",positionRelativeToAnchor:!1,children:u})})}):(0,d.jsx)(c.J2,{anchor:s,idealDirection:a,onDismiss:()=>{this.handleDismiss()},showCaret:l,size:"flexible",children:u}));return(0,d.jsxs)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[p," ",m]})}}u(p,"defaultProps",{idealDirection:"down",onClick:()=>{}})},711108:(e,t,n)=>{n.d(t,{l:()=>d,E:()=>c});var i=n(667294),o=n(425288);function s(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:o}=t;if("ShareSuggestionsResource"===o.resource){var n;const i=t.payload.response.resource_response.data||[],{term:s=""}=null!==(n=o.options)&&void 0!==n?n:{};return{...e,[s]:i}}if("ShareSuggestionsTypeaheadResource"===o.resource){var i;const n=(t.payload.response.resource_response.data||{}).items||[],{term:s=""}=null!==(i=o.options)&&void 0!==i?i:{};return{...e,[s]:n}}}return e}var r=n(505920),a=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("ShareSuggestions");function d({children:e}){const[t,n]=(0,i.useReducer)(s,{}),o=e=>{n({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,r.Z8)("ShareSuggestionsResource",o),(0,r.Z8)("ShareSuggestionsTypeaheadResource",o);const c=(0,i.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,a.jsx)(l,{value:c,children:e})}},643074:(e,t,n)=>{n.d(t,{Z:()=>f,s:()=>g});var i=n(667294),o=n(121151),s=n(608575),r=n(898781),a=n(349700),l=n(966113),c=n(883119),d=n(785893);const u=()=>{var e;const t=(0,r.ZP)(),{dismissWarning:n}=null!==(e=g())&&void 0!==e?e:{};return(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},h=()=>{const e=(0,r.ZP)();return(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(c.rU,{target:"blank",href:l.KhJ,inline:!0,underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},_=({message:e,sanitized_url:t})=>{var n;const i=(0,r.ZP)(),{dismissWarning:l}=null!==(n=g())&&void 0!==n?n:{};return(0,d.jsx)(o.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:l,heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,d.jsx)(u,{}),children:(0,d.jsxs)(c.xu,{padding:6,children:[(0,d.jsx)(c.xv,{children:(0,a.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(h,{},"learnMoreLink")})}),(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(c.xu,{marginEnd:3,children:(0,d.jsx)(c.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:s.parse(t).hostname})]})]})})};var p=n(425288);const{Provider:m,useMaybeHook:g}=(0,p.Z)("SpammyClickthrough");function f({children:e}){const[t,n]=(0,i.useState)(null),o=(0,i.useCallback)((()=>{n(null)}),[n]),s=(0,i.useCallback)((e=>{n(e)}),[n]),r=(0,i.useMemo)((()=>({dismissWarning:o,showWarning:s})),[o,s]);return(0,d.jsxs)(m,{value:r,children:[t&&(0,d.jsx)(_,{...t}),e]})}},326015:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(993786),s=n(883119),r=n(785893);const a=function({badgeSize:e,badgeSpacing:t,fullName:n,identityIsVerified:a,isVerifiedMerchant:l,truncate:c=!1}){const d=n.split(" "),u=d.slice(0,d.length-1).join(" "),h=" ".concat(d[d.length-1]);return c?(0,r.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(s.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(s.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(o.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]}):(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h," ",(0,r.jsx)(s.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(o.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]})]})}},674806:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(112690),s=n(539497);const r=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:o,component:r,clientTrackingParams:a,element:l},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:o,component:r,clientTrackingParams:a,element:l},Object.keys(u).reduce(((e,t)=>(void 0!==u[t]&&(e[t]=u[t]),e)),{}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,s.My)("mweb.logging.null_view_type"),c(d)};function a(e){const{auxData:t,clientTrackingParams:n,children:s,component:a,element:l,objectIdStr:c,viewData:d,viewParameter:u,viewType:h}=e,_=(0,o.Z)(),p=JSON.stringify(t),m=JSON.stringify(d);return(0,i.useEffect)((()=>{r(e,_)}),[_,p,n,a,l,c,m,u,h]),i.Children.only(s)}},259986:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);function s(e){const{accessibilityLabel:t,bgColor:n,icon:s,onClick:r,selected:a,size:l}=e;return(0,o.jsx)(i.hU,{accessibilityLabel:t,bgColor:null!=n?n:"transparent",icon:s,iconColor:"darkGray",onClick:r,selected:a,size:null!=l?l:"lg"})}},2819:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(259986),s=n(883119),r=n(785893);function a({bgColor:e,children:t,icon:n,label:a,size:l,id:c}){const d=(0,i.useRef)(null),[u,h]=(0,i.useState)(!1),_=()=>h(!1);return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(s.xu,{ref:d,"data-test-id":c,children:(0,r.jsx)(o.Z,{accessibilityLabel:a,bgColor:e,icon:n,onClick:()=>h(!u),selected:u,size:l})}),u&&(0,r.jsx)(s.Lt,{id:"actionBarMenuButton",idealDirection:"down",anchor:d.current,onDismiss:_,zIndex:new s.Ry(1e3),children:t({handleClose:_})})]})}},976849:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(667294),o=n(702664),s=n(240684),r=n(558446),a=n(717615),l=n(19121),c=n(935409),d=n(87732),u=n(407043),h=n(50286),_=n(904411),p=n(782534),m=n(298361),g=n(898781),f=n(231947),b=n(883119),y=n(785893);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=(0,s.ZP)({resolved:{},chunkName:()=>"BoardEdit-BoardEditModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(53068),n.e(25243),n.e(71654)]).then(n.bind(n,684333)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 684333}}),w="write";class P extends i.Component{constructor(...e){super(...e),v(this,"state",{isEditModalOpen:!1}),v(this,"componentDidUpdate",(e=>{e.board.id===this.props.board.id&&e.progress&&e.progress<1&&(!this.props.progress||1===this.props.progress)&&this.props.updateBoard()})),v(this,"getSubtitleText",(()=>{const{board:e,boardOrder:t,layout:n}=this.props,i="list"===n;return e.archived_by_me_at?i?(0,y.jsx)("span",{children:this.props.getHumanizedTimeSince(e.archived_by_me_at)}):this.props.i18n._('Archived', 'profileBoardCard.footer.archived', 'Indicating that a board is archived'):!t||"newest"!==t&&"oldest"!==t?t&&"last_pinned_to"===t||i?this.props.getHumanizedTimeSince(null!==(s=e.board_order_modified_at)&&void 0!==s?s:"",!0):null:i?(0,y.jsx)("span",{children:(0,y.jsx)(p.Z,{dateFormatType:p.k.LONG,value:new Date(null!==(o=e.created_at)&&void 0!==o?o:"")})}):null;var o,s})),v(this,"handleBoardCardClick",(()=>{const{board:e,logContextEvent:t,isOwnProfile:n}=this.props;t({event_type:101,component:1,element:36,object_id_str:e.id,view_type:4,view_parameter:n?3106:3107,aux_data:{board_id:e.id,board_pin_count:e.pin_count}})})),v(this,"handleEditClick",(e=>{e.preventDefault(),e.stopPropagation();const{board:t,logContextEvent:n}=this.props;this.setState({isEditModalOpen:!0}),n({event_type:101,component:1,element:81,object_id_str:t.id,view_type:4})})),v(this,"handleEditClose",(()=>{this.setState({isEditModalOpen:!1})}))}render(){var e,t,n;const{board:o,forwardedRef:s,isAuthDesktop:a,isReordering:l,isOwnProfile:c,layout:d,onBoardArchiveChange:u,onBoardDelete:h,onBoardPrivacyChange:_,onBoardLeave:p,onBoardUpdate:m,slotIndex:g,viewer:v,orbacActingAs:P}=this.props,{isEditModalOpen:S}=this.state;if(!o)return null;const A=(0,f.D3)(v,null!==(e=null===(t=o.owner)||void 0===t?void 0:t.id)&&void 0!==e?e:"",P),I=(0,f.lJ)(v,P),{url:E}=o,C=I?`?orbac_subject_id=${I}`:"",k=c||(null===(n=o.access)||void 0===n?void 0:n.includes(w))||A,j=this.getSubtitleText();return(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(b.iP,{role:"link",onTap:this.handleBoardCardClick,href:`${null!=E?E:""}${C}`,ref:s,children:(0,y.jsx)(b.xu,{children:(0,y.jsx)(r.Z,{board:o,canEdit:k,isOwnProfile:c,isReordering:l,layout:d,onEditClick:this.handleEditClick,slotIndex:g,subtitle:j})})}),a&&S&&(0,y.jsx)(x,{boardId:o.id,onBoardArchiveChange:u,onBoardDelete:h,onBoardLeave:p,onBoardPrivacyChange:_,onBoardUpdate:m,onClose:this.handleEditClose})]})}}function S(e){var t;const{board:n}=e,{logContextEvent:i}=(0,u.v)(),s=(0,g.ZP)(),r=(0,m.Z)(),p=(0,a.Z)(),f=(0,l.Z)(),b=(0,o.useDispatch)(),v=((0,_.bn)()[n.id]||{}).images,{blockingActions:x}=null!==(t=(0,d.S)())&&void 0!==t?t:{},w=((x.boardMap[n.id]||{}).wholeBoard||{}).progress,S=f&&f.isAuth,A=(0,h.HG)()&&S;return(0,y.jsx)(P,{...e,i18n:s,viewer:f,orbacActingAs:p,getHumanizedTimeSince:r,logContextEvent:i,updateBoard:()=>b((0,c.oG)(n.id,"profile_grid_item")),images:v,progress:w,isAuthDesktop:A})}v(P,"defaultProps",{isOwnProfile:!1,isReordering:!1})},56291:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),o=n(702664),s=n(116303),r=n(70598),a=n(898781),l=n(326015),c=n(349700),d=n(883119),u=n(5226),h=n(785893);function _({isSelf:e,showVerified:t=!1,user:n={},onFollowChange:_}){const[p,m]=(0,i.useState)(n.explicitly_followed_by_me||!1),g=(0,o.useDispatch)(),f=(0,a.ZP)(),{domain_verified:b,full_name:y,is_verified_merchant:v,username:x}=n,w=n.image_medium_url||n.image_small_url;return(0,h.jsxs)(d.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1,paddingY:1,children:[(0,h.jsx)(d.xu,{flex:"grow",paddingX:1,children:(0,h.jsx)(d.iP,{role:"link",href:`/${x}/`,children:(0,h.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",gap:{row:2,column:0},children:[(0,h.jsx)(d.xu,{width:50,children:(0,h.jsx)(s.Z,{name:(0,c.nk)(f._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:y}).join(" "),src:null!=w?w:"",size:"fit"})}),(0,h.jsx)(d.xv,{weight:"bold",children:t&&(v||b)?(0,h.jsx)(l.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=y?y:"",identityIsVerified:b,isVerifiedMerchant:v}):y})]})})}),(0,h.jsx)(d.xu,{paddingX:1,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:(0,h.jsx)(r.Z,{followEventType:45,id:n.id,isFollowed:p,isUserMe:Boolean(e),onFollow:e=>{g((0,u.ZN)(e)),m(!0),_&&_(n,!0)},onUnfollow:e=>{g((0,u.fv)(e)),m(!1),_&&_(n,!1)},textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},993786:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var i=n(667294),o=n(898781),s=n(966113),r=n(883119),a=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,o.ZP)();return(0,a.jsx)(r.u,{link:(0,a.jsx)(r.rU,{href:s.vBy,target:"blank",children:(0,a.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:s,size:d}){const u=(0,o.ZP)(),h=(0,a.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(r.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),s&&(0,a.jsx)(r.xu,{marginStart:2,children:(0,a.jsx)(r.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,a.jsxs)(i.Fragment,{children:[n&&!t&&(0,a.jsx)(c,{children:h}),n&&t&&h,e&&!n&&(0,a.jsx)(r.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},91456:(e,t,n)=>{n.d(t,{GY:()=>r,LM:()=>l,h9:()=>c,r$:()=>a});var i=n(385740),o=n(909499);const s=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function r({query:e,scope:t}){return`${e}-${t}`}function a({query:e,rs:t,scope:n},s){const r=(0,i.BE)(),a=!(null!=r&&r.viewType||null!=r&&r.viewParameter),l=(0,o.wF)(n);if(!a&&l){const{viewType:n,viewParameter:i}=null!=r?r:{};s({event_type:l,view_type:n,view_parameter:i,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?s({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&s({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&s.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})};function c(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},409828:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(6637),s=n(774807),r=n(883119),a=n(407043),l=n(479301),c=n(785893);function d({children:e,flyoutDirection:t,userId:n}){const{logContextEvent:d}=(0,a.v)(),[u,h]=(0,i.useState)(!1),[_,p]=(0,i.useState)(""),m=(0,i.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,l.Z5)();return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({showSendMessageFlyout:()=>{h((e=>!e))}})}),u&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=_;p(""),h(!1),d({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=o.Z.create("ConversationsResource",{user_ids:[n],text:e}),i=await t.callCreate(),s=null==i?void 0:i.resource_response.data;g(s),f(s.id)},onDismiss:()=>h(!1),message:_})]})}},774807:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(499128),o=n(898781),s=n(934523),r=n(343341),a=n(883119),l=n(785893);function c({anchor:e,idealDirection:t,message:n,onDismiss:c,onMessageChange:d,onMessageSubmit:u}){const h=(0,o.ZP)(),{showOneToast:_}=(0,r.F9)();return(0,l.jsx)(a.mh,{zIndex:new a.Ry(s.fe-1),children:(0,l.jsx)(a.J2,{anchor:e,idealDirection:null!=t?t:"down",onDismiss:c,size:"md",children:(0,l.jsxs)(a.xu,{padding:3,width:"100%",children:[(0,l.jsx)(a.Kx,{id:"message",value:n,onChange:({value:e})=>d(e),placeholder:h._('Add a message', 'profileHeader.actionBar.messageFlyout.textareaPlaceholder', 'Text placeholder when sending a message to another user')}),(0,l.jsx)(a.xu,{marginTop:3,children:(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",text:h._('Send', 'profileHeader.actionBar.messageFlyout.sendButton', 'Label for button to send this message to this user'),disabled:""===n.trim(),onClick:()=>{!async function(){try{await u()}catch(e){e&&_((({hideToast:t})=>(0,l.jsx)(i.ZP,{variant:"error",onHide:t,text:e.message_detail||e.message||h._('Failed to create conversation.', 'SendMessageFlyout.errorToast.text', 'Error during message send from the share sheet')})))}}()}})})]})})})}},558446:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(564194),o=n(728375),s=n(785893);function r({board:e,isOwnProfile:t,slotIndex:n,...r}){var a,l,c;const d=t?3069:3070;return(0,s.jsx)(i.Z,{componentType:13669,contextLogData:{board_id:null!==(a=null==e?void 0:e.id)&&void 0!==a?a:"",board_pin_count:null!==(l=null==e?void 0:e.pin_count)&&void 0!==l?l:""},impressionType:"Board",loggingId:null!==(c=null==e?void 0:e.id)&&void 0!==c?c:"",slotIndex:n,viewParameter:d,viewType:4,children:(0,s.jsx)(o.Z,{board:e,...r,viewParameter:d,viewType:4})})}},132893:(e,t,n)=>{n.d(t,{F:()=>o,m:()=>s});const i={square:{width:236,height:157},wide:{width:320,height:213}};function o(e){return i["square"===e?"square":"wide"]}function s(e){return"list"===e?"100%":o(e).width+16}},31185:(e,t,n)=>{function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},848900:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>`${e}:${t||""}`},527885:(e,t,n)=>{n.d(t,{O:()=>a,Q:()=>l});var i=n(848900),o=n(414327),s=n(875495);const r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],a={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},o)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...o?{orbac_subject_id:o}:Object.freeze({})})},l=e=>r.reduce(((t,n)=>{const r=[(0,s.N8)("profileBoards",(0,i.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((i=>{r.push((0,o.jB)(a.name,a.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))}))})),t.concat(r)}),[])},907301:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);const s=(e,t)=>Array.from(new Array(t)).map(((t,n)=>(0,o.jsx)(i.xu,{width:e},n)));const r=function({children:e,itemWidth:t,maxColumns:n=12}){return(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[e,s(t,n)]})}},85719:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);function s({accessibilityLabel:e,color:t="darkGray",icon:n,info:s}){return(0,o.jsxs)(i.kC,{gap:{row:7,column:0},children:[(0,o.jsx)(i.JO,{accessibilityLabel:e,color:t,icon:n,size:20}),s]})}},766911:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(116303),o=n(300267),s=n(580496),r=n(898781),a=n(883119),l=n(785893);function c({onTouch:e,user:t,viewer:n}){const c=(0,r.ZP)(),{image_xlarge_url:d,username:u}=null!=t?t:{},h=(0,s.Z)(t),_=(0,o.Z)({viewer:n,user:t})||n.isAuth&&n.isEmployee,p=(0,l.jsx)(i.Z,{name:u,outline:h,size:"xl",src:null!=d?d:void 0});return _?(0,l.jsx)(a.iP,{accessibilityLabel:c._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:p}):p}},245635:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(887831),s=n(898781),r=n(883119),a=n(785893);function l(){const e=(0,s.ZP)(),{isHovering:t,hoverHandlers:{onMouseOver:n,onMouseLeave:l}}=(0,o.Z)(),c=(0,i.useRef)();return(0,a.jsxs)(r.xu,{display:"inlineBlock",onFocus:n,onBlur:l,onMouseOver:n,onMouseLeave:l,position:"relative",tabIndex:0,children:[(0,a.jsx)(r.xu,{display:"inlineBlock",ref:c,children:(0,a.jsx)(r.JO,{accessibilityLabel:t?"":e._('Claimed website', 'Claimed website icon', 'Claimed website icon'),color:"default",icon:"globe-checked",inline:!0,size:16})}),t&&(0,a.jsx)(r.J2,{anchor:c.current,color:"darkGray",idealDirection:"left",onDismiss:()=>{},shouldFocus:!1,size:"sm",children:(0,a.jsx)(r.xu,{column:12,padding:3,children:(0,a.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"100",children:e._('This website has been claimed', 'Tooltip for claimed website.', 'Tooltip for claimed website.')})})})]})}},348070:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),o=n(624389),s=n(898781),r=n(349700),a=n(407043),l=n(773285),c=n(81636),d=n(290095),u=n(883119),h=n(785893);function _({isOwnProfile:e,setShowMessageFlyout:t,showMessageFlyout:_,user:p}){var m;const{logContextEvent:g}=(0,a.v)(),f=(0,l.F)().checkExperiment("web_about_drawer").anyEnabled,b=(0,s.ZP)(),y=(0,i.useRef)(null),[v,x]=(0,i.useState)(!1),[w,P]=(0,i.useState)(),S=(0,d.V)(e,(null==p||null===(m=p.partner)||void 0===m?void 0:m.profile_place)||{},b._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),A=()=>{x(!1)},{id:I,partner:E}=null!=p?p:{},{contact_email:C="",contact_phone:k="",contact_phone_country:j="",enable_profile_address:T,enable_profile_message:R,profile_place:O={}}=null!=E?E:{},L=k?null==w?void 0:w(k,{defaultCallingCode:j&&"0"!==j.phone_code?j.phone_code:null}):null;(0,c.Q)({component:13673,element:11953,object_id_str:I,view_type:4,view_parameter:3107});const z=async()=>{if(x((e=>!e)),k&&!w){const e=await n.e(55302).then(n.bind(n,755302));P((()=>e.parsePhoneNumberFromString))}g({event_type:101,component:13673,element:11953,object_id_str:I,view_type:4,view_parameter:3107})},D=e=>{g({event_type:101,component:13674,element:e,object_id_str:I,view_type:48,view_parameter:3107})},F=C||L,M={contact:b._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:f?b._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'):b._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),message:b._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,r.nk)(b._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'contactEmail: Menu option to send an email to the user'),{contactEmail:C}),call:b._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!F&&!R)return null;const N=(0,d.T)(O||{});return(0,h.jsx)(o.Z,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:_,userId:I,children:({toggleSendMessageFlyout:e})=>(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(u.xu,{ref:y,children:(0,h.jsx)(u.zx,{onClick:()=>{F?z():e()},selected:v,size:"lg",text:M.contact})}),v&&(0,h.jsxs)(u.Lt,{id:"profileHeader_contactMenu",anchor:y.current,idealDirection:"up",onDismiss:A,children:[(0,h.jsxs)(u.Lt.Section,{label:M.sectionTitle,children:[R&&(0,h.jsx)(u.Lt.Item,{onSelect:()=>{e(),D(11956),A()},option:{label:M.message,value:M.message}}),C&&(0,h.jsx)(u.Lt.Link,{isExternal:!0,href:`mailto:${C}`,onClick:()=>{D(11954),A()},option:{label:M.email.join(""),value:M.email.join("")}}),L||k?(0,h.jsx)(u.Lt.Link,{isExternal:!0,onClick:({dangerouslyDisableOnNavigation:e})=>{D(11955),e(),A()},href:`tel:${L?L.getURI():k}`,option:{label:M.call,value:M.call}}):null]}),f&&T&&(0,h.jsx)(u.Lt.Section,{label:b._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,h.jsx)(u.Lt.Item,{onSelect:S,option:{label:N,value:N}})})]})]})})}},989405:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(898781),o=n(892819),s=n(349700),r=n(883119),a=n(780280),l=n(785893);function c({followerCount:e=0,followingCount:t=0,isOwnProfile:n,textSize:c="300",textWeight:d="bold",type:u}){const h=(0,i.ZP)(),{locale:_}=(0,a.B)(),p=(0,o.Z)(),m=p(_,e,{shortform:!0,shortform_maximum_fraction_digits:1}),g=p(_,t,{shortform:!0,shortform_maximum_fraction_digits:1}),f=n?(0,s.nk)(h.ngettext('{{ followerCountFormatted }} follower', '{{ followerCountFormatted }} followers', e, 'ProfilePage.followerCount.ownProfile', 'followerCountFormatted: number of followers you have'),{followerCountFormatted:m}):(0,s.nk)(h.ngettext('{{ followerCountFormatted }} follower', '{{ followerCountFormatted }} followers', e, 'ProfilePage.followerCount.othersProfile', 'followerCountFormatted: number of followers another profile has'),{followerCountFormatted:m}),b=n?(0,s.nk)(h.ngettext('{{ followingCountFormatted }} following', '{{ followingCountFormatted }} following', t, 'ProfilePage.followingCount.ownProfile', 'followingCountFormatted: number of profiles you are following'),{followingCountFormatted:g}):(0,s.nk)(h.ngettext('{{ followingCountFormatted }} following', '{{ followingCountFormatted }} following', t, 'ProfilePage.followingCount.othersProfile', 'followingCountFormatted: number of other profiles another user is following'),{followingCountFormatted:g});return(0,l.jsx)(r.xv,{color:"default",size:c,weight:d,children:"followers"===u?f:b})}},321886:(e,t,n)=>{n.d(t,{Z:()=>N});var i=n(27255),o=n(319915),s=n(667294),r=n(85719),a=n(939106),l=n(694379),c=n(898781),d=n(19121),u=n(349700),h=n(883119),_=n(785893);function p({count:e,onClick:t,variant:n}){const i=(0,c.ZP)(),{isAuth:o}=(0,d.Z)(),s=e<=0,r={followers:(0,u.nk)(i.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,_.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,u.nk)(i.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,_.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return o?(0,_.jsx)(h.xu,{"data-test-id":`profile-${n}-count`,display:"inlineBlock",children:(0,_.jsx)(h.iP,{disabled:s,onTap:()=>t(n),children:(0,_.jsx)(h.xv,{inline:!0,weight:s?"normal":"bold",children:r[n]})})}):(0,_.jsx)(h.xv,{inline:!0,children:r[n]})}function m({headingText:e,itemIndex:t,onDismiss:n,setItemIndex:i,showSegmentedController:o}){const r=(0,c.ZP)(),a=[r._('People', 'FollowersModalHeading.tabs.people', 'Tab for displaying Pinner follows'),r._('Boards', 'FollowersModalHeading.tabs.boards', 'Tab for displaying board follows')];return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsxs)(h.xu,{alignItems:"center",justifyContent:"center",display:"flex",position:"relative",marginStart:6,marginEnd:6,paddingY:6,children:[(0,_.jsx)(h.X6,{size:"500",children:(0,_.jsx)(h.kC,{alignItems:"center",justifyContent:"start",children:e})}),(0,_.jsx)(h.xu,{marginStart:"auto",position:"absolute",right:!0,children:(0,_.jsx)(h.hU,{accessibilityLabel:r._('Close modal', 'FollowersModal.closeModalButton', 'Accessibility label for button to close the modal'),icon:"cancel",onClick:n,iconColor:"gray",size:"md"})})]}),o&&(0,_.jsx)(h.xu,{paddingX:6,marginBottom:2,children:(0,_.jsx)(h.sY,{selectedItemIndex:t,items:a,onChange:({activeIndex:e})=>i(e)})})]})}var g=n(976849),f=n(907301),b=n(784590),y=n(132893);function v({layout:e,user:t}){const n=(0,c.ZP)(),i=(0,y.m)(e),o=(0,b.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:null==t?void 0:t.username}}),{data:r,fetchMore:a,isAtEnd:l,isFetching:d,isLoaded:u}=o;return(0,_.jsxs)(s.Fragment,{children:[u&&r&&(0,_.jsx)(f.Z,{itemWidth:i,children:r.map(((t,n)=>(0,_.jsx)(h.xu,{width:i,padding:2,children:(0,_.jsx)(g.Z,{board:t,slotIndex:n,layout:e})},t.id)))}),(0,_.jsx)(h.$j,{accessibilityLabel:n._('Loading additional boards', 'FollowingBoards.spinner.accessibilityLabel', 'Label for the loading state spinner in the Boards section of the Following page'),show:d||!u}),!l&&!d&&(0,_.jsx)(h.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:4,width:"100%",children:(0,_.jsx)(h.zx,{accessibilityLabel:n._('See more', 'FollowingBoards.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:d,onClick:a,text:n._('See more', 'FollowingBoards.moreButton.text', 'Button text to see more')})})]})}var x=n(121151),w=n(56291);const P="square",S=(0,y.m)(P),A="number"==typeof S?2*S+48:"md";function I({accessibilityModalLabel:e,followersResource:t,headingText:n,onDismiss:i,showSegmentedController:o,user:r}){const[a,l]=(0,s.useState)(t.data||[]),u=(0,c.ZP)(),{fetchMore:p,isAtEnd:g,isFetching:f}=t,[b,y]=(0,s.useState)(0),{id:S}=(0,d.Z)();(0,s.useEffect)((()=>{l(t.data||[])}),[t.data]);const I=(e,t)=>{const n=a.map((n=>(n.id===e.id&&(n.explicitly_followed_by_me=t),n)));l(n)},E=a&&a.length>0&&0===b&&a.map((e=>(0,_.jsx)(w.Z,{showVerified:!0,user:e,isSelf:e.id===S,onFollowChange:I},e.id)));return(0,_.jsxs)(x.ZP,{accessibilityModalLabel:e,heading:(0,_.jsx)(m,{headingText:n,onDismiss:i,itemIndex:b,showSegmentedController:o,setItemIndex:y}),onDismiss:i,size:A,children:[(0,_.jsxs)(h.xu,{paddingX:6,paddingY:2,children:[(0,_.jsx)(s.Fragment,{children:E}),1===b&&(0,_.jsx)(v,{user:r,layout:P})]}),g||0!==b?null:(0,_.jsx)(h.xu,{display:"flex",justifyContent:"center",marginBottom:4,width:"100%",children:(0,_.jsx)(h.zx,{accessibilityLabel:u._('See more', 'FollowersModal.moreButton.accessibilityLabel', 'Accessibility label for button to see more'),disabled:f,onClick:p,text:u._('See more', 'FollowersModal.moreButton.text', 'Button text to see more')})})]})}var E=n(300267),C=n(81636);function k({followersResource:e,onDismiss:t,totalFollowersCount:n,user:i,variant:o}){const r=(0,c.ZP)(),a="following"===o;(0,C.Q)({view_type:4,view_parameter:a?51:50});const h=(0,d.Z)(),p=(0,b.Z)({name:"BoardFollowingResource",options:{field_set_key:"profile_grid_item",username:null==i?void 0:i.username}}),m=!!p.data&&p.data.length>0,g={followers:r._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),following:r._('Following', 'FollowersModal.accessibilityModalLabel.following', 'Accessibility label for modal showing what of a given entity is following')},f={followers:null,following:r._('Following', 'FollowersModal.heading.following', 'Header text for modal showing what given entities a user is following')},y={followers:(0,u.nk)(r.ngettext('{{ count }} Follower', '{{ count }} Followers', n, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,_.jsx)(l.Z,{value:n},"totalFollowersCount")}),following:null},v=(0,_.jsx)(s.Fragment,{children:[f[o],y[o]].filter(Boolean).reduce(((e,t,n)=>[...e,0!==n?" • ":null,t]),[])}),x=(0,E.Z)({user:i,viewer:h}),w=m&&x&&a;return(0,_.jsx)(I,{accessibilityModalLabel:g[o],headingText:v,showSegmentedController:w,onDismiss:t,followersResource:e,user:i})}var j=n(580496),T=n(256883);function R({onDismiss:e,totalFollowersCount:t}){const n=(0,c.ZP)(),i=(0,s.useRef)(null),o=n._('Followers', 'FollowersModal.accessibilityModalLabel.followers', 'Accessibility label for modal showing the followers for a given entity'),r=!!t&&(0,_.jsx)(s.Fragment,{children:(0,u.nk)(n.ngettext('{{ count }} Follower', '{{ count }} Followers', t, 'FollowersModal.headingCount.followers', 'Count of the followers of a given entity'),{count:(0,_.jsx)(l.Z,{value:t},"totalFollowersCount")})});return(0,_.jsx)(x.ZP,{accessibilityModalLabel:o,heading:(0,_.jsx)(m,{headingText:r,onDismiss:e,itemIndex:0,showSegmentedController:!1,setItemIndex:()=>{}}),onDismiss:e,size:550,_dangerouslyDisableScrollBoundaryContainer:!0,children:(0,_.jsx)(h.xu,{"data-test-id":"profile-followers-feed",height:700,overflow:"auto",ref:i,children:(0,_.jsx)(T.default,{scrollContainer:()=>i.current||window})})})}var O=n(793937);function L({followersTotalCount:e,followingResource:t,followingTotalCount:n,isAboutDrawerVariant:i,user:o}){const[l,d]=(0,s.useState)(null),u=(0,c.ZP)(),m=()=>{d(null)},g=(0,j.Z)(o);return(0,_.jsxs)(s.Fragment,{children:[i?(0,_.jsxs)(h.kC,{direction:"column",gap:{row:0,column:6},children:[!!e&&e>=0&&(0,_.jsx)(r.Z,{accessibilityLabel:u._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-add",info:(0,_.jsx)(a.Z,{items:[(0,_.jsx)(p,{count:e,onClick:d,variant:"followers"},"followersDisplay"),g?(0,_.jsx)(O.default,{user:o}):null]})}),n>=0&&(0,_.jsx)(r.Z,{accessibilityLabel:u._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,_.jsx)(p,{count:n,onClick:d,variant:"following"})})]}):(0,_.jsx)(a.Z,{items:[e&&e>=0?(0,_.jsx)(p,{count:e,onClick:d,variant:"followers"}):null,n>=0?(0,_.jsx)(p,{count:n,onClick:d,variant:"following"}):null]}),"followers"===l&&(0,_.jsx)(R,{onDismiss:m,totalFollowersCount:e}),"following"===l&&(0,_.jsx)(k,{followersResource:t,onDismiss:m,totalFollowersCount:n,variant:l,user:o})]})}var z,D=n(947599),F=n(167912);function M({isAboutDrawerVariant:e=!1,user:t}){var o;const s=(0,d.Z)(),{id:r}=null!=t?t:{},a=void 0!==z?z:z=n(226501),l=(0,F.useLazyLoadQuery)(a,{userId:r}),{following_count:c=0,interest_following_count:u=0}=null!=t?t:{},{data:h}=null!==(o=l.v3GetUserHandlerQuery)&&void 0!==o?o:{},{followerCount:p,username:m}=h||{},g=(0,E.Z)({user:t,viewer:s}),f=(0,b.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!g||void 0,page_size:i.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:g,username:m}});if(!h)return null;const y=c-(null!=u?u:0);return(0,_.jsx)(L,{followersTotalCount:p,followingResource:f,followingTotalCount:y,isAboutDrawerVariant:e,user:t})}function N(e){const t=(0,c.ZP)();return(0,_.jsx)(o.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,_.jsx)(D.Z,{fallback:(0,_.jsx)(h.xu,{padding:5,children:(0,_.jsx)(h.$j,{accessibilityLabel:t._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner'),show:!0})}),children:(0,_.jsx)(M,{...e})})})}},657738:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),o=n(172071),s=n(898781),r=n(91214),a=n(934523),l=n(642345),c=n(349700),d=n(407043),u=n(883119),h=n(752403),_=n(785893);const p=new u.H3([new u.Ry(r.HW),new u.Ry(a.fe)]),m="/settings/account-settings/",g=({text:e})=>{const t=(0,i.useRef)(null),[n,s]=(0,i.useState)(!1);return n&&o.Z.increment("client.profile.inspirational_badge_controls.info_tool_tip.rendered",1),(0,_.jsxs)(i.Fragment,{children:[n&&(0,_.jsx)(u.J2,{anchor:t.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>s(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,_.jsx)(u.xu,{padding:3,children:(0,_.jsx)(u.xv,{color:"inverse",align:"center",size:"200",children:e})})}),(0,_.jsx)(u.xu,{width:32,height:32,children:(0,_.jsx)(u.iP,{onFocus:()=>s(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),ref:t,fullWidth:!0,fullHeight:!0,children:(0,_.jsx)(u.hU,{accessibilityLabel:e,icon:"info-circle",size:"sm",iconColor:"gray"})})})]})},f=({badgeLabel:e,disabled:t,eligible:n,isChecked:i,setSelectedBadge:o})=>{const s=(0,_.jsx)(u.xu,{display:"inlineBlock",children:(0,_.jsx)(u.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,_.jsx)(u.xv,{overflow:"noWrap",children:(0,_.jsx)(u.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:{backgroundColor:h.QP[0],color:n?"black":"gray"}},children:e.label})})})});return(0,_.jsxs)(u.kC,{alignItems:"start",direction:"row",children:[(0,_.jsx)(u.xu,{display:"inlineBlock",marginEnd:2,marginBottom:2,children:(0,_.jsx)(u.XZ,{checked:i,id:`inspirational-badge-${e.id}`,disabled:t,name:"badges",onChange:({checked:t})=>o(e.id,t)},e.id)}),e.controlsTooltip?(0,_.jsx)(u.u,{text:e.controlsTooltip,idealDirection:"right",children:s}):s]},e.id)};function b({inspirationalSignal:e,onDismiss:t,onSubmit:n}){var r;const{logContextEvent:a}=(0,d.v)(),b=(0,s.ZP)(),y=b._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),v=b._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),x=b._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),w=b._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),P=b._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),S=b._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),A=b._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),I=(0,h.eT)(e),E=(0,h.hm)(e),C=(0,h.I)(b,I,e.badge_details),k=(0,h.I)(b,E,e.badge_details),j=C.filter((e=>h.yQ.includes(e.id))),T=C.filter((e=>h.Dm.includes(e.id))),R=C.map((e=>e.id)),O=k.map((e=>e.id)),L=(null===(r=e.inspirational_badge_selection)||void 0===r?void 0:r.badgeColor)||h.QP[0],[z,D]=(0,i.useState)(O),[F,M]=(0,i.useState)(!1),[N,Z]=(0,i.useState)(L),B=(0,i.useRef)(null),U=Boolean((0,l.oo)(N)),H=U?N.toUpperCase():h.QP[0],V=H===h.QP[0]?`${H} (${A})`:H,G=R.filter((e=>!z.includes(e))),$=O.length!==z.length||!z.every((e=>O.includes(e)))||N!==L,W=(e,t)=>{D(t?[...z,e]:z.filter((t=>t!==e)));a({event_type:t?9675:9676,component:13911})};return o.Z.increment("client.profile.inspirational_badge_controls.rendered",1),(0,_.jsx)(u.mh,{zIndex:p,children:(0,_.jsx)(u.yo,{accessibilityDismissButtonLabel:b._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilitySheetLabel:b._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),heading:b._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:t,footer:({onDismissStart:e})=>(0,_.jsxs)(u.kC,{direction:"row",justifyContent:"between",children:[(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xv,{color:"subtle",size:"200",inline:!0,children:b._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,_.jsx)("br",{}),(0,_.jsx)(u.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:(0,_.jsx)(u.rU,{href:"https://help.pinterest.com/en/contact",target:"blank",accessibilityLabel:v,inline:!0,underline:"hover",children:v})})]}),(0,_.jsx)(u.xu,{children:(0,_.jsxs)(u.hE,{children:[(0,_.jsx)(u.zx,{color:"gray",text:b._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges'),onClick:e}),(0,_.jsx)(u.zx,{color:"red",text:b._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges'),disabled:!$,onClick:()=>n({badgeColor:N,badgeOptOut:G})})]})})]}),size:"sm",children:(0,_.jsx)(u.kC,{direction:"column",gap:{row:0,column:12},children:(0,_.jsxs)(u.kC,{direction:"column",gap:{row:0,column:4},children:[(0,_.jsxs)(u.xu,{children:[(0,_.jsxs)(u.xv,{inline:!0,children:[b._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),b._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]})," ",(0,_.jsx)(u.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(u.rU,{href:h._f,accessibilityLabel:y,target:"blank",inline:!0,onClick:()=>{a({event_type:9677,component:13911})},underline:"hover",children:y})})]}),(0,_.jsxs)(u.kC,{direction:"column",children:[(0,_.jsxs)(u.kC,{alignItems:"center",children:[(0,_.jsx)(u.xv,{size:"200",overflow:"noWrap",inline:!0,children:x}),(0,_.jsx)(g,{text:w})]}),(0,_.jsx)(u.xu,{paddingY:1,children:(0,_.jsx)(u.pg,{legend:x,legendDisplay:"hidden",children:(0,_.jsx)(u.kC,{direction:"column",gap:{row:0,column:3},children:j.map((e=>{const t=z.includes(e.id),n=z.length>=h.S4&&!t;return(0,_.jsx)(f,{badgeLabel:e,disabled:n,eligible:!0,isChecked:t,setSelectedBadge:W},e.id)}))})})})]}),T.length>0&&(0,_.jsxs)(u.kC,{direction:"column",children:[(0,_.jsxs)(u.kC,{alignItems:"center",children:[(0,_.jsx)(u.xv,{size:"200",overflow:"noWrap",inline:!0,children:P}),(0,_.jsx)(g,{text:S})]}),(0,_.jsx)(u.xu,{paddingY:1,children:(0,_.jsx)(u.pg,{legend:P,legendDisplay:"hidden",children:(0,_.jsx)(u.kC,{direction:"column",gap:{row:0,column:3},children:T.map((e=>{const t=z.includes(e.id),n=z.length>=h.S4&&!t;return(0,_.jsx)(f,{badgeLabel:e,disabled:n,eligible:!0,isChecked:t,setSelectedBadge:W},e.id)}))})})}),(0,_.jsx)(u.xv,{color:"subtle",size:"200",inline:!0,children:(0,c.nk)(b._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,_.jsx)(u.rU,{inline:!0,href:m,underline:"hover",children:(0,_.jsx)(u.xv,{color:"subtle",size:"200",weight:"bold",inline:!0,children:b._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},m)})})]}),(0,_.jsxs)(u.kC,{direction:"column",children:[(0,_.jsxs)(u.xu,{children:[(0,_.jsx)(u.xu,{marginTop:4,marginBottom:4,children:(0,_.jsx)(u.__,{htmlFor:"color-menu",children:(0,_.jsx)(u.xv,{size:"200",children:b._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,_.jsx)(u.zx,{accessibilityControls:"color-menu",accessibilityExpanded:F,accessibilityHaspopup:!0,selected:F,onClick:()=>{a({event_type:9674,component:13911}),M(!0)},text:V,iconEnd:"arrow-down",size:"lg"})]}),(0,_.jsx)(u.xu,{ref:B}),F&&(0,_.jsx)(u.mh,{children:(0,_.jsx)(u.J2,{anchor:B.current,idealDirection:"down",onDismiss:()=>M(!1),size:"flexible",role:"listbox",shouldFocus:!0,positionRelativeToAnchor:!1,children:(0,_.jsxs)(u.xu,{id:"color-menu",borderStyle:"shadow",rounding:2,padding:4,width:"100%",children:[(0,_.jsx)(u.kC,{alignItems:"start",gap:{row:4,column:0},children:h.QP.map((e=>(0,_.jsx)(u.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:N===e?"black":e,backgroundColor:e}},marginBottom:4,children:(0,_.jsx)(u.iP,{fullWidth:!0,fullHeight:!0,rounding:4,onTap:()=>Z(e)})},e)))}),(0,_.jsxs)(u.kC,{alignItems:"start",gap:{row:4,column:0},children:[(0,_.jsx)(u.xu,{rounding:"circle",borderStyle:"lg",width:48,height:48,dangerouslySetInlineStyle:{__style:{borderColor:U&&!h.QP.includes(N.toUpperCase())?"black":void 0,backgroundColor:H}}}),(0,_.jsx)(u.nv,{id:"selected-color",value:N,onChange:({value:e})=>Z(e.slice(0,7)),size:"lg"})]})]})})})]})]})})})})}var y=n(6637),v=n(86551),x=n(784590);const w=new u.Ry(10);function P({isOwnProfile:e,userId:t}){var n;const{logContextEvent:r}=(0,d.v)(),a=(0,s.ZP)(),l=a._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),c=a._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),p=a._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),m=a._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),g=function(){var e;const t=null===(e=(0,v.Z)().data)||void 0===e?void 0:e.id;return(0,x.Z)({name:"VerifiedMerchantResource",options:{userId:t}})}(),f=g.data||{},P=(0,h.Bu)({verifiedMerchant:f}),S=(0,i.useRef)(),[A,I]=(0,i.useState)(h.Xe),[E,C]=(0,i.useState)(!1),[k,j]=(0,i.useState)(!0),T=P?(0,h.hm)(A):[],R=(0,h.I)(a,T,A.badge_details),O=(null===(n=A.inspirational_badge_selection)||void 0===n?void 0:n.badgeColor)||h.QP[0];(0,i.useEffect)((()=>{I(f.inspirational_signal||h.Xe)}),[f.inspirational_signal]),(0,i.useEffect)((()=>{r({event_type:9667,component:13910})}));const L=()=>{C(!0),j(!1),r({event_type:9671,component:13911})},z=()=>{r({event_type:9668,component:13910})},D=()=>{r({event_type:9670,component:13910})};return P&&o.Z.increment("client.profile.inspirational_badges.rendered",1,{is_own_profile:e,num_badges:R.length,badge_color:O,user_id:f.id}),P?(0,_.jsxs)(i.Fragment,{children:[(0,_.jsxs)(u.kC,{alignItems:"center",children:[R.map((e=>(0,_.jsx)(u.u,{link:(0,_.jsx)(u.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,_.jsx)(u.rU,{href:h.NG,accessibilityLabel:l,target:"blank",onClick:D,children:(0,_.jsx)(u.xv,{color:"inverse",size:"100",weight:"bold",children:l})})}),text:e.description,zIndex:w,children:(0,_.jsx)(u.xv,{overflow:"noWrap",children:(0,_.jsx)(u.iP,{onMouseEnter:z,children:(0,_.jsx)(u.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:1,marginStart:1,marginEnd:1,dangerouslySetInlineStyle:{__style:(0,h.ym)(O)},"data-test-id":"inspirational-badge",children:e.label})})})},e.label))),e&&(0,_.jsxs)(i.Fragment,{children:[k&&(0,_.jsx)(u.mh,{zIndex:w,children:(0,_.jsx)(u.J2,{anchor:S.current,color:"blue",idealDirection:"up",showCaret:!0,onDismiss:()=>{j(!1),r({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,_.jsx)(u.xu,{padding:3,children:(0,_.jsxs)(u.xv,{color:"inverse",align:"center",size:"200",children:[(0,_.jsx)("strong",{children:c})," ",p]})})})}),0===R.length&&(0,_.jsx)(u.xu,{display:"inlineBlock",children:(0,_.jsx)(u.iP,{onTap:L,fullWidth:!0,children:(0,_.jsx)(u.xv,{color:"subtle",children:m})})}),(0,_.jsx)(u.hU,{accessibilityLabel:m,icon:"edit",onClick:L,size:"sm",ref:S,iconColor:"gray"})]})]}),E&&(0,_.jsx)(b,{inspirationalSignal:A,onDismiss:()=>C(!1),onSubmit:({badgeColor:e,badgeOptOut:n})=>{C(!1),y.Z.create("VerifiedMerchantResource",{userId:t,inspirational_badge_selection:{badgeColor:e,badgeOptOut:n}}).callUpdate().then((()=>g.refresh()));const i={...A,inspirational_badge_selection:{badgeColor:e,badgeOptOut:n}};I(i),r({event_type:9672,component:13911})}})]}):(0,_.jsx)(i.Fragment,{})}},110293:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(898781),o=n(883119),s=n(81636),r=n(785893);function a({showSendMessageFlyout:e,userId:t}){const n=(0,i.ZP)();return(0,s.Q)({element:10882,object_id_str:t,view_type:4,view_parameter:3107}),(0,r.jsx)(o.zx,{fullWidth:!0,size:"lg",text:n._('Message', 'profileHeader.messageButton', 'Button on a user profile to message that user'),onClick:e})}},439826:(e,t,n)=>{n.d(t,{Z:()=>G});var i=n(667294),o=n(766911),s=n(245635),r=n(348070),a=n(939106),l=n(319915),c=n(321886),d=n(590908),u=n(657738),h=n(300267),_=n(580496),p=n(240684),m=n(110293),g=n(624389),f=n(601785),b=n(409828),y=n(983294),v=n(883561),x=n(941646),w=n(497529),P=n(717615),S=n(946984),A=n(794493),I=n(545062),E=n(19121),C=n(231947),k=n(407043),j=n(773285),T=n(276775),R=n(898781),O=n(993786),L=n(883119),z=n(890087),D=n(785893);const F=(0,p.ZP)({resolved:{},chunkName:()=>"packages-experiences-ExperienceTooltip-ExperienceTooltip",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,333312)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 333312}}),M=(0,p.ZP)({resolved:{},chunkName:()=>"ViewerCount",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,793937)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 793937}}),N=(0,p.ZP)({resolved:{},chunkName:()=>"AboutDrawer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(53201).then(n.bind(n,665326)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 665326}}),Z=(0,p.ZP)({resolved:{},chunkName:()=>"ProfileCover",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(63663).then(n.bind(n,85832)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 85832}}),B={PARTNER:656,PINNER:488},U=170,H=312,V=Object.freeze({504214:"/settings#profile",504821:"/settings/personal-information#community-information"});function G({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:n,onToggleFollow:p,setHeaderHeight:G,user:$}){var W,K,Y,q;const{logContextEvent:X}=(0,k.v)(),Q=(0,R.ZP)(),J=(0,E.Z)(),ee=(0,i.useRef)(null),te=(0,i.useRef)(null),[ne,ie]=(0,i.useState)(!1),[oe,se]=(0,i.useState)(!1),re=(0,P.Z)(),ae=(0,S.Z)(),le=(0,T.useHistory)(),{experienceForPlacement:ce}=(0,w.Z)(19);(0,A.Z)((e=>{null==G||G(e.clientHeight)}),ee);const{checkExperiment:de}=(0,j.F)(),ue=de("web_profile_pronouns").anyEnabled,{about:he,is_primary_website_verified:_e,full_name:pe,impressum_url:me,is_verified_merchant:ge,username:fe,verified_identity:be,website_url:ye,id:ve,pronouns:xe}=null!=$?$:{},{anyEnabled:we}=de("web_m10n_business_access_orbac_ga"),Pe=(0,h.Z)({user:$,viewer:J})||we&&(0,C.N1)(J,$,re),Se=!(0,C.N1)(J,$,re),Ae=(0,_.Z)($),Ie=J.isLimitedLogin,Ee=(0,z.j3)()&&Boolean(me),Ce=(null==be?void 0:be.verified)||ge,ke=xe?xe.join("/"):"",je=de("web_about_drawer").anyEnabled,Te=!(0,h.Z)({user:$,viewer:J})&&de("makeathon_2022_profile_follower_count_private").anyEnabled,Re=(null==ye?void 0:ye.length)||0,Oe=(null==me?void 0:me.length)||0,Le=U-Re-Oe,ze=()=>he?je?(0,D.jsxs)(i.Fragment,{children:[(0,D.jsx)(L.xv,{inline:!0,children:(0,v.ZP)(he,Le)}),he.length>Le&&(0,D.jsx)(L.xu,{display:"inlineBlock",children:(0,D.jsx)(L.iP,{accessibilityLabel:Q._('Expand about section', 'profile.profileHeader.moreTextAccessibilityLabel', 'Accessibility label to expand profile about section'),onTap:()=>{X({event_type:101,component:14011,view_type:4,view_parameter:(0,h.Z)({user:$,viewer:J})?3106:3107}),ie(!0)},children:(0,D.jsx)(L.xv,{inline:!0,weight:"bold",children:Q._('more', 'profile.profileHeader.moreText', 'Clickable text to expand profile about section')})})})]}):(0,D.jsx)(L.xv,{inline:!0,children:he}):null,De=Ee?(0,D.jsx)(L.rU,{href:me,inline:!0,underline:"hover",children:(0,D.jsx)(z.$m,{inline:!0,weight:"bold"})}):null,Fe=ye?(0,D.jsxs)(i.Fragment,{children:[_e&&!Ce&&(0,D.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{bottom:je?"1px":"2px",display:"inline"}},marginEnd:1,position:"relative",children:(0,D.jsx)(s.Z,{})}),(0,D.jsx)(L.xv,{inline:!0,weight:"bold",children:(0,D.jsx)(L.rU,{rel:"nofollow",target:"blank",href:ye,inline:!0,onClick:()=>{X({event_type:101,component:13056,element:12890,view_type:4,view_parameter:(0,h.Z)({user:$,viewer:J})?3106:3107,aux_data:{website_link:ye}})},underline:"hover",children:(0,d.Z)(ye)})})]}):null;return(0,D.jsxs)(i.Fragment,{children:[(0,D.jsx)(L.xu,{"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,ref:ee,children:(0,D.jsx)(L.xu,{marginTop:Ae?void 0:3,maxWidth:Ae?B.PARTNER:B.PINNER,width:"100%",children:(0,D.jsxs)(L.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,D.jsxs)(L.xu,{width:Ae?B.PARTNER:void 0,children:[Ae&&!Ie&&(0,D.jsx)(Z,{user:$}),(0,D.jsx)(L.kC,{alignItems:"stretch",justifyContent:"center",children:(0,D.jsx)(o.Z,{onTouch:t,user:$,viewer:J})})]}),(0,D.jsxs)(L.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,D.jsxs)(L.X6,{align:"center",size:"600",accessibilityLevel:1,children:[pe,Ce&&(0,D.jsx)(L.xu,{display:"inlineBlock",marginStart:2,dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},children:(0,D.jsx)(O.Z,{hasVerifiedIdentity:Boolean(null==be?void 0:be.verified),isVerifiedMerchant:ge,size:"lg"})})]}),je&&(0,D.jsx)(L.xu,{marginTop:2,children:(0,D.jsx)(a.Z,{color:"subtle",inline:!0,items:[ge?(0,D.jsx)(L.xu,{display:"inlineBlock",children:(0,D.jsx)(O.O,{children:(0,D.jsx)(L.xv,{inline:!0,color:"shopping",size:"200",children:Q._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})})}):null,(0,D.jsx)(L.xv,{color:"subtle",inline:!0,size:"200",children:`@${fe}`},fe),ke?(0,D.jsx)(L.xv,{color:"subtle",inline:!0,size:"200",children:ke}):null]})}),ue&&!je&&(0,D.jsx)(L.xv,{children:ke})]}),!(null==$||!$.is_inspirational_merchant)&&(0,D.jsx)(l.Z,{name:"InspirationalBadges",children:(0,D.jsx)(u.Z,{isOwnProfile:(0,h.Z)({user:$,viewer:J}),userId:$.id})}),Fe||De||!je||ze()?(0,D.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,D.jsx)(a.Z,{inline:!0,items:[Fe,De,je?null:(0,D.jsx)(L.xv,{inline:!0,children:`@${fe}`}),ze()]})}):void 0,!Te&&(0,D.jsx)(c.Z,{user:$}),Ae&&-1!==(null==$?void 0:$.profile_views)&&(0,D.jsx)(M,{hideFollowers:Te,user:$}),Se&&(0,D.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,D.jsxs)(L.kC,{gap:{row:7,column:0},children:[(0,D.jsx)(y.Z,{shownWithinProfileHeader:!0,user:$}),(0,D.jsxs)(L.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(()=>{var e;const{contact_email:t="",contact_phone:n="",enable_profile_message:i}=null!==(e=null==$?void 0:$.partner)&&void 0!==e?e:{};return!t&&!n||null!=$&&$.blocked_by_me?!i&&Ae||null!=$&&$.blocked_by_me?null:(0,D.jsx)(g.Z,{setShowMessageFlyout:se,showMessageFlyout:oe,userId:ve,flyoutDirection:"up",children:({toggleSendMessageFlyout:e})=>(0,D.jsx)(m.Z,{showSendMessageFlyout:e,userId:ve})}):(0,D.jsx)(l.Z,{name:"ContactMenuButton",children:(0,D.jsx)(r.Z,{isOwnProfile:(0,h.Z)({user:$,viewer:J}),setShowMessageFlyout:se,showMessageFlyout:oe,user:$})})})(),null!=$&&$.blocked_by_me?(0,D.jsx)(L.zx,{onClick:n,size:"lg",text:Q._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,D.jsx)(I.Z,{button:({followText:e,onClick:t})=>(0,D.jsx)(L.xu,{"data-test-id":null!=$&&$.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,D.jsx)(L.zx,{color:"red",onClick:t,selected:null==$?void 0:$.explicitly_followed_by_me,size:"lg",text:e})}),fullName:pe,id:null!==(W=null==$?void 0:$.id)&&void 0!==W?W:"",imageUrl:null!==(K=null==$?void 0:$.image_large_url)&&void 0!==K?K:"",isOwnProfile:!1,onUserFollow:p,profileUrl:`/${null!==(Y=null==$?void 0:$.username)&&void 0!==Y?Y:""}/`,userFollowed:null==$?void 0:$.explicitly_followed_by_me})]}),(0,D.jsx)(b.Z,{userId:null!==(q=null==$?void 0:$.id)&&void 0!==q?q:"",children:({showSendMessageFlyout:t})=>(0,D.jsx)(f.Z,{onClickReportProfile:e,onToggleBlock:n,showSendMessageFlyout:t,user:$})})]})}),Pe&&(0,D.jsx)(L.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,D.jsxs)(L.kC,{gap:{row:2,column:0},children:[(0,D.jsx)(y.Z,{shownWithinProfileHeader:!0,useGestaltButton:!0,user:$}),(0,h.Z)({user:$,viewer:J})&&(0,D.jsx)(x.Z,{id:"edit-button",children:(0,D.jsx)(L.zx,{ref:te,size:"lg",text:Q._('Edit Profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile'),onClick:({event:e})=>{if(ae)return e.stopPropagation(),void ae();X({event_type:101,element:94}),le.push("/settings#profile")}})})]})})]})})}),ne&&(0,D.jsx)(N,{isOwnProfile:(0,h.Z)({user:$,viewer:J}),onDismiss:()=>{ie(!1)},onToggleFollow:p,setShowMessageFlyout:se,user:$}),te&&(0,D.jsx)(F,{anchor:te.current,experienceIds:[504214,504821],flyoutSize:H,hasFullWidthButton:!1,idealDirection:"up",onClickComplete:()=>{le.push(V[null==ce?void 0:ce.experience_id])},placementId:19,showCaret:!0,textAlign:"center",textWeight:"normal"})]})}},624389:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=n(6637),s=n(774807),r=n(883119),a=n(407043),l=n(479301),c=n(785893);function d({children:e,flyoutDirection:t,setShowMessageFlyout:n,showMessageFlyout:d,userId:u}){const{logContextEvent:h}=(0,a.v)(),[_,p]=(0,i.useState)(""),m=(0,i.useRef)(),{conversationCreate:g,conversationOpen:f}=(0,l.Z5)();return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(r.xu,{ref:m,children:e({toggleSendMessageFlyout:()=>{n(!d)}})}),d&&(0,c.jsx)(s.Z,{anchor:m.current,idealDirection:t,onMessageChange:p,onMessageSubmit:async()=>{const e=_;p(""),n(!1),h({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});const t=o.Z.create("ConversationsResource",{user_ids:[u],text:e}),i=await t.callCreate(),s=null==i?void 0:i.resource_response.data;g(s),f(s.id)},onDismiss:()=>n(!1),message:_})]})}},601785:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(2819),o=n(580496),s=n(898781),r=n(883119),a=n(785893);function l({onClickReportProfile:e,onToggleBlock:t,showSendMessageFlyout:n,user:l}){const c=(0,s.ZP)(),d=(0,o.Z)(l),{blocked_by_me:u}=null!=l?l:{},h={label:c._('Message', 'profileHeader.actionBar.overflowFlyout.message', 'Overflow menu option on a user profile to send a message to that user'),clickHandler:n},_={label:c._('Block', 'profileHeader.actionBar.overflowFlyout.block', 'Overflow menu option on a user profile to block that user'),clickHandler:t},p={label:c._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user'),clickHandler:e},m=[];u||((()=>{var e;const{contact_email:t="",contact_phone:n="",enable_profile_message:i=!1}=null!==(e=null==l?void 0:l.partner)&&void 0!==e?e:{};return(!!t||!!n)&&i&&d})()&&m.push(h),m.push(_)),m.push(p);const g={label:c._('Profile options', 'profileHeader.actionBar.overflowFlyout.profileOptions', 'Category heading on Overflow menu on a user profile'),items:m};return(0,a.jsx)(i.Z,{icon:"ellipsis",label:c._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),children:({handleClose:e})=>[g].map((({items:t,label:n})=>(0,a.jsx)(r.Lt.Section,{label:n,children:t.map((({clickHandler:t,label:n})=>(0,a.jsx)(r.Lt.Item,{onSelect:()=>{e(),null==t||t()},option:{label:n,value:n}},n)))},n)))})}},947411:(e,t,n)=>{n.d(t,{Z:()=>K});var i=n(439826),o=n(667294),s=n(702664),r=n(116303),a=n(245635),l=n(898781),c=n(667679),d=n(883119),u=n(785893);function h({anchor:e,onDismiss:t}){const n=(0,l.ZP)(),i=(0,c.Z)();return(0,u.jsx)(d.mh,{children:(0,u.jsx)(d.J2,{anchor:e,onDismiss:t,size:"xl",children:(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",gap:{row:0,column:4},wrap:!0,width:370,children:[(0,u.jsx)(d.xu,{display:"flex",justifyContent:"center",marginTop:4,marginBottom:4,children:(0,u.jsx)(d.xv,{size:"300",weight:"bold",children:n._('Profile options', 'profilePage.profileOptions', 'Options heading on Modal on a user profile')})}),(0,u.jsx)(d.xu,{padding:4,width:370,children:(0,u.jsx)(d.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),i({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_profile_options_unblock"})},children:(0,u.jsx)(d.xv,{size:"300",weight:"bold",children:n._('Unblock', 'profile.ProfileActionsContainer.UnbluckButton', 'Button to unblock user user\'s profile page')})})})]})})})}var _=n(948618),p=n(939106),m=n(319915),g=n(70598),f=n(989405),b=n(250059),y=n(112690),v=n(967181),x=n(752403);function w({badges:e,color:t}){const[n,i]=(0,o.useState)(!1),s=(0,y.Z)();return(0,o.useEffect)((()=>{s({event_type:9667,view_type:4,component:13910})})),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(d.kC,{width:"100%",justifyContent:"center",children:(0,u.jsx)(d.kC,{overflow:"auto",children:e.map(((n,o)=>(0,u.jsx)(d.xu,{marginStart:0===o?"auto":void 0,marginEnd:o===e.length-1?"auto":void 0,children:(0,u.jsx)(d.iP,{onTap:()=>{s({event_type:9669,view_type:4,component:13910}),i(!0)},children:(0,u.jsx)(d.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,u.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,margin:1,dangerouslySetInlineStyle:{__style:(0,x.ym)(t)},"data-test-id":"inspirational-badge",children:n.label})})})},n.label)))})}),(0,u.jsx)(v.Z,{showModal:!!n,setShowModal:i,inspirationalBadges:e,inspirationalBadgesColor:t})]})}var P=n(149230),S=n(121151),A=n(349700);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends o.PureComponent{constructor(...e){super(...e),I(this,"state",{modalIsOpen:!1}),I(this,"onSubmit",(()=>{const{onBlock:e,onBlockCallback:t,user:n}=this.props,{id:i,first_name:o=""}=null!=n?n:{};null==e||e(i,o,this.props.i18n),this.closeModal(),t&&t()})),I(this,"openModal",(()=>{this.setState({modalIsOpen:!0})})),I(this,"closeModal",(()=>{this.setState({modalIsOpen:!1})}))}render(){const{modalIsOpen:e}=this.state,{i18n:t,user:n}=this.props,{username:i,full_name:o,blocked_by_me:s}=null!=n?n:{};return(0,u.jsx)(d.kC,{alignItems:"stretch",justifyContent:"start",children:!s&&(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.iP,{onTap:this.openModal,children:(0,u.jsx)(d.X6,{size:"400",children:t._('Block', 'BlockButton.Heading.Block', 'Blocking an user means you won\'t be able to follow each other or interact with each other\'s Pins')})}),(0,u.jsxs)(S.ZP,{accessibilityModalLabel:"",isOpen:e,onDismiss:this.closeModal,mobileHideCloseIcon:!0,type:"block_button",children:[(0,u.jsx)(d.xu,{paddingX:3,paddingY:5,children:(0,u.jsx)(d.X6,{accessibilityLevel:1,size:"500",children:(0,A.nk)(t._('Block {{ full_name }}?', 'BlockButton.FullName.Block', 'full_name: user full name to block'),{full_name:o})})}),(0,u.jsx)(d.xu,{marginBottom:3,children:(0,u.jsx)(d.xv,{children:(0,A.nk)(t._('If you block {{full_name}} ({{username}}),\n                            you won\u2019t be able to follow each other\n                            or interact with each other\u2019s Pins.', 'BlockButton.Description.Block', 'full_name:user full name to block, username: username to block, Warning about blocking a user'),{full_name:o,username:i})})}),(0,u.jsx)(d.xu,{marginBottom:2,children:(0,u.jsx)(d.zx,{fullWidth:!0,color:"red",text:t._('Block', 'BlockButton.Action.Block', 'Action to block user'),onClick:this.onSubmit})}),(0,u.jsx)(d.zx,{fullWidth:!0,color:"gray",text:t._('Cancel', 'BlockButton.Action.Cancel', 'Action to cancel blocking a user'),onClick:this.closeModal})]})]})})}}function C(e){const t=(0,l.ZP)();return(0,u.jsx)(E,{...e,i18n:t})}var k=n(941646),j=n(773285);const T=({onBlock:e,onUnblockUser:t,user:n,userBlocked:i})=>{const s=(0,l.ZP)(),{checkExperiment:r}=(0,j.F)(),{anyEnabled:a}=r("mweb_user_reporting"),[c,h]=(0,o.useState)(!1),_=()=>h(!1);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(k.Z,{id:"icon-ellipsis",children:(0,u.jsx)(d.hU,{accessibilityLabel:s._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options modal'),iconColor:"darkGray",icon:"ellipsis",onClick:()=>h(!0),size:"lg"})}),(0,u.jsx)(S.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:c,onDismiss:_,type:"block_button",children:(0,u.jsxs)(d.xu,{paddingX:4,paddingY:8,children:[(0,u.jsx)(d.xv,{children:s._('Profile options', 'profilePage.profileOptions', 'Options heading on Modal on a user profile')}),(0,u.jsx)(d.xu,{marginBottom:8,marginTop:4,children:i?(0,u.jsx)(d.iP,{onTap:()=>{var e;return null==t?void 0:t(null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"")},children:(0,u.jsx)(d.X6,{size:"400",children:s._('Unblock', 'profile.ProfileActionsContainer.UnbluckButton', 'Button to unblock user user\'s profile page')})}):(0,u.jsx)(C,{onBlock:e,onBlockCallback:_,user:n})}),a&&n&&(0,u.jsx)(d.xu,{marginBottom:8,marginTop:4,children:(0,u.jsx)(d.X6,{size:"400",children:(0,u.jsx)(d.rU,{href:`/${n.username}/report/`,tapStyle:"none",children:s._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)')})})}),(0,u.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,u.jsx)(d.zx,{color:"gray",onClick:_,size:"lg",text:s._('Close', 'profilePage.profileOptions.Button.closeModal', 'accessible label for close button on Modal on a user profile')})})]})})]})};var R=n(648492),O=n(883561),L=n(784590),z=n(50286),D=n(512176);function F({hasVerifiedIdentity:e,isVerifiedMerchant:t,name:n,showVerifiedBadge:i,inspirationalBadges:o,inspirationalBadgesColor:s}){const r=(0,z.ZP)(),a=!(!function(e){const t=e.split(" ");let n=!1;return t.forEach((e=>{e.length>=17&&(n=!0)})),n}(n)||"desktop"===r);return(0,u.jsx)(d.X6,{align:"center",overflow:"normal",size:"600",children:(0,u.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{WebkitHyphens:"none",lineBreak:a?"anywhere":void 0}},display:"inlineBlock",children:[n,i&&(0,u.jsx)(d.xu,{"data-test-id":t?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:2,children:(0,u.jsx)(D.Z,{showVerifiedIdentity:e,isVerifiedMerchant:t,size:"xl",inspirationalBadges:o,inspirationalBadgesColor:s})})]})})}var M=n(52022),N=n(19121),Z=n(966113),B=n(237900),U=n(539497);var H=n(5226),V=n(890087);const G=e=>{const t=(0,B.q)(e).replace(/^www\./,"");return(0,R.Z)(t)},$=({userId:e})=>((0,L.Z)({name:"VerifiedMerchantResource",options:{userId:e}}),null);function W({blockUser:e,handleShareClick:t,unblockUser:n,renderShareMenu:i,user:v}){var S,A,I,E,C,R;const L=(0,l.ZP)(),D=(0,y.Z)(),B=(0,M.Z)(),{checkExperiment:W}=(0,j.F)(),[K,Y]=(0,o.useState)(!1),q="phone"===(0,z.ZP)(),X=(0,s.useDispatch)(),Q=(0,z.HG)(),J=(0,o.useRef)(null),ee=(0,o.useRef)(null),te=(0,N.Z)(),ne=te.isAuth&&te.id,ie=te.isAuth,oe=(0,c.Z)(),{about:se="",blocked_by_me:re=!1,country:ae="",explicitly_followed_by_me:le,follower_count:ce=0,following_count:de=0,full_name:ue,id:he,image_xlarge_url:_e,impressum_url:pe="",interest_following_count:me=0,is_primary_website_verified:ge,is_verified_merchant:fe,username:be,verified_identity:ye,website_url:ve,is_inspirational_merchant:xe}=null!=v?v:{},{inspirationalBadges:we,inspirationalBadgesColor:Pe}=function(e){var t;const n=(0,s.useSelector)((t=>t.verifiedMerchants[e])),i=null==n?void 0:n.inspirational_signal,o=(0,x.Bu)({verifiedMerchant:n})?(0,x.hm)(i):[];return{inspirationalBadges:(0,x.I)((0,l.ZP)(),o,null==i?void 0:i.badge_details),inspirationalBadgesColor:(null==i||null===(t=i.inspirational_badge_selection)||void 0===t?void 0:t.badgeColor)||x.QP[0]}}(he),Se=me?de-me:de,Ae=null==ye?void 0:ye.verified,Ie=ne===he,Ee=Ae||fe,Ce=W("mweb_about_drawer").anyEnabled,ke=130-((null==ve?void 0:ve.length)||0)-((null==pe?void 0:pe.length)||0),je=()=>{ie||(0,U.NC)("click_profile_url"),D({event_type:101,component:13056,element:12890,view_type:4,view_parameter:Ie?3106:3107,aux_data:{website_link:ve}})},Te=[];if(ve){const e=ge&&!Ee;Te.push((0,u.jsxs)(o.Fragment,{children:[e&&(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{bottom:1,display:"inline",marginInlineEnd:2}},"data-test-id":"claimed-website-mark",position:"relative",children:(0,u.jsx)(a.Z,{})}),(0,u.jsx)(d.xv,{color:"default",inline:!0,weight:"bold",children:(0,u.jsx)(d.rU,{inline:!0,onClick:je,href:(0,b.Z)(ve),target:(0,P.Z)({url:ve})?"blank":void 0,rel:(0,P.Z)({url:ve})?"nofollow":void 0,underline:"hover",children:G(ve)})})]}))}Ce||Te.push((0,u.jsx)(d.xv,{inline:!0,children:`@${be}`})),se&&Te.push((0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"profileAboutText",children:Ce?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(d.xv,{inline:!0,children:(0,O.ZP)(se,ke)}),se.length>ke&&(0,u.jsx)(d.xu,{display:"inlineBlock",children:(0,u.jsx)(d.rU,{accessibilityLabel:L._('Link to user\'s about page', 'profilePage.profileHeader.moreTextAccessibilityLabel', 'Accessibility label to open profile about page'),href:`/${be}/profile-about/`,onClick:()=>{D({component:14011,event_type:102,view_parameter:Ie?3106:3107,view_type:4})},children:(0,u.jsx)(d.xv,{inline:!0,weight:"bold",children:L._('more', 'profile.profileHeader.moreText', 'Clickable text to link to profile about page')})})})]}):(0,u.jsx)(d.xv,{inline:!0,children:se})})),(0,V.yv)(ae)&&pe&&Te.push((0,u.jsx)(d.rU,{target:"blank",rel:"nofollow",inline:!0,href:pe,underline:"hover",children:(0,u.jsx)(V.$m,{color:"default",size:"200",weight:"bold"})}));const Re=!("video"===(null==v||null===(S=v.profile_cover)||void 0===S?void 0:S.source)||"image"===(null==v||null===(A=v.profile_cover)||void 0===A?void 0:A.source)&&!v.profile_cover.images||"empty"===(null==v||null===(I=v.profile_cover)||void 0===I?void 0:I.source))&&(((null==v?void 0:v.profile_cover)||{}).images||{}).originals;return(0,u.jsxs)(d.xu,{alignItems:"center","data-test-id":"profile-header",direction:"column",display:"flex",marginTop:Re?-3:0,children:[(0,u.jsx)(d.iP,{onTap:()=>{B({action:"click",item:"main-user-avatar-image"})},fullWidth:!1,children:Re?(0,u.jsxs)(d.xu,{width:q?375:656,height:q?278:369,"data-test-id":"main-user-avatar-image",children:[(0,u.jsx)(d.zd,{rounding:q?0:8,height:q?211:302,children:(0,u.jsx)(d.Ee,{alt:L._('cover image', 'ProfilePage.CoverImage', 'profile cover image'),naturalHeight:null!==(E=Re.height)&&void 0!==E?E:1,naturalWidth:null!==(C=Re.width)&&void 0!==C?C:1,src:null!==(R=Re.url)&&void 0!==R?R:""})}),(0,u.jsx)(d.xu,{display:"flex",alignItems:"end",justifyContent:"center",position:"relative",children:(0,u.jsx)(d.xu,{marginTop:-12,children:(0,u.jsx)(r.Z,{accessibilityLabel:L._('User Avatar', 'profile.ProfileHeader.Avatar', 'Avatar in user profile page'),name:null!=ue?ue:"",outline:!0,size:"xl",src:null!=_e?_e:""})})})]}):(0,u.jsx)(r.Z,{accessibilityLabel:L._('User Avatar', 'profile.ProfileHeader.Avatar', 'Avatar in user profile page'),name:null!=ue?ue:"",size:"xl",src:null!=_e?_e:""})}),(0,u.jsx)(d.xu,{"data-test-id":"profile-name",marginTop:2,children:(0,u.jsx)(d.iP,{onTap:()=>{B({action:"click",item:"profile-name"})},children:(0,u.jsx)(F,{hasVerifiedIdentity:Ae,isVerifiedMerchant:fe,name:null!=ue?ue:"",showVerifiedBadge:Ee,inspirationalBadges:we,inspirationalBadgesColor:Pe})})}),(0,u.jsxs)(m.Z,{name:"InspirationalBadges",children:[!!xe&&(0,u.jsx)($,{userId:he}),(0,u.jsx)(w,{badges:we,color:Pe})]}),(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:Ce?1:2,maxWidth:Q?400:void 0,"data-test-id":"main-user-description-text",children:(0,u.jsx)(d.iP,{onTap:()=>{B({action:"click",item:"main-user-description-text"})},children:(0,u.jsxs)(d.kC,{direction:"column",gap:{row:0,column:3},children:[Ce&&(0,u.jsx)(p.Z,{color:"subtle",inline:!0,items:[fe?(0,u.jsx)(d.xu,{display:"inlineBlock",children:(0,u.jsx)(d.rU,{href:Z.vBy,target:"blank",children:(0,u.jsx)(d.xv,{color:"shopping",inline:!0,underline:!0,size:"300",children:L._('Verified Merchant', 'profilePage.profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})})}):null,(0,u.jsx)(d.xv,{color:"subtle",inline:!0,size:"300",children:`@${be}`},be)]}),(0,u.jsx)(p.Z,{inline:!0,items:Te})]})})}),(0,u.jsxs)(d.xu,{direction:"row",display:"flex",justifyContent:"center",marginTop:2,children:[(0,u.jsx)(d.xu,{"data-test-id":"profile-followers-link",alignItems:"center",direction:"row",display:"flex",children:(0,u.jsx)(d.iP,{onTap:()=>{B({action:"click",item:"main-user-follower-count"})},children:(()=>{const e=(0,u.jsx)(f.Z,{followerCount:ce,isOwnProfile:Ie,type:"followers"});return ie&&ce>0?(0,u.jsx)(d.iP,{role:"link",rounding:2,href:`/${be}/_followers/`,children:e}):ie?e:(0,u.jsx)(d.iP,{onTap:()=>oe({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_profile_followers"}),children:e})})()})}),(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(_.Z,{})}),(0,u.jsx)(d.xu,{direction:"row",display:"flex","data-test-id":"follower-count",children:(0,u.jsx)(d.iP,{onTap:()=>{B({action:"click",item:"main-user-following-count"})},children:(()=>{const e=(0,u.jsx)(f.Z,{followingCount:Se,isOwnProfile:Ie,type:"following"});return ie&&Se>0?(0,u.jsx)(d.iP,{role:"link",rounding:2,href:`/${be}/_following/`,children:e}):ie?e:(0,u.jsx)(d.iP,{onTap:()=>oe({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_profile_following"}),children:e})})()})})]}),(0,u.jsx)(d.xu,{marginTop:4,width:"100%",children:Ie?(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(k.Z,{id:"share-button",children:(0,u.jsx)(d.zx,{accessibilityLabel:L._('Button for opening share options to share profile with others', 'profileHeader.actionBar.shareButton.accessibilityLabel', 'Accessibility label for button to open share options'),color:"gray",onClick:t,ref:J,size:"lg",text:L._('Share', 'profileHeader.actionBar.shareButton.text', 'Share button to open share options')})})}):(0,u.jsxs)(d.kC,{alignItems:"center",gap:{row:ie?0:2,column:0},justifyContent:ie?"between":"center",children:[(0,u.jsx)(k.Z,{id:"share-button",children:(0,u.jsx)(d.hU,{iconColor:"darkGray",accessibilityLabel:"share",size:"lg",icon:"share",onClick:t,ref:J})}),he!==ne&&(re?(0,u.jsx)(d.zx,{onClick:()=>null==n?void 0:n(he),size:"lg",text:L._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,u.jsx)(g.Z,{isSecondaryButton:!0,id:he,size:"lg",onFollow:()=>{X((0,H.ZN)(he))},onUnfollow:()=>{X((0,H.fv)(he))},isFollowed:le,isLegoEnabled:!0,isUserFollowButton:!0,isUserMe:!1,followEventType:45,unfollowEventType:46,viewType:4})),ie&&(Q?(0,u.jsx)(d.hU,{accessibilityLabel:L._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options modal'),iconColor:"darkGray",icon:"ellipsis",onClick:()=>Y(!0),size:"lg",ref:ee}):(0,u.jsx)(T,{onBlock:e,onUnblockUser:n,user:v,userBlocked:re}))]})}),i&&i(J.current),K&&!ie&&Q&&(0,u.jsx)(h,{anchor:ee.current,onDismiss:()=>Y(!1)})]})}function K(e){const t=(0,z.HG)(),n=(0,N.Z)();return n&&n.isAuth&&t?(0,u.jsx)(i.Z,{...e}):(0,u.jsx)(W,{...e})}},793937:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),o=n(333312),s=n(300267),r=n(694379),a=n(898781),l=n(19121),c=n(966113),d=n(349700),u=n(883119),h=n(785893);function _({user:e,hideFollowers:t}){var n;const _=(0,a.ZP)(),p=(0,i.useRef)(),m=(0,l.Z)(),g=new u.Ry(2);if(-1===(null==e?void 0:e.profile_views))return null;const f=null!==(n=null==e?void 0:e.profile_views)&&void 0!==n?n:0,b=f>=1e7?_._('10m+', 'viewerCount.overTenMillion', 'Shortform number for a count of over 10,000,000'):(0,h.jsx)(r.Z,{value:f||0,shortform:!0,shortformMaximumFractionDigits:1},"pretty_number");return(0,h.jsx)(u.xu,{ref:p,children:(0,h.jsxs)(u.xv,{weight:t?"bold":"normal",children:[(0,d.nk)(_._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:b,label:_._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')}),(0,s.Z)({user:e,viewer:m})&&(0,h.jsx)(o.default,{showCaret:!0,anchor:p.current,customWrapper:({children:e})=>(0,h.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,zIndex:g,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open(c.DlN,"_blank"),placementId:19,textAlign:"center"})]})})}},290095:(e,t,n)=>{n.d(t,{T:()=>a,V:()=>l});var i=n(499128),o=n(407043),s=n(343341),r=n(785893);function a(e){const{street:t,extra_street:n,locality:i,region:o,postal_code:s,country:r}=e,a=t||"",l=n||"",c=i||"";return`${a}${l}${(a||l)&&","} ${c}${c&&","} ${o||""} ${s||""} ${r||""}`.trim()}function l(e,t,n){const{logContextEvent:l}=(0,o.v)(),{showToast:c}=(0,s.F9)();return()=>{l({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(a(t)),c((({hideToast:e})=>(0,r.jsx)(i.ZP,{onHide:e,text:n})))}}},590908:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(648492),o=n(237900);function s(e){const t=(0,o.q)(e).replace(/^www\./,"");return(0,i.Z)(t)}},300267:(e,t,n)=>{function i({user:e,viewer:t}){return Boolean(t.isAuth&&(null==e?void 0:e.username)===t.username)}n.d(t,{Z:()=>i})},794493:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);function o(e,t){let n=null,o=null,s=null;const r=()=>{if(n){const t=n.clientHeight,i=n.clientWidth;o===t&&s===i||(o=t,s=i,e(n)),window.requestAnimationFrame(r)}};(0,i.useEffect)((()=>{var i;return t.current&&(i=t.current,n&&n===i||(n=i,o=i.clientHeight,s=i.clientWidth,e(n),r())),()=>{n=null}}),[t])}},86551:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(784590),o=n(276775);function s(){const{username:e}=(0,o.useParams)();return(0,i.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},499155:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(667294),o=n(898781),s=n(883119),r=n(785893);function a({size:e,iconColor:t,backgroundColor:n,disabled:i,onClick:a}){const l=(0,o.ZP)(),c=48===e?"lg":"xl";return(0,r.jsx)(s.hU,{accessibilityLabel:l._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:n,icon:"link",iconColor:t||n&&!["white","lightGray","transparent"].includes(n)?t:"gray",size:c,disabled:i,onClick:a})}var l=n(172071),c=n(239324),d=n(518604),u=n(499128),h=n(53987),_=n(867060),p=n(407043),m=n(773285),g=n(276775),f=n(343341),b=n(244617),y=n(827896);function v({backgroundColor:e,iconColor:t,iconSize:n,iconWrapperWidth:v,isCloseupActionBar:x,marginEnd:w,onClick:P,sharedObject:S,spaceBelowIcon:A,viewType:I,viewParameter:E,relayEnvironment:C}){const k=(0,o.ZP)(),{logContextEvent:j}=(0,p.v)(),{checkExperiment:T}=(0,m.F)(),R=T("web_share_menu_logging").anyEnabled,O=(0,f.F9)(),[L,z]=(0,i.useState)(""),[D,F]=(0,i.useState)(!1),[M,N]=(0,i.useState)(!1),Z=(0,g.useLocation)(),B=(0,y.Z)(),U=k._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),H=e=>{x?navigator.clipboard.writeText(e).then((()=>{var e;e=k._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),O.showToast((({hideToast:t})=>(0,r.jsx)(s.xu,{top:!0,children:(0,r.jsx)(u.ZP,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{N(!0),setTimeout((()=>{N(!1)}),3e3)}))},V=async()=>{if(L)return void H(L);F(!0);const e=(e=>{let t;if("pin"===S.type&&S.id){const e={shouldTrackForPrevLocation:!0};t=B(S.id,e)}return{invite_category:3,invite_channel:e,object_type:S.type,object_id:S.id,name:S.name,description:S.description||"",path:S.url,picture:S.imageUrl,client_tracking_params:t}})(12);b.Z.createShareInviteData(e,C).then((t=>{const{invite_url:n}=t;F(!1),n&&(z(n),b.Z.logShareInvite(e,t,C),H(n))}))},G=()=>{if(V(),R){const e=_.y[S.type];e||l.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:S.type}),x&&j({event_type:101,component:14147,element:13103,object_id_str:S.id,view_type:I,view_parameter:E,aux_data:e?{invite_object:e}:void 0}),P&&P()}};return(0,h.am)(Z)&&x&&T("web_copy_link_btn_replace").anyEnabled?(0,r.jsx)(s.xu,{marginStart:1,children:(0,r.jsx)(s.zx,{accessibilityLabel:k._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:k._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>G(),size:"lg",color:"gray",fullWidth:!0})}):(0,r.jsxs)(d.Z,{isCloseupActionBar:!0,width:v||n,marginEnd:w||!1,children:[(0,r.jsx)(s.xu,{alignItems:x?"center":"stretch",display:x?"flex":"block",marginBottom:A,width:x?"100%":"auto",children:(0,r.jsx)(s.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:n,children:(0,r.jsx)(a,{backgroundColor:e,iconColor:t,size:n,onClick:G,disabled:D})})}),!x&&(0,r.jsx)(c.Z,{text:M?U:k._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},837727:(e,t,n)=>{n.d(t,{d:()=>i});const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},451204:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_e});var i=n(667294),o=n(172071),s=n(116303),r=n(898781),a=n(934523),l=n(349700),c=n(407043),d=n(773285);const u={FONT_SIZE:"300",ITEM_SIZE:56,ITEM_PADDING:30,SPACE_BELOW_ITEM:2,ITEM_ROW_HEIGHT:98,SECTION_LABEL_HEIGHT:64,MAX_CONTACTS_SHOWN:5,SHARE_SHEET_PADDING_X:3,SHARE_SHEET_PADDING_Y:2},h={FONT_SIZE:"200",ITEM_SIZE:48,ITEM_PADDING:26,SPACE_BELOW_ITEM:2,ITEM_ROW_HEIGHT:81,SECTION_LABEL_HEIGHT:49,MAX_CONTACTS_SHOWN:4,SHARE_SHEET_PADDING_X:3,SHARE_SHEET_PADDING_Y:1},_=(u.MAX_CONTACTS_SHOWN+1)*(u.ITEM_SIZE+u.ITEM_PADDING)+2*u.SHARE_SHEET_PADDING_X*4,p=(h.MAX_CONTACTS_SHOWN+1)*(h.ITEM_SIZE+h.ITEM_PADDING)+2*h.SHARE_SHEET_PADDING_X*4,m="error";var g=n(883119),f=n(785893);function b({idx:e,item:t,onSendMessage:n,onViewConversation:o,sentHistory:_}){var p;const b=(0,r.ZP)(),{logContextEvent:y}=(0,c.v)(),[v,x]=(0,i.useState)(!1),w=t.id||"string"==typeof t.email&&t.email||"",P=_[w]===m,S=Object.prototype.hasOwnProperty.call(_,w)&&!P,A=null!==(p=_[w])&&void 0!==p?p:"";(0,i.useEffect)((()=>{P&&x(!1)}),[P]);let I="";"string"!=typeof t.full_name||t.full_name.match(/^\s*$/)?"string"!=typeof t.email||t.email.match(/^\s*$/)||(I=t.email):I=t.full_name;let E="";S?E=b._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):v&&(E=b._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact'));const{checkExperiment:C}=(0,d.F)(),k=C("web_sharesheet_resize").anyEnabled?h:u;return(0,f.jsx)(g.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",direction:"column",width:k.ITEM_SIZE+k.ITEM_PADDING,children:(0,f.jsx)(g.xu,{display:"inlineBlock",role:"button",children:(0,f.jsxs)(g.iP,{onTap:S?()=>o(A):()=>{y({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),x(!0),n(t)},children:[(0,f.jsxs)(g.xu,{alignItems:"center","data-test-id":v?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:k.ITEM_SIZE,justifyContent:"center",marginBottom:k.SPACE_BELOW_ITEM,width:k.ITEM_SIZE,children:[v&&(0,f.jsx)(g.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:k.ITEM_SIZE,justifyContent:"center",position:"absolute",rounding:"circle",width:k.ITEM_SIZE,zIndex:new g.Ry(a.fe),children:(0,f.jsx)(g.JO,{accessibilityLabel:(0,l.Wc)(b._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:I}),icon:"check",color:"light",size:24})}),(0,f.jsx)(s.Z,{size:"fit",src:t.image_large_url,name:I})]}),(0,f.jsxs)(g.xu,{"data-test-id":"sharesheet-contact-item-label",width:k.ITEM_SIZE,children:[(0,f.jsx)(g.xv,{lineClamp:1,size:"100",align:"center",children:I}),(0,f.jsx)(g.xv,{color:"subtle",size:"100",align:"center",children:E})]})]})})})}var y=n(784590),v=n(479301),x=n(711108);function w(e){var t;const{logContextEvent:n}=(0,c.v)(),o=(0,r.ZP)(),{onHide:s,onSendMessage:a,onShowImportContacts:l,objectAttachment:_,sentHistory:p}=e,{checkExperiment:m}=(0,d.F)(),w=m("web_sharesheet_resize").anyEnabled?h:u,{isLoaded:P}=(0,y.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{shareSuggestions:S}=(0,x.E)(),A=(null===(t=S[""])||void 0===t?void 0:t.slice(0,w.MAX_CONTACTS_SHOWN))||[],I=A.length>0;(0,i.useEffect)((()=>{if(P){n({event_type:I?7511:7512,component:56,view_type:70,view_parameter:256})}}),[I,n,P]);const{dropdownOpen:E,conversationOpen:C,newMessageOpen:k}=(0,v.Z5)(),j=e=>{C(e),E(),s()},T=A.map(((e,t)=>{const n=`${e.id||e.email||t}`,i={item:e,idx:t,onSendMessage:a,onViewConversation:j,sentHistory:p};return(0,f.jsx)(b,{...i},n)})),R=(0,d.F)().checkExperiment("web_sharesheet_resize").anyEnabled,O=!I&&!P;return(0,f.jsxs)(g.kC,{direction:"column",children:[(0,f.jsx)(g.kC,{alignItems:"center",height:w.SECTION_LABEL_HEIGHT,justifyContent:"center",children:(0,f.jsx)(g.xv,{align:"center",size:w.FONT_SIZE,weight:"bold",children:o._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,f.jsx)(g.xu,{display:"flex",height:w.ITEM_ROW_HEIGHT,justifyContent:O?"center":void 0,marginBottom:5,children:O?(0,f.jsx)(g.xu,{paddingY:2,children:(0,f.jsx)(g.$j,{accessibilityLabel:o._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,f.jsxs)(g.kC,{direction:"row",children:[(0,f.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:w.ITEM_SIZE+w.ITEM_PADDING,children:[(0,f.jsx)(g.xu,{height:w.ITEM_SIZE,marginBottom:w.SPACE_BELOW_ITEM,width:w.ITEM_SIZE,children:(0,f.jsx)(g.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{k(_),E(),s()},size:R?"lg":"xl"})}),(0,f.jsx)(g.xv,{lineClamp:1,size:"100",children:o._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),I?T:(0,f.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:w.ITEM_SIZE+w.ITEM_PADDING,children:[(0,f.jsx)(g.xu,{height:w.ITEM_SIZE,marginBottom:w.SPACE_BELOW_ITEM,width:w.ITEM_SIZE,children:(0,f.jsx)(g.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:l,size:R?"lg":"xl"})}),(0,f.jsx)(g.xv,{lineClamp:1,size:"100",children:o._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function P(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var S=n(936776),A=n(837727);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{constructor(...e){super(...e),I(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),I(this,"handleSendEmail",((e,t)=>{if(e){const n={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(n,t)}})),I(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),I(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,f.jsx)(g.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:t,size:"sm",iconColor:"gray"})}render(){const{width:e}=this.props;return(0,f.jsxs)(g.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,f.jsxs)(g.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,f.jsx)(g.xu,{flex:"grow",marginEnd:8,children:(0,f.jsx)(g.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,f.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,f.jsx)(g.xu,{paddingY:1,marginBottom:4,children:(0,f.jsx)(g.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,f.jsx)(g.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,f.jsx)(g.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,f.jsx)(g.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,S.Z)(this.state.emailValue)})})]})]})}}function C(e){const t=(0,r.ZP)();return(0,f.jsx)(E,{...e,i18n:t})}var k=n(567831),j=n(499155),T=n(31149),R=n(107193),O=n(659522),L=n(331744),z=n(757146);function D({size:e=48}){return(0,f.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,f.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,f.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,f.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,f.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,f.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,f.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var F=n(239324),M=n(518604),N=n(19121);function Z({iconSize:e,iconWrapperWidth:t,marginBottom:n,marginEnd:i,onCreatePincodeClick:o,sharedObject:s}){const a=(0,r.ZP)(),l=(0,N.Z)();return o&&[A.d.BOARD,A.d.PINNER,A.d.USER].includes(s.type)&&l.isAuth&&(s.id===l.id||l.isEmployee)?(0,f.jsxs)(M.Z,{width:t,marginEnd:i,children:[(0,f.jsx)(g.xu,{marginBottom:n,children:(0,f.jsx)(g.iP,{fullWidth:!1,onTap:o,children:(0,f.jsx)(D,{size:e})})}),(0,f.jsx)(F.Z,{text:a._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var B=n(464240),U=n(22641),H=n(167912),V=n(780280),G=n(244617),$=n(827896),W=n(867060),K=n(343341);function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const q={backgroundColor:"#ffffff",border:"none",padding:0},X=new Set(["JP","TW","TH"]),Q=(e,t)=>{(0,R.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class J extends i.Component{constructor(...e){super(...e),Y(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Y(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(G.Z.logShareInvite(n,t,this.props.relayEnvironment),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){let t;const{sharedObject:n,getClientTrackingParams:i}=this.props;if("pin"===n.type&&n.id){const e={shouldTrackForPrevLocation:!0};t=i(n.id,e)}return{invite_category:3,invite_channel:e,object_type:n.type,object_id:n.id,name:n.name,description:n.description||"",path:n.url,picture:n.imageUrl,client_tracking_params:t}}getWhatsAppURL(){const e=this.getShareOptions(10);G.Z.createShareInviteData(e,this.props.relayEnvironment).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,k.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e,t){if(this.checkWritePermissions())return;const{onCreatePincodeClick:n,onExternalSend:i,logContextEvent:s,viewType:r,viewParameter:a,inShareMenuLoggingExp:l,sharedObject:c}=this.props;let d=l?W.c[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),l||(d=257)):"twitter"===e||9===t?(this.openTwitterDialog(),l||(d=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),l||(d=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),l||(d=951)):"pincode"===e||16===t?n&&n():"copylink"===e||12===t?(this.openShareUrlLink(),l||(d=100)):"email"===e||1===t?(this.openEmailDialog(),l||(d=258)):"line"!==e&&8!==t||(this.openLineDialog(),l||(d=952)),i&&i();const u=W.y[c.type];u||o.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:c.type}),s({event_type:101,component:l?14121:153,element:d,object_id_str:l?c.id:void 0,view_type:l?r:void 0,view_parameter:l?a:void 0,aux_data:l?{invite_object:u}:void 0})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;Q((()=>{G.Z.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;Q((()=>{G.Z.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t},this.props.relayEnvironment)}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(G.Z.logShareInvite(e,this.state.whatsappInviteData,this.props.relayEnvironment),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){G.Z.shareTwitterInvite(this.getShareOptions(9),this.props.relayEnvironment)}openLineDialog(){G.Z.shareLineInvite(this.getShareOptions(8),this.props.relayEnvironment)}renderEmail(){const{inResizeShareSheetExp:e}=this.props,t=e?h:u,n=t.ITEM_SIZE,i=t.ITEM_SIZE+t.ITEM_PADDING,o=t.SPACE_BELOW_ITEM;return(0,f.jsxs)(M.Z,{width:i,marginEnd:!1,children:[(0,f.jsx)(g.xu,{display:"inlineBlock",marginBottom:o,children:(0,f.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email",1),style:q,children:(0,f.jsx)(T.Z,{size:n})})}),(0,f.jsx)(F.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:n,showLineShare:o,showMessengerShare:s,isPublisherSharingObject:r,viewType:a,viewParameter:l,inResizeShareSheetExp:c}=this.props,d=c?h:u,_=d.ITEM_SIZE,p=d.ITEM_SIZE+d.ITEM_PADDING,m=d.SPACE_BELOW_ITEM;return(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(g.kC,{justifyContent:"start",wrap:c,children:[o&&(0,f.jsxs)(M.Z,{width:p,marginEnd:o,children:[(0,f.jsx)(g.xu,{marginBottom:m,children:(0,f.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line",8),style:q,children:(0,f.jsx)(L.Z,{size:_})})}),(0,f.jsx)(F.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,f.jsxs)(M.Z,{width:p,marginEnd:!1,children:[(0,f.jsx)(g.xu,{marginBottom:m,children:(0,f.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp",10),style:q,tabIndex:"-1",children:(0,f.jsx)(g.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,f.jsx)(U.Z,{size:_})})})}),(0,f.jsx)(F.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),s&&(0,f.jsxs)(M.Z,{width:p,marginEnd:!1,children:[(0,f.jsx)(g.xu,{marginBottom:m,children:(0,f.jsx)("button",{"aria-label":e._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:()=>this.handleSocialShareClick("messenger",6),style:q,children:(0,f.jsx)(z.Z,{size:_})})}),(0,f.jsx)(F.Z,{text:e._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,f.jsxs)(M.Z,{width:p,marginEnd:!1,children:[(0,f.jsx)(g.xu,{marginBottom:m,children:(0,f.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook",5),style:q,children:(0,f.jsx)(O.Z,{size:_})})}),(0,f.jsx)(F.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,f.jsxs)(M.Z,{width:p,marginEnd:!1,children:[(0,f.jsx)(g.xu,{marginBottom:m,children:(0,f.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter",9),style:q,"data-test-id":"twitter-share-icon",children:(0,f.jsx)(B.Z,{size:_})})}),(0,f.jsx)(F.Z,{text:e._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(Z,{iconSize:_,iconWrapperWidth:p,marginBottom:m,marginEnd:!1,onCreatePincodeClick:t,sharedObject:n}),(0,f.jsx)(j.default,{sharedObject:n,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:_,iconWrapperWidth:p,marginEnd:o,onClick:()=>this.handleSocialShareClick("copylink",12),isCloseupActionBar:!1,spaceBelowIcon:m,viewType:a,viewParameter:l,relayEnvironment:this.props.relayEnvironment},"copylink"),!r&&this.renderEmail()]})]})})}render(){const{paddingX:e,inResizeShareSheetExp:t}=this.props,n=t?h:u;return(0,f.jsxs)(g.xu,{paddingX:e,children:[(0,f.jsx)(g.kC,{alignContent:"center",alignItems:"center",height:n.SECTION_LABEL_HEIGHT,justifyContent:"center",children:(0,f.jsx)(g.xv,{size:n.FONT_SIZE,weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,f.jsx)(g.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:n.ITEM_ROW_HEIGHT,children:this.renderShareOptions()})]})}}function ee(e){const{logContextEvent:t}=(0,c.v)(),{checkExperiment:n}=(0,d.F)(),i=(0,r.ZP)(),o=(0,N.Z)(),s=o.isAuth&&X.has(o.country),a=n("web_messenger_share_channel").anyEnabled,l=(0,V.B)(),u=n("web_share_menu_logging").anyEnabled,h=n("web_sharesheet_resize").anyEnabled,_=n("graphql_migration_sharesheet_sgrowth_web").anyEnabled,p=(0,H.useRelayEnvironment)();return(0,f.jsx)(J,{...e,toastManagerContext:(0,K.F9)(),viewer:(0,N.Z)(),showLineShare:s,showMessengerShare:a,i18n:i,logContextEvent:t,unauthId:l.unauthId,inShareMenuLoggingExp:u,inResizeShareSheetExp:h,shareSheetExpEnabled:_,relayEnvironment:_?p:void 0,getClientTrackingParams:(0,$.Z)()})}var te=n(6637),ne=n(499128),ie=n(717615),oe=n(231947),se=n(758523);const re=(e,t)=>{const n={};return e.forEach((e=>{n[e]=t})),n};function ae(e){const{logContextEvent:t}=(0,c.v)(),n=(0,r.ZP)(),[s,a]=(0,i.useState)(!1),[l,b]=(0,i.useState)(null),[y,x]=(0,i.useState)({}),[S]=(0,i.useState)(((e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"")(e.sendType,n)),{showOneToast:A}=(0,K.F9)(),{surface:I}=(0,se.$)(),E=(0,N.Z)(),k=(0,ie.Z)(),{conversationCreate:j}=(0,v.Z5)(),T=(0,v.NG)(),R=(0,i.useRef)();(0,i.useEffect)((()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.focus()}),[]);const O=(n,i)=>{a(!1),e.onMessageSent(),((n,i)=>{const{sharedObject:s}=e,r=s.id;o.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:r,aux_data:{conversation_id:n,pin_id:i}})})(n,i)},L=(e,t)=>{o.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),x({...y,...re(e,m)});const n=t.message_detail||t.message;n&&A((({hideToast:e})=>(0,f.jsx)(ne.ZP,{variant:"error",duration:5e3,onHide:e,text:n})))},z=async(t,n,i)=>{const{sharedObject:o,sendType:s}=e,r=o.id,a={emails:n,user_ids:t,text:i,source:P(I)};a[s]=r;const l=te.Z.create("ConversationsResource",a),c=t.length>0?t:n;try{const e=await l.callCreate(),t=e&&e.resource_response.data;j(t),O(t.id,"pin"===s?r:null),x({...y,...re(c,t.id)})}catch(d){L(c,d)}},D=(n,i)=>{"conversation_share_suggestion"===n.type?((t,n,i)=>{const{sharedObject:o,sendType:s}=e;let r;switch(s){case"pin":r="pinId";break;case"board":r="boardId";break;case"did_it":r="didItId";break;case"user":case"pinner":r="userId"}const a=r?T(t,{text:n,[r]:o.id,source:P(I)},void 0,E):void 0;a&&a.then((()=>{O(t,"pin"===s?o.id:null),x({...y,[t]:t})})).catch((e=>{L([t],e)}))})(n.id,i):"user_share_suggestion"===n.type&&n.username?z([n.id],[],i):z([],[n.email],i),t({event_type:101,component:56,element:276})},{onCreatePincodeClick:F,onShowImport:M,sendType:Z,sharedObject:B,onHide:U,onExternalSend:H,viewType:V,viewParameter:G}=e,$="user"===e.sendType&&(0,oe.q6)(E,e.sharedObject.id,k),W=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,oe.q6)(E,e.sharedObject.ownerId,k),Y=$||W,{checkExperiment:q}=(0,d.F)(),X=q("web_sharesheet_resize").anyEnabled,Q=X?h:u,J=X?p:_;return s&&"email"===l?(0,f.jsx)(C,{initialTextValue:S,objectId:B.id,objectType:Z,onCancelDraft:()=>{a(!1),b(null)},onHide:U,onSendMessage:D,width:J}):(0,f.jsxs)(g.xu,{color:"default",paddingX:Q.SHARE_SHEET_PADDING_X,paddingY:Q.SHARE_SHEET_PADDING_Y,width:J,tabIndex:0,ref:R,children:[(0,f.jsx)(ee,{onCreatePincodeClick:F,onEmailIconClick:()=>{a(!0),b("email")},onExternalSend:H,onHide:U,sharedObject:B,isPublisherSharingObject:Y,viewType:V,viewParameter:G}),!Y&&(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(g.xu,{paddingY:1,paddingX:3,children:(0,f.jsx)(g.iz,{})}),(0,f.jsx)(w,{objectAttachment:{type:Z,id:B.id},onHide:U,onSendMessage:D,onShowImportContacts:M,sentHistory:y})]})]})}var le=n(177471);const ce=["facebook","google"];function de(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function ue(e,t,n){return"facebook"===e?n._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function he({onBack:e}){const t=(0,r.ZP)(),n=(0,N.Z)(),i=n.isAuth?n.email:null,o=ce.filter((e=>!n.isAuth||!1===n.socialNetwork[e].connected)),s=(0,le.k)();return(0,f.jsx)(g.xu,{paddingX:1,paddingY:2,children:(0,f.jsxs)(g.kC,{gap:{row:0,column:2},direction:"column",children:[(0,f.jsxs)(g.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,f.jsx)(g.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"}),(0,f.jsx)(g.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,f.jsx)(g.kC,{direction:"column",gap:{row:0,column:4},children:o.map((e=>(0,f.jsx)(g.xu,{paddingX:2,children:(0,f.jsxs)(g.iP,{onTap:()=>(e=>{s.handleConnect(e,!0,Object.freeze({}),t)})(e),children:[(0,f.jsx)(g.xv,{size:"200",children:de(e,t)}),(0,f.jsx)(g.xv,{size:"200",children:ue(e,i,t)})]})},e)))})]})})}function _e({element:e,onCreatePincodeClick:t,onExternalSend:n,onHide:s,sendType:r,sharedObject:l,viewType:u,viewParameter:h}){const{logContextEvent:_}=(0,c.v)(),[p,m]=(0,i.useState)(!1),{checkExperiment:b}=(0,d.F)(),y=b("web_share_menu_logging").anyEnabled,v=(0,i.useRef)(!1);(0,i.useEffect)((()=>{const t=W.y[r];return t||o.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:r}),_({event_type:7120,component:y?14121:void 0,object_id_str:l.id,element:y?e:void 0,view_type:u,view_parameter:h,aux_data:y?{invite_object:t}:void 0}),()=>{y||_({event_type:7121,object_id_str:l.id,view_type:u,view_parameter:h});const e=v.current?7493:7492;_({event_type:e,component:y?14121:void 0,object_id_str:y?l.id:void 0,element:y?13097:void 0,view_type:u,view_parameter:h,aux_data:y?{invite_object:t}:void 0})}}),[]);const x=()=>{m(!0)},w=()=>{m(!1)},P=()=>{v.current=!0},S=()=>{v.current=!0,n&&n()};return p?(0,f.jsx)(he,{onBack:w}):(0,f.jsx)(g.xu,{overflow:"hidden",rounding:4,zIndex:new g.Ry(a.fe-1),color:"default",children:(0,f.jsx)(ae,{onCreatePincodeClick:t,onHide:s,onShowImport:x,onMessageSent:P,onExternalSend:S,sendType:r,sharedObject:l,viewType:u,viewParameter:h})})}},983294:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),o=n(300267),s=n(259986),r=n(812446),a=n(898781),l=n(883119),c=n(785893);const d=(0,r.Z)((function({handleSendShareFlyoutButtonClick:e,isFlyoutOpen:t,useGestaltButton:n}){const i=(0,a.ZP)(),o=i._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label to send this profile button');return n?(0,c.jsx)(l.zx,{accessibilityLabel:o,onClick:e,selected:t,size:"lg",text:i._('Share', 'sendProfileButton.button', 'Button to share user profile')}):(0,c.jsx)(s.Z,{accessibilityLabel:o,icon:"share",onClick:e,selected:t})}));var u=n(19121);function h({shownWithinProfileHeader:e,useGestaltButton:t,user:n}){var s,r,a;const[l,h]=(0,i.useState)(!1),_=(0,u.Z)(),p=(0,o.Z)({user:n,viewer:_});return(0,c.jsx)(d,{fullName:null!==(s=null==n?void 0:n.full_name)&&void 0!==s?s:"",gridDescription:"",imageSrc:null==n?void 0:n.image_large_url,isFlyoutOpen:l,isOwnProfile:p,onFlyoutDismiss:()=>h(!1),onToggleFlyout:()=>h(!l),profileUrl:`/${null!==(r=null==n?void 0:n.username)&&void 0!==r?r:""}/`,sendType:"user",shownWithinProfileHeader:e,useGestaltButton:t,userId:null!==(a=null==n?void 0:n.id)&&void 0!==a?a:"",element:12631})}},239324:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(207112),o=n(883119),s=n(785893);const r=({text:e})=>(0,s.jsx)(o.xv,{align:"center",size:"100",children:(0,s.jsx)(i.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},518604:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(785893);const s=({width:e,marginEnd:t,children:n,isCloseupActionBar:s})=>(0,o.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,marginBottom:s?0:5,children:n})},935409:(e,t,n)=>{n.d(t,{$z:()=>R,Br:()=>h,Cr:()=>A,K8:()=>b,Q_:()=>x,Tq:()=>g,Xi:()=>j,YQ:()=>O,YV:()=>S,ZP:()=>I,aX:()=>E,eo:()=>p,gi:()=>P,md:()=>_,oG:()=>m,oL:()=>C,of:()=>y,xH:()=>f,xQ:()=>v,xR:()=>T,xk:()=>w,yT:()=>u});var i=n(27255),o=n(31185),s=n(778821),r=n(379725),a=n(875495),l=n(527885),c=n(414327),d=n(6637);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function h(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function p({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}const m=(e,t)=>n=>n((0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function g(e,t,n){return(0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function f(e,t,n){return i=>d.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...n?{orbac_subject_id:n}:{}}).callUpdate().then((()=>Promise.all([i(p({boardId:e})),i(g(t,"pin_count")),i((0,a.N8)(s.DV.BOARD_SECTIONS,t))])))}function b(e){return t=>{e&&(0,l.Q)(e).forEach((e=>{t(e)}))}}const y=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),v=e=>m(e,"pin_count");function x(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function w(e,t){return n=>(n(x(e)),d.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function P(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function S(e,t){return n=>(n(P(e)),d.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const A=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),I=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function E(e,t,n){const s={name:e,privacy:i.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>d.Z.create("BoardResource",s).callCreate().then((n=>{const i=n.resource_response.data;return e(t&&(0,c.jB)("BoardsResource",(0,o.Z)(t,!1))),i}))}function C(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}const k=(e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}),j=(e,t=!1,n)=>i=>(i(((e,t,n)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:n}}))(e,t,n)),d.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==n?void 0:n.id}).callUpdate()),T=(e,t)=>n=>(n(((e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}))(e,t)),d.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),R=(e,t,n)=>i=>(i(k(e,t,"new",n)),d.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:n.map((({id:e})=>e))}).callCreate()),O=(e,t,n,i,o)=>s=>{var r,a;const l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return s(((e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}))(e,null!==(r=null==i?void 0:i.id)&&void 0!==r?r:"",n)),d.Z.create(l,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(a=null==i?void 0:i.id)&&void 0!==a?a:"",...o?{orbac_subject_id:o}:{}}).callDelete().catch((()=>s(k(e,n,t,[i]))))}},98265:(e,t,n)=>{n.d(t,{A8:()=>d,Cf:()=>l,GJ:()=>m,Jn:()=>a,OA:()=>o,SD:()=>u,pS:()=>s,q1:()=>r,sJ:()=>p,xx:()=>c});var i=n(6637);function o(e,t,n){return i.Z.create("BoardEmailInviteResource",{board_id:e,emails:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callCreate()}function s(e,t,n){return i.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callCreate()}function r(e,t){return n=>i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().catch((()=>{}))}function a(e,t,n,o){return async t=>{const{invited_user:s,status:r,board:{id:a}}=e;s&&await i.Z.create("accepted"===r?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:a,field_set_key:"boardEdit",invited_user_id:s.id,...o?{orbac_subject_id:o}:{}}).callDelete({showError:!1})}}function l(e,t){return async n=>{await i.Z.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callCreate(),n(function(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}(e,t))}}function c(e,t){return async n=>{await i.Z.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callDelete(),n(function(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}(e))}}const d=(e,t)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}),u=(e,t)=>n=>{n(d(e,t)),i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()};function h(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}function _(e,t){return i.Z.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function p(e,t){return n=>{_(e,t).callCreate().catch((()=>{n(h(e,!1))})),n(h(e,!0))}}function m(e,t){return n=>{_(e,t).callDelete({showError:!1}).catch((()=>{n(h(e,!0))})),n(h(e,!1))}}},875495:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>o,Qv:()=>s,_f:()=>i,vX:()=>a});const s=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function a(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},5226:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>r,fv:()=>l,kE:()=>u,yA:()=>a});var i=n(6637),o=n(482546);function s(e,t){return i.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t=null){return n=>{s(e,t).callCreate().catch((()=>n((0,o.P_)(e,!1)))),n((0,o.P_)(e,!0))}}function a(e,t=null){return async n=>{n((0,o.P_)(e,!0)),await s(e,t).callCreate().catch((t=>{throw n((0,o.P_)(e,!1)),t}))}}function l(e,t=null){return n=>{s(e,t).callDelete().catch((()=>n((0,o.P_)(e,!0)))),n((0,o.P_)(e,!1))}}function c(e,t=null){return async n=>{n((0,o.P_)(e,!1)),await s(e,t).callDelete().catch((t=>{throw n((0,o.P_)(e,!0)),t}))}}const d=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(i.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(d(e,!1)))),t(d(e,!0)))}},482546:(e,t,n)=>{n.d(t,{Ge:()=>a,JS:()=>o,P_:()=>s,h2:()=>l,h6:()=>c});var i=n(6637);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),a=(e,t)=>n=>(n(r(e,!0)),i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>n(r(e,!1))))),l=e=>t=>(t(r(e,!1)),i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(r(e,!0)))));function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}},47495:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(583228);const o={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardCollaboratorsResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,ExploreArticleBlockPinResource:i.LR,ExploreArticleBlockSearchResource:i.LR,ExploreArticleBlockUserResource:i.LR,ExploreArticleBlockUserDidItDataResource:i.LR,ExploreArticleResource:i.yg,FollowingFeedResource:i.LR,HolidaySpotlightRelatedFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserSimilarBusinessesResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR}},583228:(e,t,n)=>{n.d(t,{Cj:()=>c,EA:()=>s,Gn:()=>I,Ht:()=>A,IY:()=>l,LR:()=>C,_F:()=>h,cC:()=>y,dq:()=>p,fE:()=>u,iF:()=>b,rm:()=>r,sN:()=>E,sf:()=>x,t6:()=>S,yg:()=>g});var i=n(782677);const o=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",creatorRecommendationItem:"creatorRecommendationItems",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),s=new i.fK.Entity(o.user),r=new i.fK.Entity(o.aggregatedComment,{user:s,tagged_users:[s]}),a=new i.fK.Entity(o.article,{curator:s}),l=new i.fK.Entity(o.board),c=new i.fK.Entity(o.pin),d=new i.fK.Entity(o.reaction,{user:s}),u=new i.fK.Array(d),h=new i.fK.Entity(o.boardsection),_=new i.fK.Entity(o.conversationMessage,{sender:s,users:[s],board:l,pin:c,user:s}),p=new i.fK.Array(_),m=new i.fK.Entity(o.contactrequest),g=new i.fK.Entity(o.story,{cover_pin:c,user:s}),f=new i.fK.Entity(o.triedit,{pin:c,user:s}),b=new i.fK.Entity(o.todayArticle,{article_creator_user:s,content_pin:c,content_pin_official_user:s,video_pin:c}),y=new i.fK.Entity(o.topic,{},{processStrategy:(e,t,n)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),v=new i.fK.Entity(o.creatorRecommendationItem,{user:s,interest:y}),x=new i.fK.Entity(o.invite,{invited_by_user:s,invited_user:s,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),w=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"creatorrecommendationitem":return"creatorRecommendationItem";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},P=new i.fK.Union({user:s,board:l,invite:x,pin:c,topic:y,triedit:f},w),S=new i.fK.Entity(o.notification,{content_items:[{content_object:P}],header_icon_objects:[P]}),A=new i.fK.Array(x),I=new i.fK.Array(s),E=new i.fK.Array(l),C=new i.fK.Array({aggregatedComment:r,article:a,board:l,boardsection:h,contactrequest:m,conversationMessage:_,creatorRecommendationItem:v,notification:S,pin:c,story:g,todayArticle:b,topic:y,triedit:f,user:s},w,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:C})},778821:(e,t,n)=>{n.d(t,{DV:()=>u,J:()=>g,ZP:()=>v});var i=n(848900),o=n(932995),s=n(47495),r=n(91456),a=n(648284),l=n(983360),c=n(583228),d=n(338739);const u={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USER_DID_IT_DATA:"userDidItData"},h=new Set(["PinResource","RepinResource"]),_={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${u.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItCommentsResource:e=>`${u.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,n=e.resource_response.data,{story_type:i}=n?n.objects[0]:{story_type:""};return`explore-${i.slice(t)}:${n.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>`user-similar-business:${e.username}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},p={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:u.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:u.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?u.AGGREGATED_COMMENT_REPLIES:u.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:u.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:u.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:u.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:u.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:u.PROFILE_BOARDS,id:(0,i.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:i,query_pin_sigs:o,query:s,user:l},response:c})=>{var d;return{type:u.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:i,query:s,selectedPinImgSig:o,scope:n,user:l}),items:null!==(d=c.resource_response.data)&&void 0!==d&&d.results?(0,r.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:u.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:u.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:u.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:u.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:u.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:u.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:u.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:u.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:u.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:u.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,oldFeedId:n,newFeedId:i})=>n===i?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:i}),g=(e,t)=>e in _?_[e](t):null,f=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,b=(e,t)=>e.map((({id:e,schema:n})=>{var i;return n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:"creatorRecommendationItem"===n?null===(i=t.creatorRecommendationItems[e])||void 0===i?void 0:i.user_id:void 0}:null})).filter(Boolean),y=(e,t,n)=>Object.keys(e).reduce(((i,o)=>{const s=e[o]||[],r=s.filter((e=>!(e.type===t&&e.id===n)));return s.length!==r.length&&(i[o]=r),i}),{...e}),v=(e={},t)=>{switch(t.type){case d.zP:case d.aW:{const{payload:i}=t,{resource:o,options:r,normalizedResponse:a,schema:l}=i;if(a&&o in _){const n=((e,t,n)=>{const i=n||s.Z[e];if(i===c.LR)return t.result;if(i===c.sN)return t.result.map((e=>({id:e,schema:"board"})));if(i===c.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(i===c.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(i===c.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof i){const e=Object.entries(i).find((([e,t])=>t===c.LR));if(e)return t.result[e[0]]}return null})(o,a,l);if(n&&Array.isArray(n)){const i=_[o](r);if("ShoppingFeedModularizedResource"===o){const{board_id:t,saved_products_only:i}=null!=r?r:{},o=`board-shop-related:${t}`,s=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,c=[...e[o]||[]],d=[...e[s]||[]],u=[...e[l]||[]];return b(n,a.entities).forEach((e=>{var n;i?d.push(e):a.entities.pins&&(null===(n=a.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):c.push(e)})),{...e,[o]:c,[s]:d,[l]:u}}if("BoardToolsFeedResource"===o||"SectionToolsFeedResource"===o)return{...e,[i]:n};{const o=(t.type===d.aW&&e[i]||[]).concat(b(n,a.entities));return{...e,[i]:o}}}}else{var n;const o=i.response.resource_response.data;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const s=p[i.resource](i);if(s){const{type:n,id:i,items:r,reversed:a}=s;let l=(r||o||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===u.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));a&&(l=l.reverse());const c=`${n}:${i}`,h=e[c];if(h||t.type!==d.aW){const n=h||[];let i=l;return t.type===d.aW&&(i=a?l.concat(n):n.concat(l)),{...e,[c]:i}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:s,targetItemId:r,sourceItemId:a}}=t,l=`${n}:${i}`,c=e[l]||[];let d=-1,h=-1;if([u.BOARDFEED,u.BOARD_SECTION_PINS,u.BOARD_SECTIONS,"profileBoards"].includes(n)&&(d=c.findIndex((e=>e.type===s&&e.id===a)),h=c.findIndex((e=>e.type===s&&e.id===r))),-1!==d&&-1!==h)return{...e,[l]:(0,o.Z)(c,d,h)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:o,itemType:s,itemIds:r=[]}}=t,a=`${n}:${i}`,l=e[a]||[];if(l&&l.length>0&&(n===u.BOARD_SECTION_PINS||n===u.BOARDFEED)){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&(o&&!t||!o&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[a]:n?t:[]}}if(l&&l.length>0&&n===u.BOARD_SECTIONS){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&t)}));return{...e,[a]:t}}if(l&&l.length>0&&(n===u.AGGREGATED_COMMENTS||n===u.BOARDLESS_PINS||n===u.PROFILE_PINS_FEED||n===u.STORY_PINS_FEED||n===u.UNIFIED_COMMENTS||n===u.USER_DID_IT_DATA||n===u.STORY_PIN_DATA)){const t=l.filter((e=>{const t=r.includes(e.id);return!(e.type===s&&t)}));return{...e,[a]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:o,itemIds:s=[],prepend:r}}=t,a=`${n}:${i}`,l=e[a]||[];if(l&&(n===u.BOARD_SECTION_PINS||n===u.BOARDFEED||n===u.BOARDLESS_PINS)){const t=s.map((e=>({id:e,type:o})));let n=0;"story"===(l[0]||{}).type&&(n=1),"story"===(l[1]||{}).type&&(n=2);const i=[...l.slice(0,n),...t,...l.slice(n)];return{...e,[a]:i}}if(l&&n===u.BOARD_SECTIONS){const t=[...s].reverse().map((e=>({id:e,type:"board_section"}))),n=l?[...t,...l]:[...t];return{...e,[a]:n}}if(n===u.AGGREGATED_COMMENTS||n===u.AGGREGATED_COMMENT_REPLIES||n===u.PROFILE_PINS_FEED||n===u.STORY_PINS_FEED||n===u.UNIFIED_COMMENTS){const t=s.map((e=>({id:e,type:o}))),n=l?[...r?t:l,...r?l:t]:t;return{...e,[a]:n}}if(n===u.USER_DID_IT_DATA){const t=s.map((e=>({id:e,type:o}))),n=l?[...t,...l]:t;return{...e,[a]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,o=`${n}:${i}`;if(e[o]||[])return{...e,[o]:null};break}case l.MU:{const{payload:{id:n,items:i,options:o}}=t,s=e[n];if(s){let t;return t=o.isPrepend?s[0]&&"story"===s[0].type?[].concat(s[0],i,s.slice(1)):i.concat(s):s.concat(i),{...e,[n]:t}}return{...e,[n]:i}}case l.l_:{const{payload:{pinId:n}}=t;return y(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:i}}=t,o=`profile-boards:${null!=i?i:""}`;if(e[o])return{...e,[o]:e[o].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return y(e,"board",n)}case l.Yn:{const{payload:{boardSectionId:n}}=t;return y(e,"boardsection",n)}case l.u2:{const{payload:{source:n,target:i,pinIds:o,userId:s}}=t,r=n.boardlessPins&&s&&`boardless-pins:${s}`||n.boardId&&f(n.boardId,n.sectionId),a=f(i.boardId,i.sectionId);return o.reduce(((e,t)=>m(e,{pinId:t,oldFeedId:r,newFeedId:a})),e)}case l.Fl:{const{payload:{source:n,target:i,excludePinIds:o}}=t,s=f(n.boardId,n.sectionId),r=f(i.boardId,i.sectionId),a={...e,[s]:o.map((e=>({type:"pin",id:e})))};return delete a[r],a}case l.fz:{const{payload:{pinId:n,boardId:i,section:o,source:{boardId:s,sectionId:r}}}=t,a=f(s,r),l=f(i,null==o?void 0:o.id);return m(e,{pinId:n,oldFeedId:a,newFeedId:l})}case d.AF:if(h.has(t.payload.resource)){const n=t.payload.response.resource_response.data,i=n.board;let o;if("quick_saves"===i.layout)o=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;o=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[o]){const t={...e},i={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[o]=[i].concat(e[o]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,i=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[i]){const t={...e},o={id:n,type:"boardsection"};return t[i]=[o].concat(e[i]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},i=["aggregated-comments","unified-comments"];let o={...e};for(const s of i){const i=`${s}:${t.payload.options.objectId}`;e[i]&&(o={...o,[i]:[n].concat(o[i])})}return o}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`${u.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const i=`reactions:${t.payload.options.pin_id}`,o={...e},s={id:`${n}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return o[i]=[s].concat(e[i]),o}if("unreaction"===t.payload.options.action_type){const i=`${n}:${t.payload.options.user_id}`;return y(e,"reaction",i)}}break;case l.ZX:{const{payload:{storyId:n}}=t;return y(e,"story",n)}}return e}},748367:(e,t,n)=>{n.d(t,{Z:()=>r});const i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},o=/[&><\u2028\u2029]/g;var s=n(785893);function r({id:e,testId:t,type:n="application/json",value:r}){const a=JSON.stringify(r).replace(o,(e=>i[e]));return(0,s.jsx)("script",{id:e,"data-test-id":t,type:n,dangerouslySetInnerHTML:{__html:a}})}},464228:(e,t,n)=>{n.d(t,{P:()=>s,Z:()=>r});var i=n(667294);const o=(0,i.createContext)();function s(){return(0,i.useContext)(o)}const r=o},204942:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},601413:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(204942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/ProfilePageDefault-bb0bba1e390b04c5.mjs.map