(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39152,13047,90984],{782677:(e,t,r)=>{function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function c(e,t,r){return Object.keys(e).reduce((function(t,o){var n=""+o;return t.has(n)?t.set(n,r(t.get(n),e[n])):t}),t)}r.d(t,{Fv:()=>b,fK:()=>E});var d=function(){function e(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var o=r,n=o.idAttribute,s=void 0===n?"id":n,c=o.mergeStrategy,d=void 0===c?function(e,t){return i({},e,t)}:c,u=o.processStrategy,l=void 0===u?function(e){return i({},e)}:u,p=o.fallbackStrategy,h=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof s?s:function(e){return function(t){return a(t)?t.get(e):t[e]}}(s),this._idAttribute=s,this._mergeStrategy=d,this._processStrategy=l,this._fallbackStrategy=h,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var o,n=e[r];return i({},t,((o={})[r]=n,o))}),this.schema||{})},t.getId=function(e,t,r){return this._getId(e,t,r)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,r,o,n,i){var s=this,a=this.getId(e,t,r),c=this.key;if(c in i||(i[c]={}),a in i[c]||(i[c][a]=[]),i[c][a].some((function(t){return t===e})))return a;i[c][a].push(e);var d=this._processStrategy(e,t,r);return Object.keys(this.schema).forEach((function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var r=s.schema[t],a="function"==typeof r?r(e):r;d[t]=o(d[t],d,t,a,n,i)}})),n(this,d,e,t,r),a},t.denormalize=function(e,t){var r=this;return a(e)?c(this.schema,e,t):(Object.keys(this.schema).forEach((function(o){if(e.hasOwnProperty(o)){var n=r.schema[o];e[o]=t(e[o],n)}})),e)},n(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),u=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,r){return!this.isSingleSchema&&this._schemaAttribute(e,t,r)},t.inferSchema=function(e,t,r){if(this.isSingleSchema)return this.schema;var o=this.getSchemaAttribute(e,t,r);return this.schema[o]},t.normalizeValue=function(e,t,r,o,n,i){var s=this.inferSchema(e,t,r);if(!s)return e;var a=o(e,t,r,s,n,i);return this.isSingleSchema||null==a?a:{id:a,schema:this.getSchemaAttribute(e,t,r)}},t.denormalizeValue=function(e,t){var r=a(e)?e.get("schema"):e.schema;return this.isSingleSchema||r?t((this.isSingleSchema?void 0:a(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[r]):e},n(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),l=function(e){function t(t,r){if(!r)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,r)||this}s(t,e);var r=t.prototype;return r.normalize=function(e,t,r,o,n,i){return this.normalizeValue(e,t,r,o,n,i)},r.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(u),p=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.normalize=function(e,t,r,o,n,s){var a=this;return Object.keys(e).reduce((function(t,r,c){var d,u=e[r];return null!=u?i({},t,((d={})[r]=a.normalizeValue(u,e,r,o,n,s),d)):t}),{})},r.denormalize=function(e,t){var r=this;return Object.keys(e).reduce((function(o,n){var s,a=e[n];return i({},o,((s={})[n]=r.denormalizeValue(a,t),s))}),{})},t}(u),h=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},m=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},_=function(e,t,r,o,n,i,s){return e=h(e),m(t).map((function(t,a){return n(t,r,o,e,i,s)}))},f=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.normalize=function(e,t,r,o,n,i){var s=this;return m(e).map((function(e,a){return s.normalizeValue(e,t,r,o,n,i)})).filter((function(e){return null!=e}))},r.denormalize=function(e,t){var r=this;return e&&e.map?e.map((function(e){return r.denormalizeValue(e,t)})):e},t}(u),y=function(e,t,r,o,n,s,a){var c=i({},t);return Object.keys(e).forEach((function(r){var o=e[r],i="function"==typeof o?o(t):o,d=n(t[r],t,r,i,s,a);null==d?delete c[r]:c[r]=d})),c},R=function(e,t,r){if(a(t))return c(e,t,r);var o=i({},t);return Object.keys(e).forEach((function(t){null!=o[t]&&(o[t]=r(o[t],e[t]))})),o},g=function e(t,r,o,n,i,s){return"object"==typeof t&&t?"object"!=typeof n||n.normalize&&"function"==typeof n.normalize?n.normalize(t,r,o,e,i,s):(Array.isArray(n)?_:y)(n,t,r,o,e,i,s):t},E={Array:f,Entity:d,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,r){var o,n=e[r];return i({},t,((o={})[r]=n,o))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return R.apply(void 0,[this.schema].concat(t))},e}(),Union:l,Values:p},b=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var r={},o=function(e){return function(t,r,o,n,i){var s=t.key,a=t.getId(o,n,i);s in e||(e[s]={});var c=e[s][a];e[s][a]=c?t.merge(c,r):r}}(r);return{entities:r,result:g(e,e,null,t,o,{})}}},442279:(e,t)=>{function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){return e===t}function n(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],r=null,n=null;return function(){for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return null!==r&&r.length===i.length&&i.every((function(e,o){return t(e,r[o])}))||(n=e.apply(void 0,i)),r=i,n}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function s(e){for(var t=arguments.length,o=Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=0,c=n.pop(),d=i(n),u=e.apply(void 0,[function(){return a++,c.apply(void 0,arguments)}].concat(o)),l=function(e,t){for(var o=arguments.length,n=Array(o>2?o-2:0),i=2;i<o;i++)n[i-2]=arguments[i];var s=d.map((function(r){return r.apply(void 0,[e,t].concat(n))}));return u.apply(void 0,r(s))};return l.resultFunc=c,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}var a=t.P1=s(n)},983360:(e,t,r)=>{r.d(t,{$o:()=>s,$t:()=>w,AC:()=>me,AO:()=>X,Ae:()=>S,BM:()=>h,C2:()=>N,CB:()=>ne,DC:()=>g,Df:()=>f,Fl:()=>p,GG:()=>q,HQ:()=>M,IY:()=>Q,JG:()=>G,K0:()=>i,Kp:()=>J,L6:()=>n,LB:()=>O,Ly:()=>B,MA:()=>x,MU:()=>o,NE:()=>se,OO:()=>V,Pz:()=>z,Qj:()=>Y,R8:()=>C,Th:()=>W,U1:()=>F,UD:()=>le,Uf:()=>D,Wn:()=>ce,XA:()=>ee,YZ:()=>d,Yn:()=>_,ZX:()=>A,a9:()=>R,aj:()=>U,b6:()=>u,c7:()=>y,cZ:()=>L,cs:()=>T,dF:()=>I,dO:()=>re,eI:()=>$,fz:()=>c,hC:()=>he,hl:()=>E,il:()=>pe,j_:()=>de,l_:()=>a,le:()=>H,lj:()=>ue,m2:()=>ae,mU:()=>oe,nk:()=>m,o3:()=>K,pV:()=>j,pd:()=>ie,q:()=>Z,tg:()=>P,u2:()=>l,vH:()=>k,vW:()=>te,xV:()=>b,xl:()=>v});const o="APPEND_FEED_ITEMS",n="DISMISS_UNAUTH_APP_UPSELL",i="TOPIC_FOLLOW",s="PIN_ADD",a="PIN_DELETE",c="PIN_EDIT",d="PIN_UNDO_SAVE",u="PIN_IMPRESSIONS",l="PINS_MOVE",p="PINS_MOVE_ALL",h="SET_SESSION_DATA",m="BOARD_SECTION_EDIT",_="BOARD_SECTION_DELETE",f="AUTHENTICATE_USER",y="REGISTER_USER",R="SET_LOGIN_SIGNUP_FROM",g="UPDATE_CURRENT_SEARCH",E="UPDATE_RECENT_SEARCHES",b="CLEAR_RECENT_SEARCH",S="CLEAR_RECENT_PERSONAL_SEARCH",v="CLEAR_RECENT_SEARCHES",I="CLEAR_RECENT_PERSONAL_SEARCHES",A="COMPLETE_STORY",w="SET_NUM_SIGNUP_STEPS",O="SET_OWN_PROFILE_PINS_REFRESH",T="SHOW_REPIN_ANIMATION",P="HIDE_REPIN_ANIMATION",D="MESSAGE_SEND_PENDING",N="MESSAGE_SEND_PENDING_SUCCESS",C="MESSAGE_SEND_PENDING_FAILURE",L="ONE_TAP_SAVE",F="ONE_TAP_UNSAVE",$="CLEAR_MESSAGES_BADGE",x="CLEAR_MESSAGE_BADGE",B="RELOAD_VISUAL_SEARCH_ANNOTATIONS",U="SHOW_NUX_HOMEFEED_LOADER",M="SHOW_BIZ_NUX_HOMEFEED_LOADER",k="SET_VIEWED_IMAGE",H="SET_VIEWED_SHARED_PINS",j="SHOW_NAV_FOOTER",G="HIDE_NAV_FOOTER",W="SET_MESSENGER_CAMPAIGN_DATA",z="LOGGED_OUT_USER_INFO_FOUND",V="LOGGED_OUT_USER_INFO_NOT_FOUND",Z="PIN_BUILDER_LOADED_IMAGES",q="UPDATE_PIN_BUILDER_INPUT",Y="SET_ACTIVE_HOMEFEED_TAB",K="SET_SOCIAL_SEASONAL_BOARD",X="SET_SHARE_ON_BOARD_PAGE",J="UPDATE_PIN_REACTION_COUNT",Q="SET_FLASHLIGHT_CROP_SOURCE",ee="ALLOW_ALL_COOKIES",te="SCROLL_TO_CLOSEUP_PIN",re="STOP_SCROLL_TO_CLOSEUP_PIN",oe="UPDATE_CONTACT_REQUEST_STATUS",ne="REMOVE_CONTACT_REQUESTS",ie="SHOW_TOAST_CONTACT_REQUEST_UNDO",se="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",ae="CONVERSATION_DELETE",ce="DISMISS_UNAUTH_SAVE",de="SET_UNAUTH_SAVE_PIN_ID",ue="COMPLETE_UNAUTH_SAVE_ACTION",le="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",pe="SET_LANDING_PAGE_TYPE",he="REPLACE_STATE",me="SET_DARK_MODE"},391254:(e,t,r)=>{r.d(t,{Z:()=>i});r(441143);var o=r(785893);class n{static factory(e){return e instanceof n?e:new n(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function i(e){const{css:t,unsafeCSS:r,...i}=e,s=String(t||"")||r||"";return!!s?(0,o.jsx)("style",{...i,dangerouslySetInnerHTML:{__html:String(n.factory(s))}}):null}},941646:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(883119),n=r(785893);function i(e){const{children:t,display:r,id:i}=e;return(0,n.jsx)(o.xu,{"data-test-id":i,display:r,children:t})}},112690:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(407043);const n=()=>(0,o.v)().logContextEvent},643010:(e,t,r)=>{r.d(t,{F6:()=>p,Hs:()=>l,Uf:()=>a,Yc:()=>d,vs:()=>u});var o=r(667294),n=r(702664),i=r(539497),s=r(957161);const a="theme",c="dark"===(0,s.qn)(a),d=()=>c;function u(){const{inDarkMode:e}=(0,n.useSelector)((({inDarkMode:e})=>e))||{},t=d(),r=(0,n.useDispatch)();return(0,o.useEffect)((()=>{r({type:"SET_DARK_MODE",payload:{darkMode:t}})}),[r,t]),!!e}const l=()=>{(0,s.Nh)(a,"dark"),(0,i.My)("mweb.dark_mode.enable"),window.location.reload()},p=()=>{(0,s.L_)(a),(0,i.My)("mweb.dark_mode.disable"),window.location.reload()}},920231:(e,t,r)=>{r.d(t,{Z:()=>m});var o=r(667294),n=r(319915);function i({flexible:e,gutterWidth:t,id:r,isRTL:o,itemWidth:n,maxColumns:i,minColumns:s}){const a=r.replace(/\:/g,"\\:"),c=n+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:i+1-s},((e,t)=>t+s)).map((r=>{const d=r===i?null:(r+1)*c-1;return`\n      @media (min-width: ${r===s?0:r*c}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${a} .static:nth-child(-n+${r}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${o?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${a} .static {\n        width: calc(100% / ${r}) !important;\n      }\n    `:`\n      #${a} {\n        width: ${r*c}px;\n      }\n\n      #${a} .static {\n        padding: 0 ${t/2}px;\n        width: ${n}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var s=r(757184),a=r(391254),c=r(50286),d=r(883119),u=r(773285),l=r(780280),p=r(444445),h=r(785893);function m({cacheKey:e,columnWidth:t,gutterWidth:r,id:m,Item:_,items:f,layout:y,loadItems:R,masonryRef:g,minCols:E,scrollContainerRef:b,serverRender:S,resetPositions:v,virtualize:I=!0}){var A;const{isRTL:w}=(0,l.B)(),O="desktop"!==(0,c.ZP)(),T=S?"serverRenderedFlexible":"flexible",P=(0,o.useCallback)((()=>(null==b?void 0:b.current)||window),[b]),D=(0,s.Z)(e),[N,C]=(0,o.useState)(!1);(0,o.useEffect)((()=>{v&&!N&&(null==D||D.reset(),C(!0))}),[D,v,N]);const L=(0,o.useCallback)((e=>(0,h.jsx)(n.Z,{name:"MobileGridItem",children:(0,h.jsx)(_,{...e})})),[_]),{checkExperiment:F}=(0,u.F)(),$=null!==(A={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[F("duplo_masonry_virtual_buffer_factor").group])&&void 0!==A?A:.7;return(0,h.jsxs)("div",{id:m,className:"gridCentered",children:[S&&m&&(0,h.jsx)(a.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:i({flexible:O,gutterWidth:r||0,id:m,isRTL:w,itemWidth:t||p.yF,maxColumns:f.length||p.g5,minColumns:E||p.yc})}),(0,h.jsx)(d.Rk,{columnWidth:t,Item:L,gutterWidth:r||1,layout:O?T:null!=y?y:"basic",items:f,loadItems:R,measurementStore:(0,s.Z)(e),minCols:E||p.yc,ref:e=>{g&&(g.current=e)},scrollContainer:P,virtualize:I,virtualBufferFactor:$})]})}},757184:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(883119);const n={};function i(e){if(null!=e)return n[e]&&n[e].screenWidth===window.innerWidth||(n[e]={screenWidth:window.innerWidth,cache:o.Rk.createMeasurementStore()}),n[e].cache}},444445:(e,t,r)=>{r.d(t,{$H:()=>s,$q:()=>y,D6:()=>c,KN:()=>R,Lo:()=>n,P2:()=>m,ZZ:()=>u,g5:()=>l,jC:()=>a,lX:()=>h,nW:()=>p,oX:()=>_,qG:()=>f,tG:()=>i,yF:()=>o,yc:()=>d});const o=236,n=2*o/3,i=175,s=24,a=4,c=2,d=2,u=14,l=16,p=12,h=16,m=24,_=16,f=-1,y=(e=!1,t=!1)=>e?t?h:p:m,R=(e,t,r,o,n=u)=>{const i=e+n;return`\n@media (min-width: ${t*i}px) and (max-width: ${(r+1)*i-1}px) {\n  ${o}\n}\n`}},898781:(e,t,r)=>{r.d(t,{ZP:()=>a,oz:()=>i,q6:()=>n});var o=r(425288);const{Provider:n,Consumer:i,useHook:s}=(0,o.Z)("i18n"),a=s},12610:(e,t,r)=>{function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const n=1e6,i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},c={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:c,[s.stopped]:c,[s.paused]:c,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class u{constructor(e){o(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),o(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),o(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),o(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(s.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(s.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*n,endTime:Date.now()*n,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(i)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case s.flushed:case s.paused:case s.exit:a[this.debugId]=!0}}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=!0,h=!1;class m{constructor(){l(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),l(this,"_handleMutations",((e,t)=>{const r=this.mutationObservers.get(t);r&&r.offsetHeight<1&&r&&this.stop(r,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new u(e),this.activeImpressions.set(e,t),this.observer.observe(e);const r=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(r)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:r}=t.getBoundingClientRect();return r>e?r:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:r}=t.getBoundingClientRect();return r<e?r:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const r={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,r)=>{r.d(t,{Z:()=>o});const o=new(r(12610).ZP)},349700:(e,t,r)=>{function o(e,t,r){return e.split(r).map((e=>{if(e.match(r)){const r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e}))}r.d(t,{Wc:()=>s,bF:()=>c,nk:()=>i});const n=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return o(e,t,n)}function s(e,t){return o(e,t,n).join("")}const a=/(\{\s*\w+\s*\})/g;function c(e,t){return o(e,t,a)}},995081:(e,t,r)=>{r.d(t,{Rq:()=>o,Vf:()=>n,jd:()=>i,oy:()=>s});const o=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,n=28,i=e=>window.innerHeight>=748&&o(e),s=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},313047:(e,t,r)=>{r.r(t),r.d(t,{DEFAULT_HEIGHT:()=>l,DEFAULT_PADDING_Y:()=>p,FixedFooter:()=>_,FixedHeader:()=>m});var o=r(667294),n=r(124580),i=r(53987),s=r(773285),a=r(834256),c=r(883119),d=r(643010),u=r(785893);const l=64,p=3;function h({children:e,footerConfig:t,headerConfig:r,height:i,hideOnScroll:a,hideOnScrollState:{isHidden:h,updateHiddenState:m},showDockedNavBar:_,dockNavBarForAuthTablet:f,dockNavBarForUnauthTablet:y,noPadding:R,paddingY:g=p,type:E,zIndex:b}){const{headerLimitedOverflow:S,ignoreObstructions:v,zIndexForGestaltBug:I}=r||{},{appUpsellFooterConfig:A,footerInLego:w,footerWidth:O}=t||{},T=!!A,P="header"===E?"top":"bottom",{anyEnabled:D}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),N=(0,d.vs)(),C=D?N:(0,d.Yc)(),L=(0,o.useRef)(null),F=(0,o.useRef)(null);(0,o.useEffect)((()=>{try{if(!v){const e=L.current;F.current=S&&e&&Array.isArray(e.children)?e.children[0]:e,F.current instanceof HTMLElement&&n.Z.addObstruction(P,F.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{v||F.current instanceof HTMLElement&&n.Z.removeObstruction(P,F.current)}}),[v,S,P,C]);const $="top"===P?"relative":"fixed",x=R?0:g,B=(null!=i?i:l)+((null==r?void 0:r.overrideTop)||0),U=a||_||f||y?{transition:w?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h?{transform:`translateY(${"top"===P?-B:B}px)`,opacity:w?0:1}:Object.freeze({})}:{},M="relative"!==$||null!=r&&r.noGutter?0:2,k=M?-M:0,H=C?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let j,G;return C&&("header"===E?j=-1:G=-1),(0,u.jsx)(c.xu,{ref:L,dangerouslySetInlineStyle:{__style:{top:j,bottomStyle:G,...!b||I?{zIndex:I||1}:Object.freeze({}),...S?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=r&&r.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...U}},zIndex:I?void 0:b,"data-test-id":E,display:T?"flex":void 0,height:i&&!w?i:void 0,position:$,bottom:"footer"===E,top:"header"===E,left:!0,right:!0,marginStart:w?"auto":k,marginEnd:w?"auto":k,onTransitionEnd:()=>{(a||_||f||y)&&F.current&&(h?n.Z.removeObstruction(P,F.current):n.Z.addObstruction(P,F.current))},width:w||"fixed"!==$?void 0:"100%",children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==r?void 0:r.isTranslucent)&&H||(null==r?void 0:r.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:w?T?void 0:null!=i?i:l:"100%",boxShadow:w?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:w&&!_?16:void 0,...S?{pointerEvents:"auto"}:Object.freeze({}),...null!=r&&r.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==E||R?0:4)+M,paddingY:x,position:"relative",width:w&&O?O:T?void 0:"100%",rounding:w&&!_?"pill":void 0,display:w||null!=t&&t.alignCenter?"flex":void 0,marginStart:w?"auto":void 0,marginEnd:w?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:m}):e})})}function m({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:o,isTransparentBackground:n,noGutter:i,overrideTop:s,useRoundedCorners:d,zIndexForGestaltBug:l,...m}){const{noPadding:_,paddingY:f=p,zIndex:y}=m,R=_?0:f;return(0,u.jsx)(c.Le,{top:s||0,height:t?44+2*R*4:void 0,zIndex:y||void 0,children:(0,u.jsx)(a.Z,{hideOnScroll:m.hideOnScroll,children:a=>(0,u.jsx)(h,{...m,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:o,isTransparentBackground:n,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:i,overrideTop:s,zIndexForGestaltBug:l,useRoundedCorners:d}})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:r,footerWidth:o,forceShow:n,hasTopShadow:s,location:c,showDockedNavBar:d,dockNavBarForAuthTablet:l,dockNavBarForUnauthTablet:p,isModal:m,onScroll:_,...f}){const y=!!c&&(0,i.uM)(c)&&(!!d||!!l||!!p);return(0,u.jsx)(a.Z,{appUpsellFooterConfig:t,forceShow:n,hideOnScroll:f.hideOnScroll,location:c,isDockedNavOnPlp:y,isModal:m,onScroll:_,children:n=>(0,u.jsx)(h,{...f,hideOnScrollState:n,showDockedNavBar:d,dockNavBarForAuthTablet:l,dockNavBarForUnauthTablet:p,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:r,footerWidth:o,hasTopShadow:s}})})}},834256:(e,t,r)=>{r.d(t,{Z:()=>a,m:()=>s});var o=r(667294),n=r(700380);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=20;class a extends o.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),i(this,"handleScroll",(0,n.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:r,isDockedNavOnPlp:o}=this.props,{isHidden:n}=this.state,i=window.scrollY,a=i-this.lastScrollPos;let c="none";const{scrollHeight:d,clientHeight:u}=document.documentElement||{};if(!Number.isNaN(d)&&!Number.isNaN(u))if(a<0){const e=window.scrollMinY||0;c=i<=Math.abs(e+Math.max(a,s))?"start":"none"}else{c=i>=(window.scrollMaxY||d-u)-Math.max(a,s)?"end":"none"}const l=t?0:55;if(e)if(a>s&&n&&i>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),r&&r(!1))}else(a<-s&&!n||i<=l)&&(this.updateHiddenState(!0),r&&r(!0));else!this.props.hideOnScroll&&o?"start"===c&&!n||i<=l?(this.updateHiddenState(!0),r&&r(!0)):(i>l||"end"===c)&&n&&(this.updateHiddenState(!1),r&&r(!1)):(a<-s||"start"===c)&&n||i<=l?(this.updateHiddenState(!1),r&&r(!1)):(a>s||"end"===c)&&!n&&(this.updateHiddenState(!0),r&&r(!0));this.lastScrollPos=i}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:r}=this.state;return e({isHidden:!t&&r,updateHiddenState:this.updateHiddenState})}}},134879:(e,t,r)=>{r.d(t,{C:()=>i,V:()=>s});var o=r(667294);const n=(0,o.createContext)(!1),i=n.Provider,s=()=>(0,o.useContext)(n)},53987:(e,t,r)=>{r.d(t,{wy:()=>N,Fw:()=>K,ey:()=>q,dt:()=>R,bo:()=>H,oF:()=>ee,bW:()=>y,AX:()=>p,Fy:()=>l,XE:()=>u,am:()=>s,pD:()=>h,OJ:()=>c,LO:()=>de,Gl:()=>re,PY:()=>E,Ni:()=>g,pV:()=>C,L6:()=>D,bb:()=>pe,b0:()=>f,jC:()=>G,O7:()=>oe,LM:()=>j,OK:()=>T,mP:()=>b,C$:()=>S,dr:()=>$,gT:()=>F,Fr:()=>Z,Xn:()=>v,l4:()=>P,b_:()=>Q,J:()=>a,dZ:()=>d,FO:()=>w,re:()=>A,RU:()=>ne,Ui:()=>m,KY:()=>_,fY:()=>Y,uM:()=>V,x7:()=>X,rk:()=>ue,cD:()=>W,dW:()=>le,Pu:()=>te,En:()=>L,ej:()=>ae,E0:()=>k,gf:()=>O,mY:()=>ie,kY:()=>ce,cY:()=>J,$Y:()=>M,Zz:()=>I,$V:()=>U,j8:()=>z,ip:()=>x,tZ:()=>B,YW:()=>se});const o=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),n=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var i=r(276775);const s=e=>o.test(e.pathname),a=(e,t)=>{const{pathname:r}=e;return s(e)&&r.match(t||"?")},c=e=>{const{pathname:t}=e;return!!(0,i.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},d=(e,t)=>{const{pathname:r}=e;return c(e)&&r.match(t||"?")},u=e=>!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),l=e=>!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,i.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),_=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),f=e=>!!(0,i.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),y=e=>!!(0,i.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),R=e=>e.pathname.startsWith("/age-appeal"),g=e=>e.pathname.startsWith("/business/"),E=e=>e.pathname.startsWith("/business/invite/"),b=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),S=e=>"/"===e.pathname,v=e=>e.pathname.startsWith("/login"),I=e=>!!(0,i.matchPath)(e.pathname,{path:"/today",exact:!0}),A=e=>e.pathname.startsWith("/password/reset")||!!(0,i.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),w=e=>e.pathname.startsWith("/secure/panic"),O=e=>e.pathname.startsWith("/signup"),T=e=>e.pathname.startsWith("/email/subscription"),P=e=>e.pathname.startsWith("/notifications/"),D=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),N=e=>D(e)&&void 0===e.state,C=e=>e.pathname.startsWith("/pin_redirect"),L=e=>e.pathname.startsWith("/search"),F=e=>!!(0,i.matchPath)(e.pathname,{path:"/ideas",exact:!0}),$=e=>!!(0,i.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),x=e=>!!(0,i.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),B=e=>e.pathname.startsWith("/videos"),U=e=>e.pathname.startsWith("/topics"),M=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),k=e=>e.pathname.startsWith("/today/shop/"),H=e=>I(e)||M(e)||e.pathname.startsWith("/today/popular/"),j=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),G=e=>e.pathname.startsWith("/pin/create/"),W=e=>!!(0,i.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!n.includes(e.pathname.replace(/\/$/,"")),z=e=>e.pathname.startsWith("/unauth-profile"),V=e=>e.pathname.startsWith("/pin/"),Z=e=>"#imgViewer"===e.hash,q=e=>new RegExp("invite_code").test(e.search),Y=e=>!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),K=e=>q(e)&&((Y(e)?"pin":s(e)&&"board")||W(e)&&"profile")||null,X=e=>e.pathname.includes("/repin/x"),J=e=>e.pathname.startsWith("/_/storyboard"),Q=e=>e.pathname.startsWith("/oauth"),ee=e=>e.pathname.startsWith("/app-factory-oauth"),te=e=>e.pathname.includes("/scheduled-pin/"),re=e=>e.pathname.startsWith("/business/convert"),oe=e=>e.pathname.startsWith("/pin-editor"),ne=e=>e.pathname.startsWith("/pin-builder"),ie=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),se=e=>e.pathname.startsWith("/advertiser/quick-promote"),ae=e=>e.pathname.startsWith("/settings"),ce=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),de=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),ue=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),le=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),pe=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/v1/connect/")},932995:(e,t,r)=>{function o(e,t,r){const o=[...e],n=o.splice(t,1)[0];return o.splice(r,0,n),o}r.d(t,{Z:()=>o})},909499:(e,t,r)=>{r.d(t,{Hd:()=>s,_R:()=>n,lw:()=>o,wF:()=>i});const o={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},n=e=>{switch(e){case o.PINS:return 43;case o.PINS_MINE:return 107;case o.PINS_BUYABLE:return 254;case o.PINS_VIDEO:return 3306;case o.BOARDS:return 44;case o.USERS:return 45;default:return null}},i=e=>{switch(e){case o.PINS:return 60;case o.PINS_MINE:return 63;case o.PINS_BUYABLE:return 3800;case o.PINS_VIDEO:return 64;case o.BOARDS:return 61;case o.USERS:return 62;default:return null}},s=e=>{switch(e){case o.USERS:return 1000392;case o.PINS_BUYABLE:return 1000391;case o.PINS:default:return 29}}},648284:(e,t,r)=>{function o({appliedProductFilters:e,autoCorrectionDisabled:t,filters:r,query:o,scope:n,selectedPinImgSig:i,user:s}){const a=[n,r,e,s,i,o].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function n(e){const{autoCorrectionDisabled:t,appliedProductFilters:r,appliedFilters:o,filters:n,selectedPinImgSig:i,query:s,rs:a,scope:c,bubbleId:d,user:u}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:r=null,bubbleId:o=null,filters:n=null,query:i=null,rs:s="direct_navigation",scope:a="pins",selectedPinImgSig:c=null,sourceId:d=null,user:u}){return{article:o,applied_filters:t,appliedProductFilters:r,auto_correction_disabled:e,corpus:c?"personalize":null,customized_rerank_type:c?"manas_graph_sage_only_wand_rewrite":null,filters:n,query:i,query_pin_sigs:c,redux_normalize_feed:!0,rs:s,scope:a,source_id:d,user:u}}({autoCorrectionDisabled:!!t,appliedProductFilters:r,appliedFilters:o,filters:n,query:s,rs:a,scope:c,selectedPinImgSig:i,bubbleId:d,user:u})}}r.d(t,{Ht:()=>n,Tb:()=>o})},957161:(e,t,r)=>{r.d(t,{L_:()=>n,Nh:()=>i,qn:()=>o});const o=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(r){return console.error("Cannot access localStorage."),t}},n=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},i=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(r){console.error("Cannot access localStorage.")}}},622096:(e,t,r)=>{r.d(t,{L_:()=>n,Nh:()=>i,qn:()=>o});const o=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(r){return window.console.error("Cannot access sessionStorage."),t}},n=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},i=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(r){window.console.error("Cannot access sessionStorage.")}}},700380:(e,t,r)=>{function o(e,t){let r;const o=(...o)=>{r||(e(...o),r=setTimeout((()=>r=null),t))};return o.cancel=()=>{void 0!==r&&clearTimeout(r)},o}r.d(t,{Z:()=>o})},657292:(e,t,r)=>{r.d(t,{X0:()=>n,ZP:()=>s,iT:()=>i,v0:()=>o});const o="unauthHistories",n="authHistories",i="trackHistoryClickInternalUrl";function s(e,t){if("undefined"!=typeof window)try{const r=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||r){const r=window.PINTEREST_DEV_REGEX||"";r&&!(e||"").match(r)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(r){}}},539497:(e,t,r)=>{r.d(t,{My:()=>p,NC:()=>m,Nc:()=>_,dy:()=>f,qJ:()=>u,tj:()=>l,yl:()=>c});var o=r(6637),n=r(657292),i=r(622096);let s=[];let a;function c(e){s.length&&(o.Z.create("UserRegisterTrackActionResource",{actions:s}).callUpdate({showError:!1,async:!e}),s=[],a=null)}function d(e,t){const r=(0,i.qn)(n.iT);if((0,i.L_)(n.iT),r)return;let o=(0,i.qn)(e);if(o=o?o.split(","):[],o.length){const e=`${t}.${o.reduce(((e,t)=>e+"-"+t))}`;s.push({name:e,aux_data:{}})}(0,i.L_)(e)}const u=e=>{d(n.v0,e),d(n.X0,`${e}_auth`),s.length&&c(!0)};function l(e,t){let r="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==r.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=r,r="track_register_action.web.invalid_action.with_percent"),s.push({name:r,aux_data:t}),a||(a=setTimeout((()=>c()),5e3)),(0,n.ZP)(e,t)}function p(e,t){l(e,{tags:t?{...t}:Object.freeze({})})}function h(e,t,r=!1){if("undefined"==typeof window)return;let o=(0,i.qn)(e);o=o?o.split(","):[],o.push(t),(0,i.Nh)(e,o.join()),e!==n.X0&&p(`lex.${t}`),r&&(0,i.Nh)(n.iT,!0)}function m(e,t=!1){h(n.v0,e,t)}function _(e,t=!1){h(n.X0,e,t)}const f=({event:e,provider:t})=>{p(`pinner_conversion.autologin.${t}.${e}`)}},52022:(e,t,r)=>{r.d(t,{S:()=>a,Z:()=>c});var o=r(667294),n=r(539497),i=r(53987),s=r(276775);const a=e=>(0,i.L6)(e)?"pin":(0,i.am)(e)?"board":(0,i.Xn)(e)?"login":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.dr)(e)?"ideas":(0,i.gT)(e)?"ideas-root":(0,i.tZ)(e)?"videos":(0,i.$Y)(e)?"article":(0,i.E0)(e)?"shopping-spotlight":(0,i.Zz)(e)?"today":(0,i.j8)(e)?"unauth-profile":"other";function c(){const e=(0,s.useLocation)();return(0,o.useCallback)((({action:t,item:r,within:o})=>{const i=a(e);(0,n.My)(`logged_out_product.interaction.${i}.${t}`,{item:r||"none",within:o||"none"})}),[e])}},802201:(e,t,r)=>{r.d(t,{AF:()=>a,H0:()=>c,S6:()=>d,_S:()=>u});var o=r(702664),n=r(425288),i=r(785893);const{Provider:s,useHook:a,useMaybeHook:c}=(0,n.Z)("Pins");function d(){const e=a();return t=>e[t]}function u({children:e}){const t=(0,o.useSelector)((({pins:e})=>e),o.shallowEqual);return(0,i.jsx)(s,{value:t,children:e})}},91456:(e,t,r)=>{r.d(t,{GY:()=>s,LM:()=>c,h9:()=>d,r$:()=>a});var o=r(385740),n=r(909499);const i=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function s({query:e,scope:t}){return`${e}-${t}`}function a({query:e,rs:t,scope:r},i){const s=(0,o.BE)(),a=!(null!=s&&s.viewType||null!=s&&s.viewParameter),c=(0,n.wF)(r);if(!a&&c){const{viewType:r,viewParameter:o}=null!=s?s:{};i({event_type:c,view_type:r,view_parameter:o,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?i({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&i({event_type:101,component:0,element:10349,view_type:142})}const c=(e=[])=>{let t=!0;return e.reduce(((e,r)=>{var o;return t&&r.story_type&&i.includes(r.story_type)&&0===(null===(o=r.display_options)||void 0===o?void 0:o.num_columns_requested)?e.searchFullWidthStories.push(r):(t=!1,e.filteredResults.push(r)),e}),{searchFullWidthStories:[],filteredResults:[]})};function d(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},848900:(e,t,r)=>{r.d(t,{Z:()=>o});const o=(e,t)=>`${e}:${t||""}`},47495:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(583228);const n={AggregatedCommentResource:o.rm,AggregatedCommentFeedResource:o.LR,AggregatedCommentReplyResource:o.rm,AggregatedCommentReplyFeedResource:o.LR,AggregatedActivityFeedResource:o.LR,BestPinsFeedAltResource:o.LR,BoardArchiveResource:o.LR,BoardCollaboratorsResource:o.LR,BoardContentRecommendationResource:o.LR,BoardFeedResource:o.LR,BoardFollowingResource:o.LR,BoardInviteResource:o.sf,BoardInvitesResource:o.Ht,BoardlessPinsResource:o.LR,BoardPickerBoardsResource:{all_boards:o.LR,boards_shortlist:o.LR},BoardSectionEditResource:o._F,BoardSectionsRepinResource:o.LR,BoardSectionsResource:o.LR,BoardsFeedResource:o.LR,BoardResource:o.IY,BoardSectionResource:o._F,BoardSectionPinsResource:o.LR,BoardToolsFeedResource:o.LR,ContactRequestsResource:o.LR,ConversationsResource:o.LR,ConversationMessagesResource:o.dq,DidItCommentsResource:o.LR,DidItLikedByResource:o.Gn,DidItUserFeedResource:o.LR,ExploreArticleBlockPinResource:o.LR,ExploreArticleBlockSearchResource:o.LR,ExploreArticleBlockUserResource:o.LR,ExploreArticleBlockUserDidItDataResource:o.LR,ExploreArticleResource:o.yg,FollowingFeedResource:o.LR,HolidaySpotlightRelatedFeedResource:o.LR,HolidaySpotlightResource:o.LR,InterestFollowingResource:o.LR,InterestResource:o.cC,MoreIdeasTabsBoardsResource:o.LR,NewsHubResource:o.LR,NewsHubDetailsResource:o.LR,NewsHubSummaryResource:o.t6,NuxInterestsResource:o.LR,NuxTopicToCreatorsResource:o.Gn,PinResource:o.Cj,PinCatalogResource:o.LR,PinsFromBrandResource:o.LR,ReactionsResource:o.fE,RelatedArticlesResource:o.LR,RelatedInterestsResource:o.LR,RelatedModulesResource:o.LR,RelatedPinFeedResource:o.LR,RelatedProductFeedResource:o.LR,RelatedStreamResource:o.LR,RepinResource:o.Cj,BaseSearchResource:{results:o.LR},SearchResource:o.LR,SectionToolsFeedResource:o.LR,ShareSuggestionsTypeaheadResource:{items:o.LR},ShoppingFeedModularizedResource:o.LR,StoryFeedResource:o.LR,StoryPinTaggedProductsResource:o.LR,SuggestedCreatorFollowsResource:o.Gn,TodayArticleFeedResource:o.LR,IdeasHubTodayArticlesResource:o.LR,TodayArticleResource:o.iF,TodayTabInterestFeedResource:o.LR,TodayTabResource:o.LR,TopicFeedResource:o.LR,UnifiedCommentsResource:o.LR,UserActivityPinsResource:o.LR,UserFollowingResource:o.LR,UserRecentActivityResource:o.LR,UserSimilarBusinessesResource:o.LR,UserHomefeedResource:o.LR,UserPinsResource:o.LR,UserSettingsResource:o.EA,UserStoryPinsFeedResource:o.LR,UserResource:o.EA,VideosFeedResource:o.LR,VisualLiveSearchResource:{results:o.LR},VisualLiveSearchProductFeedResource:o.LR,VisualSearchFlashlightUnifiedResource:o.LR,SeoTier1CandidateResource:o.LR}},583228:(e,t,r)=>{r.d(t,{Cj:()=>d,EA:()=>i,Gn:()=>w,Ht:()=>A,IY:()=>c,LR:()=>T,_F:()=>p,cC:()=>g,dq:()=>m,fE:()=>l,iF:()=>R,rm:()=>s,sN:()=>O,sf:()=>b,t6:()=>I,yg:()=>f});var o=r(782677);const n=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",creatorRecommendationItem:"creatorRecommendationItems",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),i=new o.fK.Entity(n.user),s=new o.fK.Entity(n.aggregatedComment,{user:i,tagged_users:[i]}),a=new o.fK.Entity(n.article,{curator:i}),c=new o.fK.Entity(n.board),d=new o.fK.Entity(n.pin),u=new o.fK.Entity(n.reaction,{user:i}),l=new o.fK.Array(u),p=new o.fK.Entity(n.boardsection),h=new o.fK.Entity(n.conversationMessage,{sender:i,users:[i],board:c,pin:d,user:i}),m=new o.fK.Array(h),_=new o.fK.Entity(n.contactrequest),f=new o.fK.Entity(n.story,{cover_pin:d,user:i}),y=new o.fK.Entity(n.triedit,{pin:d,user:i}),R=new o.fK.Entity(n.todayArticle,{article_creator_user:i,content_pin:d,content_pin_official_user:i,video_pin:d}),g=new o.fK.Entity(n.topic,{},{processStrategy:(e,t,r)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),E=new o.fK.Entity(n.creatorRecommendationItem,{user:i,interest:g}),b=new o.fK.Entity(n.invite,{invited_by_user:i,invited_user:i,board:c},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),S=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"creatorrecommendationitem":return"creatorRecommendationItem";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},v=new o.fK.Union({user:i,board:c,invite:b,pin:d,topic:g,triedit:y},S),I=new o.fK.Entity(n.notification,{content_items:[{content_object:v}],header_icon_objects:[v]}),A=new o.fK.Array(b),w=new o.fK.Array(i),O=new o.fK.Array(c),T=new o.fK.Array({aggregatedComment:s,article:a,board:c,boardsection:p,contactrequest:_,conversationMessage:h,creatorRecommendationItem:E,notification:I,pin:d,story:f,todayArticle:R,topic:g,triedit:y,user:i},S,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));f.define({objects:T})},778821:(e,t,r)=>{r.d(t,{DV:()=>l,J:()=>f,ZP:()=>E});var o=r(848900),n=r(932995),i=r(47495),s=r(91456),a=r(648284),c=r(983360),d=r(583228),u=r(338739);const l={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USER_DID_IT_DATA:"userDidItData"},p=new Set(["PinResource","RepinResource"]),h={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${l.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItCommentsResource:e=>`${l.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,r=e.resource_response.data,{story_type:o}=r?r.objects[0]:{story_type:""};return`explore-${o.slice(t)}:${r.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>`user-similar-business:${e.username}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},m={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:l.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:l.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:l.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?l.AGGREGATED_COMMENT_REPLIES:l.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:l.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:l.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:l.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:l.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:l.PROFILE_BOARDS,id:(0,o.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:r,filters:o,query_pin_sigs:n,query:i,user:c},response:d})=>{var u;return{type:l.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:o,query:i,selectedPinImgSig:n,scope:r,user:c}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,s.LM)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:l.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:l.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:l.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:l.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:l.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:l.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:l.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:l.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:l.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:l.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:l.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},_=(e,{pinId:t,oldFeedId:r,newFeedId:o})=>r===o?e:((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:[{type:"pin",id:t},...e[r]]}:e)(((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:e[r].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:r}),{pinId:t,feedId:o}),f=(e,t)=>e in h?h[e](t):null,y=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,R=(e,t)=>e.map((({id:e,schema:r})=>{var o;return r?{id:e,type:r,trackingParams:"pin"===r?t.pins[e].tracking_params:void 0,user_id:"creatorRecommendationItem"===r?null===(o=t.creatorRecommendationItems[e])||void 0===o?void 0:o.user_id:void 0}:null})).filter(Boolean),g=(e,t,r)=>Object.keys(e).reduce(((o,n)=>{const i=e[n]||[],s=i.filter((e=>!(e.type===t&&e.id===r)));return i.length!==s.length&&(o[n]=s),o}),{...e}),E=(e={},t)=>{switch(t.type){case u.zP:case u.aW:{const{payload:o}=t,{resource:n,options:s,normalizedResponse:a,schema:c}=o;if(a&&n in h){const r=((e,t,r)=>{const o=r||i.Z[e];if(o===d.LR)return t.result;if(o===d.sN)return t.result.map((e=>({id:e,schema:"board"})));if(o===d.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(o===d.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(o===d.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof o){const e=Object.entries(o).find((([e,t])=>t===d.LR));if(e)return t.result[e[0]]}return null})(n,a,c);if(r&&Array.isArray(r)){const o=h[n](s);if("ShoppingFeedModularizedResource"===n){const{board_id:t,saved_products_only:o}=null!=s?s:{},n=`board-shop-related:${t}`,i=`board-shop-saved:${t}`,c=`board-shop-saved-preview:${t}`,d=[...e[n]||[]],u=[...e[i]||[]],l=[...e[c]||[]];return R(r,a.entities).forEach((e=>{var r;o?u.push(e):a.entities.pins&&(null===(r=a.entities.pins[e.id])||void 0===r?void 0:r.board)===t?l.push(e):d.push(e)})),{...e,[n]:d,[i]:u,[c]:l}}if("BoardToolsFeedResource"===n||"SectionToolsFeedResource"===n)return{...e,[o]:r};{const n=(t.type===u.aW&&e[o]||[]).concat(R(r,a.entities));return{...e,[o]:n}}}}else{var r;const n=o.response.resource_response.data;if(null===(r=o.options)||void 0===r||!r.redux_normalize_feed)return e;const i=m[o.resource](o);if(i){const{type:r,id:o,items:s,reversed:a}=i;let c=(s||n||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===l.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,r)));a&&(c=c.reverse());const d=`${r}:${o}`,p=e[d];if(p||t.type!==u.aW){const r=p||[];let o=c;return t.type===u.aW&&(o=a?c.concat(r):r.concat(c)),{...e,[d]:o}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:r,feedId:o,itemType:i,targetItemId:s,sourceItemId:a}}=t,c=`${r}:${o}`,d=e[c]||[];let u=-1,p=-1;if([l.BOARDFEED,l.BOARD_SECTION_PINS,l.BOARD_SECTIONS,"profileBoards"].includes(r)&&(u=d.findIndex((e=>e.type===i&&e.id===a)),p=d.findIndex((e=>e.type===i&&e.id===s))),-1!==u&&-1!==p)return{...e,[c]:(0,n.Z)(d,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:r,feedId:o,inverseSelection:n,itemType:i,itemIds:s=[]}}=t,a=`${r}:${o}`,c=e[a]||[];if(c&&c.length>0&&(r===l.BOARD_SECTION_PINS||r===l.BOARDFEED)){const t=c.filter((e=>{const t=s.includes(e.id);return!(e.type===i&&(n&&!t||!n&&t))})),r=!!t.find((e=>"pin"===e.type));return{...e,[a]:r?t:[]}}if(c&&c.length>0&&r===l.BOARD_SECTIONS){const t=c.filter((e=>{const t=s.includes(e.id);return!(e.type===i&&t)}));return{...e,[a]:t}}if(c&&c.length>0&&(r===l.AGGREGATED_COMMENTS||r===l.BOARDLESS_PINS||r===l.PROFILE_PINS_FEED||r===l.STORY_PINS_FEED||r===l.UNIFIED_COMMENTS||r===l.USER_DID_IT_DATA||r===l.STORY_PIN_DATA)){const t=c.filter((e=>{const t=s.includes(e.id);return!(e.type===i&&t)}));return{...e,[a]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:r,feedId:o,itemType:n,itemIds:i=[],prepend:s}}=t,a=`${r}:${o}`,c=e[a]||[];if(c&&(r===l.BOARD_SECTION_PINS||r===l.BOARDFEED||r===l.BOARDLESS_PINS)){const t=i.map((e=>({id:e,type:n})));let r=0;"story"===(c[0]||{}).type&&(r=1),"story"===(c[1]||{}).type&&(r=2);const o=[...c.slice(0,r),...t,...c.slice(r)];return{...e,[a]:o}}if(c&&r===l.BOARD_SECTIONS){const t=[...i].reverse().map((e=>({id:e,type:"board_section"}))),r=c?[...t,...c]:[...t];return{...e,[a]:r}}if(r===l.AGGREGATED_COMMENTS||r===l.AGGREGATED_COMMENT_REPLIES||r===l.PROFILE_PINS_FEED||r===l.STORY_PINS_FEED||r===l.UNIFIED_COMMENTS){const t=i.map((e=>({id:e,type:n}))),r=c?[...s?t:c,...s?c:t]:t;return{...e,[a]:r}}if(r===l.USER_DID_IT_DATA){const t=i.map((e=>({id:e,type:n}))),r=c?[...t,...c]:t;return{...e,[a]:r}}break}case"FEED_INVALIDATE":{const{payload:{feedType:r,feedId:o}}=t,n=`${r}:${o}`;if(e[n]||[])return{...e,[n]:null};break}case c.MU:{const{payload:{id:r,items:o,options:n}}=t,i=e[r];if(i){let t;return t=n.isPrepend?i[0]&&"story"===i[0].type?[].concat(i[0],o,i.slice(1)):o.concat(i):i.concat(o),{...e,[r]:t}}return{...e,[r]:o}}case c.l_:{const{payload:{pinId:r}}=t;return g(e,"pin",r)}case"BOARD_ARCHIVE":{const{payload:{boardId:r,username:o}}=t,n=`profile-boards:${null!=o?o:""}`;if(e[n])return{...e,[n]:e[n].filter((e=>e.id!==r))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:r}}=t,o="archived-boards";if(e[o])return{...e,[o]:e[o].filter((e=>e.id!==r))};break}case"BOARD_DELETE":{const{payload:{boardId:r}}=t;return g(e,"board",r)}case c.Yn:{const{payload:{boardSectionId:r}}=t;return g(e,"boardsection",r)}case c.u2:{const{payload:{source:r,target:o,pinIds:n,userId:i}}=t,s=r.boardlessPins&&i&&`boardless-pins:${i}`||r.boardId&&y(r.boardId,r.sectionId),a=y(o.boardId,o.sectionId);return n.reduce(((e,t)=>_(e,{pinId:t,oldFeedId:s,newFeedId:a})),e)}case c.Fl:{const{payload:{source:r,target:o,excludePinIds:n}}=t,i=y(r.boardId,r.sectionId),s=y(o.boardId,o.sectionId),a={...e,[i]:n.map((e=>({type:"pin",id:e})))};return delete a[s],a}case c.fz:{const{payload:{pinId:r,boardId:o,section:n,source:{boardId:i,sectionId:s}}}=t,a=y(i,s),c=y(o,null==n?void 0:n.id);return _(e,{pinId:r,oldFeedId:a,newFeedId:c})}case u.AF:if(p.has(t.payload.resource)){const r=t.payload.response.resource_response.data,o=r.board;let n;if("quick_saves"===o.layout)n=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;n=e?`board-section-pins:${e}`:`boardfeed:${o.id}`}if(e[n]){const t={...e},o={id:r.id,type:"pin",trackingParams:null==r?void 0:r.tracking_params};return t[n]=[o].concat(e[n]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const r=t.payload.normalizedResponse.result,o=`board-sections:${t.payload.normalizedResponse.entities.boardsections[r].board}`;if(e[o]){const t={...e},n={id:r,type:"boardsection"};return t[o]=[n].concat(e[o]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const r={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},o=["aggregated-comments","unified-comments"];let n={...e};for(const i of o){const o=`${i}:${t.payload.options.objectId}`;e[o]&&(n={...n,[o]:[r].concat(n[o])})}return n}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const r=`${l.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[r]:[...e[r]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:r}=t.payload.options;if("reaction"===t.payload.options.action_type){const o=`reactions:${t.payload.options.pin_id}`,n={...e},i={id:`${r}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return n[o]=[i].concat(e[o]),n}if("unreaction"===t.payload.options.action_type){const o=`${r}:${t.payload.options.user_id}`;return g(e,"reaction",o)}}break;case c.ZX:{const{payload:{storyId:r}}=t;return g(e,"story",r)}}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/39152-549042cfb17c522c.mjs.map