(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[23517,51879,16117,13047,90984,24725,74608,52555,68919,60426,82492,76030,19819,26467],{361600:e=>{var t,i,n,r,a,o,s,l,d={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},i={defaultValue:null,kind:"LocalArgument",name:"inviteType"},n={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[a,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,t,n],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[o,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};d.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=d},865107:e=>{var t,i,n,r,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[r],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};a.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=a},248639:e=>{var t,i,n,r,a,o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NuxHomefeedLoaderQuery",selections:[{alias:null,args:t=[{kind:"Literal",name:"includeFavoritedTopics",value:!0}],concreteType:null,kind:"LinkedField",name:"v3OrientationTopicsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:n=[{kind:"Literal",name:"first",value:105}],concreteType:"V3OrientationTopicsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3OrientationTopicsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"connection(first:105)"}],type:"V3OrientationTopicsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3OrientationTopics",abstractKey:null}],storageKey:"v3OrientationTopicsQuery(includeFavoritedTopics:true)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"NuxHomefeedLoaderQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3OrientationTopicsQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:n,concreteType:"V3OrientationTopicsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3OrientationTopicsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"node",plural:!1,selections:[r,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"connection(first:105)"}],type:"V3OrientationTopicsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3OrientationTopics",abstractKey:null}],storageKey:"v3OrientationTopicsQuery(includeFavoritedTopics:true)"}]},params:{id:"a9bf783b9d875a30fe98739f3ffca410758baf5ba070ca4d8f27327fc986fbf1",metadata:{},name:"NuxHomefeedLoaderQuery",operationKind:"query",text:null}};o.hash="aef2f8a5b90b995cabe88f9752f12af1",e.exports=o},7745:e=>{var t,i,n,r,a,o,s,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},a={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},o={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,a,o,s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};l.hash="6113bb3593481961950c5053449014f3",e.exports=l},906587:e=>{var t,i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=n},276667:e=>{var t,i,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};r.hash="64effb4f1e63deaf1d53b77187d996de",e.exports=r},584818:e=>{var t,i,n,r,a,o,s,l,d,c,u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayArticleModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[i={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:c=[t,o={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,l,s,o,d],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[t,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},n,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TodayArticle",abstractKey:null};u.hash="3afdada2f3d905a39bf4a6d5bf55a160",e.exports=u},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},12617:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="6cc486603fe4bb19b18741c21346a49b",e.exports=i},167074:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};i.hash="74f28c48f3a5ddb4a53f101389981c63",e.exports=i},85934:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},877821:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null,hash:"5645b1c5850647c98e4d2fefbb484bf4"};e.exports=t},569772:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},96795:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};i.hash="8dd4c9c753d2a67c0606dfff23b820e9",e.exports=i},110767:e=>{var t,i,n,r,a,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r,storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},n],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"a3c7af73694bf4bca337151ae03a4ab0cd268d45aad7d6a29c9cab3ffedebaa3",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};s.hash="28d48aeed76d97d5b2fc59af2e75669f",e.exports=s},376030:(e,t,i)=>{i.d(t,{Z:()=>se});var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function s(e,t,i){return Math.min(Math.max(e,t),i)}function l(e,t){return e.indexOf(t)>-1}function d(e,t){return e.apply(null,t)}var c={arr:function(e){return Array.isArray(e)},obj:function(e){return l(Object.prototype.toString.call(e),"Object")},pth:function(e){return c.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||c.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return c.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return c.hex(e)||c.rgb(e)||c.hsl(e)},key:function(e){return!n.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function p(e,t){var i=u(e),n=s(c.und(i[0])?1:i[0],.1,100),r=s(c.und(i[1])?100:i[1],.1,100),a=s(c.und(i[2])?10:i[2],.1,100),l=s(c.und(i[3])?0:i[3],.1,100),d=Math.sqrt(r/n),p=a/(2*Math.sqrt(r*n)),h=p<1?d*Math.sqrt(1-p*p):0,m=p<1?(p*d-l)/h:-l+d;function g(e){var i=t?t*e/1e3:e;return i=p<1?Math.exp(-i*p*d)*(1*Math.cos(h*i)+m*Math.sin(h*i)):(1+m*i)*Math.exp(-i*d),0===e||1===e?e:1-i}return t?g:function(){var t=o.springs[e];if(t)return t;for(var i=1/6,n=0,r=0;;)if(1===g(n+=i)){if(++r>=16)break}else r=0;var a=n*i*1e3;return o.springs[e]=a,a}}function h(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var m,g,_=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function n(e){return 3*e}function r(e,r,a){return((t(r,a)*e+i(r,a))*e+n(r))*e}function a(e,r,a){return 3*t(r,a)*e*e+2*i(r,a)*e+n(r)}return function(t,i,n,o){if(0<=t&&t<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(t!==i||n!==o)for(var l=0;l<11;++l)s[l]=r(l*e,t,n);return function(e){return t===i&&n===o||0===e||1===e?e:r(d(e),i,o)}}function d(i){for(var o=0,l=1;10!==l&&s[l]<=i;++l)o+=e;--l;var d=o+(i-s[l])/(s[l+1]-s[l])*e,c=a(d,t,n);return c>=.001?function(e,t,i,n){for(var o=0;o<4;++o){var s=a(t,i,n);if(0===s)return t;t-=(r(t,i,n)-e)/s}return t}(i,d,t,n):0===c?d:function(e,t,i,n,a){var o,s,l=0;do{(o=r(s=t+(i-t)/2,n,a)-e)>0?i=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(i,o,o+e,t,n)}}}(),v=(m={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var i=s(e,1,10),n=s(t,.1,2);return function(e){return 0===e||1===e?e:-i*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/i))*(2*Math.PI)/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];m["easeIn"+e]=t,m["easeOut"+e]=function(e,i){return function(n){return 1-t(e,i)(1-n)}},m["easeInOut"+e]=function(e,i){return function(n){return n<.5?t(e,i)(2*n)/2:1-t(e,i)(-2*n+2)/2}},m["easeOutIn"+e]=function(e,i){return function(n){return n<.5?(1-t(e,i)(1-2*n))/2:(t(e,i)(2*n-1)+1)/2}}})),m);function f(e,t){if(c.fnc(e))return e;var i=e.split("(")[0],n=v[i],r=u(e);switch(i){case"spring":return p(e,t);case"cubicBezier":return d(_,r);case"steps":return d(h,r);default:return d(n,r)}}function y(e){try{return document.querySelectorAll(e)}catch(t){return}}function x(e,t){for(var i=e.length,n=arguments.length>=2?arguments[1]:void 0,r=[],a=0;a<i;a++)if(a in e){var o=e[a];t.call(n,o,a,e)&&r.push(o)}return r}function b(e){return e.reduce((function(e,t){return e.concat(c.arr(t)?b(t):t)}),[])}function w(e){return c.arr(e)?e:(c.str(e)&&(e=y(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function P(e,t){return e.some((function(e){return e===t}))}function S(e){var t={};for(var i in e)t[i]=e[i];return t}function T(e,t){var i=S(e);for(var n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function k(e,t){var i=S(e);for(var n in t)i[n]=c.und(e[n])?t[n]:e[n];return i}function I(e){return c.rgb(e)?(i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+i[1]+",1)":t:c.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,n){return t+t+i+i+n+n})),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"}(e):c.hsl(e)?function(e){var t,i,n,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(r[1],10)/360,o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,l=r[4]||1;function d(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(0==o)t=i=n=s;else{var c=s<.5?s*(1+o):s+o-s*o,u=2*s-c;t=d(u,c,a+1/3),i=d(u,c,a),n=d(u,c,a-1/3)}return"rgba("+255*t+","+255*i+","+255*n+","+l+")"}(e):void 0;var t,i}function j(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function C(e,t){return c.fnc(e)?e(t.target,t.id,t.total):e}function A(e,t){return e.getAttribute(t)}function E(e,t,i){if(P([i,"deg","rad","turn"],j(t)))return t;var n=o.CSS[t+i];if(!c.und(n))return n;var r=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(r),r.style.position="absolute",r.style.width=100+i;var s=100/r.offsetWidth;a.removeChild(r);var l=s*parseFloat(t);return o.CSS[t+i]=l,l}function D(e,t,i){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return i?E(e,r,i):r}}function R(e,t){return c.dom(e)&&!c.inp(e)&&(!c.nil(A(e,t))||c.svg(e)&&e[t])?"attribute":c.dom(e)&&P(a,t)?"transform":c.dom(e)&&"transform"!==t&&D(e,t)?"css":null!=e[t]?"object":void 0}function L(e){if(c.dom(e)){for(var t,i=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map;t=n.exec(i);)r.set(t[1],t[2]);return r}}function O(e,t,i,n){var r=l(t,"scale")?1:0+function(e){return l(e,"translate")||"perspective"===e?"px":l(e,"rotate")||l(e,"skew")?"deg":void 0}(t),a=L(e).get(t)||r;return i&&(i.transforms.list.set(t,a),i.transforms.last=t),n?E(e,a,n):a}function F(e,t,i,n){switch(R(e,t)){case"transform":return O(e,t,n,i);case"css":return D(e,t,i);case"attribute":return A(e,t);default:return e[t]||0}}function z(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var n=j(e)||0,r=parseFloat(t),a=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return r+a+n;case"-":return r-a+n;case"*":return r*a+n}}function M(e,t){if(c.col(e))return I(e);if(/\s/g.test(e))return e;var i=j(e),n=i?e.substr(0,e.length-i.length):e;return t?n+t:n}function N(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Z(e){for(var t,i=e.points,n=0,r=0;r<i.numberOfItems;r++){var a=i.getItem(r);r>0&&(n+=N(t,a)),t=a}return n}function U(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*A(e,"r")}(e);case"rect":return function(e){return 2*A(e,"width")+2*A(e,"height")}(e);case"line":return function(e){return N({x:A(e,"x1"),y:A(e,"y1")},{x:A(e,"x2"),y:A(e,"y2")})}(e);case"polyline":return Z(e);case"polygon":return function(e){var t=e.points;return Z(e)+N(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function B(e,t){var i=t||{},n=i.el||function(e){for(var t=e.parentNode;c.svg(t)&&c.svg(t.parentNode);)t=t.parentNode;return t}(e),r=n.getBoundingClientRect(),a=A(n,"viewBox"),o=r.width,s=r.height,l=i.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:s,vW:l[2],vH:l[3]}}function H(e,t,i){function n(i){void 0===i&&(i=0);var n=t+i>=1?t+i:0;return e.el.getPointAtLength(n)}var r=B(e.el,e.svg),a=n(),o=n(-1),s=n(1),l=i?1:r.w/r.vW,d=i?1:r.h/r.vH;switch(e.property){case"x":return(a.x-r.x)*l;case"y":return(a.y-r.y)*d;case"angle":return 180*Math.atan2(s.y-o.y,s.x-o.x)/Math.PI}}function V(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=M(c.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(i)?n.match(i).map(Number):[0],strings:c.str(e)||t?n.split(i):[]}}function W(e){return x(e?b(c.arr(e)?e.map(w):w(e)):[],(function(e,t,i){return i.indexOf(e)===t}))}function $(e){var t=W(e);return t.map((function(e,i){return{target:e,id:i,total:t.length,transforms:{list:L(e)}}}))}function G(e,t){var i=S(t);if(/^spring/.test(i.easing)&&(i.duration=p(i.easing)),c.arr(e)){var n=e.length;2===n&&!c.obj(e[0])?e={value:e}:c.fnc(t.duration)||(i.duration=t.duration/n)}var r=c.arr(e)?e:[e];return r.map((function(e,i){var n=c.obj(e)&&!c.pth(e)?e:{value:e};return c.und(n.delay)&&(n.delay=i?0:t.delay),c.und(n.endDelay)&&(n.endDelay=i===r.length-1?t.endDelay:0),n})).map((function(e){return k(e,i)}))}function K(e,t){var i=[],n=t.keyframes;for(var r in n&&(t=k(function(e){for(var t=x(b(e.map((function(e){return Object.keys(e)}))),(function(e){return c.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),i={},n=function(n){var r=t[n];i[r]=e.map((function(e){var t={};for(var i in e)c.key(i)?i==r&&(t.value=e[i]):t[i]=e[i];return t}))},r=0;r<t.length;r++)n(r);return i}(n),t)),t)c.key(r)&&i.push({name:r,tweens:G(t[r],e)});return i}function q(e,t){var i;return e.tweens.map((function(n){var r=function(e,t){var i={};for(var n in e){var r=C(e[n],t);c.arr(r)&&1===(r=r.map((function(e){return C(e,t)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(n,t),a=r.value,o=c.arr(a)?a[1]:a,s=j(o),l=F(t.target,e.name,s,t),d=i?i.to.original:l,u=c.arr(a)?a[0]:d,p=j(u)||j(l),h=s||p;return c.und(o)&&(o=d),r.from=V(u,h),r.to=V(z(o,u),h),r.start=i?i.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=f(r.easing,r.duration),r.isPath=c.pth(a),r.isPathTargetInsideSVG=r.isPath&&c.svg(t.target),r.isColor=c.col(r.from.original),r.isColor&&(r.round=1),i=r,r}))}var Y={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,n,r){if(n.list.set(t,i),t===n.last||r){var a="";n.list.forEach((function(e,t){a+=t+"("+e+") "})),e.style.transform=a}}};function X(e,t){$(e).forEach((function(e){for(var i in t){var n=C(t[i],e),r=e.target,a=j(n),o=F(r,i,a,e),s=z(M(n,a||j(o)),o),l=R(r,i);Y[l](r,i,s,e.transforms,!0)}}))}function J(e,t){return x(b(e.map((function(e){return t.map((function(t){return function(e,t){var i=R(e.target,t.name);if(i){var n=q(t,e),r=n[n.length-1];return{type:i,property:t.name,animatable:e,tweens:n,duration:r.end,delay:n[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!c.und(e)}))}function Q(e,t){var i=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=i?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,r.delay=i?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,r.endDelay=i?r.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,r}var ee=0;var te=[],ie=function(){var e;function t(i){for(var n=te.length,r=0;r<n;){var a=te[r];a.paused?(te.splice(r,1),n--):(a.tick(i),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){re.suspendWhenDocumentHidden&&(ne()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),ie()))})),function(){e||ne()&&re.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ne(){return!!document&&document.hidden}function re(e){void 0===e&&(e={});var t,i=0,a=0,o=0,l=0,d=null;function c(e){var t=window.Promise&&new Promise((function(e){return d=e}));return e.finished=t,t}var u=function(e){var t=T(n,e),i=T(r,e),a=K(i,e),o=$(e.targets),s=J(o,a),l=Q(s,i),d=ee;return ee++,k(t,{id:d,children:[],animatables:o,animations:s,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);c(u);function p(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function h(e){return u.reversed?u.duration-e:e}function m(){i=0,a=h(u.currentTime)*(1/re.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function _(e){for(var t=0,i=u.animations,n=i.length;t<n;){var r=i[t],a=r.animatable,o=r.tweens,l=o.length-1,d=o[l];l&&(d=x(o,(function(t){return e<t.end}))[0]||d);for(var c=s(e-d.start-d.delay,0,d.duration)/d.duration,p=isNaN(c)?1:d.easing(c),h=d.to.strings,m=d.round,g=[],_=d.to.numbers.length,v=void 0,f=0;f<_;f++){var y=void 0,b=d.to.numbers[f],w=d.from.numbers[f]||0;y=d.isPath?H(d.value,p*b,d.isPathTargetInsideSVG):w+p*(b-w),m&&(d.isColor&&f>2||(y=Math.round(y*m)/m)),g.push(y)}var P=h.length;if(P){v=h[0];for(var S=0;S<P;S++){h[S];var T=h[S+1],k=g[S];isNaN(k)||(v+=T?k+T:k+" ")}}else v=g[0];Y[r.type](a.target,r.property,v,a.transforms),r.currentValue=v,t++}}function v(e){u[e]&&!u.passThrough&&u[e](u)}function f(e){var n=u.duration,r=u.delay,m=n-u.endDelay,f=h(e);u.progress=s(f/n*100,0,100),u.reversePlayback=f<u.currentTime,t&&function(e){if(u.reversePlayback)for(var i=l;i--;)g(e,t[i]);else for(var n=0;n<l;n++)g(e,t[n])}(f),!u.began&&u.currentTime>0&&(u.began=!0,v("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,v("loopBegin")),f<=r&&0!==u.currentTime&&_(0),(f>=m&&u.currentTime!==n||!n)&&_(n),f>r&&f<m?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,v("changeBegin")),v("change"),_(f)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,v("changeComplete")),u.currentTime=s(f,0,n),u.began&&v("update"),e>=n&&(a=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(i=o,v("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&p()):(u.paused=!0,u.completed||(u.completed=!0,v("loopComplete"),v("complete"),!u.passThrough&&"Promise"in window&&(d(),c(u)))))}return u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var i=l=t.length;i--;)u.children[i].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,_(u.reversed?u.duration:0)},u._onDocumentVisibility=m,u.set=function(e,t){return X(e,t),u},u.tick=function(e){o=e,i||(i=o),f((o+(a-i))*re.speed)},u.seek=function(e){f(h(e))},u.pause=function(){u.paused=!0,m()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,te.push(u),m(),ie())},u.reverse=function(){p(),u.completed=!u.reversed,m()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){oe(W(e),u)},u.reset(),u.autoplay&&u.play(),u}function ae(e,t){for(var i=t.length;i--;)P(e,t[i].animatable.target)&&t.splice(i,1)}function oe(e,t){var i=t.animations,n=t.children;ae(e,i);for(var r=n.length;r--;){var a=n[r],o=a.animations;ae(e,o),o.length||a.children.length||n.splice(r,1)}i.length||n.length||t.pause()}re.version="3.2.1",re.speed=1,re.suspendWhenDocumentHidden=!0,re.running=te,re.remove=function(e){for(var t=W(e),i=te.length;i--;){oe(t,te[i])}},re.get=F,re.set=X,re.convertPx=E,re.path=function(e,t){var i=c.str(e)?y(e)[0]:e,n=t||100;return function(e){return{property:e,el:i,svg:B(i),totalLength:U(i)*(n/100)}}},re.setDashoffset=function(e){var t=U(e);return e.setAttribute("stroke-dasharray",t),t},re.stagger=function(e,t){void 0===t&&(t={});var i=t.direction||"normal",n=t.easing?f(t.easing):null,r=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,d="last"===o,u=c.arr(e),p=u?parseFloat(e[0]):parseFloat(e),h=u?parseFloat(e[1]):0,m=j(u?e[1]:e)||0,g=t.start||0+(u?p:0),_=[],v=0;return function(e,t,c){if(s&&(o=0),l&&(o=(c-1)/2),d&&(o=c-1),!_.length){for(var f=0;f<c;f++){if(r){var y=l?(r[0]-1)/2:o%r[0],x=l?(r[1]-1)/2:Math.floor(o/r[0]),b=y-f%r[0],w=x-Math.floor(f/r[0]),P=Math.sqrt(b*b+w*w);"x"===a&&(P=-b),"y"===a&&(P=-w),_.push(P)}else _.push(Math.abs(o-f));v=Math.max.apply(Math,_)}n&&(_=_.map((function(e){return n(e/v)*v}))),"reverse"===i&&(_=_.map((function(e){return a?e<0?-1*e:-e:Math.abs(v-e)})))}return g+(u?(h-p)/v:p)*(Math.round(100*_[t])/100)+m}},re.timeline=function(e){void 0===e&&(e={});var t=re(e);return t.duration=0,t.add=function(i,n){var a=te.indexOf(t),o=t.children;function s(e){e.passThrough=!0}a>-1&&te.splice(a,1);for(var l=0;l<o.length;l++)s(o[l]);var d=k(i,T(r,e));d.targets=d.targets||e.targets;var u=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=c.und(n)?u:z(n,u),s(t),t.seek(d.timelineOffset);var p=re(d);s(p),o.push(p);var h=Q(o,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},re.easing=f,re.penner=v,re.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const se=re},924262:(e,t,i)=>{i.d(t,{Z:()=>a});var n=6e4;function r(e){return e.getTime()%n}function a(e){var t=new Date(e.getTime()),i=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var a=i>0?(n+r(t))%n:r(t);return i*n+a}},13882:(e,t,i)=>{function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}i.d(t,{Z:()=>n})},159025:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(983946),r=i(619013),a=i(13882);function o(e,t){(0,a.Z)(1,arguments);var i=t||{},o=i.locale,s=o&&o.options&&o.options.weekStartsOn,l=null==s?0:(0,n.Z)(s),d=null==i.weekStartsOn?l:(0,n.Z)(i.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,r.Z)(e),u=c.getUTCDay(),p=(u<d?7:0)+u-d;return c.setUTCDate(c.getUTCDate()-p),c.setUTCHours(0,0,0,0),c}},983946:(e,t,i)=>{function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}i.d(t,{Z:()=>n})},51820:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(983946),r=i(619013),a=i(13882);function o(e,t){(0,a.Z)(2,arguments);var i=(0,r.Z)(e).getTime(),o=(0,n.Z)(t);return new Date(i+o)}},926467:(e,t,i)=>{i.d(t,{Z:()=>W});var n=i(112274),r=i(983975),a=i(983946),o=i(51820),s=i(13882);function l(e,t){(0,s.Z)(2,arguments);var i=(0,a.Z)(t);return(0,o.Z)(e,-i)}var d=i(619013);function c(e,t){for(var i=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return i+n}const u={y:function(e,t){var i=e.getUTCFullYear(),n=i>0?i:1-i;return c("yy"===t?n%100:n,t.length)},M:function(e,t){var i=e.getUTCMonth();return"M"===t?String(i+1):c(i+1,2)},d:function(e,t){return c(e.getUTCDate(),t.length)},a:function(e,t){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return i.toUpperCase();case"aaaaa":return i[0];case"aaaa":default:return"am"===i?"a.m.":"p.m."}},h:function(e,t){return c(e.getUTCHours()%12||12,t.length)},H:function(e,t){return c(e.getUTCHours(),t.length)},m:function(e,t){return c(e.getUTCMinutes(),t.length)},s:function(e,t){return c(e.getUTCSeconds(),t.length)},S:function(e,t){var i=t.length,n=e.getUTCMilliseconds();return c(Math.floor(n*Math.pow(10,i-3)),t.length)}};var p=864e5;function h(e){(0,s.Z)(1,arguments);var t=1,i=(0,d.Z)(e),n=i.getUTCDay(),r=(n<t?7:0)+n-t;return i.setUTCDate(i.getUTCDate()-r),i.setUTCHours(0,0,0,0),i}function m(e){(0,s.Z)(1,arguments);var t=(0,d.Z)(e),i=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(i+1,0,4),n.setUTCHours(0,0,0,0);var r=h(n),a=new Date(0);a.setUTCFullYear(i,0,4),a.setUTCHours(0,0,0,0);var o=h(a);return t.getTime()>=r.getTime()?i+1:t.getTime()>=o.getTime()?i:i-1}function g(e){(0,s.Z)(1,arguments);var t=m(e),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var n=h(i);return n}var _=6048e5;var v=i(159025);function f(e,t){(0,s.Z)(1,arguments);var i=(0,d.Z)(e,t),n=i.getUTCFullYear(),r=t||{},o=r.locale,l=o&&o.options&&o.options.firstWeekContainsDate,c=null==l?1:(0,a.Z)(l),u=null==r.firstWeekContainsDate?c:(0,a.Z)(r.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(n+1,0,u),p.setUTCHours(0,0,0,0);var h=(0,v.Z)(p,t),m=new Date(0);m.setUTCFullYear(n,0,u),m.setUTCHours(0,0,0,0);var g=(0,v.Z)(m,t);return i.getTime()>=h.getTime()?n+1:i.getTime()>=g.getTime()?n:n-1}function y(e,t){(0,s.Z)(1,arguments);var i=t||{},n=i.locale,r=n&&n.options&&n.options.firstWeekContainsDate,o=null==r?1:(0,a.Z)(r),l=null==i.firstWeekContainsDate?o:(0,a.Z)(i.firstWeekContainsDate),d=f(e,t),c=new Date(0);c.setUTCFullYear(d,0,l),c.setUTCHours(0,0,0,0);var u=(0,v.Z)(c,t);return u}var x=6048e5;var b="midnight",w="noon",P="morning",S="afternoon",T="evening",k="night";function I(e,t){var i=e>0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),a=n%60;if(0===a)return i+String(r);var o=t||"";return i+String(r)+o+c(a,2)}function j(e,t){return e%60==0?(e>0?"-":"+")+c(Math.abs(e)/60,2):C(e,t)}function C(e,t){var i=t||"",n=e>0?"-":"+",r=Math.abs(e);return n+c(Math.floor(r/60),2)+i+c(r%60,2)}const A={G:function(e,t,i){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})}},y:function(e,t,i){if("yo"===t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return i.ordinalNumber(r,{unit:"year"})}return u.y(e,t)},Y:function(e,t,i,n){var r=f(e,n),a=r>0?r:1-r;return"YY"===t?c(a%100,2):"Yo"===t?i.ordinalNumber(a,{unit:"year"}):c(a,t.length)},R:function(e,t){return c(m(e),t.length)},u:function(e,t){return c(e.getUTCFullYear(),t.length)},Q:function(e,t,i){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return c(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,i){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return c(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,i){var n=e.getUTCMonth();switch(t){case"M":case"MM":return u.M(e,t);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,i){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return c(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,i,n){var r=function(e,t){(0,s.Z)(1,arguments);var i=(0,d.Z)(e),n=(0,v.Z)(i,t).getTime()-y(i,t).getTime();return Math.round(n/x)+1}(e,n);return"wo"===t?i.ordinalNumber(r,{unit:"week"}):c(r,t.length)},I:function(e,t,i){var n=function(e){(0,s.Z)(1,arguments);var t=(0,d.Z)(e),i=h(t).getTime()-g(t).getTime();return Math.round(i/_)+1}(e);return"Io"===t?i.ordinalNumber(n,{unit:"week"}):c(n,t.length)},d:function(e,t,i){return"do"===t?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.d(e,t)},D:function(e,t,i){var n=function(e){(0,s.Z)(1,arguments);var t=(0,d.Z)(e),i=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),r=i-n;return Math.floor(r/p)+1}(e);return"Do"===t?i.ordinalNumber(n,{unit:"dayOfYear"}):c(n,t.length)},E:function(e,t,i){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,i,n){var r=e.getUTCDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return c(a,2);case"eo":return i.ordinalNumber(a,{unit:"day"});case"eee":return i.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,i,n){var r=e.getUTCDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return c(a,t.length);case"co":return i.ordinalNumber(a,{unit:"day"});case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,i){var n=e.getUTCDay(),r=0===n?7:n;switch(t){case"i":return String(r);case"ii":return c(r,t.length);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});case"iiii":default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,i){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,i){var n,r=e.getUTCHours();switch(n=12===r?w:0===r?b:r/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,i){var n,r=e.getUTCHours();switch(n=r>=17?T:r>=12?S:r>=4?P:k,t){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,i){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return u.h(e,t)},H:function(e,t,i){return"Ho"===t?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.H(e,t)},K:function(e,t,i){var n=e.getUTCHours()%12;return"Ko"===t?i.ordinalNumber(n,{unit:"hour"}):c(n,t.length)},k:function(e,t,i){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?i.ordinalNumber(n,{unit:"hour"}):c(n,t.length)},m:function(e,t,i){return"mo"===t?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.m(e,t)},s:function(e,t,i){return"so"===t?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.s(e,t)},S:function(e,t){return u.S(e,t)},X:function(e,t,i,n){var r=(n._originalDate||e).getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return j(r);case"XXXX":case"XX":return C(r);case"XXXXX":case"XXX":default:return C(r,":")}},x:function(e,t,i,n){var r=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return j(r);case"xxxx":case"xx":return C(r);case"xxxxx":case"xxx":default:return C(r,":")}},O:function(e,t,i,n){var r=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+I(r,":");case"OOOO":default:return"GMT"+C(r,":")}},z:function(e,t,i,n){var r=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+I(r,":");case"zzzz":default:return"GMT"+C(r,":")}},t:function(e,t,i,n){var r=n._originalDate||e;return c(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,i,n){return c((n._originalDate||e).getTime(),t.length)}};function E(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function D(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}const R={p:D,P:function(e,t){var i,n=e.match(/(P+)(p+)?/),r=n[1],a=n[2];if(!a)return E(e,t);switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",E(r,t)).replace("{{time}}",D(a,t))}};var L=i(924262),O=["D","DD"],F=["YY","YYYY"];function z(e){return-1!==O.indexOf(e)}function M(e){return-1!==F.indexOf(e)}function N(e,t,i){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"))}var Z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B=/^'([^]*?)'?$/,H=/''/g,V=/[a-zA-Z]/;function W(e,t,i){(0,s.Z)(2,arguments);var o=String(t),c=i||{},u=c.locale||r.default,p=u.options&&u.options.firstWeekContainsDate,h=null==p?1:(0,a.Z)(p),m=null==c.firstWeekContainsDate?h:(0,a.Z)(c.firstWeekContainsDate);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=u.options&&u.options.weekStartsOn,_=null==g?0:(0,a.Z)(g),v=null==c.weekStartsOn?_:(0,a.Z)(c.weekStartsOn);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var f=(0,d.Z)(e);if(!(0,n.Z)(f))throw new RangeError("Invalid time value");var y=(0,L.Z)(f),x=l(f,y),b={firstWeekContainsDate:m,weekStartsOn:v,locale:u,_originalDate:f},w=o.match(U).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,R[t])(e,u.formatLong,b):e})).join("").match(Z).map((function(i){if("''"===i)return"'";var n=i[0];if("'"===n)return $(i);var r=A[n];if(r)return!c.useAdditionalWeekYearTokens&&M(i)&&N(i,t,e),!c.useAdditionalDayOfYearTokens&&z(i)&&N(i,t,e),r(x,i,u.localize,b);if(n.match(V))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return i})).join("");return w}function $(e){return e.match(B)[1].replace(H,"'")}},112274:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(619013),r=i(13882);function a(e){(0,r.Z)(1,arguments);var t=(0,n.Z)(e);return!isNaN(t)}},849526:(e,t,i)=>{function n(e){return function(t){var i=t||{},n=i.width?String(i.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}i.d(t,{Z:()=>n})},688486:(e,t,i)=>{function n(e){return function(t,i){var n,r=i||{};if("formatting"===(r.context?String(r.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=r.width?String(r.width):a;n=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,l=r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}i.d(t,{Z:()=>n})},276723:(e,t,i)=>{function n(e){return function(t,i){var n=String(t),r=i||{},a=r.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=n.match(o);if(!s)return null;var l,d=s[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i}(c,(function(e){return e.test(d)})):function(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return i}(c,(function(e){return e.test(d)})),l=e.valueCallback?e.valueCallback(l):l,{value:l=r.valueCallback?r.valueCallback(l):l,rest:n.slice(d.length)}}}i.d(t,{Z:()=>n})},360974:(e,t,i)=>{function n(e){return function(t,i){var n=String(t),r=i||{},a=n.match(e.matchPattern);if(!a)return null;var o=a[0],s=n.match(e.parsePattern);if(!s)return null;var l=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:l=r.valueCallback?r.valueCallback(l):l,rest:n.slice(o.length)}}}i.d(t,{Z:()=>n})},181991:(e,t,i)=>{i.d(t,{Z:()=>r});var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(e,t,i){var r;return i=i||{},r="string"==typeof n[e]?n[e]:1===t?n[e].one:n[e].other.replace("{{count}}",t),i.addSuffix?i.comparison>0?"in "+r:r+" ago":r}},721865:(e,t,i)=>{i.d(t,{Z:()=>r});var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function r(e,t,i,r){return n[e]}},611950:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(688486);const r={ordinalNumber:function(e,t){var i=Number(e),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:(0,n.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,n.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,n.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,n.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,n.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},507219:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(360974),r=i(276723);const a={ordinalNumber:(0,n.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,r.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,r.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},983975:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(181991),r=i(849526);const a={date:(0,r.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var o=i(721865),s=i(611950),l=i(507219);const d={code:"en-US",formatDistance:n.Z,formatLong:a,formatRelative:o.Z,localize:s.Z,match:l.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}}},619013:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(13882);function r(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},701305:e=>{var t=[],i=[];function n(e,t,i,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var a=Object.prototype.toString,o=a.call(e);if(o!=a.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var s=i.length;s--;)if(i[s]==e)return r[s]==t;i.push(e),r.push(t);var l=0;if("[object Array]"===o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!n(e[l],t[l],i,r))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(t).length)return!1;for(var c=0;c<d.length;c++)if(!n(e[d[c]],t[d[c]],i,r))return!1}return i.pop(),r.pop(),!0}e.exports=function(e,r){var a=t.length?t.pop():[],o=i.length?i.pop():[],s=n(e,r,a,o);return a.length=0,o.length=0,t.push(a),i.push(o),s}},60139:e=>{function t(e){return function(){return e}}var i=function(){};i.thatReturns=t,i.thatReturnsFalse=t(!1),i.thatReturnsTrue=t(!0),i.thatReturnsNull=t(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},663620:(e,t,i)=>{var n=i(60139);e.exports=n},416131:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},483010:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},808310:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},963421:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},549658:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},275441:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},916611:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},344191:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},614860:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},317343:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},443140:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},522940:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},325634:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},204554:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},294700:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},594701:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},253833:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},495297:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},296875:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},231596:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},846653:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},47786:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},830866:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},375664:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},214298:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},647887:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},114200:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},813150:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},246184:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},935563:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},460628:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},199081:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},671157:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},747147:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},25078:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},622314:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},765409:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},690435:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},712627:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},387629:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},465843:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},951237:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},13820:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},990148:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},879191:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},59192:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},237258:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},424961:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},436044:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},206581:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},300633:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},690532:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},749406:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},370960:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},535389:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},590716:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},482925:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},370216:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},926410:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},777172:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},305067:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},621216:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},826132:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},681384:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},729566:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},972841:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},301989:(e,t,i)=>{var n=i(751789),r=i(780401),a=i(657667),o=i(521327),s=i(281866);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},738407:(e,t,i)=>{var n=i(327040),r=i(514125),a=i(882117),o=i(567518),s=i(654705);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},883369:(e,t,i)=>{var n=i(924785),r=i(611285),a=i(396e3),o=i(349916),s=i(195265);function l(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},288668:(e,t,i)=>{var n=i(883369),r=i(90619),a=i(572385);function o(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new n;++t<i;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=a,e.exports=o},646384:(e,t,i)=>{var n=i(738407),r=i(737465),a=i(963779),o=i(267599),s=i(744758),l=i(234309);function d(e){var t=this.__data__=new n(e);this.size=t.size}d.prototype.clear=r,d.prototype.delete=a,d.prototype.get=o,d.prototype.has=s,d.prototype.set=l,e.exports=d},611149:(e,t,i)=>{var n=i(555639).Uint8Array;e.exports=n},896874:e=>{e.exports=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}},234963:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,a=[];++i<n;){var o=e[i];t(o,i,e)&&(a[r++]=o)}return a}},14636:(e,t,i)=>{var n=i(422545),r=i(135694),a=i(701469),o=i(644144),s=i(565776),l=i(936719),d=Object.prototype.hasOwnProperty;e.exports=function(e,t){var i=a(e),c=!i&&r(e),u=!i&&!c&&o(e),p=!i&&!c&&!u&&l(e),h=i||c||u||p,m=h?n(e.length,String):[],g=m.length;for(var _ in e)!t&&!d.call(e,_)||h&&("length"==_||u&&("offset"==_||"parent"==_)||p&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||s(_,g))||m.push(_);return m}},862488:e=>{e.exports=function(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}},282908:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}},286556:(e,t,i)=>{var n=i(789465),r=i(977813);e.exports=function(e,t,i){(void 0!==i&&!r(e[t],i)||void 0===i&&!(t in e))&&n(e,t,i)}},234865:(e,t,i)=>{var n=i(789465),r=i(977813),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){var o=e[t];a.call(e,t)&&r(o,i)&&(void 0!==i||t in e)||n(e,t,i)}},218470:(e,t,i)=>{var n=i(977813);e.exports=function(e,t){for(var i=e.length;i--;)if(n(e[i][0],t))return i;return-1}},789465:(e,t,i)=>{var n=i(538777);e.exports=function(e,t,i){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}},603118:(e,t,i)=>{var n=i(513218),r=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(r)return r(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();e.exports=a},228483:(e,t,i)=>{var n=i(225063)();e.exports=n},868866:(e,t,i)=>{var n=i(862488),r=i(701469);e.exports=function(e,t,i){var a=t(e);return r(e)?a:n(a,i(e))}},690939:(e,t,i)=>{var n=i(902492),r=i(637005);e.exports=function e(t,i,a,o,s){return t===i||(null==t||null==i||!r(t)&&!r(i)?t!=t&&i!=i:n(t,i,a,o,e,s))}},902492:(e,t,i)=>{var n=i(646384),r=i(967114),a=i(518351),o=i(916096),s=i(664160),l=i(701469),d=i(644144),c=i(936719),u="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,g,_,v){var f=l(e),y=l(t),x=f?p:s(e),b=y?p:s(t),w=(x=x==u?h:x)==h,P=(b=b==u?h:b)==h,S=x==b;if(S&&d(e)){if(!d(t))return!1;f=!0,w=!1}if(S&&!w)return v||(v=new n),f||c(e)?r(e,t,i,g,_,v):a(e,t,x,i,g,_,v);if(!(1&i)){var T=w&&m.call(e,"__wrapped__"),k=P&&m.call(t,"__wrapped__");if(T||k){var I=T?e.value():e,j=k?t.value():t;return v||(v=new n),_(I,j,i,g,v)}}return!!S&&(v||(v=new n),o(e,t,i,g,_,v))}},710313:(e,t,i)=>{var n=i(513218),r=i(225726),a=i(133498),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=r(e),i=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&i.push(s);return i}},642980:(e,t,i)=>{var n=i(646384),r=i(286556),a=i(228483),o=i(559783),s=i(513218),l=i(481704),d=i(636390);e.exports=function e(t,i,c,u,p){t!==i&&a(i,(function(a,l){if(p||(p=new n),s(a))o(t,i,l,c,e,u,p);else{var h=u?u(d(t,l),a,l+"",t,i,p):void 0;void 0===h&&(h=a),r(t,l,h)}}),l)}},559783:(e,t,i)=>{var n=i(286556),r=i(364626),a=i(477133),o=i(200278),s=i(738517),l=i(135694),d=i(701469),c=i(229246),u=i(644144),p=i(623560),h=i(513218),m=i(968630),g=i(936719),_=i(636390),v=i(959881);e.exports=function(e,t,i,f,y,x,b){var w=_(e,i),P=_(t,i),S=b.get(P);if(S)n(e,i,S);else{var T=x?x(w,P,i+"",e,t,b):void 0,k=void 0===T;if(k){var I=d(P),j=!I&&u(P),C=!I&&!j&&g(P);T=P,I||j||C?d(w)?T=w:c(w)?T=o(w):j?(k=!1,T=r(P,!0)):C?(k=!1,T=a(P,!0)):T=[]:m(P)||l(P)?(T=w,l(w)?T=v(w):h(w)&&!p(w)||(T=s(P))):k=!1}k&&(b.set(P,T),y(T,P,f,x,b),b.delete(P)),n(e,i,T)}}},105976:(e,t,i)=>{var n=i(406557),r=i(545357),a=i(430061);e.exports=function(e,t){return a(r(e,t,n),e+"")}},356560:(e,t,i)=>{var n=i(575703),r=i(538777),a=i(406557),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=o},422545:e=>{e.exports=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}},727561:(e,t,i)=>{var n=i(567990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},274757:e=>{e.exports=function(e,t){return e.has(t)}},274318:(e,t,i)=>{var n=i(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},364626:(e,t,i)=>{e=i.nmd(e);var n=i(555639),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var i=e.length,n=s?s(i):new e.constructor(i);return e.copy(n),n}},477133:(e,t,i)=>{var n=i(274318);e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}},698363:(e,t,i)=>{var n=i(234865),r=i(789465);e.exports=function(e,t,i,a){var o=!i;i||(i={});for(var s=-1,l=t.length;++s<l;){var d=t[s],c=a?a(i[d],e[d],d,i,e):void 0;void 0===c&&(c=e[d]),o?r(i,d,c):n(i,d,c)}return i}},321463:(e,t,i)=>{var n=i(105976),r=i(816612);e.exports=function(e){return n((function(t,i){var n=-1,a=i.length,o=a>1?i[a-1]:void 0,s=a>2?i[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&r(i[0],i[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var l=i[n];l&&e(t,l,n,o)}return t}))}},225063:e=>{e.exports=function(e){return function(t,i,n){for(var r=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===i(a[l],l,a))break}return t}}},538777:(e,t,i)=>{var n=i(610852),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},967114:(e,t,i)=>{var n=i(288668),r=i(282908),a=i(274757);e.exports=function(e,t,i,o,s,l){var d=1&i,c=e.length,u=t.length;if(c!=u&&!(d&&u>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var m=-1,g=!0,_=2&i?new n:void 0;for(l.set(e,t),l.set(t,e);++m<c;){var v=e[m],f=t[m];if(o)var y=d?o(f,v,m,t,e,l):o(v,f,m,e,t,l);if(void 0!==y){if(y)continue;g=!1;break}if(_){if(!r(t,(function(e,t){if(!a(_,t)&&(v===e||s(v,e,i,o,l)))return _.push(t)}))){g=!1;break}}else if(v!==f&&!s(v,f,i,o,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},518351:(e,t,i)=>{var n=i(562705),r=i(611149),a=i(977813),o=i(967114),s=i(668776),l=i(321814),d=n?n.prototype:void 0,c=d?d.valueOf:void 0;e.exports=function(e,t,i,n,d,u,p){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var m=1&n;if(h||(h=l),e.size!=t.size&&!m)return!1;var g=p.get(e);if(g)return g==t;n|=2,p.set(e,t);var _=o(h(e),h(t),n,d,u,p);return p.delete(e),_;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},916096:(e,t,i)=>{var n=i(458234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,a,o,s){var l=1&i,d=n(e),c=d.length;if(c!=n(t).length&&!l)return!1;for(var u=c;u--;){var p=d[u];if(!(l?p in t:r.call(t,p)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);for(var _=l;++u<c;){var v=e[p=d[u]],f=t[p];if(a)var y=l?a(f,v,p,t,e,s):a(v,f,p,e,t,s);if(!(void 0===y?v===f||o(v,f,i,a,s):y)){g=!1;break}_||(_="constructor"==p)}if(g&&!_){var x=e.constructor,b=t.constructor;x==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},458234:(e,t,i)=>{var n=i(868866),r=i(799551),a=i(3674);e.exports=function(e){return n(e,a,r)}},45050:(e,t,i)=>{var n=i(37019);e.exports=function(e,t){var i=e.__data__;return n(t)?i["string"==typeof t?"string":"hash"]:i.map}},385924:(e,t,i)=>{var n=i(205569)(Object.getPrototypeOf,Object);e.exports=n},799551:(e,t,i)=>{var n=i(234963),r=i(770479),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return a.call(e,t)})))}:r;e.exports=s},751789:(e,t,i)=>{var n=i(894536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},780401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},657667:(e,t,i)=>{var n=i(894536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return r.call(t,e)?t[e]:void 0}},521327:(e,t,i)=>{var n=i(894536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}},281866:(e,t,i)=>{var n=i(894536);e.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},738517:(e,t,i)=>{var n=i(603118),r=i(385924),a=i(225726);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(r(e))}},565776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,i){var n=typeof e;return!!(i=null==i?9007199254740991:i)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<i}},816612:(e,t,i)=>{var n=i(977813),r=i(498612),a=i(565776),o=i(513218);e.exports=function(e,t,i){if(!o(i))return!1;var s=typeof t;return!!("number"==s?r(i)&&a(t,i.length):"string"==s&&t in i)&&n(i[t],e)}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},327040:e=>{e.exports=function(){this.__data__=[],this.size=0}},514125:(e,t,i)=>{var n=i(218470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,i=n(t,e);return!(i<0)&&(i==t.length-1?t.pop():r.call(t,i,1),--this.size,!0)}},882117:(e,t,i)=>{var n=i(218470);e.exports=function(e){var t=this.__data__,i=n(t,e);return i<0?void 0:t[i][1]}},567518:(e,t,i)=>{var n=i(218470);e.exports=function(e){return n(this.__data__,e)>-1}},654705:(e,t,i)=>{var n=i(218470);e.exports=function(e,t){var i=this.__data__,r=n(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}},924785:(e,t,i)=>{var n=i(301989),r=i(738407),a=i(357071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||r),string:new n}}},611285:(e,t,i)=>{var n=i(45050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},396e3:(e,t,i)=>{var n=i(45050);e.exports=function(e){return n(this,e).get(e)}},349916:(e,t,i)=>{var n=i(45050);e.exports=function(e){return n(this,e).has(e)}},195265:(e,t,i)=>{var n=i(45050);e.exports=function(e,t){var i=n(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}},668776:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}},894536:(e,t,i)=>{var n=i(610852)(Object,"create");e.exports=n},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}},545357:(e,t,i)=>{var n=i(896874),r=Math.max;e.exports=function(e,t,i){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=r(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var d=Array(t+1);++o<t;)d[o]=a[o];return d[t]=i(l),n(e,this,d)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}},430061:(e,t,i)=>{var n=i(356560),r=i(521275)(n);e.exports=r},521275:e=>{var t=Date.now;e.exports=function(e){var i=0,n=0;return function(){var r=t(),a=16-(r-n);if(n=r,a>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},737465:(e,t,i)=>{var n=i(738407);e.exports=function(){this.__data__=new n,this.size=0}},963779:e=>{e.exports=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}},267599:e=>{e.exports=function(e){return this.__data__.get(e)}},744758:e=>{e.exports=function(e){return this.__data__.has(e)}},234309:(e,t,i)=>{var n=i(738407),r=i(357071),a=i(883369);e.exports=function(e,t){var i=this.__data__;if(i instanceof n){var o=i.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++i.size,this;i=this.__data__=new a(o)}return i.set(e,t),this.size=i.size,this}},567990:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},575703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,i)=>{var n=i(513218),r=i(707771),a=i(14841),o=Math.max,s=Math.min;e.exports=function(e,t,i){var l,d,c,u,p,h,m=0,g=!1,_=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var i=l,n=d;return l=d=void 0,m=t,u=e.apply(n,i)}function y(e){return m=e,p=setTimeout(b,t),g?f(e):u}function x(e){var i=e-h;return void 0===h||i>=t||i<0||_&&e-m>=c}function b(){var e=r();if(x(e))return w(e);p=setTimeout(b,function(e){var i=t-(e-h);return _?s(i,c-(e-m)):i}(e))}function w(e){return p=void 0,v&&l?f(e):(l=d=void 0,u)}function P(){var e=r(),i=x(e);if(l=arguments,d=this,h=e,i){if(void 0===p)return y(h);if(_)return clearTimeout(p),p=setTimeout(b,t),f(h)}return void 0===p&&(p=setTimeout(b,t)),u}return t=a(t)||0,n(i)&&(g=!!i.leading,c=(_="maxWait"in i)?o(a(i.maxWait)||0,t):c,v="trailing"in i?!!i.trailing:v),P.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=d=p=void 0},P.flush=function(){return void 0===p?u:w(r())},P}},977813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},406557:e=>{e.exports=function(e){return e}},229246:(e,t,i)=>{var n=i(498612),r=i(637005);e.exports=function(e){return r(e)&&n(e)}},618446:(e,t,i)=>{var n=i(690939);e.exports=function(e,t){return n(e,t)}},968630:(e,t,i)=>{var n=i(644239),r=i(385924),a=i(637005),o=Function.prototype,s=Object.prototype,l=o.toString,d=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=n(e))return!1;var t=r(e);if(null===t)return!0;var i=d.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==c}},733448:(e,t,i)=>{var n=i(644239),r=i(637005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},3674:(e,t,i)=>{var n=i(14636),r=i(400280),a=i(498612);e.exports=function(e){return a(e)?n(e):r(e)}},481704:(e,t,i)=>{var n=i(14636),r=i(710313),a=i(498612);e.exports=function(e){return a(e)?n(e,!0):r(e)}},682492:(e,t,i)=>{var n=i(642980),r=i(321463)((function(e,t,i){n(e,t,i)}));e.exports=r},707771:(e,t,i)=>{var n=i(555639);e.exports=function(){return n.Date.now()}},770479:e=>{e.exports=function(){return[]}},14841:(e,t,i)=>{var n=i(727561),r=i(513218),a=i(733448),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=s.test(e);return i||l.test(e)?d(e.slice(2),i?2:8):o.test(e)?NaN:+e}},959881:(e,t,i)=>{var n=i(698363),r=i(481704);e.exports=function(e){return n(e,r(e))}},782677:(e,t,i)=>{function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function s(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function l(e,t,i){return Object.keys(e).reduce((function(t,n){var r=""+n;return t.has(r)?t.set(r,i(t.get(r),e[r])):t}),t)}i.d(t,{Fv:()=>b,fK:()=>x});var d=function(){function e(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var n=i,r=n.idAttribute,o=void 0===r?"id":r,l=n.mergeStrategy,d=void 0===l?function(e,t){return a({},e,t)}:l,c=n.processStrategy,u=void 0===c?function(e){return a({},e)}:c,p=n.fallbackStrategy,h=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof o?o:function(e){return function(t){return s(t)?t.get(e):t[e]}}(o),this._idAttribute=o,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=h,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,i){var n,r=e[i];return a({},t,((n={})[i]=r,n))}),this.schema||{})},t.getId=function(e,t,i){return this._getId(e,t,i)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,i,n,r,a){var o=this,s=this.getId(e,t,i),l=this.key;if(l in a||(a[l]={}),s in a[l]||(a[l][s]=[]),a[l][s].some((function(t){return t===e})))return s;a[l][s].push(e);var d=this._processStrategy(e,t,i);return Object.keys(this.schema).forEach((function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var i=o.schema[t],s="function"==typeof i?i(e):i;d[t]=n(d[t],d,t,s,r,a)}})),r(this,d,e,t,i),s},t.denormalize=function(e,t){var i=this;return s(e)?l(this.schema,e,t):(Object.keys(this.schema).forEach((function(n){if(e.hasOwnProperty(n)){var r=i.schema[n];e[n]=t(e[n],r)}})),e)},r(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,i){return!this.isSingleSchema&&this._schemaAttribute(e,t,i)},t.inferSchema=function(e,t,i){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,t,i);return this.schema[n]},t.normalizeValue=function(e,t,i,n,r,a){var o=this.inferSchema(e,t,i);if(!o)return e;var s=n(e,t,i,o,r,a);return this.isSingleSchema||null==s?s:{id:s,schema:this.getSchemaAttribute(e,t,i)}},t.denormalizeValue=function(e,t){var i=s(e)?e.get("schema"):e.schema;return this.isSingleSchema||i?t((this.isSingleSchema?void 0:s(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[i]):e},r(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,i){if(!i)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,i)||this}o(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,r,a){return this.normalizeValue(e,t,i,n,r,a)},i.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),p=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,r,o){var s=this;return Object.keys(e).reduce((function(t,i,l){var d,c=e[i];return null!=c?a({},t,((d={})[i]=s.normalizeValue(c,e,i,n,r,o),d)):t}),{})},i.denormalize=function(e,t){var i=this;return Object.keys(e).reduce((function(n,r){var o,s=e[r];return a({},n,((o={})[r]=i.denormalizeValue(s,t),o))}),{})},t}(c),h=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},m=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},g=function(e,t,i,n,r,a,o){return e=h(e),m(t).map((function(t,s){return r(t,i,n,e,a,o)}))},_=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,r,a){var o=this;return m(e).map((function(e,s){return o.normalizeValue(e,t,i,n,r,a)})).filter((function(e){return null!=e}))},i.denormalize=function(e,t){var i=this;return e&&e.map?e.map((function(e){return i.denormalizeValue(e,t)})):e},t}(c),v=function(e,t,i,n,r,o,s){var l=a({},t);return Object.keys(e).forEach((function(i){var n=e[i],a="function"==typeof n?n(t):n,d=r(t[i],t,i,a,o,s);null==d?delete l[i]:l[i]=d})),l},f=function(e,t,i){if(s(t))return l(e,t,i);var n=a({},t);return Object.keys(e).forEach((function(t){null!=n[t]&&(n[t]=i(n[t],e[t]))})),n},y=function e(t,i,n,r,a,o){return"object"==typeof t&&t?"object"!=typeof r||r.normalize&&"function"==typeof r.normalize?r.normalize(t,i,n,e,a,o):(Array.isArray(r)?g:v)(r,t,i,n,e,a,o):t},x={Array:_,Entity:d,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,i){var n,r=e[i];return a({},t,((n={})[i]=r,n))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return v.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return f.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:p},b=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var i={},n=function(e){return function(t,i,n,r,a){var o=t.key,s=t.getId(n,r,a);o in e||(e[o]={});var l=e[o][s];e[o][s]=l?t.merge(l,i):i}}(i);return{entities:i,result:y(e,e,null,t,n,{})}}},442279:(e,t)=>{function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],i=null,r=null;return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return null!==i&&i.length===a.length&&a.every((function(e,n){return t(e,i[n])}))||(r=e.apply(void 0,a)),i=a,r}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var i=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+i+"]")}return t}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,l=r.pop(),d=a(r),c=e.apply(void 0,[function(){return s++,l.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o=d.map((function(i){return i.apply(void 0,[e,t].concat(r))}));return c.apply(void 0,i(o))};return u.resultFunc=l,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}var s=t.P1=o(r)},17314:(e,t,i)=>{i.d(t,{Z:()=>d});var n,r,a=i(813653),o=i(861470),s=0,l=0;const d=function(e,t,i){var d=t&&i||0,c=t||new Array(16),u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==p){var h=e.random||(e.rng||a.Z)();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=r=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:l+1,_=m-s+(g-l)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||m>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=m,l=g,r=p;var v=(1e4*(268435455&(m+=122192928e5))+g)%4294967296;c[d++]=v>>>24&255,c[d++]=v>>>16&255,c[d++]=v>>>8&255,c[d++]=255&v;var f=m/4294967296*1e4&268435455;c[d++]=f>>>8&255,c[d++]=255&f,c[d++]=f>>>24&15|16,c[d++]=f>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var y=0;y<6;++y)c[d+y]=u[y];return t||(0,o.Z)(c)}},397066:(e,t,i)=>{i.d(t,{b:()=>c,h:()=>u});var n=i(983722),r=i(768559),a=i(43760),o=i(966113),s=i(619937),l=i(48714),d=i(366284);const c=({href:e,pinId:t,pin:i,location:a,auxData:c},u)=>{if(i&&i.is_promoted){var p,h,m,g;const w=(0,r.Z)({boardUrl:null===(p=i.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:a,pinId:i.id,pinnerUserName:null===(h=i.pinner)||void 0===h?void 0:h.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}),P=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:w,auxData:c}),S=(0,n.Z)();if((0,d.G6)(null!==(m=null==S?void 0:S.userAgent.browserName)&&void 0!==m?m:"")){var _,v;const{group:n}=null!==(_=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==_?_:{};let r=null!=S&&null!==(v=S.userAgent)&&void 0!==v&&v.browserVersion?S.userAgent.browserVersion:"0.0";if(r=parseFloat(r.split(".")[0]+"."+r.split(".")[1]),void 0!==i.campaign_id&&r>=14.1&&["enabled_safari"].includes(n)){var f;const n=i.attribution_source_id?((e,t,i)=>{const n=document.createElement("a");return n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,e),n.setAttribute(s.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(s.$N.ATTRIBUTE_ON,i),n.click(),e})(i.attribution_source_id,P,e):((e,t,i)=>{const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block";const r=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return n.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,r),n.setAttribute(s.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(s.$N.ATTRIBUTE_ON,i),n.click(),r})(null!==(f=i.pin_promotion_id)&&void 0!==f?f:0,P,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:i.pin_promotion_id||"",click_measurement_campaign_id:i.campaign_id||"",is_pcm:!0,attribution_source_id:n,page_url:e}}),!0}}else if((0,d.i7)(null!==(g=null==S?void 0:S.userAgent.browserName)&&void 0!==g?g:"")){var y,x;const{group:n}=null!==(y=null==S?void 0:S.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==y?y:{},r=null!=S&&null!==(x=S.userAgent)&&void 0!==x&&x.browserVersion?parseInt(S.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==i.attribution_source_id&&r>=101&&["enabled"].includes(n)){var b;const n=((e,t,i)=>{const n=new URL(`${o.C00}/attribution_source/`);n.searchParams.set(s.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),n.searchParams.set(s.NR.ATTRIBUTION_DESTINATION,i),n.searchParams.set(s.NR.ATTRIBUTION_EXPIRY,""+s.uV);const r=document.createElement("a");return r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(s.NR.ATTRIBUTION_SOURCE,n.toString()),r.click(),e})(null!==(b=i.attribution_source_id)&&void 0!==b?b:"0",P,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:i.pin_promotion_id||"",click_measurement_campaign_id:i.campaign_id||"",is_arapi:!0,attribution_source_id:n,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:i,location:n,auxData:o},s)=>{if("undefined"!=typeof window&&window.Windows)(0,a.Z)({url:e,pinId:t,pin:i,location:n,auxData:o});else{var d,u;if(c({href:e,pinId:t,pin:i,location:n,auxData:o},s))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,r.Z)({boardUrl:null==i||null===(d=i.board)||void 0===d?void 0:d.url,callToCreateSourcePinId:null==i?void 0:i.call_to_create_source_pin_id,location:n,pinId:null==i?void 0:i.id,pinnerUserName:null==i||null===(u=i.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==i?void 0:i.story_pin_data_id,trackingParams:null==i?void 0:i.tracking_params,trackingParamsMap:null==i?void 0:i.tracking_params_map}),auxData:o})}}},807592:(e,t,i)=>{function n(e){const{max_price:t,min_price:i,price:n}=e;return t&&i?`${i}-${t}`:n}i.d(t,{Z:()=>n})},733756:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(30700),r=i(883119),a=i(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:i,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:h=70,onTouch:m,pressState:g,shape:_,text:v})=>{const f=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(t),y=(({color:e,icon:t})=>t?l:"transparent"===e?{__style:{...o.__style,...s}}:o)({color:t,icon:c}),x=(0,a.jsx)(r.xu,{position:"relative",children:(0,a.jsx)(r.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:h,dangerouslySetInlineStyle:"pill"===_?(b=i,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):y,children:(0,a.jsxs)(r.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,a.jsx)(r.xu,{paddingX:"check"===c?2:0,children:(0,a.jsx)(r.JO,{accessibilityLabel:e,color:f,icon:c,inline:!0,size:"check"===c?16:20})}),(0,a.jsx)(r.xv,{color:f,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var b;return m?(0,a.jsx)(n.Z,{onTouch:m,rounding:"pill"===_?"pill":2,pressState:g||"none",children:(0,a.jsx)(r.xu,{ref:d,children:x})}):x}},856919:(e,t,i)=>{i.d(t,{MZ:()=>D,di:()=>L,Ai:()=>R});var n=i(667294),r=i(474635),a=i(205443),o=i(733756),s=i(735079),l=i(954571),d=i(250059),c=i(149230),u=i(407043),p=i(48714),h=i(276775);const m=({children:e,external:t,externalQueryParams:i,target:n,href:r})=>{const{logContextEvent:a}=(0,u.v)(),o=(0,h.useHistory)(),s=(0,h.useLocation)();if(!r)return null;const l=(0,d.Z)(r);return e({navigate:e=>{e.preventDefault(),(0,c.Z)({url:l})||t?(0,p.lI)({href:l,queryParams:i,location:s},a,null):(0,p.G3)({event:e,href:r,history:o,target:"blank"===n?"blank":null})}})};var g=i(883119),_=i(785893);const v=({accessibilityLabel:e,children:t,external:i,externalQueryParams:n,inline:r=!1,newTab:a,nofollow:o,onTouch:s,onBlur:l,onFocus:c,pressState:u,rounding:p,to:h})=>(0,_.jsx)(m,{external:i,target:a?"blank":null,externalQueryParams:n,href:h,children:({navigate:i})=>(0,_.jsx)(g.rU,{accessibilityLabel:e,onBlur:l?({event:e})=>l(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,d.Z)(h),inline:r,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||i(e)},rel:o?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),f=({external:e,externalQueryParams:t,newTab:i,onTouch:n,to:r,...a})=>(0,_.jsx)(m,{external:e,target:i?"blank":null,externalQueryParams:t,href:r,children:({navigate:e})=>(0,_.jsx)(o.Z,{onTouch:t=>{null==n||n(t),t.defaultPrevented||e(t)},...a})});var y=i(949372),x=i(112690),b=i(19121),w=i(53987),P=i(30287),S=i(968228),T=i(780622),k=i(773285),I=i(780280),j=i(281180),C=i(957161),A=i(622096);const E=(e,t=!1)=>function({isAppUpsellDisabled:i,...o}){const{children:d,clientTrackingParams:c,deeplinkUri:u,external:p,onTouch:m,refresh:v,to:f,viewParameter:E,viewType:D}=o,R=(0,y.Z)(),[L,O]=(0,n.useState)(!1),{isAuth:F}=(0,b.Z)(),{userAgent:{platform:z},locale:M}=(0,I.B)(),N=(0,j.Tt)(),Z=(0,x.Z)(),{checkExperiment:U}=(0,k.F)(),B=(0,h.useLocation)(),H=(0,T.L)(),V=()=>{Z({event_type:1701,view_type:D,view_parameter:E}),L&&O(!1)};return(0,_.jsxs)(g.xu,{"data-test-id":"deeplink-wrapper",children:[L&&(0,_.jsx)(r.Z,{componentType:14157,within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,_.jsx)(a.Z,{clientTrackingParams:c,isOpen:!0,onDismiss:()=>{Z({component:14157,element:10308,event_type:10220,view_type:D||32,view_parameter:E,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,C.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:u}),V()},shouldTrackDismiss:!0,to:f,viewParameter:E,viewType:D})}),(0,_.jsx)(s.Z,{children:n=>(0,_.jsx)(e,{...o,onTouch:e=>{const r=R&&!i&&F&&!p&&!v&&!(0,P.FP)(window)&&!("ios"===z&&(M||"").startsWith("ar"))&&(0,S.kp)((0,l.Z)(null==N?void 0:N.created_at));if(r){const{group:t}=U("mweb_auth_learning_app_upsell");t.startsWith("enabled_related_pin_click")?(0,w.uM)(B)&&setTimeout((()=>{H.setTypeVal(`learning_${t}`)}),500):(e.stopPropagation(),e.preventDefault(),O(!0))}else"branchfallback"!==(0,C.qn)("deeplinkBehavior")||(0,A.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,A.Nh)("fallbackAttempt",1),n(u,`${window.location.origin}${a=f,"string"==typeof a?a:`${a.pathname||""}${a.search?`?${a.search}`:""}`}`),V());var a;t&&r||!m||m(e)},children:d})})]})},D=E(v),R=E(f),L=E(o.Z,!0)},735079:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(702664),r=i(172071),a=i(826067);const o="http://play.google.com/store/apps/details?id=com.pinterest",s=["access_token","new_password","new_password_confirm","password","next"],l=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,d=(e,t,i)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e?l(e,i):"ios"===t||"ipad"===t?l(e.iOS,i):"android"===t?l(e.android,i):null},c=({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:n,redirectToLite:l,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:t,platform:i,fallbackUrl:n,unauthId:r})=>({deeplink_path:d(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:r,utm_source:140,utm_medium:2152,...n?{af_r:n}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:n,unauthId:c,userAgent:u});if(r.Z.increment("mweb.deeplink",1,{platform:n}),i&&r.Z.increment("mweb.deeplink.invite_code",1),r.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),l){r.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:c});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===n){const t=(({deeplinkUri:e,invite_code:t,platform:i,unauthId:n})=>{const r=JSON.stringify({deeplink_path:d(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:n});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:r})}})({deeplinkUri:e,invite_code:i,platform:n,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,a.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,a.ru)(o,t)})).catch(r.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,a.ru)(o,t)}else{if(r.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===n&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,a.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=i(619277),p=i(968228),h=i(785893);function m({children:e,invite_code:t}){const{userAgentPlatform:i,unauthId:r,userAgent:a}=(0,n.useSelector)((({session:e})=>e));return e((async(e,n)=>{c({deeplinkUri:e,fallbackUrl:n,invite_code:t,platform:i,redirectToLite:(0,p.Rp)({platform:i,userAgent:a}),unauthId:r,userAgent:a})}))}const g=e=>(0,h.jsx)(u.ty,{children:t=>(0,h.jsx)(m,{...e,invite_code:t})});g.displayName="DeepLinkNavigator";const _=g},141280:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),r=i(124580),a=i(740990),o=i(223815),s=i(643010),l=i(968121),d=i(494349),c=i(883119),u=i(785893);const p={border:(0,s.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,s.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function m({accessibilityModalLabel:e,allowClickAndDrag:t,children:i,isOpen:s}){const{setAppFocusState:p}=(0,d.I)(),m=(0,n.useRef)(null);return(0,n.useEffect)((()=>(s&&(r.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{s&&(r.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[s,p]),(0,u.jsx)(o.Z,{allowClickAndDrag:t,children:(0,u.jsx)(c.mh,{zIndex:l.b7,children:(0,u.jsx)(c.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(c.xu,{ref:m,dangerouslySetInlineStyle:{__style:s?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(a.Z.Provider,{value:m.current,children:i})})})})})}},155247:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),r=i(172071),a=i(883119),o=i(813401),s=i(112690),l=i(785893);function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const c=(e,t)=>{const i=e&&e.replace(".","_");return t?i&&i.substring(0,50):i};class u extends n.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:i,imgSrc:n,isAndroidTwa:a,isChromeOnIOS:o,isUnauth:s,logContextEvent:l,category:d,viewParameter:u,viewType:p,pinId:h,imageSignature:m}=this.props,{href:g}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(n,c(i,a)),e()):o?(this.imageDownload&&this.imageDownload.click(),e()):null==g&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),r.Z.increment(`mweb.${s?"unauth":"auth"}.download.click.${d||"no_category"}`),l({event_type:82,object_id_str:h,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:m}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:i,isAndroidTwa:r,isChromeOnIOS:o}=this.props,{href:s}=this.state,d=null!=s&&s!==this.DOWNLOAD_ERROR;return(0,l.jsxs)(n.Fragment,{children:[e(this.onEvent),o&&i?(0,l.jsx)(a.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:i})}):d&&(0,l.jsx)(a.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(t,r),href:s})})]})}}function p(e){const t=(0,o.xC)(),i=(0,s.Z)();return(0,l.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:i})}},266254:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);const a=({icon:e,iconLabel:t,message:i,url:a,onTouch:o})=>{const s=(0,r.jsxs)(n.xu,{alignItems:e?"center":void 0,color:"selected",display:e?"flex":"inlineBlock",justifyContent:e?"between":void 0,padding:2,rounding:2,children:[(0,r.jsx)(n.xu,{marginEnd:e?2:0,children:(0,r.jsx)(n.xv,{color:"inverse",overflow:"normal",weight:"bold",children:i})}),e&&t&&(0,r.jsx)(n.xu,{flex:"none",children:(0,r.jsx)(n.JO,{icon:e,color:"inverse",accessibilityLabel:t,size:32})})]});return(0,r.jsx)(n.xu,{paddingX:2,children:a?(0,r.jsx)(n.iP,{role:"link",href:a,rounding:2,tapStyle:"none",onTap:({event:e})=>null==o?void 0:o(e),children:s}):s})}},968919:(e,t,i)=>{i.d(t,{iK:()=>Re,G9:()=>ke,ZP:()=>Le,kk:()=>Te,cV:()=>je});var n=i(667294),r=i(702664),a=i(157796),o=i(391254),s=i(283698),l=i(313047),d=i(100183),c=i(185894),u=i(81636),p=i(898781),h=i(883119),m=i(785893);function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _="BizNuxHomefeedLoader",v=[140,220,265],f=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],y=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{}}),x=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{},b=[`${_}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${_}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class w extends n.PureComponent{constructor(...e){super(...e),g(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),g(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),g(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:i,startExitAnimation:n}=this.state;!i||t||n||(0,s.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:this.numberOfColumns},(e=>[]));for(let n=0;n<t.length;n+=1){const e=t[n].getBoundingClientRect();i[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return i}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,i){const n=this.numberOfColumns+1,r=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*r+16*(e+1),top:i,width:r,height:v[(e+t)%v.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,i=Array(this.numberOfColumns).fill(l.DEFAULT_HEIGHT),n=this.gridCellDimensionsByColumn,r=e.map(((e,r)=>{const a=r%this.numberOfColumns,o=Math.floor(r/this.numberOfColumns),s=f[r%f.length],l=i[a],d=this.computeGridCellLayout(a,o,l),c=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n={}})=>{const r=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:s,startAnimation:t,originDimension:d,destinationDimension:n&&n[a][o]});return i[a]+=16+d.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:x(t)},children:(0,m.jsx)(h.X6,{color:"light",size:"500",children:e.name})})},r)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_SlideUp`}},children:r})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.Z,{unsafeCSS:(0,d.Ll)(b)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:y(e)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(a.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function P(e){const t=(0,p.ZP)(),i=(0,r.useSelector)((({topics:e})=>e)),n=(0,r.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,m.jsx)(w,{...e,dismissLoader:()=>n((0,c.MI)(!1)),i18n:t,selectedTopics:Object.keys(i).filter((e=>i[e].is_followed)).map((e=>i[e]))})}var S=i(794987),T=i(200310),k=i(447635),I=i(609700),j=i(30700),C=i(172071),A=i(317254),E=i(920231),D=i(459523),R=i(481277);function L({text:e,isSelected:t,icon:i,animationType:n,position:r,hasStartPulling:a,isExecuted:o}){return(0,m.jsxs)(h.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,m.jsx)(h.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:a?4:0,dangerouslySetInlineStyle:t&&o?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===n?40:0}},children:(0,m.jsx)(h.JO,{size:100*r<24?100*r:24,icon:i,accessibilityLabel:e,color:t?"light":"dark"})}),(0,m.jsx)(h.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,m.jsx)(h.xv,{align:"center",size:"100",children:e})})]})}var O=i(966113);function F({enabled:e,onSelect:t,refreshing:i}){const r=(0,n.useRef)(null),[a,o]=(0,n.useState)(0),[s,l]=(0,n.useState)(!1),d=i?0:a/250,c=d>0,u=()=>{l(!1),o(0)};(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!i&&(r.current=e.touches[0].clientY)},n=e=>{if(r.current){const t=.5*(e.touches[0].clientY-r.current);t>0&&(o(t),e.preventDefault())}},s=e=>{r.current&&(l(!0),t({pullDistance:a,position:d,resetState:u}),r.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",s)}}}),[e,t,a,i,d]);const p=r.current;return{pullDistance:a,hasStartPulling:c,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:s}}var z=i(407043),M=i(276775);const{ACCOUNT_EDIT_TUNER:N}=O.ZPm.settings;function Z({enabled:e,onPull:t,refreshing:i}){const n=(0,p.ZP)(),r=(0,M.useHistory)(),{logContextEvent:a}=(0,z.v)(),o=e=>e>=.6,s=e=>e>.4&&e<.6,{position:l,hasStartPulling:d,PULL_MENU_DISTANCE:c,isExecuted:u}=F({enabled:e,onSelect:e=>{const{position:i,resetState:n}=e;s(i)?setTimeout((()=>{a({view_type:1,event_type:158,view_parameter:92}),t(),n()}),500):o(i)?setTimeout((()=>{a({view_type:1,event_type:10144,view_parameter:92}),r.push(N),n()}),500):n()},refreshing:i}),g=n._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),_=n._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,m.jsx)(h.xu,{children:e&&(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",direction:"column",height:l*c,justifyContent:"center",marginBottom:d?4:0,children:[(0,m.jsx)(L,{text:_,isSelected:o(l),icon:"edit",animationType:"move",position:l,hasStartPulling:d,isExecuted:u}),(0,m.jsx)(L,{text:g,isSelected:s(l),icon:"refresh",position:l,hasStartPulling:d,isExecuted:u})]})})}function U({enabled:e,onPull:t,refreshing:i}){const n=(0,p.ZP)(),{logContextEvent:r}=(0,z.v)(),{position:a,startYRefCurrent:o,pullDistance:s}=F({enabled:e,onSelect:e=>{const{pullDistance:i,resetState:n}=e;i>=120&&(r({view_type:1,event_type:158,view_parameter:92}),t()),n()},refreshing:i}),l=Math.min(a,1),d=n._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,m.jsx)(h.xu,{children:e&&(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*a,dangerouslySetInlineStyle:{__style:{opacity:l,transition:null===o?"all .3s ease-out":void 0}},children:(0,m.jsx)(h.JO,{size:40,icon:o&&s<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:d})})})}var B=i(773285);function H({enabled:e,onPull:t,refreshing:i}){const{checkExperiment:r}=(0,B.F)(),{anyEnabled:a}=r("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,m.jsx)(n.Fragment,{children:a?(0,m.jsx)(Z,{enabled:e,onPull:t,refreshing:i}):(0,m.jsx)(U,{enabled:e,onPull:t,refreshing:i})})}var V,W=i(995228),$=i(740990),G=i(5724),K=i(585112),q=i(829407),Y=i(784590),X=i(19121),J=i(544826),Q=i(693099),ee=i(273712),te=i(957161),ie=i(550407),ne=i(722647),re=i(706512),ae=i(167912);const oe=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],se=[140,220,265],le=e=>({position:"absolute",width:"100%",height:"100vh",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{}}),de=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{},ce=["NuxHomefeedLoader_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }","NuxHomefeedLoader_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"],ue=e=>e._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details');function pe({gridContainerRef:e,homefeedLoading:t,selectedTopics:i}){const g=(0,p.ZP)(),[_,v]=(0,n.useState)(!1),[f,y]=(0,n.useState)(!1),x=(0,r.useDispatch)(),b=(0,re.Z)();let w,P;(0,n.useEffect)((()=>(window.scrollTo(0,0),w=setTimeout((()=>{v(!0)}),3e3),()=>{clearTimeout(w),clearTimeout(P)})),[]),(0,n.useEffect)((()=>{t||!_||f||(0,s.Z)((()=>{y(!0),P=setTimeout((()=>{b({event_type:8900,view_type:24,view_parameter:261}),x((0,c.gH)(!1))}),2550)}))}),[t,_,f]);const S=()=>Math.max(Math.floor(window.innerWidth/200),2);return(0,m.jsx)(u.Z,{log:{view_type:24,view_parameter:261},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.Z,{unsafeCSS:(0,d.Ll)(ce)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:le(f)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(a.Z,{color:"dark",duration:5550,finalProgress:100}),(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"500",children:ue(g)})}),(()=>{const t=S(),n=Array(t).fill(l.DEFAULT_HEIGHT),r=(()=>{const t=S();if(!e.current)return null;const i=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:t},(e=>[]));for(let e=0;e<i.length;e+=1){const r=i[e].getBoundingClientRect();n[Math.round(r.left/(window.innerWidth/t))].push(r)}return n})(),a=i.map(((e,i)=>{const a=i%t,o=Math.floor(i/t),s=oe[i%oe.length],l=((e,t,i)=>{const n=S(),r=n+1,a=(window&&window.innerWidth-8*r)/n;return{left:e*a+8*(e+1),top:i,width:a,height:se[(e+t)%se.length]}})(a,o,n[a]),d=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n={}})=>{const r=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:s,startAnimation:f,originDimension:l,destinationDimension:r&&r[a][o]});return n[a]+=8+l.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,m.jsx)(h.xu,{margin:4,dangerouslySetInlineStyle:{__style:de(f)},children:(0,m.jsx)(h.X6,{color:"light",size:"400",children:e.name})})},i)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100vh",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"2.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"2.4s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_SlideUp"}},children:a})})()]})})]})})}const he=void 0!==V?V:V=i(248639);function me(){const e=(0,p.ZP)();return(0,m.jsx)(h.xu,{height:"100vh",width:"100vw",children:(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"500",children:ue(e)})})})}function ge({gridContainerRef:e,homefeedLoading:t}){var i,n,r;const{v3OrientationTopicsQuery:a}=(0,ae.useLazyLoadQuery)(he,{}),o=(null!==(i=null==a||null===(n=a.data)||void 0===n||null===(r=n.connection)||void 0===r?void 0:r.edges)&&void 0!==i?i:[]).filter(Boolean).reduce(((e,t)=>{var i;return t.node&&t.node.isFollowed?[...e,{name:null!==(i=t.node.name)&&void 0!==i?i:""}]:e}),[]);return(0,m.jsx)(pe,{gridContainerRef:e,homefeedLoading:t,selectedTopics:o})}var _e=i(984766),ve=i(50286),fe=i(112690),ye=i(444445);const xe=e=>`BREAK_IN_${e}`,be=new Map,we=e=>{const t=be.get(e);if(t)return t;const i=Object.freeze({type:"FEED_BREAK_IN",id:xe(e)});return be.set(e,i),i};var Pe=i(591042);function Se(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Te=({isDesktop:e})=>{const t=(0,_e.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},ke=-2,Ie={},je=e=>{Ie[e]&&Ie[e].handlePullToRefresh()},Ce=(e,t)=>e.slice(0,t).map((e=>e.id)),Ae=()=>{const e="desktop"===(0,ve.ZP)(),t=(0,_e.pinRepPaddingInBoint)({isDesktop:e}),i=t?-t:0;return(0,m.jsx)(h.xu,{marginTop:i,marginBottom:i,paddingY:t})},Ee=({children:e,feedRef:t,viewParameter:i,viewType:n})=>(0,X.Z)().isAuth?e:(0,m.jsx)(ie.g,{feedRef:t,viewParameter:i,viewType:n,children:e});class De extends n.PureComponent{constructor(...e){super(...e),Se(this,"state",{refreshing:!1,plpIds:(0,J.HW)().extraPlpIds,plpFeed:[]}),Se(this,"backonlineAutoFetchResource",(()=>{this.props.feedResource.fetchMore()})),Se(this,"onPinTouch",(e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}})),Se(this,"handlePullToRefresh",(()=>{this.props.feedResource.refresh(),this.setState({refreshing:!0})})),Se(this,"gridContainerRef",(0,n.createRef)()),Se(this,"renderPinterestTVPin",(e=>{const{creator_class:t,creator_class_instance:i,id:r}=e,{creator:a}=t,{title:o,starts_at:s}=i,l=i.live_status===ee.Ct.POST_LIVE,d=i.live_status===ee.Ct.PRE_LIVE;return(0,m.jsx)(h.xu,{width:"100%",padding:1,children:d?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(K.Z,{creatorClass:t,creatorClassInstance:i,pinId:r,variant:"grid"}),(0,m.jsx)(T.Z,{isEpisodeReplay:l,isEpisodeUpcoming:d,pinId:r,startsAt:s,title:o,user:a})]}):(0,m.jsx)(k.Z,{feedItem:e},t.id)},r)})),Se(this,"renderFeedPin",((e,t)=>{const{feedItemProps:i,hidePinMetadata:n=!1,lazyLoadBelowFoldIndex:r,location:a,pins:o,priorityFetchAboveFoldIndex:s,renderSquarePins:l,showSeoMetadata:d,squarePins:c,topLevelTrafficSource:u,topLevelTrafficSourceDepth:p,trafficSource:h,duploUnauthRelatedPinsAutoplayExpGroup:g}=this.props,{auxData:_,componentType:v,feedback:f,imageOnly:y,impressionData:x,objectIdStr:b,oneTapSave:w,onFeedItemClick:P,onPinLinkClick:S,shouldAllowProductPriceIndicator:T,showSeoMetadata:k,viewData:I,viewParameter:j,viewType:C}=i||{},A=(a.search||"").includes("force_seo"),E=o[e.id];let D=!1,R=!1;return r&&(D=t>r),s&&(R=t<=s),E.creator_class&&E.creator_class_instance?this.renderPinterestTVPin(E):(0,m.jsx)(_e.default,{auxData:_,componentType:v||0,duploFeedItemProps:{hidePinMetadata:n,onPinClick:P,onPinLinkClick:S,showSeoMetadata:d||A||k},duploIsSquarePin:l||c,duploLazyLoadImage:D,duploOneTapSave:w,duploPriorityFetchImage:R,duploShouldAllowProductPriceIndicator:T,feedback:f,imageOnlyOption:y?"image-only":"default",impressionData:x,objectIdStr:b,pinId:e.id,slotIndex:t,topLevelTrafficSource:u,topLevelTrafficSourceDepth:p,trackingParams:e.trackingParams,trafficSource:h,viewData:I,viewParameter:j,duploUnauthRelatedPinsAutoplayExpGroup:g,viewType:C||1})})),Se(this,"renderFeedItem",(({data:e,itemIdx:t})=>{const{breakIns:i,feedItems:n,feedItemProps:r,renderFeedItem:a,trafficSource:o}=this.props;if(a)return a(e,t);const{viewParameter:s,viewType:l}=r||{};switch(e.type){case"pin":return(0,m.jsx)(j.Z,{onTouch:this.onPinTouch,pressState:"none",children:this.renderFeedPin(e,t)});case"user":return(0,m.jsx)(I.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===o,viewParameter:s,viewType:l});case"board":return(0,m.jsx)(S.Z,{boardId:e.id,type:"grid",viewParameter:s,viewType:l});case"topic":return(0,m.jsx)(G.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:s,viewType:l});case"story":return"number"==typeof s?(0,m.jsx)(R.Z,{slotIndex:t,storyId:e.id,viewParameter:s,viewType:l||1}):null;case"FEED_BREAK_IN":return i?(({breakIns:e,id:t,items:i})=>{const n=e.find((({index:e})=>xe(e)===t));return null!=n&&n.render?n.render(i||[]):null!=n&&n.content?n.content:null})({breakIns:i,id:e.id,items:n||[]}):null;default:return null}}))}componentDidMount(){window.addEventListener("online",this.backonlineAutoFetchResource);const{logFeed:e,feedKey:t,feedItemProps:i}=this.props;if(e){const{viewParameter:e,viewType:t,auxData:n,componentType:r}=i||{},a={event_type:13};e&&(a.view_parameter=e),t&&(a.view_type=t),n&&(a.aux_data=n),r&&(a.component=r),this.props.logContextEvent(a)}((e,t)=>{Ie[e]=t})(t,this)}setPlpFeedData(e){const{feedItems:t,pins:i}=this.props,{plpIds:n}=this.state;if(e)return(0,te.L_)(Q.zR),void this.setState({plpIds:[],plpFeed:[]});if(n.length>0&&t&&t.length>0){const e=n[0],r=i[e],a=t.slice(0,5).map((e=>e.id)).includes(e);r&&!a&&this.setState({plpFeed:[{id:n[0],type:"pin",trackingParams:t[0].trackingParams}].concat(t)})}}logHomefeedRefreshStats(e,t,i,n){const{locale:r}=this.props,{refreshing:a}=this.state;if(a&&t.isFetching&&!e.isFetching&&i&&i.length>0&&n&&n.length>0){const e=Ce(n,5),t=Ce(i,5),a={appType:"mweb",language:(r?r.slice(0,2):void 0)||"unknown",locale:r||"unknown"};C.Z.increment("home_product.homefeed.refresh",1,a),o=e,s=t,JSON.stringify(o)===JSON.stringify(s)&&C.Z.increment("home_product.homefeed.refresh.no_change",1,a)}var o,s}componentDidUpdate(e){const{feedItems:t}=e,{feedKey:i,feedItems:n}=this.props,{plpFeed:r,plpIds:a,refreshing:o}=this.state,s="homefeed"===i;o&&e.feedResource.isFetching&&!this.props.feedResource.isFetching&&this.setState({refreshing:!1}),s&&this.logHomefeedRefreshStats(this.props.feedResource,e.feedResource,n,t);const l=a.length>0;if(s&&l){const e=!!t&&t.length>0,i=!!n&&n.length>0,a=!e&&i,o=!!n&&n.length>0&&!!t&&t.length>0&&t[0]!==n[0],s=!!n&&n.length>0&&!!t&&t.length>0&&t[0]===n[0]&&t.length!==n.length,l=i&&!o&&0===r.length;(a||o||s||l)&&this.setPlpFeedData(o)}}componentWillUnmount(){var e;window.removeEventListener("online",this.backonlineAutoFetchResource),e=this.props.feedKey,delete Ie[e]}renderFeedItems(e){const{hidePinMetadata:t,fullWidthBreakIn:i,deviceType:r,emptyState:a,feedKey:o,feedResource:s,gridConfig:l,pullToRefresh:d,serverRender:c,showBizNuxHomefeedLoader:u,showNuxHomefeedLoader:p,trafficSource:g,feedItemProps:_}=this.props,{viewParameter:v,viewType:f}=_||{},{key:y}=l||{},x=o+(y?`|${y}`:""),b="user_search"===g,w=b?window.innerWidth-16:200,S={columnWidth:"desktop"===r?ye.yF:w,Item:this.renderFeedItem,gutterWidth:"desktop"===r?4*ye.jC:void 0,loadItems:s.fetchMore,minCols:b?1:2,...l},T=!p&&!u&&s.isFetching&&0===e.length&&!this.state.refreshing,k=i?e.slice(0,i.index):e,I=i?e.slice(i.index):[];let j,C,R;(o.includes("homefeed")||o.includes("search"))&&(j=!0,C=!0,R=Object.values(this.props.pins).length?Object.values(this.props.pins):void 0);const L="desktop"===r&&"flashlight"===g,O=L?0:ye.qG;return(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(H,{enabled:!!d,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:O,marginEnd:O,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(A.Z,{isAtEndOfFeed:s.isAtEnd,pinData:R,includeVideos:C,includeBackgroundImages:j,itemCount:e.length,children:e.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:Te({isDesktop:"desktop"===r}),children:(0,m.jsx)($.Z.Consumer,{children:e=>(0,m.jsx)(n.Fragment,{children:(0,m.jsxs)(Ee,{feedRef:this.gridContainerRef,viewParameter:v,viewType:f||1,children:[(0,m.jsx)(E.Z,{cacheKey:x,id:c?o:void 0,items:k,scrollContainerRef:e,serverRender:c,resetPositions:t,...S}),null==i?void 0:i.content,I.length>0&&(0,m.jsx)(E.Z,{cacheKey:`${x}_afterBreak`,items:I,scrollContainerRef:e,...S})]})})})}):s.isFetching?(0,m.jsx)(Ae,{}):null!=a?a:null}),T&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(D.Z,{partialViewportWidth:L})}),p&&(0,m.jsx)(W.Z,{fallback:(0,m.jsx)(me,{}),children:(0,m.jsx)(ge,{homefeedLoading:s.isFetching,gridContainerRef:this.gridContainerRef})}),u&&(0,m.jsx)(P,{homefeedLoading:s.isFetching,gridContainerRef:this.gridContainerRef})]})]})}render(){const{feedItems:e,feedKey:t,isAuthenticated:i}=this.props,{plpFeed:n}=this.state,r=e||[];return"homefeed"!==t?this.renderFeedItems(r):i&&n.length>0?this.renderFeedItems(n):this.renderFeedItems(r)}}function Re({feedOffset:e,itemShouldBeExcluded:t,resource:{error:i,...a},...o}){const{breakIns:s,feedKey:l}=o,d=(0,M.useLocation)(),u=(0,ve.ZP)(),p=(0,r.useDispatch)(),h=(0,fe.Z)(),{isAuthenticated:g,isBizNuxHomefeedLoadShown:_,isNuxHomefeedLoadShown:v,isSeoBot:f,locale:y}=(0,r.useSelector)((({session:e})=>e)),x=(0,r.useSelector)((({feeds:e})=>e[l])),b=(0,r.useSelector)((({pins:e})=>e)),w=(0,r.useSelector)((({session:e})=>e.firstHomeFeedRequestAfterNux));(0,n.useEffect)((()=>{"homefeed"===l&&x&&x.length>0&&w&&p((0,c.H5)(!1))}),[p,x,l,w]);const P=Object.values(null!=b?b:{}),S=P.some((e=>!!e.creator_class&&!!e.creator_class_instance)),{getSubscription:T,setSubscription:k}=(0,Pe.xs)({});(0,q.Z)((()=>{S&&P.filter((e=>!!e.creator_class&&!!e.creator_class_instance&&e.creator_class_instance.live_status===ee.Ct.PRE_LIVE)).forEach((e=>{var t,i;return k(e.id,null!==(t=null===(i=e.creator_class)||void 0===i?void 0:i.is_viewing_user_subscribed)&&void 0!==t&&t)}))}));const I=(0,n.useMemo)((()=>({getSubscription:T,referrer:41,setSubscription:k})),[T,k]);let j=x;j&&(s&&(j=(({breakIns:e,items:t})=>e.map((e=>e.index)).sort().reduce(((e,t)=>e.length<t?e:[...e.slice(0,t),we(t),...e.slice(t)]),t))({items:j,breakIns:s})),t&&(j=j.filter((e=>!t(e)))),e&&(j=j.slice(e)));const C=(0,ne.T)();if(C){const{setFirstRelatedPinId:e}=C;j&&j.length>0&&e(j[0].id)}return S?(0,m.jsx)(Pe.J1,{value:I,children:(0,m.jsx)(De,{...o,deviceType:u,feedItems:j,feedResource:a,isAuthenticated:g,locale:y,location:d,logContextEvent:h,pins:b,showBizNuxHomefeedLoader:!!_,showNuxHomefeedLoader:!!v,showSeoMetadata:f||!g})}):(0,m.jsx)(De,{...o,deviceType:u,feedItems:j,feedResource:a,isAuthenticated:g,locale:y,location:d,logContextEvent:h,pins:b,showBizNuxHomefeedLoader:!!_,showNuxHomefeedLoader:!!v,showSeoMetadata:f||!g})}function Le({resourceConfig:e,...t}){const i=(0,Y.Z)(e);return(0,m.jsx)(Re,{...t,resource:i})}},118725:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(702664),r=i(70598),a=i(281180),o=i(5226),s=i(785893);function l({user:e,invertColors:t,isSecondaryButton:i,onTap:l,size:d,viewParameter:c,viewType:u}){const p=(0,n.useDispatch)(),{id:h}=null!=e?e:{},m=(0,a.kW)(),g=m[h]?m[h].explicitly_followed_by_me:null==e?void 0:e.explicitly_followed_by_me;return(0,s.jsx)(r.Z,{id:h,onFollow:()=>{p((0,o.ZN)(h)),l&&l()},onUnfollow:()=>{p((0,o.fv)(h)),l&&l()},size:d,invertColors:t,isSecondaryButton:i,isFollowed:g,isUserFollowButton:!0,followEventType:45,unfollowEventType:46,viewParameter:c,viewType:u})}},825077:(e,t,i)=>{i.d(t,{fv:()=>v,GR:()=>h,Hs:()=>y,Mv:()=>g,uc:()=>_,dL:()=>m,qS:()=>f,Y4:()=>w,HE:()=>b,Cy:()=>x});var n=i(667294),r=i(973935),a=i(124580),o=i(407043),s=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;a.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&a.Z.stop(this.node)}render(){return n.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,o.v)();return(0,s.jsx)(d,{...e,logImpression:t})}var u=i(773285);function p({auxData:e,component:t,eventData:i,eventType:r,impressionType:s,isPaused:l,objectIdStr:d,onTracked:c,viewData:u,viewType:p,viewParameter:h}){const m=(0,n.useRef)(null),{logImpression:g}=(0,o.v)(),_=(0,n.useCallback)((()=>{const n=n=>{g({viewData:u||{},viewType:p,viewParameter:h,eventType:r,impressionType:s,auxData:e,component:t,objectIdStr:d,eventData:{endTime:n.endTime,time:n.startTime,...i}}),c&&c(i)};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=i;a.Z.start(m.current).onExitViewport(n).setDebugId(e||t||"unknown")}}catch(o){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,n.useEffect)((()=>{l||_();const e=m.current;return()=>{e instanceof HTMLElement&&a.Z.stop(e)}}),[l,_]),m}const h=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const t=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},g=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},_=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},v=e=>(0,s.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const{checkExperiment:t}=(0,u.F)(),i=t("web_mweb_story_impression_fix").anyEnabled,n=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:i?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},y=e=>{const{checkExperiment:t}=(0,u.F)(),i=t("web_mweb_story_impression_fix").anyEnabled;return(0,s.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:i?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},x=e=>{const t=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{const t=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=e=>{const t=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},749771:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(883119),r=i(785893);function a({skinToneOvalHeight:e,skinToneOvalWidth:t,swatchColors:i}){return(0,r.jsx)(n.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:t,wrap:!0,children:i.map(((i,a)=>(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i}},height:e/2,width:t/2},`${i}-${a}`)))})}var o=i(898781),s=i(112690);const l={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function d({onClickApplyFilter:e,query:t,selectedSkinToneTerm:i,showHeaderText:d=!0,skinToneFilters:c=l}){const u=(0,o.ZP)(),p=(0,s.Z)(),h=c.options,m=`/search/pins/?rs=rs&q=${t}`,g=i?u._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):u._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text'),{filtersContainerHeight:_,filtersContainerWidth:v,skinToneOvalHeight:f,skinToneOvalWidth:y}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",height:d?88:52,children:[d&&(0,r.jsx)(n.xu,{marginBottom:2,children:(0,r.jsx)(n.xv,{color:"default",overflow:"normal",weight:"bold",children:g})}),(0,r.jsx)(n.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:h.map((({swatch_hex_colors:o,term:s},l)=>(0,r.jsx)(n.iP,{role:"link",onTap:()=>{!function(e,t){const{index:i,query:n,onClickApplyFilter:r}=e;t({aux_data:{entered_query:n,filter_type:"skin_tone",filter_value:i},element:1341,event_type:102,view_parameter:43,view_type:2}),null==r||r()}({index:l,query:t,onClickApplyFilter:e},p)},tapStyle:"none",href:`${m}${i!==s?`&filters=${encodeURIComponent(s)}`:""}`,children:(0,r.jsx)(n.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:i===s?"selected":"default",display:"flex",height:_,justifyContent:"around",rounding:"pill",width:v,children:(0,r.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:_-4,justifyContent:"around",rounding:"pill",width:v-4,children:(0,r.jsx)(a,{skinToneOvalHeight:f,skinToneOvalWidth:y,swatchColors:o})})})},s)))})]})}},30700:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);function a({children:e,onMouseEnter:t,onMouseLeave:i,onTouch:a,rounding:o,fullWidth:s=!1,pressState:l="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,r.jsx)(n.iP,{fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:a&&(({event:e})=>a(e)),rounding:o,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},707853:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(907620);const r=new(i(883119).H3)([n.N])},984766:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ee,pinRepPaddingInBoint:()=>we});var n=i(667294),r=i(702664),a=i(319915),o=i(680046),s=i(558150),l=i(248975),d=i(609943),c=i(958007),u=i(954571),p=i(30700),h=i(81226),m=i(116303),g=i(561195),_=i(883119),v=i(785893);function f({maxRating:e,rating:t,text:i}){return(0,v.jsxs)(_.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(g.Z,{max_rating:e||"",rating:t||"",width:10}),i&&(0,v.jsx)(n.Fragment,{children:(0,v.jsx)(_.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(_.xv,{size:"100",lineClamp:1,children:i})})})]})}var y=i(898781),x=i(643010),b=i(755506);const w=({pinId:e})=>{var t;const i=(0,y.ZP)(),a=(0,r.useSelector)((({pins:e})=>e))[e],o=(0,x.Yc)();if(!a)return null;const{pinProduct:s}=(0,b.Fi)({i18n:i,pin:a});if(!s||!s.price)return null;const l=s.standard_price||s.price,d=s.min_price||"",c=s.max_price||"",u=s.in_stock||!1,p=null===(t=a.rich_summary)||void 0===t?void 0:t.site_name,{textColor:h,inStockColor:m}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:o,inStock:u});return(0,v.jsxs)(n.Fragment,{children:[p&&(0,v.jsx)(_.xv,{color:h,size:"100",children:p}),(0,v.jsxs)(_.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[d&&c?(0,v.jsxs)(_.xv,{size:"100",color:m,weight:"bold",children:[d," - ",c]}):(0,v.jsx)(_.xv,{size:"100",color:m,weight:"bold",children:l}),!u&&(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(_.xu,{paddingX:1,children:(0,v.jsx)(_.xv,{size:"100",color:m,weight:"bold",children:""})}),(0,v.jsx)(_.xv,{size:"100",color:m,weight:"bold",children:i._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var P=i(947599),S=i(23084),T=i(941646),k=i(50286),I=i(803035),j=i(52022),C=i(997440),A=i(923297),E=i(539497),D=i(904411),R=i(276775),L=i(53987);const O=(0,n.lazy)((()=>i.e(42368).then(i.bind(i,342368)))),F=({title:e})=>{const t=(0,k.ZP)(),i=(0,j.Z)();return(0,v.jsx)(T.Z,{id:"related-pins-title",children:(0,v.jsx)(_.iP,{onTap:()=>{i({action:"click",item:"related-pins-title"})},children:(0,v.jsx)(_.xv,{size:"desktop"===t?"300":"100",weight:"bold",children:e})})})},z=({allowPriceIndicator:e,contextMenu:t,credits:i,hidePinMetadata:o,hasAffiliatedProducts:s,isPromotedPin:l,isSponsoredPin:d,isSquarePin:c,marginTop:u,marginStart:h,marginEnd:g,onCreditsClick:x,pinDescription:b,pinId:z,pinnedToBoardId:M,pinReactionCounts:N,recipeCookTime:Z,recipeMaxRating:U,recipeRating:B,recipeReviewCount:H,shouldShowReactions:V,style:W="default",title:$,type:G,duploConversationPin:K})=>{var q,Y,X,J,Q,ee,te,ie,ne;const re=(0,y.ZP)(),ae=(0,R.useLocation)(),oe=(0,j.Z)(),se=(0,r.useSelector)((({session:e})=>e.isAuthenticated)),le=(0,k.ZP)(),de=$||b||"oneTap"===G,ce=(0,r.useSelector)((({pins:e})=>e[z])),ue=(0,D.gC)()(M||ce&&String(null===(q=ce.board)||void 0===q?void 0:q.id)),pe=ce.pinner,he=l&&(null===(Y=ce.promoter)||void 0===Y?void 0:Y.id)===(null===(X=ce.native_creator)||void 0===X?void 0:X.id),me=ce.sponsorship?(0,v.jsx)(_.xv,{inline:!0,size:"100",weight:"bold",children:null==i?void 0:i.subtitle}):void 0,ge="overlay"===W,_e=V&&N&&Object.keys(N).length>0&&(0,v.jsx)(_.xu,{height:18,display:ge?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(P.Z,{children:(0,v.jsx)(O,{pinReactionCounts:N})})})}),ve=o?0:u||1;return(0,v.jsx)(n.Fragment,{children:(0,v.jsxs)(_.xu,{display:"flex",height:c?e?104:72:void 0,marginEnd:g||1,marginStart:h||1,position:"relative",children:[(0,v.jsxs)(_.xu,{flex:"grow",children:[(0,v.jsx)(_.xu,{display:"flex",marginTop:ve,children:(0,v.jsx)(_.xu,{flex:"grow",children:(0,v.jsxs)(n.Fragment,{children:[(0,v.jsxs)(n.Fragment,{children:[(d||s)&&!he&&(0,v.jsx)(_.xu,{marginBottom:1,children:(0,v.jsx)(_.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(S.Z,{hasAffiliatedProducts:s,isPromoted:l,sponsorName:me,sponsorshipStatus:null===(J=ce.sponsorship)||void 0===J?void 0:J.status})})}),$&&(0,v.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:se&&!o&&(0,v.jsx)(F,{title:$})}),"desktop"===le&&!se&&b&&!(0,L.$Y)(ae)&&!(0,L.E0)(ae)&&(0,v.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(_.iP,{onTap:()=>{oe({action:"click",item:"related-pins-description"})},children:(0,v.jsx)(_.xv,{size:"100",inline:!0,children:b})})})]}),e&&(0,v.jsx)(w,{credits:i,pinId:z}),"recipe"===G&&!!H&&(0,v.jsx)(n.Fragment,{children:(0,v.jsxs)(_.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!H&&(0,v.jsx)(f,{maxRating:U||"",rating:B||"",text:""}),!!Z&&(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(_.xu,{paddingX:1,children:(0,v.jsx)(_.xv,{size:"100",children:""})}),(0,v.jsx)(_.xv,{size:"100",children:(0,C.IS)({...(0,A.u)(Z),i18n:re})})]})]})})]})})}),!ge&&_e,i&&(0,v.jsx)(p.Z,{onTouch:e=>x&&x(e),pressState:"none",children:(0,v.jsx)(_.xu,{children:(!o||d||he)&&(0,v.jsxs)(_.xu,{display:"flex",marginTop:ge?-9:u||(de&&!o?1:0),marginBottom:o?2:0,position:"relative",direction:ge?"column":"row",children:[(0,v.jsx)(_.xu,{flex:"none",display:ge?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(_.iP,{onTap:()=>{oe({action:"click",item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{accessibilityLabel:i.title||"string"==typeof i.subtitle&&i.subtitle||re._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:i.title||"",outline:ge,size:ge?"lg":"sm",src:ge&&i.largeAvatar||i.mediumAvatar||i.avatar||void 0})})}),(0,v.jsx)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ge?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(_.iP,{onTap:()=>{oe({action:"click",item:"related-pins-name"})},children:[i.title&&(0,v.jsx)(_.xv,{lineClamp:1,size:"100",weight:d&&!he||s?"normal":"bold",children:i.title===(null==pe?void 0:pe.full_name)&&(null!=pe&&pe.is_verified_merchant||null!=pe&&null!==(Q=pe.verified_identity)&&void 0!==Q&&Q.verified)?(0,v.jsx)(I.Z,{badgeSize:"sm",badgeSpacing:2,fullName:i.title,verifiedType:pe.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):i.title}),i.subtitle?(!d&&!o||he)&&(0,v.jsx)(_.xv,{lineClamp:d||s?void 0:1,size:"desktop"===le?"200":"100",weight:"desktop"===le?"bold":"normal",children:i.subtitle}):!se&&ue&&"protected"!==ue.privacy?(0,v.jsx)(T.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(_.rU,{underline:"hover",href:null!==(ee=ue.url)&&void 0!==ee?ee:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_profile"),oe({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(_.xv,{size:"200",children:ue.name})})}):null]})})]})})}),!i&&"desktop"===le&&!!pe&&((0,L.L6)(ae)||(0,L.cD)(ae)||(0,L.$Y)(ae))&&(0,v.jsxs)(_.xu,{display:"flex",marginTop:de?2:0,children:[(0,v.jsx)(_.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(_.iP,{onTap:()=>{oe({action:"click",item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{name:pe.username||"",size:"sm",src:null!==(te=pe.image_small_url)&&void 0!==te?te:void 0})})}),(0,v.jsxs)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(_.rU,{underline:"hover",href:`/${pe.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_board"),oe({action:"click",item:"related-pins-name"})},children:(0,v.jsx)(_.xv,{size:"200",weight:"bold",children:pe.full_name||pe.username})}),ue&&"protected"!==ue.privacy?(0,v.jsx)(T.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(_.rU,{underline:"hover",href:null!==(ie=ue.url)&&void 0!==ie?ie:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,E.NC)("click_board_pin_attribution_profile"),oe({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(_.xv,{size:"200",children:null!==(ne=ue.name)&&void 0!==ne?ne:""})})}):null]})]}),ge&&_e]}),(0,v.jsx)(_.xu,{position:ge?"absolute":void 0,right:!0,children:!K&&t})]})})};var M,N=i(857079),Z=i(349700),U=i(773285),B=i(296011),H=i(167912);const V=void 0!==M?M:M=i(7745),W=(e,t)=>{const{checkExperiment:i}=(0,U.F)();return i("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,t)=>{const i=(0,H.useRelayEnvironment)();return(0,v.jsx)(B.t,{invite_code:e,relayEnvironment:i,inviteQuery:V,children:e=>{const i=null!=e&&e.data?e.data.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;const r=i&&!i.is_default_image?i.image_medium_url:"",a=(0,Z.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,v.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(_.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:n,src:r})}),(0,v.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}})})(e,t):((e,t)=>(0,v.jsx)(B.Z,{invite_code:e,children:e=>{const i=e?e.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;const r=i&&!i.is_default_image?i.image_medium_url:"",a=(0,Z.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,v.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(_.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:n,src:r})}),(0,v.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}}))(e,t)},$=({inviteCode:e})=>{const t=(0,y.ZP)();return(0,v.jsx)(_.xu,{minHeight:82,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(P.Z,{fallback:(0,v.jsx)(N.Z,{accessibilityLabel:t._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:W(e,t)})})})};var G=i(545798),K=i(55275);const q={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},Y=(e,t,i)=>(0,v.jsx)(_.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(_.rU,{inline:!0,href:t,tapStyle:"none",underline:"hover",children:i})},e);function X({color:e,getFeedbackText:t,onUnfollow:i,showing:r,unfollowed:a}){const o=(0,y.ZP)(),[s,l]=(0,n.useState)(r?"fadeIn":"initial"),d=(0,n.useRef)(null);(0,n.useEffect)((()=>("initial"===s&&r&&(d.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[s,l,r]);const{subTitle:c,title:u,unfollow:p}=t(Y);let h=u,m=c;p&&a&&(h=p.title,m=p.subTitle);const g=()=>p?(0,K.t)(p.action,p.actionOptions,i):void 0;return r&&(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...q[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(_.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(_.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(_.xu,{children:[(0,v.jsx)(_.X6,{size:"400",color:"light",children:h}),m&&(0,v.jsxs)(_.xu,{marginTop:1,children:[(0,v.jsx)(_.xv,{color:"light",size:"200",inline:!0,children:m}),(0,v.jsx)(_.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(_.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:o._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!a&&p&&(0,v.jsx)(_.xu,{paddingY:1,children:(0,v.jsx)(_.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:g})})]}),!a&&p&&(0,v.jsx)(_.xu,{paddingY:1,children:(0,v.jsx)(_.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:g})})]})})}var J=i(184298),Q=i(992750);function ee({pin:e}){var t,i,n,r;return(0,v.jsxs)(_.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(_.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(_.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,Q.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(t=e.rich_summary)||void 0===t?void 0:t.display_name,richMetadataTitle:null===(i=e.rich_metadata)||void 0===i?void 0:i.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(n=e.story_pin_data)||void 0===n||null===(r=n.metadata)||void 0===r?void 0:r.pin_title,placeSummaryName:e.place_summary})||e.description})}),(0,v.jsx)(_.xu,{children:(0,v.jsx)(J.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})}var te=i(807592),ie=i(856919);const ne=({attribute:e,deviceType:t,location:i})=>{const n=(0,j.S)(i);(0,E.My)("unuath.product_attribution.click",{item:e,page:n,device:t})};function re({pin:e}){var t,i,n,r,a;const o=(0,y.ZP)(),s=(0,k.ZP)(),l=(0,R.useLocation)();if(!e)return null;const{pinProduct:d}=(0,b.Fi)({i18n:o,pin:e}),c=d&&(d.price||d.standard_price||(0,te.Z)(d)),u=null===(t=e.rich_summary)||void 0===t?void 0:t.site_name,p=(0,Q.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(i=e.rich_summary)||void 0===i?void 0:i.display_name,richMetadataTitle:null===(n=e.rich_metadata)||void 0===n?void 0:n.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(r=e.story_pin_data)||void 0===r||null===(a=r.metadata)||void 0===a?void 0:a.pin_title,placeSummaryName:e.place_summary})||e.description,h=`/pin/${e.id}/`;return(0,v.jsx)(_.xu,{paddingX:2,marginBottom:-1,marginTop:1,display:"flex",direction:"column",children:(0,v.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsx)(_.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,v.jsxs)(ie.MZ,{to:h,accessibilityLabel:p,deeplinkUri:h,children:[c&&(0,v.jsx)(_.iP,{onTap:()=>ne({deviceType:s,attribute:"price",location:l}),children:(0,v.jsx)(_.xv,{size:"100",weight:"bold",children:c})}),(0,v.jsx)(_.xu,{marginTop:1,children:(0,v.jsx)(_.iP,{onTap:()=>ne({deviceType:s,attribute:"title",location:l}),children:(0,v.jsx)(_.xv,{size:"100",weight:"bold",lineClamp:c?3:2,children:p})})}),u&&c&&(0,v.jsx)(_.xu,{marginTop:1,children:(0,v.jsx)(_.iP,{onTap:()=>ne({deviceType:s,attribute:"merchant",location:l}),children:(0,v.jsx)(_.xv,{size:"100",lineClamp:1,children:u})})})]})}),(0,v.jsx)(_.xu,{children:(0,v.jsx)(J.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})})}var ae=i(285230),oe=i(364245),se=i(81759),le=i(358589),de=i(477802),ce=i(236458),ue=i(884979),pe=i(825077),he=i(185894),me=i(663023),ge=i(811403),_e=i(378518),ve=i(813401),fe=i(112690),ye=i(550407),xe=i(780679);function be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const we=({isDesktop:e})=>e?0:1,Pe=e=>Boolean(e.is_eligible_for_web_closeup),Se=e=>Boolean(e.promoter&&!e.is_downstream_promotion),Te={width:1,height:1,url:""},ke=e=>{const{attribution:t,embed:i,is_eligible_for_web_closeup:n,rich_summary:r,videos:a,story_pin_data_id:o}=e,s=i||t&&t.embed;return n?"oneTap":a||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":r&&"product"===r.type_name?"product":r&&"recipe"===r.type_name?"recipe":o?"storyPin":"image"},Ie=e=>{if(("video"===ke(e)||Se)&&e.videos&&e.videos.video_list){const{duration:t=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,h.Z)(t)}return""},je=e=>{var t;if("product"!==ke(e))return null;const[i]=(null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[];if(!i)return null;const n=i.offer_summary;return n&&(n.price||n.max_price)},Ce=(0,n.lazy)((()=>i.e(13777).then(i.bind(i,813777))));class Ae extends n.Component{constructor(...e){super(...e),be(this,"state",{startImpressionTimer:!1,openContextMenuByLongPress:!1,isShowingCustomContextMenu:!1}),be(this,"getPinImage",(()=>{const{pin:e,duploIsSquarePin:t}=this.props;if(!e||!e.images)return Te;var i;if(t)return{height:136,url:null===(i=e.images["236x"])||void 0===i?void 0:i.url,width:136};const n=["236x","170x","136x136","736x","474x","orig"];for(const r of n)if(e.images[r]&&e.images[r].url)return e.images[r];return Te})),be(this,"getImpressionData",(()=>{var e,t;const{pin:i}=this.props,n=null===(e=i.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,r=n?{isNativeVideoAndWatchable:!!(n&&n.url&&n.height&&n.width)||void 0,videoIdStr:n&&i.videos?i.videos.id:void 0}:{},a=this.getPinImage();return{richTypes:i.shopping_flags||[],imageURL:a.url||"",...r,...this.props.impressionData}})),be(this,"getAuxData",(()=>{const{auxData:e={},pin:t,pwaType:i}=this.props;return{commerce_data:(0,s.Z)({isEligibleForPdp:t.is_eligible_for_pdp,isOosProduct:t.is_oos_product,isStaleProduct:t.is_stale_product,pinShoppingFlags:t.shopping_flags}),pwa_type:i,...e}})),be(this,"getFeedbackType",(()=>{const{board:e,feedback:t,viewParameter:i,pin:n}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:t,viewParameter:i,pin:n,pinner:n.pinner})})),be(this,"getRecommendationDescription",(e=>{const{board:t,pin:i}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:i.ad_match_reason,board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:i.pinner,promoter:i.promoter,recommendationReason:i.recommendation_reason,sourceInterest:i.source_interest})})),be(this,"getPinHiddenFeedbackText",(e=>{const{board:t,pin:i}=this.props,n=i.promoter,r=this.feedbackHelpers.getUnfollowAction({board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:i.pinner,sourceInterest:i.source_interest});return Se(i)&&null!=n&&n.full_name?{title:"",subTitle:(0,Z.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:n.full_name})}:r?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:r}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),be(this,"feedbackHelpers",(0,o.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:Z.nk})),be(this,"logOneTap",(()=>{const{logContextEvent:e,pin:t,trackingParams:i,viewType:n,viewParameter:r,auxData:a}=this.props,o=(0,d.Z)(i,t.tracking_params),l={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:t.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:t.id,aux_data:{commerce_data:(0,s.Z)({isEligibleForPdp:t.is_eligible_for_pdp,isOosProduct:t.is_oos_product,isStaleProduct:t.is_stale_product,pinShoppingFlags:t.shopping_flags}),grid_index:this.props.slotIndex,image_signature:t.image_signature,...this.props.auxData},clientTrackingParams:o};e({event_type:8948,view_type:n,view_parameter:r,object_id_str:t.id,clientTrackingParams:o,aux_data:{image_signature:t.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...a}}),(0,me.jC)(l),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:o,aux_data:{closeup_navigation_type:"web_closeup",image_signature:t.image_signature},object_id_str:t.id})})),be(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),be(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),be(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),be(this,"handleClick",(e=>{const{auxData:t,componentType:i,deviceType:n,logContextEvent:r,pin:a,slotIndex:o,trackingParams:l,viewParameter:c,viewType:u,duploFeedItemProps:p,isAuth:h,trackInteraction:m,unauthDesktopSignupModalPageContext:g}=this.props,{onPinClick:_}=null!=p?p:{},v=e=>(0,E.My)(`unauth_pin_rep.${e}.${String(c)}`);if(v("click"),r({view_type:u,view_parameter:c,element:a.story_pin_data_id?12372:35,event_type:101,component:i,object_id_str:a.id,clientTrackingParams:(0,d.Z)(l,a.tracking_params),aux_data:{commerce_data:(0,s.Z)({isEligibleForPdp:a.is_eligible_for_pdp,isOosProduct:a.is_oos_product,isStaleProduct:a.is_stale_product,pinShoppingFlags:a.shopping_flags}),grid_index:o,image_signature:a.image_signature,...t}}),Pe(a)||r({event_type:8948,view_type:u,view_parameter:c,object_id_str:a.id,clientTrackingParams:(0,d.Z)(l,a.tracking_params),aux_data:{image_signature:a.image_signature,commerce_data:(0,s.Z)({isEligibleForPdp:a.is_eligible_for_pdp,isOosProduct:a.is_oos_product,isStaleProduct:a.is_stale_product,pinShoppingFlags:a.shopping_flags}),closeup_navigation_type:"click",grid_index:o,cosmic_ray_count:"3",...t}}),!h)switch(m({action:"click",item:"pin"}),u){case 3:(0,E.NC)("click_pin_related_image");break;case 5:(0,E.NC)("click_board_pin_image");break;case 210:(0,E.NC)("click_topic_pin_image")}if(Pe(a)&&this.logOneTap(),_&&_(),"desktop"===n){if(e.metaKey){v("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${a.id}/`,"_blank").focus()}else if(!h&&g){const{pinImageClickHandler:t}=g;t({event:e,pin:a,linkTarget:"duploClientNav"})}}})),be(this,"handleCreditsClick",(e=>{var t;const{history:i,logContextEvent:n,pin:r}=this.props,{id:a,sponsorship:o,story_pin_data_id:s}=r,{creator:l,sponsor:d}=o||{},{id:c}=l||{},{id:u}=d||{},p=!!s;e.stopPropagation(),e.preventDefault();const h=null===(t=this.getCredits())||void 0===t?void 0:t.link;h&&i.push(h),n({view_type:3,element:27,event_type:102,object_id_str:a,component:p?230:void 0,aux_data:{pin_id:a,...c&&u?{creator_id:c,sponsor_id:u}:{}}})})),be(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),be(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:t,board:i,setSharingOnBoardPage:n}=this.props;i&&t&&n&&i.isSocialSeasonalBoard&&n(!0,"pin",t.id)})),be(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:t,viewParameter:i}=this.props,n=3375===i;return e&&43===i&&!(0,u.Z)(t.created_at)||n})),be(this,"convertToGif",(e=>{const t=Math.max(e.embed&&e.embed.width||0,236),i=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:t,height:i}}))}componentDidMount(){const{isAuth:e,slotIndex:t,pin:i,viewParameter:n,location:r}=this.props;if(!e&&0===t&&3070===n){const e=r.pathname;(0,se.H$)(e,i)}}getIsClaimedContent(){var e,t;const{pin:i,viewParameter:n}=this.props;return 3375===n&&!(null===(e=i.link_domain)||void 0===e||null===(t=e.official_user)||void 0===t||!t.is_primary_website_verified)}getCredits(){const{board:e,pin:t,viewParameter:i}=this.props,n=t.story_pin_data,r=t.pinner,a=t.promoter,o=null==n?void 0:n.has_product_pins,s=0===i,l=3173===i,d=3375===i,c=this.getIsClaimedContent(),u=t.native_creator,p=!!t.native_creator,h=Se(t),{sponsorship:m}=t,{creator:g,sponsor:_}=m||{},v=h&&!!m&&(null==a?void 0:a.id)!==(null==u?void 0:u.id),f=!!m&&g;if(!(h||f||s||l||p||c))return;switch(v?"PROMOTED_SPONSORED":h?"PROMOTED":f?"SPONSORED":p?"AFFILIATED_PRODUCTS":o?"NATIVE_CONTENT":c?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==u?void 0:u.full_name,subtitle:null==a?void 0:a.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==a?void 0:a.full_name,avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:null!=a&&a.username?`/${a.username}/`:""};case"SPONSORED":if(!m)throw new Error("sponsorship doesn't exist when expected");return{title:null==u?void 0:u.full_name,subtitle:null==_?void 0:_.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==u?void 0:u.full_name,subtitle:"",avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"NATIVE_CONTENT":let i=(null==e?void 0:e.url)||`/pin/${t.id}/`;return d&&(i=null!=u&&u.username?`/${u.username}/`:""),{title:"",subtitle:null==u?void 0:u.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:i};case"CLAIMED_CONTENT":const{link_domain:n}=t,{official_user:o}=n||{};return o?{subtitle:o.full_name,avatar:this.getPinnerImage(o.image_small_url),mediumAvatar:this.getPinnerImage(o.image_medium_url),largeAvatar:this.getPinnerImage(o.image_large_url),link:o.username?`/${o.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),largeAvatar:this.getPinnerImage(null==r?void 0:r.image_large_url),link:(null==e?void 0:e.url)||`/pin/${t.id}/`};default:return{title:(null==r?void 0:r.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),largeAvatar:this.getPinnerImage(null==r?void 0:r.image_large_url),link:(null==e?void 0:e.url)||`/pin/${t.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:i,pinId:n}=this.props;return 92===t?null===(e=i&&i[n])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:t,description:i}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.display_name,description:i}}renderPinCard(){var e,t,i,n,r,o,s,u,h,m,g,f,y,x,b,w,S,k,I,j,C,A,E,D,R;const{board:L,checkExperiment:O,country:F,disableAppUpsell:M,duploDisablePinCardPadding:N,disableRounding:Z,disableReaction:U,deviceType:B,experience:H,feedback:V,imageOnlyOption:W,i18n:K,isAuth:q,isBot:Y,duploIsSquarePin:J,isImageOnlyExp:te,location:ne,duploFeedItemProps:se,duploLazyLoadImage:le,duploOneTapSave:pe,duploPinCardDetailsMargin:he,duploPriorityFetchImage:me,pin:ge,slotIndex:_e,viewParameter:ve,viewType:fe,duploShouldAllowProductPriceIndicator:ye,topLevelTrafficSource:xe,topLevelTrafficSourceDepth:be,trafficSource:Te,duploUnauthRelatedPinsAutoplayExpGroup:Ae,trackingParams:Ee,trackInteraction:De,vaseDisplayMode:Re,createUnauthContextMenuHandler:Le,duploConversationPin:Oe}=this.props,{hidePinMetadata:Fe=!1,onPinLinkClick:ze,showSeoMetadata:Me}=null!=se?se:{},{aggregated_pin_data:Ne,category:Ze,image_signature:Ue,promoter:Be,rich_summary:He,title:Ve,sponsorship:We,story_pin_data:$e}=ge,{description:Ge,title:Ke}=this.getPinText(),qe="desktop"===B,Ye=ke(ge),Xe=0===ve,Je=3475===ve,Qe=43===ve,et=Se(ge),tt=!!We,it=null==$e?void 0:$e.has_product_pins,nt=null==$e?void 0:$e.is_deleted,rt=(0,d.Z)((ne&&ne.state||{}).trackingParams||Ee,ge.tracking_params),at="product"===ke(ge)&&!q&&!Y&&(!O("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled||ge.is_eligible_for_pdp),ot=te&&!this.isOverrideImageOnly(),st=L&&L.isSocialSeasonalBoard,lt=this.getPinImage(),dt=st&&"gif"===Ye?this.convertToGif(ge):lt,ct=null===(e=ge.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,ut=(null==ct?void 0:ct.url)||(null===(i=ge.videos)||void 0===i||null===(n=i.video_list)||void 0===n||null===(r=n.V_HLSV4)||void 0===r?void 0:r.url),pt=(0,Q.hP)(null!==(o=ge.description)&&void 0!==o?o:"",ge.description_html||"",null===(s=ge.pin_join)||void 0===s?void 0:s.visual_annotation,ge.alt_text||""),ht=q?Ge:(0,c.Z)({storyPinDataId:ge.story_pin_data_id,pinDescription:ge.description,richMetadataDescription:null!==(u=null===(h=ge.rich_metadata)||void 0===h?void 0:h.description)&&void 0!==u?u:"",richSummaryDisplayName:null!==(m=null===(g=ge.rich_summary)||void 0===g?void 0:g.display_name)&&void 0!==m?m:"",placeSummaryName:null!==(f=ge.place_summary)&&void 0!==f?f:"",closeupDescription:null!==(y=ge.closeup_description)&&void 0!==y?y:"",closeupUnifiedDescription:null!==(x=ge.closeup_unified_description)&&void 0!==x?x:""}),mt=H&&H.display_data.hideReactions||!1,gt=H&&H.display_data.hideDesc||!1,_t=!U&&(0,ce.J6)({boardIsCollaborative:null==L?void 0:L.is_collaborative,isDownstreamPromotion:ge.is_downstream_promotion,isPromoted:ge.is_promoted,storyPinDataId:ge.story_pin_data_id,videosId:null===(b=ge.videos)||void 0===b?void 0:b.id})&&!Je&&!mt,vt=!q;let ft;ft=Pe(ge)?ge.tracked_link||ge.link:vt?(0,Q.bN)({pinId:ge.id,seoUrl:ge.seo_url}):(0,Q.BY)(ge.id);const yt=!Ge||ot&&!Xe?void 0:Ge.trim(),xt=this.getSharedHeaderInviteCode(),bt={accessibilityLabel:pt||Ke||Ge||"",country:F,deeplinkUri:ft,external:Pe(ge),externalQueryParams:{pin:ge.id,client_tracking_params:Ee},isAppUpsellDisabled:M,onTouch:this.handleClick,pinCategory:ge.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:ft,state:{trackingParams:Ee,trafficSource:Te,topLevelTrafficSource:xe,topLevelTrafficSourceDepth:be}},upsellType:"direct",viewParameter:ve,viewType:fe,clientTrackingParams:rt},wt=we({isDesktop:qe}),Pt=ge.native_creator||ge.pinner,St="search"===Te&&"storyPin"===Ye&&O("mweb_search_ideapin_module").anyEnabled;return(0,v.jsxs)(_.xu,{"data-test-id":"pin","data-test-pin-id":ge.id,marginBottom:qe||Fe?0:2,children:[(0,v.jsxs)(_.xu,{"data-test-id":pt||Ke||Ge?"pin-with-alt-text":"pin-missing-alt-text",paddingY:Fe||N?0:wt,paddingX:N?0:wt,marginBottom:0,onContextMenu:Pt?Le({pinId:ge.id,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?ue.Yw:{}},children:[(0,v.jsxs)(ie.MZ,{...bt,children:[!!xt&&(0,v.jsx)($,{inviteCode:xt}),nt?(0,v.jsx)(ae.Z,{isPinRep:!0}):(0,v.jsx)(G.Z,{clientTrackingParams:rt,color:null!==(w=ge.dominant_color)&&void 0!==w?w:"",description:yt,domainLinkData:ge.domain&&ge.link?{clickLoggingOptions:{auxData:{objectId:ge.id,grid_index:_e,sanitized_url:ge.link}},domain:ge.domain,link:ge.link,onClick:ze}:void 0,disableRounding:Z,hideBottomCardText:st,image:dt,imageAltText:pt,imageCrop:ge.image_crop,isMessenger:st,isPromoted:et,isSquarePin:J,lazyLoadImage:le,onError:this.handleError,oneTapSave:pe,onLoad:this.handleLoad,openCustomContextMenu:()=>this.setState({openContextMenuByLongPress:!0}),priorityFetchImage:me,disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:Le,pinId:ge.id,pinnedToBoardId:(null===(S=ge.pinned_to_board)||void 0===S?void 0:S.id)||"",pinVideo:(st||et)&&ct||void 0,videoUrl:ut,productPrice:ye&&!at?je(ge):null,slotIndex:_e,storyData:$e,title:!ot||Xe?Ke:void 0,type:Ye,videoDuration:Ie(ge),unauthRelatedPinsAutoplayExpGroup:Ae,viewType:fe,viewParameter:ve})]}),!("image-only"===W)&&(q||"desktop"===B)&&(0,v.jsxs)(_.xu,{children:[!Je&&!Qe&&"desktopParity"===Re&&(0,v.jsx)(oe.Z,{pinId:ge.id,mode:"inlineWithScrollArrows",graphqlRef:null}),!at&&(0,v.jsx)(ie.MZ,{...bt,children:(0,v.jsx)(z,{duploConversationPin:Oe,allowPriceIndicator:!ye&&!at&&["shop_feed"].includes(Te),marginTop:he,hidePinMetadata:Fe||gt,contextMenu:q&&!nt?(0,v.jsx)(_.xu,{marginStart:1,marginTop:he,children:(0,v.jsx)(_.xu,{height:26,width:24,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(P.Z,{children:(0,v.jsx)(Ce,{adMatchReason:ge.ad_match_reason,bestPinImgSrc:(0,l.Z)({images:ge.images,embedSrc:null===(k=ge.embed)||void 0===k?void 0:k.src,embedType:null===(I=ge.embed)||void 0===I?void 0:I.type}),feedback:V,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:null,imageSignature:Ue,pinCategory:Ze,pinDescription:ht,pinId:ge.id,pinTitle:Ve,sourceType:et?"ad":Xe?"following":void 0,viewParameter:ve,viewType:fe,openByLongPress:this.state.openContextMenuByLongPress,trackingParams:Ee,toggleLongPress:()=>{this.setState({openContextMenuByLongPress:!1})}})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:it,isPromotedPin:et,isSponsoredPin:tt,isSquarePin:J,marginStart:he,marginEnd:he,onCreditsClick:this.handleCreditsClick,pinDescription:ht,pinId:ge.id,pinnedToBoardId:(null===(j=ge.pinned_to_board)||void 0===j?void 0:j.id)||"",pinReactionCounts:ge.reaction_counts,pinTagsChips:(Ne||{}).pin_tags_chips,promoterName:null==Be?void 0:Be.full_name,recipeCookTime:ot?void 0:ge.rich_summary&&ge.rich_summary.display_cook_time,recipeMaxRating:ot||null==He||null===(C=He.aggregate_rating)||void 0===C?void 0:C.best_rating,recipeRating:ot||null==He||null===(A=He.aggregate_rating)||void 0===A?void 0:A.rating_value,recipeReviewCount:ot||null==He||null===(E=He.aggregate_rating)||void 0===E?void 0:E.review_count,shouldShowReactions:_t,style:St?"overlay":"default",title:St?void 0:Ke,type:Ye})})]}),!q&&at&&(0,v.jsx)(re,{pin:ge})]}),(null==L?void 0:L.isSocialSeasonalBoard)&&q&&(0,v.jsx)(_.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(_.xu,{padding:3,children:(0,v.jsx)(_.xv,{align:"center",weight:"bold",children:K._('Send', ' - ', ' -- ')})})})}),"reported"===ge.feedback_status?(0,v.jsx)(X,{color:null!==(D=ge.dominant_color)&&void 0!==D?D:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:ge.id,showing:!!ge.feedback_status}):(0,v.jsx)(X,{color:null!==(R=ge.dominant_color)&&void 0!==R?R:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:ge.id,showing:!!ge.feedback_status,unfollowed:"unfollowed"===ge.feedback_status,viewParameter:ve,viewType:fe}),Me&&"inlineHidden"===Re&&!at&&(0,v.jsx)(T.Z,{id:"related-pins-title",children:(0,v.jsx)(_.iP,{onTap:()=>{De({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(ee,{pin:ge})})}),ge.debug&&(0,v.jsx)(de.W,{data:ge.debug})]})}render(){const{componentType:e,pin:t,trackingParams:i,viewParameter:n,viewType:r,slotIndex:a,objectIdStr:o,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return t?(0,v.jsx)(pe.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:t.id,objectIdStr:o,onTracked:this.markPinAsSeen,slotIndex:a,trackingParams:i,viewData:s,viewParameter:n,viewType:r,children:({impressionTrackerRef:e})=>(0,v.jsx)(_.xu,{ref:e,children:this.renderPinCard()})}):null}}const Ee=(0,r.connect)((({experiences:e,pins:t,session:i,users:n},r)=>{const a=t[r.pinId]||null,o=e[1000107];return{board:null==a?void 0:a.board,country:i.country,hasPoorConnection:i.hasPoorConnection,isAuth:i.isAuthenticated,isBot:i.isBot,isImageOnlyExp:o&&500678===o.experience_id,pin:a,viewer:n[i.userId],viewedSharedPins:i.viewedSharedPins}}),((e,{viewParameter:t,viewType:i})=>({markPinAsSeen:n=>e((0,le.DX)({pinId:n,viewParameter:t,viewType:i})),markPinUnfollowed:t=>e((0,ge.fH)(t,"unfollowed")),setSharingOnBoardPage:(t,i,n)=>e((0,he.Mj)(t,i,n))})))((function(e){const t=(0,y.ZP)(),i=(0,xe.g)(),{checkExperiment:n}=(0,U.F)(),r=(0,R.useHistory)(),a=(0,R.useLocation)(),o=(0,k.ZP)(),s=(0,ye.M)(),l=(0,ve.yz)(),d=(0,_e._)({id:1000107}),c=(0,fe.Z)(),u=(0,j.Z)();return(0,v.jsx)(Ae,{...e,createUnauthContextMenuHandler:s,deviceType:o,experience:d,pwaType:l,unauthDesktopSignupModalPageContext:i,vaseDisplayMode:"desktop"===o?"desktopParity":"inlineHidden",i18n:t,checkExperiment:n,history:r,location:a,logContextEvent:c,trackInteraction:u})}))},545798:(e,t,i)=>{i.d(t,{Z:()=>oe});var n=i(667294),r=i(702664),a=i(81226),o=i(733756),s=i(499128),l=i(898781),d=i(112690),c=i(728214),u=i(523504),p=i(52022),h=i(332611),m=i(185894),g=i(856919),_=i(479739),v=i(500594),f=i(358589),y=i(883119),x=i(276775),b=i(785893);const w=new y.Ry(1);function P({buttonText:e,clientTrackingParams:t,color:i="primary",deeplinkUri:a,experience:P,inline:S=!0,minWidth:T,onTouch:k,onUnsave:I,pinId:j,pinnedToBoardId:C,shape:A,shouldShowSavedButton:E,viewType:D,viewParameter:R,showSaveHandoffExperience:L}){var O;const F=(0,l.ZP)(),z=(0,r.useDispatch)(),M=(0,x.useHistory)(),N=(0,x.useLocation)().pathname.startsWith("/pin"),Z=(0,r.useSelector)((({session:e})=>e.hasSavedUnauthPin)),U=(0,r.useSelector)((({session:e})=>e.unauthSavePinId)),B=null===(O=(0,r.useSelector)((e=>(0,_.ts)(e))))||void 0===O?void 0:O.pin_count,H=(0,d.Z)(),V=(0,p.Z)(),{showToast:W,showRepinConfirmation:$}=(0,u.Z)(),G=()=>{z((0,f.Bp)({history:M,i18n:F,logContextEvent:H,onSuccess:()=>{P&&z((0,h.CK)(P.placement_id,P.experience_id))},originalPinId:j,pinId:j,trackingParams:{clientTrackingParams:t,pinnedToBoardId:C},showRepinConfirmation:L&&!N?()=>{}:$,disableRepinAnimation:U===j,pinCount:B})).catch((e=>W((({hideToast:t})=>(0,b.jsx)(s.ZP,{variant:"error",text:e.message||F._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:t})))))},K=(0,n.useRef)(null),q=L&&!Z,Y=(0,c.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),k&&k(e),E?E&&I&&I():G()},modalHeader:(0,v.Bx)(F)});(0,n.useEffect)((()=>{q&&!K.current&&(V({action:"trigger",item:"unauth-save-button-quicksave"}),G(),z((0,m.e2)())),K.current=q}));const X=()=>F._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),J=()=>e||F._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return Z&&!N?null:(0,b.jsx)(y.xu,{"data-test-id":"save-button-mobile",zIndex:w,children:a?(0,b.jsx)(g.di,{accessibilityLabel:X(),color:i,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:S,minHeight:48,minWidth:T,onTouch:Y,pressState:["compress","background"],shape:A,size:"lg",text:J(),to:M.location.pathname,upsellType:"save",viewType:D,viewParameter:R}):(0,b.jsx)(o.Z,{accessibilityLabel:X(),color:i,customStyles:{padding:"14px 16px"},inline:S,minHeight:48,minWidth:T,onTouch:Y,pressState:"compress",shape:A,size:"300",text:J()})})}var S=i(634291),T=i(539497),k=i(716235),I=i(343341);function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class C extends n.PureComponent{constructor(...e){var t;super(...e),t=this,j(this,"state",{saveState:void 0}),j(this,"legoFixedZIndex",new y.Ry(2)),j(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:i,i18n:n,oneTapSave:r,pinId:a,pinnedToBoardId:o,showToast:l,viewType:d}=t.props;try{const n=await i((0,f.wh)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:a,pinId:a,boardId:null==r?void 0:r.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==r?void 0:r.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:d}));t.setState({saveState:"saved"}),i((0,k.a)({boardId:null==r?void 0:r.boardId,localPinId:n.id,pinId:a}))}catch(c){l((({hideToast:e})=>(0,b.jsx)(s.ZP,{variant:"error",text:c.message||n._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),t.setState({saveState:void 0})}})),j(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:i,i18n:n,pinId:r,savedInfo:a,showToast:o}=t.props;if(a){e((0,k.k)({boardId:a.boardId,localPinId:a.localPinId,pinId:r}));try{await e((0,f.q$)({pinId:a.localPinId,boardId:a.boardId,clientTrackingParams:i})),o((({hideToast:e})=>(0,b.jsx)(s.ZP,{text:n._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),t.setState({saveState:void 0})}catch(l){o((({hideToast:e})=>(0,b.jsx)(s.ZP,{variant:"error",text:n._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),t.setState({saveState:"saved"})}}})),j(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:i,pinId:n,isOneTapExploreLocalTab:r,pinnedToBoard:a}=this.props;["saving","deleting"].includes(t)||r&&a||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),r?i.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,v.Bx)(this.props.i18n)})),j(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:i})=>e?!!t:!!i))}render(){const{children:e,clientTrackingParams:t,homepageExperience:i,i18n:r,isOneTapExploreLocalTab:a,isRTL:o,oneTapSave:s,pinId:l,pinnedToBoard:d,pinnedToBoardId:c,savedInfo:u,shouldShowSaveHandoffExp:p}=this.props;if(!s&&!a&&!p)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:a,pinnedToBoard:d,savedInfo:u}),m="#000",g="rgba(255, 255, 255, 0.8)",_="light",v="dark";return(0,b.jsxs)(n.Fragment,{children:[e,(0,b.jsx)(y.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:p?(0,b.jsx)(P,{buttonText:d?r._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:t,color:d?"default":"primary",deeplinkUri:"deeplinkUri",experience:i,inline:!0,pinnedToBoardId:c,minWidth:54,pinId:l,shape:"pill",shouldShowSavedButton:!!d,showSaveHandoffExperience:p}):(0,b.jsx)(y.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?m:g}},padding:2,rounding:"circle",children:(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,b.jsx)(y.JO,{accessibilityLabel:h?r._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):r._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:h?"check":"add",color:h?_:v,size:"24"})})})})})]})}}const A=(0,r.connect)(((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:t}=(0,I.F9)(),i=(0,l.ZP)(),a=(0,d.Z)(),o=(0,c.Z)(),s=(0,r.useDispatch)(),u=(0,x.useHistory)(),{isRTL:p}=(0,r.useSelector)((({session:e})=>e)),h=(0,r.useSelector)((({session:e})=>e.unauthSavePinId)),m=(0,r.useSelector)((({session:e})=>e.isAuthenticated)),g=(0,r.useSelector)((e=>{var t;return null===(t=(0,_.ts)(e))||void 0===t?void 0:t.pin_count})),v=m&&!!h&&h===e.pinId,{pins:y,clear:w}=(0,S.Z)(),P=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{m&&!P.current&&y.length>0&&(P.current=!0,y.forEach((({id:e})=>{s((0,f.Bp)({history:u,i18n:i,logContextEvent:a,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:g})).catch((e=>{(0,T.My)(`error.unauth_profile_pin_merge.${e}`)}))})),w())})),(0,b.jsx)(C,{...e,i18n:i,requireAuthForLimitedLogin:o,history:u,logContextEvent:a,showToast:t,shouldShowSaveHandoffExp:v,isRTL:p})}));A.displayName="OneTapSave";const E=A;var D=i(883561),R=i(349700);function L({boardUrl:e,boardName:t,isQuicksave:i,sectionName:n,sectionSlug:r}){const a=(0,l.ZP)(),o=(0,x.useHistory)(),s=new y.Ry(1),d=!!r&&`${e}${r}/`;return(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,b.jsx)(y.iP,{onTap:t=>{t.event.preventDefault(),o.push(i?"/me/":d||e)},children:(0,b.jsx)(y.xv,{color:"light",children:n?(0,R.nk)(a._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,b.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:(0,D.ZP)(n,22)},`pincard-${n}`)}):(0,R.nk)(a._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,b.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:i?a._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,D.ZP)(t,22)},`pincard-${t}`)})})})})})}var O=i(252745),F=i(964082),z=i(36971),M=i(463045);function N({isSquarePin:e,color:t,description:i,imageUrl:n,imageHeight:r,imageWidth:a,onError:o,onLoad:s}){const l=(0,b.jsx)(y.Ee,{alt:i||"",color:t,naturalHeight:null!=r?r:1,naturalWidth:null!=a?a:1,onError:o,onLoad:s,src:null!=n?n:"",fit:e?"cover":void 0});return e?(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:l})}):l}var Z=i(639758),U=i(46584),B=i(572260),H=i(623568),V=i(494349),W=i(50286);function $({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:t,isAutoplay:i,cropHeight:r,currentTime:a,onLoad:o,onError:s,onTimeChange:d,pin:c,playing:u,rootMargin:p,viewType:h,viewParameter:m,onVisibilityChanged:g,trackFullVisible:_,videoDuration:v,imageHeightModifier:f,image:x,isSquarePin:w}){var P,S,T,k;const I=(0,l.ZP)(),[j,C]=(0,n.useState)(!1),[A,E]=(0,n.useState)(!0),D=(0,H.jL)(c),R=D&&!c.is_eligible_for_web_closeup,L=3372===m||42===h,F=D&&c.is_eligible_for_web_closeup&&!L,{setCurrentVideo:z,pauseAutoplay:M}=(0,V.I)(),$=R||!D,G=(0,U.Z)({onVisibilityChanged:g,inAdsDesktopVideoExperiment:e,trackFullVisible:_,rootMargin:p});let K=!u;(e||null!=t&&t.startsWith("enabled"))&&(K=A,i&&u&&A&&E(!1));const{url:q}=(null===(P=c.images)||void 0===P?void 0:P["236x"])||{},{id:Y}=c,X=(0,W.HG)()&&c.videos?null===(S=c.videos.video_list)||void 0===S?void 0:S.V_HLSV4:null===(T=c.videos)||void 0===T||null===(k=T.video_list)||void 0===k?void 0:k.V_720P,J=(0,W.HG)()&&c.videos?"video/m3u8":"video/mp4",Q=(0,n.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),z({pinId:Y,isPromoted:Boolean(D),currentTime:0}),C(!1)}),[D,Y,z]),ee=(0,n.useCallback)((()=>{D&&C(F),M({pinId:Y,isPromoted:Boolean(D),currentTime:0})}),[F,D,Y,M]);if(!c.videos||!X)return null;const{height:te,thumbnail:ie,width:ne,url:re}=X||{},ae=c.videos.id,oe=[{type:J,src:re}];let se,le=(null!=ne?ne:1)/(null!=te?te:1);return e&&w&&(le=1,se="transparent",f&&(le-=f-1)),j&&D?(0,b.jsx)(y.xu,{"data-test-id":"pin-video-mobile-end-card",ref:G,children:(0,b.jsx)(Z.Z,{backgroundImage:null!=q?q:"",naturalHeight:null!=te?te:1,naturalWidth:null!=ne?ne:1,pin:c,onRestartVideo:Q})}):K?(0,b.jsxs)(y.xu,{"data-test-id":"pin-video-mobile-image",ref:G,children:[v&&(0,b.jsx)(O.Z,{text:v}),(0,b.jsx)(N,{imageHeight:null!==(de=null==x?void 0:x.height)&&void 0!==de?de:1,imageWidth:null!==(ce=null==x?void 0:x.width)&&void 0!==ce?ce:1,onError:s,onLoad:o,imageUrl:null!==(ue=null==x?void 0:x.url)&&void 0!==ue?ue:"",isSquarePin:w})]}):(0,b.jsx)(y.xu,{"data-test-id":"pin-video-mobile-video",ref:G,children:(0,b.jsx)(B.ZP,{isAutoPlay:!!i,cropHeight:r,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:m,component:0,objectId:c.id,video_id:ae,view:h},accessibilityMaximizeLabel:I._('Maximize', 'pinLayouts.PinVideo.accessibilityMaxVideoBtn', 'Maximize button on video'),accessibilityMinimizeLabel:I._('Minimize', 'pinLayouts.PinVideo.accessibilityMinVideoBtn', 'Minimize button on video'),accessibilityMuteLabel:I._('Mute', 'pinLayouts.PinVideo.accessibilityMuteVideoBtn', 'Mute button on video'),accessibilityPauseLabel:I._('Pause', 'pinLayouts.PinVideo.accessibilityPauseVideoBtn', 'Pause button on video'),accessibilityPlayLabel:I._('Play', 'pinLayouts.PinVideo.accessibilityPlayVideoBtn', 'Play button on video'),accessibilityProgressBarLabel:I._('Progress bar', 'pinLayouts.PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:I._('Unmute', 'pinLayouts.PinVideo.accessibilityUnmuteVideoBtn', 'Unmute button on video'),aspectRatio:le,backgroundColor:se,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:a||-1},loop:$,onTimeChange:d,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:q||ie,src:null!=oe?oe:[],videoStartTime:a,volume:0,onEnded:ee})});var de,ce,ue}function G(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class K extends n.Component{constructor(...e){super(...e),G(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:i}=this.props,{id:n}=t,r=(0,z.Z)(n,i);return this.currentVideoCurrentTime||r||e})),G(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pin:i,setCurrentVideo:n,pauseAutoplay:r,videosAutoplaying:a}=this.props,{id:o}=i,s=(0,H.jL)(i),l=(0,M.Z)(o,a),d=(0,F.Z)(o,a);e?s?n({pinId:o,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):d&&n({pinId:o,isPromoted:Boolean(s),currentTime:this.calculateCurrentVideoTime()}):!e&&l&&r({pinId:o,isPromoted:Boolean(s),currentTime:t||this.currentVideoCurrentTime})})),G(this,"handleVideoTimeChange",(e=>{const{pin:t,onTimeChange:i,videosAutoplaying:n}=this.props,{id:r}=t;(0,M.Z)(r,n)&&(this.currentVideoCurrentTime=e.time),i&&i(e)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:i,currentTimeFromPinRep:n,pauseAutoplay:r,pin:a,setCurrentVideo:o,videosAutoplaying:s}=this.props,{id:l}=a,d=(0,H.jL)(a),c=(0,M.Z)(l,s);i!==t&&!i&&c?(this.pausedDueToBrowserOutOfFocus=!0,r({pinId:l,isPromoted:Boolean(d),currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,o({pinId:l,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:i,videosAutoplaying:n}=this.props,{id:r}=i,a=(0,H.jL)(i);(0,M.Z)(r,n)&&t({pinId:r,isPromoted:Boolean(a),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:i,videosAutoplaying:n,videoDuration:r,viewParameter:a,viewType:o,onError:s,onLoad:l,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isSquarePin:u,rootMargin:p,imageHeightModifier:h,image:m,isHovering:g}=this.props,{id:_}=i,v=(0,z.Z)(_,n),f="enabled_hover"===c,y=(0,M.Z)(_,n),x=g&&f||y&&t;return(0,b.jsx)($,{cropHeight:e,rootMargin:p,currentTime:v,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isAutoplay:t,isSquarePin:u,image:m,viewParameter:a,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:i,playing:x,trackFullVisible:!1,onError:s,onLoad:l,imageHeightModifier:h,videoDuration:r})}}function q(e){const{appUI:{appInFocus:t,isAutoplay:i,videosAutoplaying:n},pauseAutoplay:r,setCurrentVideo:a}=(0,V.I)();return(0,b.jsx)(K,{...e,appInFocus:t,isAutoplay:i,pauseAutoplay:r,setCurrentVideo:a,videosAutoplaying:n})}var Y=i(690035),X=i(310227),J=i(773285),Q=i(904411),ee=i(780679),te=i(627995);const ie=({domainLinkData:e})=>{const t=(0,l.ZP)(),i=(0,ee.g)();return(0,b.jsxs)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,b.jsx)(y.X6,{size:"400",align:"center",color:"light",children:t._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,b.jsx)(y.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,b.jsx)(te.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==i?void 0:i.pinLinkClickHandler)||(()=>{})})})]})};var ne=i(53987);const re=({width:e,height:t,minY:i,maxY:n})=>{const r=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:i<=0?"0%":r(-1*i*t),bottom:n>=1?"0%":r(-1*(1-n)*t)}},ae=({children:e,margin:t,disableRounding:i})=>(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,b.jsx)(y.zd,{wash:!0,rounding:i?0:X.mv,children:e})}),oe=({clientTrackingParams:e,color:t,description:i,domainLinkData:o,hideBottomCardText:s,image:d,imageAltText:c,imageCrop:u,isPromoted:p,isMessenger:h,isOneTapExploreLocalTab:m,isSquarePin:g,lazyLoadImage:_,onError:v,oneTapSave:f,onLoad:w,openCustomContextMenu:P,pinId:S,priorityFetchImage:k,disableDefaultContextMenu:I,pinnedToBoardId:j,pinVideo:C,videoUrl:A,productPrice:D,disableRounding:R,storyData:F,title:z,type:M,videoDuration:N,viewType:Z,viewParameter:U,unauthRelatedPinsAutoplayExpGroup:B})=>{var H,V,$,G,K,X,ee,te,oe,se,le;const de=(0,l.ZP)(),ce=(0,Y.Z)(),{checkExperiment:ue}=(0,J.F)(),[pe,he]=(0,n.useState)(!1),me=(0,r.useSelector)((({session:e})=>e.isAuthenticated)),ge=(0,W.ZP)(),_e=(0,r.useSelector)((({pins:e})=>e[S])),ve=(0,Q.gC)()(j||_e&&String(null===(H=_e.board)||void 0===H?void 0:H.id)),fe=j&&_e.savedThisSession,ye=o&&o.link?"with-link":"without-link",xe=!me&&"desktop"!==ge,be=(0,n.useRef)(Date.now()),we=(0,n.useRef)(null),Pe=ue("mweb_video_ads_autoplay").anyEnabled,Se="video"===M&&(B&&"enabled_hover"===B),Te=(0,b.jsx)(y.Ee,{alt:c||z||i||"",color:t,naturalHeight:null!==(V=d.height)&&void 0!==V?V:1,naturalWidth:null!==($=d.width)&&void 0!==$?$:1,onError:v,onLoad:w,src:null!==(G=d.url)&&void 0!==G?G:"",fit:g?"cover":void 0,loading:_?"lazy":"auto",fetchPriority:k?"high":"auto"}),ke=g?(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Te})}):Te,Ie=(0,x.useLocation)(),je=()=>(0,ne.C$)(Ie)?"homefeed":(0,ne.L6)(Ie)?"related_pins":(0,ne.En)(Ie)?"search":"unknown";return(0,b.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,b.jsxs)(y.xu,{onContextMenu:e=>{if("desktop"!==ge){const t=je();(0,T.My)((me?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),me&&"unknown"!==t&&(ue("mweb_custom_context_menu_on_longpress").anyEnabled||ue("mweb_pin_card_custom_context_menu_on_longpress").anyEnabled)?(e.preventDefault(),e.stopPropagation(),P()):"related_pins"!==t||me||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ge){const t=je();if((0,T.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===t&&!me&&(null==I||I(),be.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(we.current={x:t.pageX,y:t.pageY})}}},onTouchEnd:e=>{if("desktop"!==ge){const t=je();if((0,T.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-be.current>500&&!me&&"related_pins"===t){const t=we.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const i=e.changedTouches.item(0);if(i&&Math.pow(i.pageX-t.x,2)+Math.pow(i.pageY-t.y,2)>100)return;null==I||I(),ce({pinId:S,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${M}-${ye}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:xe?void 0:()=>he(!0),onMouseLeave:xe?void 0:()=>he(!1),position:"relative",rounding:R?0:4,children:[(0,b.jsxs)(E,{clientTrackingParams:e||"",oneTapSave:f,isOneTapExploreLocalTab:m,pinId:S,pinnedToBoardId:j,viewType:Z,children:[(()=>{if("gif"===M&&!s&&!fe)return(0,b.jsx)(O.Z,{text:de._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===M&&N&&!s&&!fe)return(0,b.jsx)(O.Z,{text:N});if("storyPin"===M&&F&&!fe){const{page_count:e=0,total_video_duration:t=0}=_e.story_pin_data||{};if(t>0)return(0,b.jsx)(O.Z,{text:(0,a.Z)(t)});if("number"==typeof e&&e>0)return(0,b.jsx)(O.Z,{icon:"idea-pin",text:e.toString()})}return"product"===M&&D?(0,b.jsx)(O.Z,{text:D}):null})(),(0,b.jsx)(ae,{disableRounding:R,margin:u?re({width:null!==(K=d.width)&&void 0!==K?K:1,height:null!==(X=d.height)&&void 0!==X?X:1,minY:u.min_y,maxY:u.max_y}):void 0,children:"video"===M&&h&&C?(0,b.jsx)(y.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:de._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:C.width/C.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(ee=d.url)&&void 0!==ee?ee:"",src:C.url,volume:0}):C&&p&&Pe||null!=B&&B.startsWith("enabled")&&A?(0,b.jsx)(q,{image:d,inAdsVideoExperiment:Pe,unauthRelatedPinsAutoplayExpGroup:B,isHovering:pe,isSquarePin:g,onError:v,onLoad:w,pin:_e,videoDuration:N,viewParameter:U,viewType:Z}):ke})]}),!Se&&pe&&!me&&(0,b.jsx)(ie,{domainLinkData:o}),me&&fe&&(0,b.jsx)(L,{boardName:null!==(te=null==ve?void 0:ve.name)&&void 0!==te?te:"",boardUrl:null!==(oe=null==ve?void 0:ve.url)&&void 0!==oe?oe:"",sectionName:null==f||null===(se=f.section)||void 0===se?void 0:se.title,sectionSlug:null==f||null===(le=f.section)||void 0===le?void 0:le.slug,isQuicksave:"quick_saves"===(null==ve?void 0:ve.layout)})]})})}},252745:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(898781),r=i(643010),a=i(883119),o=i(785893);function s({text:e,icon:t,largeIdentifier:i,largeMargin:s}){const l=(0,n.ZP)();return(0,o.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,r.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:i?4:void 0,height:i?36:24,top:!0,children:[t&&(0,o.jsx)(a.xu,{marginEnd:i?2:1,children:(0,o.jsx)(a.JO,{accessibilityLabel:l._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:t,inline:!0,size:i?18:12})}),(0,o.jsx)(a.xv,{inline:!0,size:i?"200":"100",weight:"bold",children:e})]})}},236458:(e,t,i)=>{function n(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,i)=>e[i]-e[t])).slice(0,3)}return null}function r(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function a({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:i,storyPinDataId:n,videosId:r}){return!(i||t||!r&&!n||null!=e&&e)}i.d(t,{At:()=>n,J6:()=>a,Ud:()=>r})},184298:(e,t,i)=>{i.d(t,{Z:()=>C});var n=i(667294),r=i(702664),a=i(373420),o=i(430322),s=i(121151),l=i(898781),d=i(643010),c=i(883119),u=i(50286),p=i(785893);function h({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:i,children:n}){const r=(0,l.ZP)(),a=(0,u.HG)(),h=(0,u.Wb)();return h||a?(0,p.jsx)(s.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!h,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,p.jsx)(c.xu,{color:(0,d.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,d.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:a?"100vw":"100%",zIndex:new c.Ry(1),children:(0,p.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:i?0:12,children:n})})}):(0,p.jsx)(o.default,{accessibilityModalLabel:r._('Close', 'Close modal window', 'Close modal window'),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:r._('Close', 'Close modal window', 'Close modal window'),children:n})}var m,g=i(784590),_=i(690035),v=i(52022),f=i(683350),y=i(623568),x=i(539497),b=i(802201),w=i(992750),P=i(167912);const S=void 0!==m?m:m=i(276667);function T({iconColor:e,size:t,isMainPin:i,isAuth:o,pinCreditPrefix:s,onClickTitleOrDomain:d,richMetadataDescription:m,richMetadataTitle:g,richSummaryDisplayName:b,placeSummaryName:P,closeupUnifiedDescription:S,gridTitle:T,storyPinDataId:k,storyPinDataMetadataPinTitle:I,pinDescription:j,pinDomain:C,pinTitle:A,boardId:E,boardUrl:D,boardName:R,boardPrivacy:L,pinnerFullName:O,pinnerImageSmallUrl:F,pinnerImageLargeUrl:z,pinId:M,graphqlRef:N}){const Z=(0,l.ZP)(),U=(0,v.Z)(),{unauthInterstitialDismissed:B,isSeoBot:H}=(0,r.useSelector)((({session:e})=>e)),[V,W]=(0,n.useState)(!1),$=(0,u.HG)(),G=(0,u.Wb)(),K=(0,_.Z)(),q=(0,y._S)(C)?C:"",Y=!G&&!o,{description:X}=(0,w.eK)({richMetadataDescription:m,richSummaryDisplayName:b,placeSummaryName:P,closeupUnifiedDescription:S}),J=(0,w.fs)({pinTitle:A,gridTitle:T,richSummaryDisplayName:b,richMetadataTitle:g,storyPinDataId:k,storyPinDataMetadataPinTitle:I,placeSummaryName:P})||j,Q=!$,ee=(0,p.jsxs)(c.xu,{padding:5,dangerouslySetInlineStyle:Y?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,p.jsx)(c.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,p.jsx)(c.hU,{accessibilityLabel:Z._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,x.My)("mweb.unauth.see_more.dismissed"),U({action:"click",item:"close-seo-vase-see-more-button"}),W(!1),i&&(0,x.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,p.jsx)(c.xu,{marginBottom:Y?0:8,children:(0,p.jsx)(c.xv,{align:Y?"start":"center",weight:Y?void 0:"bold",children:(0,p.jsx)("span",{className:"deprecatedTextSizeXL",children:Y?null:Z._('More information', 'more information label', 'more information label')})})}),(0,p.jsx)(f.Z,{description:X,title:J,pinCreditPrefix:s,onClickTitleOrDomain:d,pinDomain:q,boardId:E,boardUrl:D,boardName:R,boardPrivacy:L,pinnerFullName:O,pinnerImageSmallUrl:F,pinnerImageLargeUrl:z,pinId:M,graphqlRef:N})]});return(0,p.jsxs)(c.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,p.jsx)(c.hU,{accessibilityLabel:Z._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=e?e:"gray",size:t||"md",onClick:({event:e})=>{e.stopPropagation(),(0,x.My)("mweb.unauth.see_more.shown"),U({action:"click",item:"seo-vase-see-more-button"}),G||o?(W(!0),i&&(0,x.My)("mweb.unauth.see_more.main_pin.shown")):K({pinId:M||"",location:i?"main-pin-more-information":"non-main-pin-more-information",seoPlacementConfig:{description:X,titleText:J,pinCreditPrefix:s,onClickTitleOrDomain:d,cleanPinDomain:q,boardId:E,boardUrl:D,boardName:R,boardPrivacy:L,pinnerFullName:O,pinnerImageSmallUrl:F,pinnerImageLargeUrl:z,pinId:M,graphqlRef:N}})}}),H&&Q?(0,p.jsx)(c.xu,{display:V?"flex":"none",children:ee}):(0,p.jsx)(h,{showFullScreenInfo:V,isOpen:V&&!G,interstitialUpsellDismissed:!!B,children:ee}),G&&V&&(0,p.jsx)(a.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:ee})]})}function k(e){var t,i,n,r,a,o,s,l,d,c,u,h,m,g,_,v;const f=(0,P.useFragment)(S,e.graphqlRef);return(0,p.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==f||null===(i=f.richMetadata)||void 0===i?void 0:i.description)&&void 0!==t?t:"",richMetadataTitle:null!==(n=null==f||null===(r=f.richMetadata)||void 0===r?void 0:r.title)&&void 0!==n?n:"",richSummaryDisplayName:null!==(a=null==f||null===(o=f.richSummary)||void 0===o?void 0:o.displayName)&&void 0!==a?a:"",closeupUnifiedDescription:null!==(s=null==f?void 0:f.closeupUnifiedDescription)&&void 0!==s?s:"",gridTitle:null==f?void 0:f.gridTitle,storyPinDataId:null==f?void 0:f.storyPinDataId,storyPinDataMetadataPinTitle:null==f||null===(l=f.storyPinData)||void 0===l||null===(d=l.metadata)||void 0===d?void 0:d.pinTitle,pinDescription:null==f?void 0:f.description,pinDomain:(null==f?void 0:f.domain)||void 0,pinTitle:null==f?void 0:f.title,boardId:null==f||null===(c=f.board)||void 0===c?void 0:c.entityId,boardUrl:(null==f||null===(u=f.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==f||null===(h=f.board)||void 0===h?void 0:h.name)||void 0,boardPrivacy:(null==f||null===(m=f.board)||void 0===m?void 0:m.privacy)||void 0,pinnerFullName:(null==f||null===(g=f.pinner)||void 0===g?void 0:g.fullName)||void 0,pinnerImageSmallUrl:null==f||null===(_=f.pinner)||void 0===_?void 0:_.imageSmallUrl,pinnerImageLargeUrl:null==f||null===(v=f.pinner)||void 0===v?void 0:v.imageLargeUrl,pinId:null==f?void 0:f.entityId,graphqlRef:f})}function I(e){var t,i,n,r,a,o,s,l,d,c,u;const h=(0,b.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),m=null==h?void 0:h.board,g=null==h?void 0:h.pinner;return(0,p.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==h||null===(n=h.rich_metadata)||void 0===n?void 0:n.description)&&void 0!==i?i:"",richMetadataTitle:null!==(r=null==h||null===(a=h.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==r?r:"",richSummaryDisplayName:null!==(o=null==h||null===(s=h.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==o?o:"",placeSummaryName:null!==(l=null==h?void 0:h.place_summary)&&void 0!==l?l:"",closeupUnifiedDescription:null!==(d=null==h?void 0:h.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==h?void 0:h.grid_title,storyPinDataId:null==h?void 0:h.story_pin_data_id,storyPinDataMetadataPinTitle:null==h||null===(c=h.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==h?void 0:h.description,pinDomain:null==h?void 0:h.domain,pinTitle:null==h?void 0:h.title,boardId:null==m?void 0:m.id,boardUrl:null==m?void 0:m.url,boardName:null==m?void 0:m.name,boardPrivacy:null==m?void 0:m.privacy,pinnerFullName:null==g?void 0:g.full_name,pinnerImageSmallUrl:null==g?void 0:g.image_small_url,pinnerImageLargeUrl:null==g?void 0:g.image_large_url,pinId:null==h?void 0:h.id})}function j(e){var t,i,n,r,a,o,s,l,d,c,u;const h=(0,b.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),m=null==h?void 0:h.board,_=null==h?void 0:h.pinner;return(0,g.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,p.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==h||null===(n=h.rich_metadata)||void 0===n?void 0:n.description)&&void 0!==i?i:"",richMetadataTitle:null!==(r=null==h||null===(a=h.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==r?r:"",richSummaryDisplayName:null!==(o=null==h||null===(s=h.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==o?o:"",placeSummaryName:null!==(l=null==h?void 0:h.place_summary)&&void 0!==l?l:"",closeupUnifiedDescription:null!==(d=null==h?void 0:h.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==h?void 0:h.grid_title,storyPinDataId:null==h?void 0:h.story_pin_data_id,storyPinDataMetadataPinTitle:null==h||null===(c=h.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==h?void 0:h.description,pinDomain:null==h?void 0:h.domain,pinTitle:null==h?void 0:h.title,boardId:null==m?void 0:m.id,boardUrl:null==m?void 0:m.url,boardName:null==m?void 0:m.name,boardPrivacy:null==m?void 0:m.privacy,pinnerFullName:null==_?void 0:_.full_name,pinnerImageSmallUrl:null==_?void 0:_.image_small_url,pinnerImageLargeUrl:null==_?void 0:_.image_large_url,pinId:null==h?void 0:h.id})}function C(e){return e.graphqlRef?(0,p.jsx)(k,{...e}):e.lazyLoadAnnotations?(0,p.jsx)(j,{...e}):(0,p.jsx)(I,{...e})}},23084:(e,t,i)=>{i.d(t,{Z:()=>d,j:()=>l});var n=i(898781),r=i(883119),a=i(773285),o=i(349700),s=i(785893);const l=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:i,sponsorshipStatus:d,textColor:c}){const u=(0,n.ZP)(),p=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let h;t?h=(0,o.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:i}):d||0===d?i&&!l.includes(d)?h=(0,o.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:i}):2!==d&&(h=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(h=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const m=p&&!t?"Ad  ":"";return(0,s.jsxs)(r.xv,{color:c,size:"100",children:[m,h]})}},536454:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),r=i(700380),a=i(883119),o=i(313047),s=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(0,r.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:n}=this;var t,i;if(n())null===(t=(i=this.props).onView)||void 0===t||t.call(i)}}),this.props.throttleTime||100)),l(this,"wasViewed",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&t.top<=o.DEFAULT_HEIGHT})),l(this,"isOnView",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||window.height)-150&&t.right<=(window.innerWidth||window.width))})),l(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,s.jsx)(a.xu,{ref:e=>{var t,i;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(t=(i=this.props).onView)||void 0===t||t.call(i))},children:e})}}const c=d},364245:(e,t,i)=>{i.d(t,{Z:()=>b});var n,r=i(667294),a=i(391254),o=i(941646),s=i(111168),l=i(898781),d=i(52022),c=i(992750),u=i(802201),p=i(883119),h=i(167912),m=i(785893);const g=void 0!==n?n:n=i(85934);function _({direction:e,handleClick:t,testId:i}){const n=(0,l.ZP)(),r=(0,d.Z)();return(0,m.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{r({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":i,children:(0,m.jsx)(o.Z,{id:"board-pills-arrow",children:(0,m.jsx)(p.JO,{accessibilityLabel:n._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function v({name:e,url:t}){const[i,n]=(0,r.useState)(!1),a=(0,d.Z)();return(0,m.jsx)(p.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,m.jsx)(p.xv,{color:i?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,m.jsx)(p.rU,{inline:!0,tapStyle:"compress",href:t,rounding:8,onClick:()=>{a({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function f({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:i}){const[n,s]=(0,r.useState)(!1),[l,u]=(0,r.useState)(!1),h=(0,d.Z)(),g=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=g.current,t=()=>{if("inlineWithScrollArrows"===i&&g.current){const e=g.current,t=Math.max(0,e.scrollLeft),i=t+e.clientWidth;s(0!==t),u(i<e.scrollWidth)}else s(!1),u(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[i]);const f=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&h({action:"click",item:"board-pills-arrow-button-right"});const i=g.current;if(!i)return;const n=("left"===e?-1:1)*i.clientWidth*.5;i.scrollLeft=Math.min(Math.max(i.scrollLeft+n,0),i.scrollWidth)},{annotationsWithLinks:y}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,m.jsx)(p.kC,{alignItems:"center",justifyContent:"end",children:(0,m.jsxs)(p.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,m.jsx)(a.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),n&&(0,m.jsx)(_,{direction:"left",handleClick:f("left"),testId:"left-scroll-arrow"}),(0,m.jsx)(p.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:g,children:y.map((({name:e,url:t})=>(0,m.jsx)(v,{name:e,url:t},t||e)))}),l&&(0,m.jsx)(o.Z,{id:"board-pills-arrow-button-right",children:(0,m.jsx)(_,{direction:"right",handleClick:f("right"),testId:"right-scroll-arrow"})})]})})}function y(e){var t;const i=(0,h.useFragment)(g,e.graphqlRef),n=(0,s.Z)(i),r=(null==i||null===(t=i.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return r.length<1?null:(0,m.jsx)(f,{mode:e.mode,pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:n||void 0})}function x(e){var t,i,n;const r=(0,u.S6)()(e.pinId||"");return((null==r||null===(t=r.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,m.jsx)(f,{mode:e.mode,pinJoinVisualAnnotation:null==r||null===(i=r.pin_join)||void 0===i?void 0:i.visual_annotation,pinJoinAnnotationsWithLinks:null==r||null===(n=r.pin_join)||void 0===n?void 0:n.annotations_with_links})}function b(e){return e.graphqlRef?(0,m.jsx)(y,{...e}):(0,m.jsx)(x,{...e})}},683350:(e,t,i)=>{i.d(t,{Z:()=>b});var n=i(667294),r=i(702664),a=i(927104),o=i(941646),s=i(52022),l=i(539497),d=i(50286),c=i(883119),u=i(785893);function p({boardUrl:e,boardName:t,boardPrivacy:i,pinnerFullName:n,pinnerImageSmallUrl:r,pinnerImageLargeUrl:a}){const p=(0,d.HG)(),h=(0,s.Z)();if(!e||!t)return null;const m=e.split("/")[1],g=n||m,_=r||a;return(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[_?(0,u.jsx)(c.iP,{role:"link",href:`/${m}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,l.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator`),h({action:"click",item:"see-more-button-creator"})},children:(0,u.jsx)(c.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,u.jsx)(c.Ee,{naturalHeight:32,naturalWidth:32,alt:g,fit:"cover",color:"rgb(231, 186, 176)",src:_})})},"profile-link"):null,(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,u.jsx)(o.Z,{id:"see-more-button-creator-full-name",children:(0,u.jsx)(c.iP,{onTap:()=>{(0,l.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator-full-name`),h({action:"click",item:"see-more-button-creator-full-name"})},children:(0,u.jsx)(c.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,u.jsx)(c.rU,{href:`/${m}/`,inline:!0,tapStyle:"compress",underline:"hover",children:g},"profile-link")},"profileLink")})}),"protected"===i?null:(0,u.jsx)(c.xv,{color:"default",inline:!0,size:"100",children:(0,u.jsx)(c.rU,{href:null!=e?e:"",inline:!0,tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var h,m=i(898781),g=i(364245),_=i(349700),v=i(780280),f=i(389920),y=i(167912);const x=void 0!==h?h:h=i(877821);function b({onClickTitleOrDomain:e,title:t,description:i,pinId:o,graphqlRef:h,pinCreditPrefix:b,pinDomain:w,boardId:P,boardUrl:S,boardName:T,boardPrivacy:k,pinnerFullName:I,pinnerImageSmallUrl:j,pinnerImageLargeUrl:C}){const A=(0,m.ZP)(),{isSeoBot:E}=(0,r.useSelector)((({session:e})=>e)),D=(0,d.ml)(),R=(0,d.Wb)(),{isAuthenticated:L}=(0,v.B)(),O=(0,s.Z)(),F=(0,y.useFragment)(x,h),z=!L&&!E&&D,M=e||null,[N,Z]=(0,n.useState)(!1),U=(0,f.si)(),B=(0,f.Re)(),H=(t||"").length>B,V=i.length>U,[W,$]=(0,n.useState)(!V&&!H);return(0,u.jsxs)(c.xu,{children:[(0,u.jsxs)(c.xu,{children:[(0,u.jsxs)(c.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,u.jsx)(c.X6,{color:"default",size:"300",accessibilityLevel:3,children:N||E?t:(0,a.Z)(t||"",B)}),!!t&&(0,u.jsx)(c.xu,{height:i?8:0}),i&&(V||H)?(0,u.jsxs)(c.iP,{onTap:()=>{N||L||((0,l.NC)("click_open_description_in_sheet"),O({action:"click",item:"more-description-in-sheet"})),$(!W),Z(!N)},fullWidth:!1,children:[(0,u.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:N||E?i:(0,a.Z)(i,U)}),(0,u.jsx)(c.xu,{display:"inlineBlock",paddingX:1,children:(0,u.jsx)(c.xv,{weight:"bold",size:"200",inline:!0,children:N||E?A._('Less', 'Toggle less description button', 'Toggle less description button'):A._('More', 'Toggle more description button', 'Toggle more description button')})})]}):(0,u.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:i})]}),z&&(W||E)&&!!w&&(0,u.jsx)(c.xu,{marginTop:2,children:(0,u.jsx)(c.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,_.nk)(A._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,u.jsx)(c.xu,{display:"inlineBlock",children:(0,u.jsx)(c.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,u.jsx)(c.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,u.jsx)(c.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),O({action:"click",item:"pin-domain-link"}),(0,l.My)("mweb_pin_page.pin_link.clickthrouh"),L||(0,l.NC)("click_pin_closeup_link_clickthrough"),M&&M()},tapStyle:"compress",children:(0,u.jsx)(c.xv,{size:"200",lineClamp:1,children:(0,u.jsx)("span",{style:{textDecoration:"underline"},children:w})},"pinLinkDomain")})},"pinCredits")})})})]}),!!P&&(W||E)&&(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(p,{boardUrl:S,boardName:T,boardPrivacy:k,pinnerFullName:I,pinnerImageSmallUrl:j,pinnerImageLargeUrl:C})}),(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(g.Z,{pinId:o,mode:"expanded",graphqlRef:F})})]})}},474635:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(667294),r=i(735079),a=i(949372),o=i(53987),s=i(407043),l=i(385740),d=i(52022),c=i(539497),u=i(276775),p=i(785893);function h({children:e,componentType:t,within:i}){const h=(0,u.useLocation)(),{flushContextEvents:m,logContextEvent:g}=(0,s.v)(),{viewType:_,viewParameter:v}=(0,l.SU)(),f=(0,d.Z)();(0,n.useEffect)((()=>{f({action:"view",item:"download-button",within:i})}),[h,i,f]);const y=(0,n.useRef)(!1);(0,n.useEffect)((()=>{_&&(g({component:t||13106,element:10308,event_type:9976,view_type:_||32,view_parameter:v,aux_data:{app_upsell_type:i,app_upsell_is_dupe:y.current}}),y.current=!0)}),[t,g,v,_,i]);const x=(0,a.Z)();return(0,n.useEffect)((()=>{x||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${i}`)}),[x,i]),(0,p.jsx)(r.Z,{children:n=>e({handleOpenApp:e=>{var r;(f({action:"click",item:"download-button",within:i}),(0,c.NC)("press_open_app",!0),g({component:t||13106,element:10308,event_type:102,view_type:_||32,view_parameter:v,aux_data:{app_upsell_type:i}}),g({component:t||13106,element:10308,event_type:9977,view_type:_||32,view_parameter:v,aux_data:{app_upsell_type:i}}),m(!0),n)&&(g({component:t||13106,element:10308,event_type:1701,view_type:_||32,view_parameter:v,aux_data:{app_upsell_type:i}}),n(null!==(r=null==e?void 0:e.deepLinkUri)&&void 0!==r?r:(e=>"/"===e.pathname?"/":(0,o.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(h)))}})})}},205443:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(702664),r=i(104788),a=i(430322),o=i(898781),s=i(287072),l=i(19121),d=i(968228),c=i(773285),u=i(194095),p=i(883119),h=i(785893);const m=({isOpen:e,onDismiss:t,onOpenInApp:i,to:u})=>{const m=(0,o.ZP)(),{isTablet:g,userAgent:_,userAgentPlatform:v}=(0,n.useSelector)((({session:e})=>e)),{checkExperiment:f}=(0,c.F)(),{isAuth:y}=(0,l.Z)(),x=(0,d.Rp)({platform:v,userAgent:_}),b=(0,s.Z)({href:null!=u?u:""}),w=g?60:40,P=y?f("mweb_auth_app_upsell_modal_copy_change_v2").group:"";let S=m._('The best experience is on the app', 'mweb.auth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp');"enabled_1"===P&&(S=m._('There\'s more to see in the app', 'mweb.auth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_2"===P&&(S=m._('It\'s better in the app (we promise!)', 'mweb.auth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_3"===P&&(S=m._('So much more in the app', 'mweb.auth.app_upsell.app_value_prop3', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp'));let T=m._('Free, unlimited access to ideas', 'mweb.auth.app_upsell.description', 'Mobile Web App Upsell subheading informing the user the value of downloading the app');"enabled_1"===P&&(T=m._('Try the latest features and see what you like', 'mweb.auth.app_upsell.description1', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_2"===P&&(T=m._('Newer features, faster searching, and more', 'mweb.auth.app_upsell.description2', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_3"===P&&(T=m._('Videos, AR try-on and the fastest browsing experience', 'mweb.auth.app_upsell.description3', 'Mobile Web App Upsell subheading informing the user the value of downloading the app'));let k=m._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text', 'Button to get the Pinterest app');return"enabled_1"===P&&(k=m._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest app')),"enabled_2"===P&&(k=m._('Try the app', 'mweb.auth.app_upsell.app_upsell_button_text2', 'Button to get the Pinterest app')),"enabled_3"===P&&(k=m._('Try it out', 'mweb.auth.app_upsell.app_upsell_button_text3', 'Button to get the Pinterest app')),(0,h.jsx)(a.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsxs)(p.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(p.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(p.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(p.hU,{accessibilityLabel:m._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{t({event:e}),b&&!e.defaultPrevented&&(i(),b({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(p.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(p.xu,{paddingY:2,justifyContent:"center",display:"flex",children:x?(0,h.jsx)(r.Z,{size:w}):(0,h.jsx)(p.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:w})}),(0,h.jsxs)(p.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(p.xu,{paddingY:2,children:(0,h.jsx)(p.X6,{align:"center",size:"400",children:x?m._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):S})}),(0,h.jsx)(p.xv,{align:"center",size:"300",children:x?m._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):T}),(0,h.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(p.zx,{fullWidth:!0,size:"lg",color:"red",onClick:i,text:k})})]})]})]})})};function g({clientTrackingParams:e,isOpen:t,onDismiss:i,onOpenInApp:n,shouldTrackDismiss:r,to:a,viewParameter:o,viewType:s}){return(0,h.jsx)(u.Z,{clientTrackingParams:e,viewType:s,viewParameter:o,children:(0,h.jsx)(m,{isOpen:t,onDismiss:e=>{r&&(0,u.y)(),i(e)},onOpenInApp:()=>{(0,u.y)(),n()},to:a})})}},194095:(e,t,i)=>{i.d(t,{Z:()=>u,y:()=>c});var n=i(667294),r=i(807609),a=i(674806),o=i(30287),s=i(622096),l=i(957161),d=i(785893);const c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:i,viewType:s}){return(0,r.Z)()||(0,o.FP)(window)?null:(0,d.jsx)(a.Z,{viewType:s,viewParameter:i,component:13106,clientTrackingParams:t,children:(0,d.jsx)(n.Fragment,{children:e})})}},780622:(e,t,i)=>{i.d(t,{G:()=>l,L:()=>s});var n=i(667294),r=i(425288),a=i(785893);const{Provider:o,useHook:s}=(0,r.Z)("AppUpsell");function l({children:e}){const[t,i]=(0,n.useState)(""),[r,s]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),c=(0,n.useCallback)((e=>{i(e)}),[]),u=(0,n.useCallback)((e=>{s(e)}),[]),p=(0,n.useCallback)((e=>{d(e)}),[]),h=(0,n.useMemo)((()=>({type:t,setTypeVal:c,appUpsellFooterScrollDismissed:r,setAppUpsellFooterScrollDismissedVal:u,showLearningRelatedPinAppUpsell:l,setShowLearningRelatedPinAppUpsellVal:p})),[t,c,r,u,l,p]);return(0,a.jsx)(o,{value:h,children:e})}},949372:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(702664);const r=()=>(0,n.useSelector)((({session:{canUseNativeApp:e}})=>e))},217508:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(898781),r=i(883119),a=i(785893);function o({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:i,size:o=20}){const s=(0,n.ZP)();return(0,a.jsx)(r.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:o,height:o,rounding:"circle",justifyContent:"center",children:(0,a.jsx)(r.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"lock",size:null!=i?i:o/2})})}},32509:(e,t,i)=>{i.d(t,{Z:()=>s,e:()=>o});var n=i(702664),r=i(883119),a=i(785893);const o=new r.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const i=(0,n.useSelector)((({session:e})=>e.isAuthenticated));return(0,a.jsxs)(r.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:i?void 0:o,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,a.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},217013:(e,t,i)=>{i.d(t,{R:()=>a,q:()=>r});var n=i(425288);const{Provider:r,useHook:a}=(0,n.Z)("CloseupPageContext")},319670:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(749771),r=i(883119),a=i(785893);function o({title:{format:e,args:{query:t}}}){return(0,a.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,a.jsx)(r.xu,{marginBottom:2,paddingX:4,children:(0,a.jsx)(r.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,a.jsx)(n.Z,{query:t,showHeaderText:!1})]})}},907620:(e,t,i)=>{i.d(t,{N:()=>x,Z:()=>b});var n=i(667294),r=i(223815),a=i(529285),o=i(898781),s=i(52022),l=i(539497),d=i(883119),c=i(785893);function u({icon:e}){const{hide:t}=(0,a.Z)(),i=(0,o.ZP)(),n=(0,s.Z)();return(0,c.jsx)(r.Z,{children:(0,c.jsx)(d.xu,{"data-test-id":"expandButton",children:(0,c.jsx)(d.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:i._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),n({action:"click",item:"expand-button",within:"pin-image"}),t()}})})})}var p=i(700380),h=i(50286),m=i(792182),g=i(32509),_=i(444445),v=i(773285);const f=.3,y=.75,x=new d.H3([g.e]),b=({children:e,closableDrawer:t})=>{var i;const{hide:r}=(0,a.Z)(),o=(0,n.useRef)(null),s=(0,n.useRef)(null),[l,g]=(0,n.useState)(null),[b,w]=(0,n.useState)(0),[P,S]=(0,n.useState)(!1),T=(null===(i=(0,m.Z)())||void 0===i?void 0:i.height)||0,[k,I]=(0,n.useState)(!1),j=(0,h.ZP)(),{checkExperiment:C}=(0,v.F)(),A=null!=l?l:.75*T,E=()=>{var e;const t=(null===(e=o.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&T>0?t-T*f+60:0};return(0,n.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=o.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+A>t&&r()};e();const t=(0,p.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[r,A]),(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(d.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:x,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...P?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&P?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:s,onTouchStart:e=>{const{clientY:t}=e.touches[0];w(t),S(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],i=null!=l?l:.75*window.innerHeight,n=t-b;if(null!==i&&n){const e=T*f,t=T*y,a=Math.floor(Math.min(t,Math.max(e,i+n)));g(a);const o=E();if(T>0&&o>0){const e=o*(r=a/T,1-(Math.max(f,Math.min(y,r))-f)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}a<.525*T&&I(!0)}var r;w(t)},onTouchEnd:()=>{if(k){S(!0);g(T*f);const e=E();e&&window.scrollTo({top:e,behavior:"smooth"}),I(!1)}},children:["desktop"!==j&&(t?(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,c.jsx)(u,{icon:"cancel"})}):!C("pcons_remove_expand_button").anyEnabled&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,right:!0,children:(0,c.jsx)(d.xu,{position:"absolute",bottom:!0,right:!0,children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsx)(u,{})})})})),(0,c.jsx)(d.xu,{paddingX:_.D6,children:e})]}),(0,c.jsx)(d.xu,{ref:o,height:"100vh"})]})}},997440:(e,t,i)=>{i.d(t,{IS:()=>_,Ys:()=>g,ZP:()=>S,j$:()=>y});var n,r=i(134185),a=i(50286),o=i(349700),s=i(578661),l=i(923297),d=i(802201),c=i(898781),u=i(883119),p=i(167912),h=i(785893);const m=void 0!==n?n:n=i(906587),g=({m:e,h:t,rm:i,rh:n},r)=>e&&(!t||n<=0)?(0,o.nk)(r.ngettext('{{mins}} minute', '{{mins}} minutes', i, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):t?(0,o.nk)(r.ngettext('{{hrs}} hour', '{{hrs}} hours', n, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:n.toString()}):null,_=({m:e,h:t,rm:i,rh:n,i18n:r})=>e&&(!t||n<=0)?(0,o.nk)(r._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:i.toString()}):t?(0,o.nk)(r._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):null,v=(e,t)=>{const i=e&&e.length>0&&e.join(", "),n=t&&t.summary;return i&&n?`${i}  ${n}`:i||n},f=e=>e?e.reduce(((e,t)=>{var i,n;return e+(null!==(i=null===(n=t.ingredients)||void 0===n?void 0:n.length)&&void 0!==i?i:0)}),0):0,y=({cookTimesCookM:e,cookTimesCookH:t,cookTimesTotalM:i,cookTimesTotalH:n,hasCookTimesTotal:r,i18n:a})=>{let o;return o=r?(0,l.X)({m:i||0,h:n||0}):(0,l.X)({m:e||0,h:t||0}),g(o,a)};function x({category:e,ingredients:t,textSize:i="300"}){return(0,h.jsxs)(u.xu,{marginBottom:4,children:[e&&(0,h.jsx)(u.xu,{children:(0,h.jsx)(u.xv,{weight:"bold",size:i,children:e})}),(null!=t?t:[]).map((e=>{var t,n;return(0,h.jsx)(u.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,h.jsxs)(u.xv,{size:i,children:[e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(n=e.name)&&void 0!==n?n:""}`)}))]})}const b=({categorizedIngredients:e,cookTimes:t,image:i,ingredientCount:n,ingredientsDescription:o,name:l,pinLink:d})=>{var p,m,g,_;const v=(0,c.ZP)(),f=(0,a.ZP)();return y({cookTimesCookM:null==t||null===(p=t.cook)||void 0===p?void 0:p.m,cookTimesCookH:null==t||null===(m=t.cook)||void 0===m?void 0:m.h,cookTimesTotalM:null==t||null===(g=t.total)||void 0===g?void 0:g.m,cookTimesTotalH:null==t||null===(_=t.total)||void 0===_?void 0:_.h,hasCookTimesTotal:!(!t||!t.total),i18n:v})||n||o?(0,h.jsxs)(u.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,h.jsxs)(u.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,h.jsx)(u.xu,{marginBottom:4,children:(0,h.jsx)(u.xv,{weight:"bold",align:"desktop"===f?"start":"center",children:v._('Ingredients', 'Ingredients category heading for recipes', 'Ingredients category heading for recipes')})}),(0,h.jsxs)(r.Z,{itemScope:!0,itemType:s.G,children:[(0,h.jsx)("meta",{content:l,itemProp:"name"}),i&&(0,h.jsx)("meta",{content:i,itemProp:"image"}),Array.isArray(e)&&e.length>0&&(0,h.jsx)(u.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},i)=>(0,h.jsx)(u.xu,{marginBottom:2,children:(0,h.jsx)(x,{category:e,ingredients:t,textSize:"300"})},i)))})]})]}),(0,h.jsx)(u.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===f?"center":void 0,children:d&&(0,h.jsx)(u.zx,{text:v._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link'),role:"link",href:d,target:"blank"})})]}):null},w=({graphqlRef:e})=>{const t=(0,p.useFragment)(m,e),{imageSpec_474x:i,link:n,richMetadata:r}=t,a=null==r?void 0:r.recipe,o=null==a?void 0:a.categorizedIngredients,s=f(o),l=(null==a?void 0:a.categorizedIngredients)&&v(a.diets,a.servingsSummary);return(0,h.jsx)(b,{categorizedIngredients:o,cookTimes:null==a?void 0:a.cookTimes,image:null==i?void 0:i.url,ingredientCount:s,ingredientsDescription:l,name:null==a?void 0:a.name,pinLink:n})},P=({pinId:e})=>{var t,i;const n=(0,d.S6)()(e),r=(null==n||null===(t=n.rich_metadata)||void 0===t?void 0:t.recipe)||{},{cook_times:a,name:o,categorized_ingredients:s,diets:l,servings_summary:c}=r,u=f(s),p=s&&v(l,c);return(0,h.jsx)(b,{categorizedIngredients:s,cookTimes:a,image:(null===(i=((null==n?void 0:n.images)||{})["474x"])||void 0===i?void 0:i.url)||"",ingredientCount:u,ingredientsDescription:p,name:o,pinLink:(null==n?void 0:n.link)||""})};function S({graphqlRef:e,pinId:t}){return e?(0,h.jsx)(w,{graphqlRef:e}):(0,h.jsx)(P,{pinId:t})}},458843:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>{switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},389920:(e,t,i)=>{i.d(t,{Ph:()=>r,Re:()=>o,si:()=>a});var n=i(50286);const r=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,a=()=>"phone"!==(0,n.ZP)()?180:130,o=()=>"phone"!==(0,n.ZP)()?180:80},529285:(e,t,i)=>{i.d(t,{Z:()=>d,t:()=>l});var n=i(667294),r=i(539497),a=i(276775),o=i(785893);const s=(0,n.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function l({children:e,isEligible:t}){const[i,l]=(0,n.useState)(!t),[d,c]=(0,n.useState)(!1),{pathname:u}=(0,a.useLocation)();(0,n.useEffect)((()=>{l(!t)}),[u,t]);const p=(0,n.useCallback)((()=>{(0,r.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),h=(0,n.useCallback)((e=>{c(!!e)}),[]),m=(0,n.useMemo)((()=>({isHidden:i,hide:p,isScrolledToPins:d,scrollToPins:h})),[i,p,d,h]);return(0,o.jsx)(s.Provider,{value:m,children:e})}const d=()=>(0,n.useContext)(s)},250946:(e,t,i)=>{i.d(t,{Z:()=>o});var n,r=i(167912);const a=void 0!==n?n:n=i(96795);const o=e=>function(e){var t,i,n,r,a,o,s,l,d,c,u,p,h,m,g,_,v,f,y,x,b,w,P,S,T,k,I;return{"60x60":{height:(null==e||null===(t=e.imageSpec_60x60)||void 0===t?void 0:t.height)||void 0,url:(null==e||null===(i=e.imageSpec_60x60)||void 0===i?void 0:i.url)||void 0,width:(null==e||null===(n=e.imageSpec_60x60)||void 0===n?void 0:n.width)||void 0},"136x136":{height:(null==e||null===(r=e.imageSpec_136x136)||void 0===r?void 0:r.height)||void 0,url:(null==e||null===(a=e.imageSpec_136x136)||void 0===a?void 0:a.url)||void 0,width:(null==e||null===(o=e.imageSpec_136x136)||void 0===o?void 0:o.width)||void 0},"170x":{height:(null==e||null===(s=e.imageSpec_170x)||void 0===s?void 0:s.height)||void 0,url:(null==e||null===(l=e.imageSpec_170x)||void 0===l?void 0:l.url)||void 0,width:(null==e||null===(d=e.imageSpec_170x)||void 0===d?void 0:d.width)||void 0},"236x":{height:(null==e||null===(c=e.imageSpec_236x)||void 0===c?void 0:c.height)||void 0,url:(null==e||null===(u=e.imageSpec_236x)||void 0===u?void 0:u.url)||void 0,width:(null==e||null===(p=e.imageSpec_236x)||void 0===p?void 0:p.width)||void 0},"474x":{height:(null==e||null===(h=e.imageSpec_474x)||void 0===h?void 0:h.height)||void 0,url:(null==e||null===(m=e.imageSpec_474x)||void 0===m?void 0:m.url)||void 0,width:(null==e||null===(g=e.imageSpec_474x)||void 0===g?void 0:g.width)||void 0},"564x":{height:(null==e||null===(_=e.imageSpec_564x)||void 0===_?void 0:_.height)||void 0,url:(null==e||null===(v=e.imageSpec_564x)||void 0===v?void 0:v.url)||void 0,width:(null==e||null===(f=e.imageSpec_564x)||void 0===f?void 0:f.width)||void 0},"736x":{height:(null==e||null===(y=e.imageSpec_736x)||void 0===y?void 0:y.height)||void 0,url:(null==e||null===(x=e.imageSpec_736x)||void 0===x?void 0:x.url)||void 0,width:(null==e||null===(b=e.imageSpec_736x)||void 0===b?void 0:b.width)||void 0},"600x315":{height:(null==e||null===(w=e.imageSpec_600x315)||void 0===w?void 0:w.height)||void 0,url:(null==e||null===(P=e.imageSpec_600x315)||void 0===P?void 0:P.url)||void 0,width:(null==e||null===(S=e.imageSpec_600x315)||void 0===S?void 0:S.width)||void 0},orig:{height:(null==e||null===(T=e.imageSpec_orig)||void 0===T?void 0:T.height)||void 0,url:(null==e||null===(k=e.imageSpec_orig)||void 0===k?void 0:k.url)||void 0,width:(null==e||null===(I=e.imageSpec_orig)||void 0===I?void 0:I.width)||void 0}}}((0,r.useFragment)(a,e))},708605:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(121093),r=i(839534),a=i(785893);const o=({anchors:e,experience:t,idealDirection:i,onCompleteByAnchor:o={},placementId:s,positionRelativeToAnchor:l,touchToDismiss:d,useMasonryFlyout:c})=>(0,a.jsx)(n.Z,{experience:t,placementId:s,predicate:t=>{const{display_data:i,placement_id:n}=t;if(2===(null==i?void 0:i.component_type)){const{anchors_by_platform:t}=i;if(null!=t&&t.web_mobile){const{anchor:i,placement:r}=t.web_mobile;return r===n&&i in e}}return!1},children:({complete:t,dismiss:n,experience:s})=>(0,a.jsx)(r.Z,{anchors:e,complete:()=>t(1),dismiss:n,displayData:s.display_data,idealDirection:i,onCompleteByAnchor:o,platform:"web_mobile",positionRelativeToAnchor:l,touchToDismiss:d,useMasonryFlyout:c})})},127009:(e,t,i)=>{i.d(t,{Z:()=>xe});var n=i(460628),r=i.n(n),a=i(416131),o=i.n(a),s=i(483010),l=i.n(s),d=i(808310),c=i.n(d),u=i(963421),p=i.n(u),h=i(549658),m=i.n(h),g=i(275441),_=i.n(g),v=i(916611),f=i.n(v),y=i(344191),x=i.n(y),b=i(614860),w=i.n(b),P=i(317343),S=i.n(P),T=i(443140),k=i.n(T),I=i(522940),j=i.n(I),C=i(325634),A=i.n(C),E=i(204554),D=i.n(E),R=i(294700),L=i.n(R),O=i(594701),F=i.n(O),z=i(253833),M=i.n(z),N=i(495297),Z=i.n(N),U=i(296875),B=i.n(U),H=i(231596),V=i.n(H),W=i(846653),$=i.n(W),G=i(47786),K=i.n(G),q=i(830866),Y=i.n(q),X=i(375664),J=i.n(X),Q=i(214298),ee=i.n(Q),te=i(647887),ie=i.n(te),ne=i(114200),re=i.n(ne),ae=i(813150),oe=i.n(ae),se=i(246184),le=i.n(se),de=i(935563),ce=i.n(de),ue=i(199081),pe=i.n(ue),he=i(671157),me=i.n(he),ge=i(898781),_e=i(968228),ve=i(883119),fe=i(785893);const ye={"AR-SA":r(),"ZH-CN":pe(),"ZH-TW":me(),CS:o(),DA:l(),DE:c(),EL:p(),EN:m(),ES:_(),FI:f(),FR:x(),HI:w(),HU:S(),ID:k(),IT:j(),JA:A(),KO:D(),ML:L(),MS:F(),NB:B(),NL:M(),NN:Z(),NO:B(),PL:V(),PT:$(),RO:K(),RU:Y(),SK:J(),SV:ee(),TH:ie(),TL:re(),TR:oe(),UK:le(),VI:ce()};function xe({locale:e}){const t=(0,ge.ZP)(),i=(0,_e.G3)(e),n=ye[i]||ye.EN,r=t._('Install the Pinterest app on Android', ' - ', ' -- ');return(0,fe.jsx)(ve.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:r})}},137618:(e,t,i)=>{i.d(t,{Z:()=>xe});var n=i(681384),r=i.n(n),a=i(747147),o=i.n(a),s=i(25078),l=i.n(s),d=i(622314),c=i.n(d),u=i(765409),p=i.n(u),h=i(690435),m=i.n(h),g=i(712627),_=i.n(g),v=i(387629),f=i.n(v),y=i(465843),x=i.n(y),b=i(951237),w=i.n(b),P=i(13820),S=i.n(P),T=i(990148),k=i.n(T),I=i(879191),j=i.n(I),C=i(59192),A=i.n(C),E=i(237258),D=i.n(E),R=i(424961),L=i.n(R),O=i(436044),F=i.n(O),z=i(206581),M=i.n(z),N=i(300633),Z=i.n(N),U=i(690532),B=i.n(U),H=i(749406),V=i.n(H),W=i(370960),$=i.n(W),G=i(535389),K=i.n(G),q=i(590716),Y=i.n(q),X=i(482925),J=i.n(X),Q=i(370216),ee=i.n(Q),te=i(926410),ie=i.n(te),ne=i(777172),re=i.n(ne),ae=i(305067),oe=i.n(ae),se=i(621216),le=i.n(se),de=i(826132),ce=i.n(de),ue=i(729566),pe=i.n(ue),he=i(972841),me=i.n(he),ge=i(898781),_e=i(968228),ve=i(883119),fe=i(785893);const ye={"AR-SA":r(),"ZH-CN":pe(),"ZH-TW":me(),CS:o(),DA:l(),DE:c(),EL:p(),EN:m(),ES:_(),FI:f(),FR:x(),HI:w(),HU:S(),ID:k(),IT:j(),JA:A(),KO:D(),ML:L(),MS:F(),NB:B(),NL:M(),NN:Z(),NO:B(),PL:V(),PT:$(),RO:K(),RU:Y(),SK:J(),SV:ee(),TH:ie(),TL:re(),TR:oe(),UK:le(),VI:ce()};function xe({locale:e}){const t=(0,ge.ZP)(),i=(0,_e.G3)(e),n=ye[i]||ye.EN,r=t._('Install the Pinterest app on iOS', ' - ', ' -- ');return(0,fe.jsx)(ve.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:r})}},459523:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),r=i(391254),a=i(454564),o=i(50286),s=i(444445),l=i(883119),d=i(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),h=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,o.ZP)(),i=t?s.yF:s.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,a.Z)({name:e,width:i,height:t}))).join("")}),(0,d.jsx)(l.xu,{marginStart:s.qG,marginEnd:s.qG,children:t?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:s.jC,column:0},children:[(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},454564:(e,t,i)=>{i.d(t,{Z:()=>n});const n=({name:e,width:t,height:i})=>{const n=`${i}${"number"==typeof i?"px":""}`,r="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${r} ${n};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${n};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${r}px 0;\n  }\n  100% {\n      background-position: ${r}px 0;\n  }\n}\n`}},500594:(e,t,i)=>{i.d(t,{Bb:()=>v,Bx:()=>d,DF:()=>o,F4:()=>l,OG:()=>a,Qj:()=>c,_6:()=>_,gv:()=>s,hg:()=>u,is:()=>m,jP:()=>g,lt:()=>r,oM:()=>p,wI:()=>h});var n=i(826067);const r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e.pathname,o=e=>{var t;return null!==(t=null==e?void 0:e._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==t?t:"You'll need to log in to do that"},s=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{const t=(0,n.mB)(e.search).board_url;if(t){const e=(0,n.Jx)(t),i=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},d=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),c=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),p=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),h=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),g=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),v=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},722647:(e,t,i)=>{i.d(t,{L:()=>l,T:()=>s});var n=i(667294),r=i(425288),a=i(785893);const{Provider:o,useMaybeHook:s}=(0,r.Z)("MainPinSwipeContextType");function l({children:e}){const[t,i]=(0,n.useState)(!1),[r,s]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(0),[p,h]=(0,n.useState)(!1),m=(0,n.useMemo)((()=>({showMainPinSwipeOverlay:t,setShowMainPinSwipeOverlay:i,lastMainPinSwipeDirection:r,setLastMainPinSwipeDirection:s,firstRelatedPinId:l,setFirstRelatedPinId:d,numOfMainPinSwipes:c,setNumOfMainPinSwipes:u,shouldShowMainPinSwipeAppUpsell:p,setShouldShowMainPinSwipeAppUpsell:h})),[t,i,r,s,l,d,c,u,p,h]);return(0,a.jsx)(o,{value:m,children:e})}},987798:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(643010),r=i(773285),a=i(883119),o=i(785893);function s({color:e,image:t,isSelected:i,title:s}){var l,d,c;const{checkExperiment:u}=(0,r.F)();return(0,o.jsxs)(a.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,n.Yc)()&&u("mweb_pill_rep_dark_mode").anyEnabled?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(a.zd,{height:48,rounding:"circle",width:48,children:(0,o.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(l=t.height)&&void 0!==l?l:1,naturalWidth:null!==(d=t.width)&&void 0!==d?d:1,src:null!==(c=t.url)&&void 0!==c?c:""})}),(0,o.jsx)(a.xu,{marginStart:2,marginEnd:3,children:(0,o.jsx)(a.xv,{color:i?"inverse":(0,n.Yc)()?"light":"dark",weight:"bold",children:s})})]})}},568388:(e,t,i)=>{i.d(t,{Z:()=>m,z:()=>d});var n=i(667294),r=i(702664),a=i(391254),o=i(281180),s=i(883119),l=i(785893);const d=2500,c={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=(0,n.memo)((({children:e})=>{const t=(0,o.Tt)(),i=(0,r.useSelector)((({pins:e})=>{const i=null==t?void 0:t.last_repin_id;return i?e[i]:null})),n=(0,r.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!i||!n)return e;const{images:d}=i,{height:m,width:g,url:_}=(null==d?void 0:d["136x136"])||(null==d?void 0:d["236x"])||{};return(0,l.jsxs)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(a.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,l.jsxs)(s.xu,{position:"relative",children:[(0,l.jsxs)(s.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:c,children:[(0,l.jsx)(s.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,l.jsx)(s.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(s.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=g?g:1,naturalHeight:null!=m?m:1,src:null!=_?_:""})})})]}),(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:h,children:e})]})]})}))},622359:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294),r=i(376030),a=i(391254),o=i(883119),s=i(785893);function l({addedStyles:e,button:t,headerText:i,icon:r,iconOverride:l,minHeight:d,subHeaderText:c}){return(0,s.jsx)(o.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,s.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:d||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=l||(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,s.jsx)(o.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,s.jsx)(o.JO,{accessibilityLabel:r.accessibilityLabel,color:r.color,dangerouslySetSvgPath:r.dangerouslySetSvgPath,icon:r.icon,inline:r.inline,size:r.size})})]});return(0,s.jsx)(o.xu,{marginEnd:4,children:e})})(),(0,s.jsxs)(o.xu,{marginEnd:"auto",children:[(0,s.jsx)(o.xv,{color:"default",weight:"bold",children:i}),c&&(0,s.jsx)(o.xu,{paddingY:1,children:(0,s.jsx)(o.xv,{size:"300",color:"default",children:c})})]}),(0,s.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}i(794987);var d=i(223815),c=i(829407),u=i(898781),p=i(452130);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=(e,t)=>(e-t)/2,g=68,_=m(g,68),v=m(g,66),f=m(g,60),y="cubicBezier(0.25, 0.1, 0.25, 1)",x="encourageToastIconContainer",b="encourageToastIconRadiateBg",w="encourageToastIconRadiateRing",P={targets:`#${x}`,duration:300,scale:1.4,easing:y},S={targets:`#${x}`,duration:300,scale:1,easing:y,endDelay:1e3},T={targets:`#${x}`,duration:300,scale:.42,easing:y},k={targets:`#${b}`,duration:400,opacity:0,scale:1.6,easing:y},I={targets:`#${w}`,duration:650,opacity:0,scale:2,easing:y};function j({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class C extends n.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,r.Z)(k),(0,r.Z)(I),(0,r.Z)(P).finished.then((()=>{(0,r.Z)(S).finished.then((()=>{r.Z.set(`#${x}`,{transformOrigin:"top right"}),(0,r.Z)(T)}))}))}))})),h(this,"getHeaderText",(()=>{const{text:e}=this.props;return"string"==typeof e?e:e[0]?e[0]:e})),h(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}))),h(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),h(this,"renderAnimatedIcon",(()=>(0,s.jsxs)(o.xu,{height:g,position:"relative",width:g,children:[(0,s.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${f}px`,top:`${f}px`}},children:this.props.thumbnail}),(0,s.jsxs)(o.xu,{id:x,height:g,width:g,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,s.jsx)(o.xu,{color:"infoBase",id:b,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${_}px`,top:`${_}px`,transform:"scale(0)"}}}),(0,s.jsx)(o.xu,{id:w,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${v}px`,top:`${v}px`,transform:"scale(0)"}}}),(0,s.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:g,justifyContent:"center",minHeight:g,minWidth:g,position:"absolute",rounding:"circle",width:g,children:(0,s.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,i=e;return(0,s.jsx)(l,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:i?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function A(e){const{duration:t,onHide:i}=e,r=(0,u.ZP)(),[a,l]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),g=(0,n.useRef)(),_=()=>{l(!0),g.current=setTimeout(i,200)},v=()=>{g.current&&clearTimeout(g.current)};(0,c.Z)((()=>(setTimeout((()=>m(!0)),100),g.current=setTimeout(_,t||p.w),v)));let f=(0,s.jsx)(C,{...e,i18n:r});return e.href&&(f=(0,s.jsx)(o.rU,{href:e.href,onClick:_,rounding:"pill",tapStyle:"none",children:f})),(0,s.jsx)(d.Z,{children:(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...j({hiding:a,visible:h})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:f})})})}},862501:(e,t,i)=>{i.d(t,{L:()=>u,q:()=>p});var n=i(794987),r=i(557182),a=i(191363),o=i(898781),s=i(883119),l=i(785893);const d=()=>{const e=(0,o.ZP)();return e._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},c=()=>{const e=(0,o.ZP)();return e._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')},u=e=>({duration:5e3,thumbnail:(0,l.jsx)(s.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,l.jsx)(a.Z,{boardId:e})})}),p=({boardId:e,isFBC:t,isTop:i,pinId:a})=>{return{...(o=a?"pin":"board",u=null!=a?a:e,{duration:5e3,thumbnail:(0,l.jsx)(s.xu,{"data-test-id":"pin-save-toast",children:"pin"===o?(0,l.jsx)(r.Z,{borderRadius:4,pinId:u}):(0,l.jsx)(n.Z,{boardId:u,type:"thumbnail"})})}),...t?{text:[(0,l.jsx)(d,{},"0"),(0,l.jsx)(c,{},"1")]}:Object.freeze({}),top:i?28:void 0};var o,u}},523504:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(702664),r=i(568388),a=i(343341),o=i(185894);function s(){const e=(0,n.useDispatch)(),{showToast:t,showOneToast:i}=(0,a.F9)();return{showToast:t,showOneToast:i,showRepinConfirmation:(i,n)=>{n||e((0,o.WF)()),setTimeout((()=>{n||e((0,o.a5)()),t(i)}),r.z)}}}},867405:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);function a({borderRadius:e,description:t,imageUrl:i,imageHeight:a,imageWidth:o}){return(0,r.jsx)(n.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderRadius:e}},overflow:"hidden",children:(0,r.jsx)(n.Ee,{alt:null!=t?t:"",src:null!=i?i:"",fit:"cover",naturalHeight:null!=a?a:1,naturalWidth:null!=o?o:1,color:"#767676"})})}},557182:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(867405),r=i(606441),a=i(785893);function o({borderRadius:e,pinId:t,adhocPinData:i}){var o,s;const l=(0,r.N)(t)||i;if(!l)return null;const d=l.images&&(l.images.orig||l.images["736x"]||l.images["290x"]||l.images["236x"]);return(0,a.jsx)(n.Z,{borderRadius:e,description:l.description,imageUrl:(null==d?void 0:d.url)||(null==i?void 0:i.image_large_url),imageHeight:(null==d?void 0:d.height)||(null==i||null===(o=i.image_large_size_pixels)||void 0===o?void 0:o.height),imageWidth:(null==d?void 0:d.width)||(null==i||null===(s=i.image_large_size_pixels)||void 0===s?void 0:s.width)})}},195946:(e,t,i)=>{i.d(t,{A:()=>n});const n=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},927007:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(643010),r=i(883119),a=i(785893);function o({guide:e,guidedQuery:t,isSlot0Style:i=!1,onClick:o}){const{dominant_color:s,display:l}=e,d=(0,a.jsx)(r.iP,{role:"link",onTap:o,tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:s,whiteSpace:i?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:i?void 0:84,padding:4,rounding:"pill",children:(0,a.jsx)(r.xv,{align:i?"start":"center",color:i?(0,n.Yc)()?"inverse":"default":"inverse",lineClamp:i?2:void 0,size:"200",weight:i?"normal":"bold",children:l})})});return i?d:(0,a.jsx)(r.xu,{flex:"none",marginStart:-7,paddingX:4,children:d})}var s=i(112690),l=i(473535);const d=-1,c=0;function u({guides:e,isSlot0Style:t=!1,query:i}){const n=(0,s.Z)(),u=({position:e,term:t})=>e===d?t:e===c?`${t} ${i}`:`${i} ${t}`,p=e=>()=>{(0,l.U3)({logContextEvent:n,searchScope:"pins",searchTerm:e,rs:"guide"})},h=()=>e.map((e=>(0,a.jsx)(o,{guide:e,guidedQuery:u(e),isSlot0Style:t,onClick:p(i)},e.display)));return t?(0,a.jsx)(r.xu,{padding:2,children:(0,a.jsx)(r.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:h()})}):(0,a.jsx)(r.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,a.jsx)(r.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:h()})})}},209236:(e,t,i)=>{i.d(t,{Z:()=>U});var n=i(667294),r=i(702664),a=i(90771),o=i(31149),s=i(659522),l=i(214680),d=i(331744),c=i(172071),u=i(757146),p=i(785893);function h({size:e=56}){return(0,p.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,p.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var m=i(862960),g=i(941646),_=i(499128),v=i(464240),f=i(287072),y=i(89396),x=i(22641),b=i(467570),w=i(539497),P=i(773285),S=i(50286),T=i(167912),k=i(780280),I=i(898781),j=i(112690),C=i(52022),A=i(391968),E=i(833715),D=i(883119),R=i(957161),L=i(644035),O=i(343341);function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const z=56,M=String(86),N=({text:e})=>(0,p.jsx)(D.xv,{align:"center",size:"100",children:e});class Z extends n.PureComponent{constructor(...e){super(...e),F(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),F(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:i}=this.state;(0,E.sF)(i,t,e,this.showCopyToast)})),F(this,"showCopyToast",(()=>{var e,t,i,n;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,p.jsx)(_.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(i=(n=this.props).setShareSent)||void 0===i||i.call(n,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),F(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,E.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),F(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,R.qn)(A.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),F(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||A.F6.has(e)||(0,R.Nh)(A.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),F(this,"handleMessagingAppClick",(e=>{var t,i,n,r;null===(t=(i=this.props).onShare)||void 0===t||t.call(i),null===(n=(r=this.props).setShareSent)||void 0===n||n.call(r,!0),this.logShareClick(e),this.setFreshInviteCode(e),A.rO.has(e)||(0,R.Nh)(A.Cq,e),this.setNewAppOrder(e)})),F(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),F(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),F(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),F(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),F(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),F(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),F(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),F(this,"handleFacebookClick",(e=>{var t,i,n,r;const{isDesktop:a}=this.props;e.preventDefault(),null===(t=(i=this.props).onShare)||void 0===t||t.call(i),null===(n=(r=this.props).setShareSent)||void 0===n||n.call(r,!0),(0,w.My)(`pcons.${a?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"});const{inviteCode:o,invitePath:s,fbLoaded:l}=this.state;(0,E.Rh)(l,s,o||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),F(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),F(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:i,objectType:n,component:r,clientTrackingParams:a,logContextEvent:o,viewType:s,viewParameter:l}=this.props;(0,E.Iz)({inviteChannel:e,inviteCode:t,objectId:i,objectType:n,component:r,clientTrackingParams:a,logContextEvent:o,view_type:s,view_parameter:l})})),F(this,"copyButtonRef",null),F(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:i,Line:r,WhatsApp:a,Twitter:o,Viber:s,Telegram:l,CopyLink:d,Sms:c,ShareVia:u})=>{const h=this.getAppOrder(),m=new Map([[6,i],[10,a],[5,t],[9,o],[3,e],[8,r],[20,l],[22,s],[4,c],[12,d],[11,u]]);return(0,p.jsx)(n.Fragment,{children:h.map((e=>m.get(e)))})})),F(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var i,n;t(),null===(i=(n=this.props).onSave)||void 0===i||i.call(n),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,b.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),i.e(6527).then(i.t.bind(i,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:i}=this.props,{invitePath:n,inviteCode:r,title:a,message:o}=await(0,E.yP)(e,t,i,this.props.relayEnvironment),s={};n&&(s.invitePath=n),r&&(s.inviteCode=r),a&&(s.inviteTitle=a),o&&(s.inviteMessage=o),this.setState(s)}render(){const{isDesktop:e,objectType:t,onSave:i,showSaveOption:n,isAppleDevice:r}=this.props,{invitePath:_,inviteMessage:f,inviteTitle:b}=this.state,{emailShareLink:w,messengerShareLink:P,twitterShareLink:S,whatsappShareLink:T,lineShareLink:k,telegramShareLink:I,viberShareLink:j,smsShareLink:C}=(0,E.tA)({invitePath:_,inviteTitle:b,objectType:t,i18n:this.props.i18n,isDesktop:e}),A=({children:t})=>(0,p.jsx)(D.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${M}px`:"100%",children:t}),R=({children:e})=>(0,p.jsx)(D.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),L=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(g.Z,{id:"fbmessenger-share-icon",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,p.jsx)(u.Z,{size:z})})})}),(0,p.jsx)(N,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),O=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(g.Z,{id:"whatsapp-share-icon",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,p.jsx)(x.Z,{size:z})})})}),(0,p.jsx)(N,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),F=(0,p.jsx)(D.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,p.jsx)(s.Z,{size:z})})}),(0,p.jsx)(N,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),Z=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(g.Z,{id:"twitter-share-icon",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,p.jsx)(v.Z,{size:z})})})}),(0,p.jsx)(N,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),U=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,p.jsx)(d.Z,{size:z})})}),(0,p.jsx)(N,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),B=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,p.jsx)(y.Z,{size:z})})}),(0,p.jsx)(N,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),H=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,p.jsx)(m.Z,{size:z})})}),(0,p.jsx)(N,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),V=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(g.Z,{id:"email-share-button",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,p.jsx)(o.Z,{size:z})})})}),(0,p.jsx)(N,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),W=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var i,n;e.preventDefault(),null===(i=(n=this.props).onShare)||void 0===i||i.call(n),t();const r=f.indexOf("https://");navigator.share&&navigator.share({url:_,text:r>0?f.slice(0,r):f,title:b}).then((()=>{this.handleMessagingAppClick(11),c.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{c.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,p.jsx)(D.xu,{height:z,children:(0,p.jsx)(D.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,p.jsx)(N,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),$=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:r?(0,p.jsx)(l.Z,{size:z}):(0,p.jsx)(a.Z,{size:z})})}),(0,p.jsx)(N,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),G=(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:z,children:(0,p.jsx)(D.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,p.jsx)(N,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,p.jsxs)(D.xu,{children:[(0,p.jsx)(D.xu,{height:4}),(0,p.jsx)(D.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,p.jsxs)(D.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[n&&i&&(()=>(0,p.jsxs)(A,{children:[(0,p.jsx)(R,{children:(0,p.jsx)(D.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,p.jsx)(h,{size:z})})}),(0,p.jsx)(N,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:V,Facebook:F,FBMessenger:L,Line:U,WhatsApp:O,Twitter:Z,Viber:B,Telegram:H,CopyLink:G,Sms:$,ShareVia:W})]})}),(0,p.jsx)(D.xu,{height:16})]})}}function U(e){const t=(0,I.ZP)(),i=(0,S.HG)(),{showToast:n}=(0,O.F9)(),{country:a,locale:o}=(0,k.B)(),s=(0,f.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:l}=(0,P.F)(),d=(0,r.useSelector)((({session:e})=>e.userAgentPlatform)),c=d===L.RL||d===L.s4,u=l("graphql_migration_sharesheet_sgrowth_web").anyEnabled,h=(0,T.useRelayEnvironment)(),m=(0,j.Z)(),g=(0,C.Z)();return(0,p.jsx)(Z,{...e,country:a,i18n:t,isDesktop:i,locale:o,showToast:n,onNavigation:s,logContextEvent:m,isAppleDevice:c,relayEnvironment:u?h:void 0,trackInteraction:g})}},833715:(e,t,i)=>{i.d(t,{Iz:()=>_,Rh:()=>p,pW:()=>c,rL:()=>g,sF:()=>h,tA:()=>u,yP:()=>m});var n,r,a=i(6637),o=i(467570),s=i(867060),l=i(167912);const d={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function c({country:e,isDesktop:t,shouldShowNativeShare:i}){const{FBMessenger:n,WhatsApp:r,Facebook:a,Twitter:o,Email:s,Line:l,Telegram:c,Viber:u,Sms:p,CopyLink:h,ShareVia:m}=d;function g(){switch(e){case"US":return t?[r,a,o,s]:[p,n,r,a,o];case"ID":return t?[r,l,s,a]:[r,c,p,l,s,a];case"JP":case"TH":case"TW":return t?[l,o,s,a]:[l,s,p,o,a];case"GR":return t?[r,a,o,s]:[u,n,r,p,a,o];case"IR":case"IQ":return t?[r,a,o,s]:[r,c,p,n,o];case"UA":case"RU":return t?[r,a,o,s]:[r,u,c,a,n,p,o];default:return t?[r,a,o,s]:[r,n,p,a,o]}}return t?[h,...g()]:[...g(),h,...i?[m]:[]]}function u({invitePath:e,inviteTitle:t,objectType:i,i18n:n,isDesktop:r}){let a=n._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===i&&(a=n._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const s=`mailto:?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${o.GH}`,d=`${t}\n${e}`,c=r?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=r?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=r?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,h=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:s,messengerShareLink:l,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function p(e,t,i,n){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&n&&n()}))}function h(e,t,i,n){if(!i||!t)return;const r=new t(i,{text:()=>e});r.on("success",(e=>{n&&n(e)})),r.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function m(e,t,r,o){if(o)return((e,t,r,a,o)=>{const s=void 0!==n?n:n=i(865107),d={invite_category:t,invite_object:r,invite_channel:a};return(0,l.fetchQuery)(e,s,{inviteType:JSON.stringify(d),objectId:o}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,i,n,r;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(i=null==e?void 0:e.inviteUrl)&&void 0!==i?i:"",title:null!==(n=null==e?void 0:e.title)&&void 0!==n?n:"",message:null!==(r=null==e?void 0:e.message)&&void 0!==r?r:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(o,3,r,e.toString(),t);{const i=a.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:r,invite_channel:e},object_id:t}),n=await i.callCreate(),{invite_url:o,invite_code:s,title:l,message:d}=n.resource_response.data;return{inviteCode:s,invitePath:o,title:l,message:d}}}const g=(e,t,n,a,o,s)=>{const d=void 0!==r?r:r=i(361600),c={inviteType:JSON.stringify({invite_category:t,invite_object:n,invite_channel:a}),inviteCode:o,objectId:s};(0,l.commitMutation)(e,{mutation:d,variables:{...c}})};async function _({inviteChannel:e,inviteCode:t,objectId:i,objectType:n,component:r,clientTrackingParams:o,logContextEvent:l,view_parameter:d,view_type:c}){l({aux_data:{invite_object:n},object_id_str:i,component:r,clientTrackingParams:o,element:s.c[e],event_type:102,view_type:c,view_parameter:d}),a.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:n,invite_channel:e},invite_code:t,object_id:i,client_tracking_params:o}).callCreate()}},203345:(e,t,i)=>{i.r(t),i.d(t,{default:()=>G});var n=i(667294),r=i(209236),a=i(702664),o=i(766935),s=i(940519),l=i(936776),d=i(172071),c=i(6637),u=i(700380),p=i(784590),h=i(19121),m=i(479739),g=i(773285),_=i(281180),v=i(25719),f=i(116303),y=i(499128),x=i(898781),b=i(728214),w=i(349700),P=i(479301),S=i(883119),T=i(276775),k=i(343341),I=i(785893);function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class C extends n.PureComponent{constructor(...e){var t;super(...e),t=this,j(this,"state",{viewConversation:!1,isSent:!1,path:""}),j(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,I.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(S.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,I.jsx)(S.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,I.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(S.xu,{marginEnd:2,children:(0,I.jsx)(S.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,I.jsx)(S.xu,{marginEnd:2,children:(0,I.jsx)(S.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),j(this,"onViewConversation",(()=>{const{path:e}=this.state;d.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),j(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:i,i18n:n,isFullHeight:r,onDismiss:a,setShareSent:o,recipient:s,sendObject:l,showToast:c,email:u,updateCachedContactsAfterSend:p,userId:h}=t.props,m=e[l.objectType];t.setState({isSent:!0});try{const e=await i({user_ids:s?[s.id,h]:void 0,[m]:l.objectId,emails:u?[u]:void 0});if(e){const i=e.id;t.setState({path:`/conversation/${i}`,viewConversation:!0}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),o(!0),null==p||p(),!r&&a&&(c((({hideToast:e})=>(0,I.jsx)(y.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:n._('View the conversation', 'ContactItem.ConfirmationToast.a11yButtonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),label:n._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),onClick:t.onViewConversation},duration:4e3,onHide:e,text:(0,w.Wc)(n._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==s?void 0:s.full_name)||""}),iconThumbnail:(0,I.jsx)(f.Z,{size:"fit",src:(null==s?void 0:s.image_large_url)||"",name:(null==s?void 0:s.full_name)||""}),thumbnailShape:"circle"}))),a(i))}}catch(g){c((({hideToast:e})=>(0,I.jsx)(y.ZP,{variant:"error",text:(null==g?void 0:g.message_detail)||(null==g?void 0:g.message)||n._('Failed to create conversation.', 'ContactItem.errorToast.text', 'Error during message send from the share sheet'),onHide:e}))),t.setState({isSent:!1}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:g})}}}))}render(){var e,t,i,n;const{isFullHeight:r,recipient:a,email:o}=this.props,{isSent:s}=this.state;return!r&&a?(0,I.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,I.jsx)(S.iP,{onTap:()=>this.onInlineSend(),children:(0,I.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,I.jsx)(f.Z,{size:"fit",src:null!==(e=a.image_large_url)&&void 0!==e?e:"",name:null!==(t=a.full_name)&&void 0!==t?t:""})})}),(0,I.jsx)(S.xu,{width:56,children:(0,I.jsx)(S.xv,{lineClamp:1,size:"100",align:"center",children:a.full_name})})]}):(0,I.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[a?(0,I.jsx)(S.xu,{children:(0,I.jsx)(f.Z,{size:"md",src:null!==(i=a.image_large_url)&&void 0!==i?i:"",name:null!==(n=a.full_name)&&void 0!==n?n:""})}):o&&(0,I.jsx)(S.xu,{children:(0,I.jsx)(f.Z,{size:"md",name:o})}),(0,I.jsx)(S.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,I.jsx)(S.xv,{lineClamp:1,weight:"bold",children:a?a.full_name:o&&s?o:(0,w.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:o})})}),(0,I.jsx)(S.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:s?this.renderViewConversationButton():(0,I.jsx)(S.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}})})]})}}function A(e){const t=(0,T.useHistory)(),i=(0,x.ZP)(),n=(0,b.Z)(),{showToast:r}=(0,k.F9)(),a=(0,P.aX)();return(0,p.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,I.jsx)(C,{...e,createConversation:a,history:t,i18n:i,requireAuthForLimitedLogin:n,showToast:r})}var E=i(112690),D=i(379725);function R(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const L={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class O extends n.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:i}=this.state,n=t&&!this.props.fetching,r=this.getContactSuggestions();if(!i&&n){const e=r.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),R(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),R(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:i}=this.props,n={options:{user:t,term:e}};this.setState({value:e},i(n))})),R(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:i}=this.props,{value:n,defaultSuggestions:r}=this.state;if(!n)return r.filter((e=>i[e.id]))||[];const a=`share-suggestions:${t}:${n}`,o=`share-suggestions:${t}:${n.slice(0,-1)}`;return e[a]||e[o]||[]})),R(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:i,isFullHeight:n,onDismiss:r,sendObject:a,setShareSent:o,userId:s,users:d,updateCachedContactsAfterSend:c}=this.props,{loadingDefaultSuggestions:u,value:p}=this.state,h=this.getContactSuggestions(),m=t||u;let g;return g=!n&&m?107:"100%",m?(0,I.jsx)(S.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:g,paddingY:2,children:(0,I.jsx)(S.$j,{show:!0,accessibilityLabel:i._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===h.length&&!(0,l.Z)(p)&&p&&n?(0,I.jsx)(S.xu,{marginTop:3,children:(0,I.jsx)(S.xv,{align:"center",children:i._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,I.jsx)(S.kC,{direction:n?"column":"row",overflow:n?void 0:"hidden",children:(0,I.jsxs)(S.xu,{display:n?void 0:"flex",height:g,overflow:n?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:n?4:1,paddingY:0,children:[0===h.length&&(0,l.Z)(p)&&(0,I.jsx)(A,{email:p,isFullHeight:n,sendObject:a,setShareSent:o,userId:s}),!n&&(0,I.jsxs)(S.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,I.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,I.jsx)(S.hU,{accessibilityLabel:i._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:e,size:"xl"})}),(0,I.jsx)(S.xv,{lineClamp:1,size:"100",children:i._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),h.map((e=>{var t;return(0,I.jsx)(A,{isFullHeight:n,onDismiss:r,recipient:d[null!==(t=e.id)&&void 0!==t?t:""],sendObject:a,setShareSent:o,userId:s,updateCachedContactsAfterSend:c},e.id)}))]})})})),this.scrollerRef=(0,n.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:i,updateCachedShareSuggestions:n}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await i()||[];n(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await i()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:i}=this.props,r=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,I.jsx)(n.Fragment,{children:t?(0,I.jsxs)(S.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,I.jsx)(S.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?L:null},children:(0,I.jsx)(s.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:i,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:t})}),(0,I.jsx)(S.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:r,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,I.jsx)(S.xu,{children:this.renderContactSuggestions()})})}}function F(e){const t=(0,x.ZP)(),i=(0,_.kW)(),n=(0,E.Z)(),{id:r}=(0,h.Z)(),s=(0,a.useDispatch)();(0,p.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:r}});const l=(0,a.useSelector)((t=>(0,m.oF)(t,e))),u=(0,a.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),f=Object.keys(u||{}).some((e=>u[e].fetching)),{cachedShareSuggestions:y,clearCachedShareSuggestions:b,updateCachedShareSuggestions:w}=(0,v.$)(),P=async()=>{let e;const t=c.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var i;e=null===(i=(await t.callGet()).resource_response)||void 0===i?void 0:i.data}catch(n){d.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:S}=(0,g.F)(),T=S("mweb_cache_contacts_share").anyEnabled;return(0,I.jsx)(O,{...e,i18n:t,logContextEvent:n,users:i,searchContacts:e=>{(0,o.Z)(s((0,D.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:f,userId:r||"",typeaheadSuggestions:l,inContactsCacheExp:T,cachedShareSuggestions:y,getFreshContactSuggestions:P,updateCachedContactsAfterSend:async()=>{if(T){b();const e=await P();e&&w(e)}},updateCachedShareSuggestions:w})}var z=i(141280),M=i(121151),N=i(667679),Z=i(52022),U=i(539497),B=i(53987),H=i(50286);const V=14121,W=({heading:e,onDismiss:t})=>{const i=(0,x.ZP)();return(0,I.jsxs)(S.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,I.jsx)(S.xu,{display:"flex",alignItems:"center",padding:1,children:(0,I.jsx)(S.hU,{accessibilityLabel:i._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,I.jsx)(S.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,I.jsx)(S.xv,{align:"center",weight:"bold",children:(0,I.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},$=({children:e,isOpen:t,onDismiss:i,childPaddingX:n=3,shouldRenderCloseIcon:r,shouldRenderFullHeight:a,heading:o})=>{const s=(0,x.ZP)(),l={mobileAccessibilityCloseIconLabel:s._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:o,mobileHideCloseIcon:!r,isOpen:t,onDismiss:i,type:"share_menu"};return a?(0,I.jsxs)(z.Z,{isOpen:t,accessibilityModalLabel:o,children:[(0,I.jsx)(W,{heading:o,onDismiss:i}),e]}):(0,I.jsx)(M.ZP,{...l,children:(0,I.jsx)(S.xu,{marginTop:r?0:4,paddingX:n,children:e})})},G=({isOpen:e,onDismiss:t,objectType:i,objectId:a,hideContactsSuggestions:o,clientTrackingParams:s,element:l,viewType:c,viewParameter:u})=>{const p=(0,x.ZP)(),[m,_]=(0,n.useState)(!1),[v,f]=(0,n.useState)(!1),y=m||!o,b=(0,T.useLocation)(),w=(0,H.HG)(),{isAuth:P}=(0,h.Z)(),{checkExperiment:k}=(0,g.F)(),j=(0,N.Z)(),C=(0,E.Z)(),A=(0,Z.Z)(),D=e=>{k("mweb_share_menu_logging").anyEnabled&&C({clientTrackingParams:s,component:V,event_type:v||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:i}});const n=(e=>(0,B.cD)(e)?"profile_page":(0,B.am)(e)?"board_page":(0,B.uM)(e)?"pin_page":"unknown")(b),r=!w&&!P&&k("unauth_mweb_after_invite_signup_modal").anyEnabled;A({action:"click",item:"close-share-menu"}),t(),r&&v&&j({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap_unauth_${n}_share_menu_click_invite`}),f(!1),(0,U.My)(`mweb_${n}_share_menu.click_invite.close`)},R=k("mweb_share_menu_logging").anyEnabled;(0,n.useEffect)((()=>{e&&C({event_type:7120,component:V,object_id_str:a,clientTrackingParams:R?s:null,element:R?l:null,view_type:R?c:70,view_parameter:R?u:256,aux_data:R?{invite_object:i}:void 0})}),[e,k,R]);const L=(0,H.Wb)(),O=p._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),z=p._('Share', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),M=m?O:(0,I.jsx)(S.xu,{marginTop:0,children:(0,I.jsx)(S.xv,{align:"center",weight:"bold",size:"300",children:y?O:z})});return(0,I.jsx)($,{isOpen:e,onDismiss:m?()=>{_(!1),d.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>D(),shouldRenderFullHeight:m,shouldRenderCloseIcon:!0,childPaddingX:0,heading:M,children:(0,I.jsxs)(S.xu,{marginBottom:8,marginTop:m||!y?0:-4,maxWidth:L?440:"100%",children:[y&&(0,I.jsx)(F,{sendObject:{objectId:a,objectType:i},expandContactsList:()=>{_(!0),d.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:m,onDismiss:D,setShareSent:e=>f(e)}),!m&&(0,I.jsxs)(n.Fragment,{children:[y&&(0,I.jsxs)(S.xu,{marginTop:4,paddingX:4,children:[(0,I.jsx)(S.iz,{}),(0,I.jsx)(S.xu,{marginTop:8,children:(0,I.jsx)(S.xv,{align:"center",size:"300",weight:"bold",children:z})})]}),(0,I.jsx)(r.Z,{objectId:a,objectType:i,viewType:R?c:70,viewParameter:u,onDismiss:D,setShareSent:e=>f(e),clientTrackingParams:s,component:V})]})]})})}},25719:(e,t,i)=>{i.d(t,{$:()=>s,l:()=>l});var n=i(667294),r=i(425288),a=i(785893);const{Provider:o,useHook:s}=(0,r.Z)("ShareSuggestions");function l({children:e}){const[t,i]=(0,n.useState)(void 0),r=(0,n.useCallback)((()=>{i(void 0)}),[]),s=(0,n.useCallback)((e=>{i(e)}),[]),l=(0,n.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:r,updateCachedShareSuggestions:s})),[t,r,s]);return(0,a.jsx)(o,{value:l,children:e})}},391968:(e,t,i)=>{i.d(t,{B:()=>a,Cq:()=>r,F6:()=>u,RV:()=>n,VZ:()=>o,W_:()=>l,bm:()=>s,iS:()=>p,rO:()=>c,zn:()=>d});const n="animatedShareIconLastViewed",r="lastUsedSocialShare",a="customizedSocialAppOrder",o=44,s=9e5,l=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},940519:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(667294),r=i(883119),a=i(785893);class o extends n.Component{constructor(...e){var t,i,n;super(...e),n=e=>{e&&(this.searchRef=e)},(i="setSearchRef")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:i,onChange:n,onFocus:o,placeholder:s,value:l}=this.props;return(0,a.jsx)(r.Um,{accessibilityLabel:e,id:t,onBlur:i,onChange:n,onFocus:o,placeholder:s,ref:this.setSearchRef,size:"lg",value:l})}}},226343:(e,t,i)=>{i.d(t,{Z:()=>g,e:()=>p});var n=i(702664),r=i(240684),a=i(46584),o=i(131108),s=i(599997),l=i(883119),d=i(332611),c=i(785893);const u=(0,r.ZP)({resolved:{},chunkName:()=>"storyPins-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(58922).then(i.bind(i,501685)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 501685}}),p=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:i||t.metadata.thumbnail,src:t.url})}function g({buttonAction:e,buttonCustomization:t,buttonText:i,experience:r,hideCompleteButton:u,imageAlt:p,imageUrl:g,openNewTab:_,storyType:v,titleText:f,titleTextColor:y,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:w}){var P;const S=(0,n.useDispatch)(),{experience_id:T,placement_id:k}=r||{},I=(0,a.Z)({onVisibilityChanged:e=>{e&&r&&"viewed"!==r.status&&(r.status="viewed",S((0,d.UT)(k,T,!1,!0)))}}),j=(0,s.zn)(v),C=j?o.f8:o.hm,A=j?o.sH:o.HI,E=!j,{color:D,fontStyle:R,fontWeight:L,horizontalAlignment:O,fontSize:F}=(0,s.Mf)(x||{},"mweb"),{button_background_color:z,button_text_color:M}=t||{};return(0,c.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:I,children:(0,c.jsxs)(l.rU,{accessibilityLabel:f,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r&&S((0,d.CK)(k,T,!1,!0))},target:_?"blank":null,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===v&&b?(0,c.jsx)(m,{titleText:f,videoPin:b,videoPlaceholderImage:w}):g&&(0,c.jsx)(l.Ee,{alt:p||f||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:g,fit:"cover"})}),E&&(0,c.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(C,{children:(0,c.jsx)(l.xv,{align:O,color:y,italic:"italics"===R,weight:L,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=D||y)&&void 0!==P?P:void 0,fontSize:F}},children:f})})})]})}),!u&&(0,c.jsx)(A,{children:(0,c.jsx)(l.xu,{display:"flex",rounding:"pill",color:j?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:z}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:M}},children:i})})})})]})})}},189500:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),r=i(702664),a=i(149230),o=i(984766),s=i(112690),l=i(825077),d=i(883119),c=i(785893);function u({auxData:e,slotIndex:t,storyId:i,trafficSource:u,viewParameter:p,viewType:h}){const m=(0,s.Z)(),g=(0,r.useSelector)((({stories:e,pins:t})=>e[i].objects.map((e=>t[e.id])))),_=(0,r.useSelector)((({stories:e})=>e[i])),{action:v,story_type:f,title:y}=_,x=g.map((({type:e,id:t})=>e+":"+t)).join("|"),b={story_type:f,story_id:i,content_ids:x,...e};return(0,c.jsx)(l.Hs,{loggingId:i,objectIdStr:i,viewParameter:p,viewType:h,slotIndex:t,component:200,auxData:b,children:(0,c.jsxs)(n.Fragment,{children:[y&&(0,c.jsx)(d.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,c.jsx)(d.xv,{weight:"bold",children:y.format})}),(0,c.jsx)(d.kC,{wrap:!0,children:g.map((e=>(0,c.jsx)(d.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,c.jsx)(o.default,{auxData:b,componentType:0,pinId:e.id,slotIndex:t,trafficSource:u,viewParameter:p,viewType:h})},e.id)))}),v&&v.url&&(0,c.jsx)(d.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:v.text,color:"gray",onClick:()=>{m({view_type:h,view_parameter:p,aux_data:b,event_type:102})},text:v.text,href:v.url,rel:(0,a.Z)(v.url)?"nofollow":void 0,target:(0,a.Z)(v.url)?"blank":void 0,size:"md"})})]})})}},481277:(e,t,i)=>{i.d(t,{Z:()=>Te});var n=i(667294),r=i(702664),a=i(474635),o=i(127009),s=i(137618),l=i(898781),d=i(957161),c=i(773285),u=i(883119),p=i(785893);function h(){const e=(0,l.ZP)(),{checkExperiment:t}=(0,c.F)(),{locale:i,userAgentPlatform:h}=(0,r.useSelector)((({session:e})=>e));(0,n.useEffect)((()=>{"enabled_no_double"===t("mweb_hf_story_app_upsell2").group&&(0,d.Nh)("appUpsell",Date.now())}),[]);const m="ios"===h;return(0,p.jsxs)(u.xu,{color:"infoBase",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,p.jsx)(u.xv,{color:"inverse",weight:"bold",children:m?e._('Pinterest works best if you switch to our iPhone app', 'app upsell', 'app upsell'):e._('Pinterest works best if you switch to our Android app', 'app upsell', 'app upsell')}),(0,p.jsx)(u.xu,{marginTop:3,children:(0,p.jsx)(a.Z,{componentType:14159,within:"app-upsell-story",children:({handleOpenApp:e})=>(0,p.jsx)(u.iP,{onTap:()=>e({deepLinkUri:"/"}),children:m?(0,p.jsx)(s.Z,{locale:i}):(0,p.jsx)(o.Z,{locale:i})})})})]})}var m=i(856919),g=i(281180);const _={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function v({buttonAction:e,buttonText:t,imageUrl:i,brands:n}){const r=(0,g.kW)(),a=n.slice(0,3).map((e=>{var t,i;return{name:null!==(t=r[e.id].username)&&void 0!==t?t:"",src:null!==(i=r[e.id].image_medium_url)&&void 0!==i?i:""}}));return(0,p.jsx)(u.xu,{position:"relative",padding:1,marginBottom:2,children:(0,p.jsxs)(m.MZ,{to:e,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,p.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:i&&(0,p.jsx)(u.Ee,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:i,fit:"cover"})}),(0,p.jsx)(u.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:_.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,p.jsx)(u.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,p.jsx)(u.xu,{width:24*(2*a.length+1),height:64,children:(0,p.jsx)(u.HE,{accessibilityLabel:"",collaborators:a})})})]})}),(0,p.jsx)(u.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,p.jsx)(u.xv,{weight:"bold",children:(0,p.jsx)(u.xu,{children:t})})})]})})}var f=i(843242),y=i(319670);const x="49.5%";function b({buttonAction:e,buttonText:t,colors:i}){const n=(0,r.useSelector)((({pins:e})=>i.slice(0,4).map((t=>{var i;return{...null===(i=e[t.id].images)||void 0===i?void 0:i["736x"],title:e[t.id].description}}))));if(i.length<4)return null;const a=e=>{var t,i,n,r;return(0,p.jsx)(u.xu,{width:x,height:"100%",children:(0,p.jsx)(u.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(n=e.width)&&void 0!==n?n:1,src:null!==(r=e.url)&&void 0!==r?r:"",fit:"cover"})})};return(0,p.jsx)(u.xu,{position:"relative",padding:1,marginBottom:2,children:(0,p.jsxs)(m.MZ,{to:e,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,p.jsx)(u.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[n.slice(0,2),n.slice(2,4)].map((e=>(0,p.jsx)(u.kC,{width:"100%",height:x,justifyContent:"between",children:e.map(a)})))})})}),(0,p.jsx)(u.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,p.jsx)(u.xv,{weight:"bold",children:(0,p.jsx)(u.xu,{children:t})})})]})})}var w=i(116303);const P=(0,r.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({isFirstChild:e,pin:t})=>{var i;if(!t)return null;const n=null===(i=t.images)||void 0===i?void 0:i["170x"];if(!n)return null;const r=t.pinner,{full_name:a,image_medium_url:o}=r||{},{dominant_color:s}=t,{height:l,width:d,url:c}=n;return(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,p.jsxs)(u.xu,{position:"relative",children:[(0,p.jsx)(u.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,p.jsx)(u.Ee,{alt:t.title||"",color:null!=s?s:"",fit:"cover",naturalHeight:null!=l?l:1,naturalWidth:null!=d?d:1,src:null!=c?c:""})}),o&&(0,p.jsx)(u.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,p.jsx)(w.Z,{name:null!=a?a:"",src:o})})})]})})}));function S({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return(0,p.jsx)(u.xu,{height:174,overflow:"hidden",width:"100%",children:(0,p.jsx)(u.xu,{overflow:"scroll",children:(0,p.jsx)(u.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:t.map(((e,t)=>(0,p.jsx)(P,{id:e,isFirstChild:0===t},e)))})})})}var T=i(30700),k=i(112690),I=i(825077);const j="creator_spotlight_";function C({id:e}){const t=(0,k.Z)(),i=(0,r.useSelector)((({stories:t})=>t[e]));if(!i||"social_seasonal_pin"===i.story_type)return null;const{button_text:n,objects:a,story_type:o,subtitle:s,title:l,background_colour:d,display_options:c}=i,{title_text_color:h,subtitle_text_color:m}=c;if(!o.startsWith(j)||!a||a.length<3)return null;const g=`/creator-spotlight/${o.slice(j.length)}`;return(0,p.jsx)(u.xu,{marginBottom:3,children:(0,p.jsx)(I.Hs,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:o},children:(0,p.jsx)(u.iP,{onTap:()=>{t({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:o},event_type:102})},tapStyle:"none",role:"link",href:g,rounding:2,children:(0,p.jsx)(u.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:d}},children:(0,p.jsx)(u.xu,{width:"100%",height:"100%",children:(0,p.jsxs)(u.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!s||!!l)&&(0,p.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[l&&l.format&&(0,p.jsx)(u.X6,{size:"400",children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{color:h}},children:l.format})}),s&&s.format&&(0,p.jsx)(u.xv,{align:"center",children:(0,p.jsx)(u.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:m}},children:s.format})})]}),(0,p.jsx)(u.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,p.jsx)(S,{pinIds:a.map((e=>e.id))})}),n&&n.format&&(0,p.jsx)(u.xu,{display:"inlineBlock",children:(0,p.jsx)(T.Z,{pressState:"compress",children:(0,p.jsx)(u.xu,{color:"primary",rounding:"pill",position:"relative",children:(0,p.jsx)(u.xu,{paddingX:5,paddingY:5,children:(0,p.jsx)(u.xv,{color:"inverse",weight:"bold",children:n.format})})})})})]})})})})})})}var A=i(319915),E=i(121093),D=i(19121),R=i(276775);function L({pin:e,width:t,height:i,showDivider:n}){var r,a,o,s,l,d,c;const h=null===(r=e.images)||void 0===r?void 0:r["236x"];return(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,p.jsx)(u.GH,{contentAspectRatio:(null!==(a=null==h?void 0:h.width)&&void 0!==a?a:1)/(null!==(o=null==h?void 0:h.height)&&void 0!==o?o:1),height:i,width:t,children:(0,p.jsx)(u.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(l=null==h?void 0:h.width)&&void 0!==l?l:1,naturalHeight:null!==(d=null==h?void 0:h.height)&&void 0!==d?d:1,src:null!==(c=null==h?void 0:h.url)&&void 0!==c?c:""})})})}function O({storyId:e,slotIndex:t}){const i=(0,R.useHistory)(),a=(0,R.useLocation)(),{isAuth:o}=(0,D.Z)(),{checkExperiment:s}=(0,c.F)(),[l,d]=(0,n.useState)(0),h=(0,n.useRef)(),m=(0,k.Z)();(0,n.useLayoutEffect)((()=>{const e=h.current;e&&d(e.offsetWidth)}),[]);const g=(0,r.useSelector)((({stories:t})=>t[e])),_=(0,r.useSelector)((({pins:e})=>g.objects.map((t=>e[t.id])))).slice(0,2),{story_type:v,action:f}=g,y=`${a.pathname}products/${a.search}`,x=()=>{m({component:200,event_type:102,view_parameter:3050,view_type:72}),i.push(y)};return s(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{story_type:v,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,p.jsx)(u.xu,{padding:2,ref:e,children:(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsxs)(u.iP,{onTap:x,children:[(0,p.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,t)=>(0,p.jsx)(L,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,p.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,p.jsx)(u.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,p.jsx)(u.xv,{weight:"bold",children:f.text})})})})]})})}):(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,p.jsx)(I.Hs,{auxData:{story_type:v,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:l?(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsxs)(u.iP,{onTap:x,children:[(0,p.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,t)=>(0,p.jsx)(L,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,p.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,p.jsx)(u.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,p.jsx)(u.xv,{weight:"bold",children:f.text})})})})]})})}):(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:h})})}var F=i(419685),z=i(189500),M=i(907231);const N=["shop_tab_upsell","user_style_story_v2"];function Z({auxData:e,slotIndex:t,storyId:i,storyType:n,trafficSource:a,viewParameter:o,viewType:s}){const l=(0,r.useSelector)((({stories:e})=>{var t;return null===(t=e[i].objects[0])||void 0===t?void 0:t.schema})),d=(0,r.useSelector)((({stories:e})=>{var t;return null===(t=e[i])||void 0===t?void 0:t.title}));if(N.includes(n))return(0,p.jsx)(F.Z,{auxData:e,slotIndex:t,storyId:i,storyType:n,viewParameter:o,viewType:s});switch(l){case"pin":return(0,p.jsx)(z.Z,{auxData:e,slotIndex:t,storyId:i,trafficSource:a,viewParameter:o,viewType:s});case"article":return(0,p.jsx)(f.Z,{auxData:e,pattern:[M.UG.extra_small],slotIndex:t,storyId:i,viewParameter:o,viewType:s});default:return d&&(0,p.jsx)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,p.jsx)(u.xv,{weight:"bold",children:d.format})})}}var U=i(700398),B=i(609700);function H({slotIndex:e,storyId:t,exactMatch:i=!1}){const{isAuth:a}=(0,D.Z)(),{checkExperiment:o}=(0,c.F)(),{action:s,aux_fields:l,objects:d,story_type:h,title:m}=(0,r.useSelector)((({stories:e})=>e[t])),g=d[0].id,_=(0,r.useSelector)((({pins:e})=>d.slice(1,3).map((({id:t})=>e[t]))));return!i&&_.length<2?null:o(a?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{content_ids:_.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,p.jsxs)(u.xu,{ref:e,children:[m&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:m.format})}),(0,p.jsx)(B.Z,{action:s,auxData:l,isPinnerAuthorityHero:i,userId:g,userPins:i?void 0:_,userSearchRepStyle:i,viewParameter:43,viewType:2})]})}):(0,p.jsx)(I.Hs,{auxData:{content_ids:_.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,p.jsxs)(n.Fragment,{children:[m&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:m.format})}),(0,p.jsx)(B.Z,{action:s,auxData:l,isPinnerAuthorityHero:i,userId:g,userPins:i?void 0:_,userSearchRepStyle:i,viewParameter:43,viewType:2})]})})}var V=i(947599),W=i(927007),$=i(826067);const G=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],K=e=>G[e.charCodeAt(0)%G.length];function q({guides:e,storyId:t,slotIndex:i,title:r}){var a;const{isAuth:o}=(0,D.Z)(),{checkExperiment:s}=(0,c.F)(),l=null!==(a=(0,$.mB)((0,R.useLocation)().search).q)&&void 0!==a?a:"";return s(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,p.jsxs)(u.xu,{ref:t,children:[r&&r.format&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:r.format})}),(0,p.jsx)(W.Z,{guides:e.map((e=>({display:e.display,dominant_color:K(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})}):(0,p.jsx)(I.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:(0,p.jsxs)(n.Fragment,{children:[r&&r.format&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:r.format})}),(0,p.jsx)(W.Z,{guides:e.map((e=>({display:e.display,dominant_color:K(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})})}class Y extends n.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:i,pin_image:n,pin_image_gif:r,user_name:a,board_name:o,header_background_color:s,textIconColor:l}=e,d=s||"orchid",c=this.props.i18n._('Take a look', 'Button text asking users to take a look at Seasonal pages', 'Button text asking users to take a look at Seasonal pages'),h=a&&o?`/${a}/${o}`:"/pinterestindonesia/happy-halloween/",g=i||"unknown",_=r||n||"",v=l||"white";return(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsx)(u.xu,{padding:3,children:(0,p.jsx)(m.MZ,{to:h,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,p.jsx)(u.xu,{children:(0,p.jsx)(u.xu,{display:"flex",margin:-1,height:t,children:(0,p.jsx)(u.xu,{width:"100%",children:(0,p.jsxs)(u.zd,{rounding:2,height:"100%",children:[(0,p.jsx)(u.xu,{height:t,children:(0,p.jsx)(u.Ee,{alt:g,color:d,fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}),(0,p.jsx)(u.xu,{height:t,position:"absolute",top:!0,left:!0}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,p.jsx)(u.xv,{color:v,weight:"bold",children:g})}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,p.jsx)(u.zx,{fullWidth:!0,size:"sm",text:c})})]})})})})})})})}}const X=(0,r.connect)((({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source})),(()=>({})))((function(e){const t=(0,l.ZP)();return(0,p.jsx)(Y,{...e,i18n:t})}));var J=i(959322);function Q({storyId:e,viewParameter:t,viewType:i}){const a=(0,k.Z)(),o=(0,r.useSelector)((({stories:t})=>t[e])),s=(0,r.useSelector)((({session:e})=>e.isTablet)),l=o.objects;return(0,n.useEffect)((()=>{a({event_type:9024,view_type:i,view_parameter:t})}),[]),o?(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(u.iz,{}),(0,p.jsxs)(u.xu,{paddingY:1,children:[(0,p.jsx)(u.xu,{paddingY:2,marginTop:3,children:(0,p.jsx)(u.X6,{align:"center",size:"400",children:o.title.format})}),1===l.length?(0,p.jsx)(u.xu,{width:s?400:"auto",paddingY:2,margin:"auto",children:(0,p.jsx)(J.Z,{id:l[0].id,gridIndex:0,viewParameter:t,viewType:i})}):(0,p.jsx)(u.xu,{overflow:"auto",children:(0,p.jsx)(u.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:l.map(((e,n)=>(0,p.jsx)(u.xu,{width:s?400:"80vw",marginStart:0===n?0:2,paddingY:2,children:(0,p.jsx)(J.Z,{id:e.id,gridIndex:n,viewParameter:t,viewType:i})},e.id)))})})]})]}):null}var ee=i(949372);const te=(0,r.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({pin:e})=>{var t;if(!e)return null;const i=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,p.jsx)(u.zd,{wash:!0,height:ce,width:ce,children:(0,p.jsx)(u.xu,{height:ce,position:"relative",width:ce,children:(0,p.jsx)(u.Ee,{alt:e.description||"",src:null!==(t=null==i?void 0:i.url)&&void 0!==t?t:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var ie=i(558150),ne=i(609943),re=i(349700),ae=i(643010),oe=i(755506);const se=(0,r.connect)(((e,t)=>({pin:e.pins[t.pinId]})),(()=>({})))((({pin:e,shouldRoundPrice:t,showSalePrice:i})=>{const n=(0,l.ZP)();if(!e)return null;const{pinProduct:r}=(0,oe.Fi)({i18n:n,pin:e});if(!r||!r.price)return null;const a=r.price||r.max_price,o=r.standard_price,s=/^(\$\d+)(\.?\d\d)*$/g,d=o&&s.exec(o),c=s.exec(a),h=(0,ae.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",m=(0,ae.Yc)()?"light":"dark";return(0,p.jsxs)(u.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:h,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[i&&d&&(0,p.jsxs)(u.xv,{align:"center",size:"100",weight:"bold",color:"subtle",inline:!0,children:[(0,p.jsx)("s",{children:(0,re.nk)("{{ priceRounded }}",{priceRounded:d[1]})})," "]}),(0,p.jsx)(u.xv,{align:"center",size:"100",weight:"bold",color:m,inline:!0,children:(i&&o||t)&&c&&c[1]?(0,re.nk)("{{ priceRounded }}",{priceRounded:c[1]}):a})]})}));var le=i(512176),de=i(407043);const ce=114;function ue({handleClick:e,isVerifiedMerchant:t,marginTop:i=12,pins:n,showVerifiedBadge:r,showVerifiedIdentityBadge:a,storyAction:o,storyType:s,title:l,viewParameter:d,trackingParams:c}){const{logContextEvent:h}=(0,de.v)(),m=(0,R.useHistory)(),{text:g}=o||{};return(0,p.jsxs)(u.xu,{marginTop:i,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[l&&(0,p.jsxs)(u.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,p.jsx)(u.xv,{weight:"bold",children:l}),r&&(0,p.jsx)(u.xu,{marginStart:1,children:(0,p.jsx)(le.Z,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:a})})]}),(0,p.jsx)(u.xu,{display:"flex",marginTop:4,justifyContent:"center",children:n.map(((e,t)=>(0,p.jsx)(I.GR,{viewType:3,loggingId:e.id,viewParameter:d,component:xe[s],auxData:{commerce_data:(0,ie.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})},slotIndex:t,children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:ce,children:(0,p.jsxs)(u.iP,{onTap:()=>(e=>{const t=(0,ne.Z)(c,e.tracking_params);h({component:xe[s],element:ye[s],event_type:101,view_type:3,view_parameter:d,object_id_str:e.id,clientTrackingParams:t,aux_data:{closeup_navigation_type:"click",commerce_data:(0,ie.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags}),cosmic_ray_count:"5",image_signature:e.image_signature}}),h({component:13680,event_type:101,view_type:3,view_parameter:d,aux_data:{commerce_data:(0,ie.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})}}),m.push(`/pin/${e.id}/`,{trackingParams:c})})(e),children:[(0,p.jsx)(te,{id:e.id}),(0,p.jsx)(u.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,p.jsx)(se,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),g&&(0,p.jsx)(u.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,p.jsx)(u.zx,{onClick:e,size:"lg",text:g})})]})}var pe=i(722767);function he({componentType:e,handleClick:t,isVerifiedMerchant:i,marginTop:r,objects:a,showVerifiedBadge:o,showVerifiedIdentityBadge:s,storyAction:l,storyType:d,title:c,viewParameter:u,trackingParams:h}){const[m,g]=(0,n.useState)(!1),_=(0,k.Z)();if(!a||!Array.isArray(a))return null;const v=a.filter((e=>"pin"===e.schema));if(v.length<3)return null;const f=Array.from(new Array(3)).map(((e,t)=>v[t]));return(0,p.jsx)(pe.Z,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:i}=t[0];i>0&&!m&&(_({event_type:3400,view_type:3,view_parameter:u,component:e}),g(!0))},children:(0,p.jsx)(ue,{handleClick:t,isVerifiedMerchant:i,marginTop:r,pins:f,showVerifiedBadge:o,showVerifiedIdentityBadge:s,storyAction:l,storyType:d,title:c,viewParameter:u,trackingParams:h})})}var me=i(536454);const ge=()=>{};function _e({marginTop:e=12,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:i,onRelatedPinsInView:r,title:a}){return a?(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(u.xu,{marginTop:e,marginBottom:2,children:(0,p.jsx)(me.Z,{onEnter:t||ge,onExit:i||ge,onView:r||ge,children:(0,p.jsx)(u.xv,{size:"300",align:"center",weight:"bold",children:a})})})}):null}var ve=i(802201);const fe=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],ye={related_domain_collage:11830,related_domain_collage_similar:11829},xe={related_domain_collage:13327,related_domain_collage_similar:13882,related_products_collage:13176,related_products_feed_header:13176};const be=function(e){var t,i;const{marginTop:a,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:s,onRelatedPinsInView:l,pinId:d,searchQuery:h,slotIndex:m,storyId:g,trafficSource:_,viewType:v,viewParameter:f}=e,y=(0,ve.S6)()(d),{logContextEvent:x}=(0,de.v)(),{isAuth:b}=(0,D.Z)(),{checkExperiment:w}=(0,c.F)(),P=(0,R.useHistory)(),S=null==y?void 0:y.is_eligible_for_pdp,T=(0,n.useMemo)((()=>S?8:0===a||a?a:12),[a,S]),k=(0,r.useSelector)((({stories:e})=>e[g]));if(!k)return null;const{action:j,content_ids:C,objects:A,story_type:E,title:{format:L},tracking_params:O}=k,F=xe[E];if("related_modules_header"===E||"related_products_feed_header"===E)return w(b?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{story_id:g,story_type:E},loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:f,viewType:v,component:F,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(_e,{marginTop:T,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:s,onRelatedPinsInView:l,title:L})})}):(0,p.jsx)(I.Hs,{auxData:{story_id:g,story_type:E},loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:f,viewType:v,component:F,children:(0,p.jsx)(_e,{marginTop:T,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:s,onRelatedPinsInView:l,title:L})});const{url:z}=j||{};if(!y||!d||!z)return null;const M=function(e,t){const i=e?`q=${e}`:null,n=t&&"unknown"!==t?`rs=${t}`:null;let r="";return i&&n?r=`?${i}&${n}`:!i&&n&&(r=`?${n}`),r}(h,_);let N=`${z}${M}`;"related_products_collage"===E&&(N=M?`/pin/${d}/visual-search/${M}source=shopping&tab=1`:`/pin/${d}/visual-search/?source=shopping&tab=1`);const Z=(C||[]).map((e=>`pin:${e}`)).join("|"),U=()=>{const e="related_domain_collage"===E?"related_domain_collage_similar":E;x({aux_data:{content_ids:Z,story_id:g,story_type:E},component:xe[e],element:ye[e],event_type:101,object_id_str:d,view_type:3,view_parameter:f}),x({aux_data:{commerce_data:(0,ie.Z)({isEligibleForPdp:y.is_eligible_for_pdp,isOosProduct:y.is_oos_product,isStaleProduct:y.is_stale_product,pinShoppingFlags:y.shopping_flags})},component:13680,event_type:101,object_id_str:d,view_type:3,view_parameter:f}),P.push(N)};let B,H;if("related_domain_collage"===E){var V;const e=(null===(V=y.link_domain)||void 0===V?void 0:V.official_user)||{};B=e.is_verified_merchant,H=e.verified_identity}return w(b?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{content_ids:Z,story_id:g,story_type:E},component:F,loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:f,viewType:v,children:({impressionTrackerRef:e})=>{var t,i;return(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(he,{componentType:F,handleClick:U,isVerifiedMerchant:B,objects:A,showVerifiedBadge:B||(null===(t=H)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!B&&(null===(i=H)||void 0===i?void 0:i.verified),storyAction:j,title:L,viewParameter:f,trackingParams:O,storyType:E,marginTop:T})})}}):(0,p.jsx)(I.Hs,{auxData:{content_ids:Z,story_id:g,story_type:E},component:F,loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:f,viewType:v,children:(0,p.jsx)(he,{componentType:F,handleClick:U,isVerifiedMerchant:B,objects:A,showVerifiedBadge:B||(null===(t=H)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!B&&(null===(i=H)||void 0===i?void 0:i.verified),storyAction:j,title:L,viewParameter:f,trackingParams:O,storyType:E,marginTop:T})})};var we=i(226343);const Pe=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],Se=(0,n.lazy)((()=>i.e(93810).then(i.bind(i,896731))));function Te({auxData:e,fullWidth:t,isMwebStructuredFeedExpEnabled:i,marginTop:n,onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:o,onRelatedPinsInView:s,pinId:l,slotIndex:d,storyData:c,storyId:m,trafficSource:g,viewParameter:_,viewType:x}){const w=(0,r.useSelector)((({stories:e})=>e[m])),P=c||w,S=(0,ee.Z)();if(!P||!P.story_type)return null;const{action:T,container_type:k,custom_properties:I,display_options:j,experience:D,story_type:R,title:L,objects:F}=P;if(t)return i&&(0,U.Z)(P.container_type)?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(A.Z,{name:"SafeSuspense_MobileApp_StructuredFeedStoryModule",children:(0,p.jsx)(V.Z,{children:(0,p.jsx)(Se,{surface:"ShoppingDynamicHeightGrid",view:3,componentFallback:13176,viewParameter:_,initialSlotIndex:d,story:P})})})}):Pe.includes(R)&&0===j.num_columns_requested?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(Z,{auxData:e,slotIndex:d,storyId:m,storyType:R,trafficSource:g,viewParameter:_,viewType:x})}):R.startsWith("creator_spotlight_")?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(C,{id:m})}):fe.includes(R)&&l?(0,p.jsx)(be,{onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:o,onRelatedPinsInView:s,pinId:l,storyId:m,slotIndex:d,viewParameter:_,viewType:x,marginTop:n}):R.startsWith("related_articles")?(0,p.jsx)(Q,{storyId:m,viewType:x,viewParameter:_}):R.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,p.jsx)(y.Z,{title:L}):R.startsWith("search_pinner_authority_hero")?(0,p.jsx)(H,{storyId:m,slotIndex:0,exactMatch:!0}):null;if(Pe.includes(R)&&0===(null==j?void 0:j.num_columns_requested))return null;switch(k){case 56:return(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(f.Z,{slotIndex:d,storyId:m,viewType:x,viewParameter:_})})}switch(R){case"app_upsell":return S?(0,p.jsx)(E.Z,{experience:D,eligibleIds:[D.experience_id],children:(0,p.jsx)(h,{})}):null;case"feed_card_default":case"feed_card_video":return(0,p.jsx)(we.Z,{buttonAction:T.url,buttonCustomization:I.button_customization,buttonText:T.text,experience:D,hideCompleteButton:I.hide_complete_button,imageAlt:I.image_alt,imageUrl:I.image,openNewTab:I.open_new_tab,storyType:R,titleText:L.format,titleTextColor:we.e[j.title_text_color],titleTextCustomization:I.title_text_customization,videoPin:I.video_pin,videoPlaceholderImage:I.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,p.jsx)(we.Z,{buttonAction:T.url,buttonText:T.text,imageAlt:I.image_alt,imageUrl:I.image,storyType:R,titleText:L.format,titleTextColor:we.e[j.title_text_color]});case"user_brand_story_v1":return(0,p.jsx)(v,{buttonAction:T.url,buttonText:T.text,imageUrl:I.image,brands:F});case"user_color_story_v1":return(0,p.jsx)(b,{buttonAction:T.url,buttonText:T.text,colors:F});case"BUBBLE_ONE_COL":return(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(f.Z,{slotIndex:d,storyId:m,viewType:x,viewParameter:_})});case"social_seasonal_pin":return(0,p.jsx)(X,{slotIndex:d,storyId:m,viewType:x,viewParameter:_,size:290});case"pinner_authority":case"pinner_authority_unified":return(0,p.jsx)(H,{storyId:m,slotIndex:d});case"stela_in_flashlight_onecol":return(0,p.jsx)(O,{storyId:m,slotIndex:d});case"search_guides":return(0,p.jsx)(q,{guides:P.objects,slotIndex:d,storyId:m,title:L});default:return null}}},907231:(e,t,i)=>{i.d(t,{UG:()=>u,ZP:()=>h,aG:()=>p});var n=i(667294),r=i(116303),a=i(898781),o=i(52022),s=i(856919),l=i(940882),d=i(883119),c=i(785893);const u={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function h({backgroundColor:e,bubbleId:t,bubbleUrl:i,coverImageUrl:h,curator:m,font:g,format:_,height:v,identifierIconType:f,onTap:y,pwtSurfaceContext:x,referringSource:b,subtitle:w,title:P,buttonFormat:S,contentAlign:T="center",textAlign:k="center",width:I="100%"}){const j=(0,a.ZP)(),C=(0,o.Z)(),[A,E]=(0,n.useState)("string"==typeof v?void 0:v),D=e=>{if(e){const t=e.offsetWidth,i="string"==typeof v?Number.parseFloat(v):100;E(t*i/100)}};if(!A)return(0,c.jsx)(d.xu,{ref:D,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof v?Number.parseFloat(v)+"%":"100%",width:I}}});const R=_===u.article,L=_===u.interest,O=g||A>250&&"lg"||A>140&&_&&[u.medium,u.small,u.article].includes(_)&&"md"||A<120&&_&&_===u.small&&"xs"||"sm";return(0,c.jsx)(d.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":b,children:(0,c.jsx)(s.MZ,{to:i,isAppUpsellDisabled:!0,onTouch:()=>{y&&(C({action:"click",item:"search-suggestion"}),y(t))},rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[(0,c.jsx)(d.xu,{width:I,height:A,children:h&&(0,c.jsx)(d.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{x&&x.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:h})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:A,width:I,position:"absolute",top:!0,left:!0}),m&&!R&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(r.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),!!f&&f!==l.J&&(0,c.jsx)(d.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,c.jsx)(d.JO,{icon:(0,l.Z)(f),accessibilityLabel:j._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,c.jsx)(d.xu,{display:"flex",position:"absolute",top:!0,width:I,height:A,padding:R||L?6:A>100?3:1,alignItems:R||L?"end":"center",justifyContent:T,children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[w&&(0,c.jsx)(d.xv,{align:k,color:"light",size:"lg"===O?"300":"100",overflow:"normal",children:w}),["lg","md"].includes(O)?(0,c.jsx)(d.X6,{align:k,size:"md"===O&&L?"500":"lg"===O?"600":"400",color:"light",overflow:"normal",children:P}):(0,c.jsx)(d.xv,{align:k,color:"light",size:"sm"===O?"300":"100",overflow:"normal",weight:"bold",children:P}),m&&R&&(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(r.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),(0,c.jsx)(d.xv,{size:"100",color:"light",weight:"bold",children:m.full_name})]}),S&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.zx,{role:"link",text:S.text,href:S.href,size:S.size,accessibilityLabel:S.accessibilityLabel})})]})})]})})})}},843242:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(667294),r=i(702664),a=i(95244),o=i(149230),s=i(112690),l=i(825077),d=i(281180),c=i(940882),u=i(883119),p=i(785893);function h(e){const{auxData:t,pattern:i,slotIndex:h,storyId:m,viewType:g,viewParameter:_}=e,v=(0,d.mN)(),f=(0,s.Z)(),y=(0,r.useSelector)((({stories:e,articles:t})=>e[m].objects.map((e=>{const i=t[e.id];return i.curator&&"string"==typeof i.curator?{...i,curator:v(i.curator)}:i})))),x=(0,r.useSelector)((({stories:e})=>e[m])),{story_type:b,referring_source:w,title:P,display_options:S,action:T}=x,{identifier_icon_name:k}=S||{},I=y.map((({type:e,id:t})=>e+":"+t)).join("|"),j={story_type:b,story_id:m,content_ids:I,...t};return(0,p.jsx)(l.Hs,{loggingId:m,objectIdStr:m,viewParameter:_,viewType:g,slotIndex:h,component:200,auxData:j,children:(0,p.jsxs)(n.Fragment,{children:[P&&(0,p.jsxs)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof k&&k!==c.J&&(0,p.jsx)(u.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,p.jsx)(u.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(k),size:14})}),(0,p.jsx)(u.xv,{weight:"bold",children:P.format})]}),(0,p.jsx)(a.Z,{bubbles:y,pattern:i,referringSource:w,storyId:m,storyType:b,viewParameter:_,viewType:g}),T&&T.url&&(0,p.jsx)(u.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(u.zx,{role:"link",accessibilityLabel:T.text,color:"gray",onClick:()=>{f({view_type:g,view_parameter:_,aux_data:j,event_type:102})},text:T.text,href:T.url,rel:(0,o.Z)(T.url)?"nofollow":void 0,target:(0,o.Z)(T.url)?"blank":void 0,size:"md"})})]})})}},95244:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(151365),r=i(883119),a=i(907231),o=i(785893);function s(e){const{bubbles:t,onTouch:i,pattern:s=[a.UG.medium],pwtSurfaceContext:l,referringSource:d,storyId:c,storyType:u,viewParameter:p,viewType:h}=e,m=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((e,t)=>{const g=s[t%s.length];return(0,o.jsx)(r.xu,{paddingY:1,width:[a.UG.small,a.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%",children:(0,o.jsx)(n.Z,{auxData:{content_ids:m,story_type:u,grid_index:t},bubble:e,format:g,height:([a.UG.medium,a.UG.extra_small].includes(g)?"50%":g===a.UG.article&&"73%")||"100%",onTouch:i,pwtSurfaceContext:l,referringSource:d,slotIndex:t,storyId:c,viewParameter:p,viewType:h})},`bubble-${t}`)}))})}},906935:(e,t,i)=>{i.d(t,{Z:()=>S});var n=i(667294),r=i(151365),a=i(164985),o=i(907231),s=i(785893);function l({bubble:e,font:t,height:i,width:n="100%",onTouch:r}){const{id:a,url:l,title:d,dominant_color_css:c,image_urls:u,buttonText:p}=e;if(!d||!a||!u)return null;const h={text:p,accessibilityLabel:p,href:l,size:"md"};return(0,s.jsx)(o.ZP,{backgroundColor:null!=c?c:void 0,bubbleId:a,bubbleUrl:l,coverImageUrl:u[0],font:t,format:"interest",height:i,title:d,width:n,contentAlign:"start",textAlign:"start",buttonFormat:h,onTap:()=>r&&r({query:d})})}var d=i(984766),c=i(407043),u=i(366428),p=i(883119);function h({bubble:e,component:t,height:i,slotIndex:r,storyId:a,storyType:o,viewParameter:l,viewType:d}){var h;const{logContextEvent:m}=(0,c.v)(),[g,_]=(0,n.useState)("string"==typeof i?void 0:i),v=e=>{if(e){const t=e.offsetWidth,n="string"==typeof i?Number.parseFloat(i):100;_(t*n/100)}},{action:f,aux_fields:y,cover_images:x,dominant_colors:b,title:w,id:P}=e,S=(0,u.Z)({componentType:null!=t?t:void 0,contextLogData:{story_type:o},impressionType:"Article",loggingId:P,slotIndex:r,viewParameter:l,viewType:d});if(!g)return(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof i?Number.parseFloat(i)+"%":"100%"}},ref:v,width:"100%"});if(!x||x.length<=0||!w)return null;const{button_background_color:T,button_text_color:k}=y,I=x.slice(0,2).map((e=>{var t;return null===(t=e["474x"]||e["236x"])||void 0===t?void 0:t.url}));return(0,s.jsx)(p.iP,{role:"link",href:null!==(h=null==f?void 0:f.url)&&void 0!==h?h:"",onTap:()=>{m({aux_data:{story_id:a,story_type:"user_style_story_v2"},component:200,event_type:102,view_parameter:l,view_type:d})},rounding:4,children:(0,s.jsxs)(p.xu,{alignItems:"center",display:"flex",height:g,justifyContent:"center",overflow:"hidden",position:"relative",ref:S,rounding:4,width:"100%",children:[(0,s.jsx)(p.kC,{width:"100%",children:I.map(((e,t)=>(0,s.jsx)(p.zd,{height:g,wash:!0,width:2===I.length?"50%":"100%",children:(0,s.jsx)(p.Ee,{alt:"",color:(null!=b?b:[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:""})},t)))}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:T}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,s.jsx)(p.xv,{align:"center",weight:"bold",children:(0,s.jsx)("p",{style:{color:k,margin:"0"},children:w.format})})})]})})}var m=i(112690),g=i(52022),_=i(856919),v=i(784641),f=i(643010),y=i(825077);const x=["#FFF8FA","#F8F7FF","#F7FBFF","#F7FDFC","#F6FDF5","#FFFEDB","#FFF6EB"];function b({backgroundColor:e,coverImageUrl:t,height:i,pwtTrackImageLoad:r,subtitle:a,title:l,width:d}){return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(p.xu,{width:d,height:i,children:(0,s.jsx)(p.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:r,role:"presentation",src:t})}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:o.aG.bubbleOverlay,height:i,left:!0,position:"absolute",top:!0,width:d}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:i,justifyContent:"center",marginTop:4,padding:8,position:"absolute",top:!0,width:d,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[a&&(0,s.jsx)(p.xv,{align:"center",color:"light",lineClamp:1,size:"300",overflow:"normal",children:a}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:"light",lineClamp:3,size:"400",overflow:"normal",children:l})]})})]})}function w({backgroundColor:e,coverImageUrl:t,height:i,imgBackgroundColor:r,isDarkBackground:a,pwtTrackImageLoad:l,subtitle:d,title:c,width:u}){return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e||x[c.charCodeAt(0)%x.length]}},height:i,position:"relative",width:u,children:[(0,f.Yc)()&&(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:.6*i,justifyContent:"center",marginTop:8,padding:8,position:"absolute",top:!0,width:u,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[d&&(0,s.jsx)(p.xv,{align:"center",color:a?"light":"dark",overflow:"normal",size:"300",children:d}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:a?"light":"dark",overflow:"normal",size:"400",children:c})]})})]}),(0,s.jsx)(p.xu,{alignItems:"end",bottom:!0,display:"flex",height:.5*i,marginBottom:-5,justifyContent:"center",position:"absolute",width:u,children:t.slice(0,3).map(((e,t)=>(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:o.aG.bubbleOverlay,height:1===t?"100%":"80%",overflow:"hidden",rounding:4,width:1===t?"36%":"28.8%",zIndex:1===t?new p.Ry(1):void 0,marginStart:0!==t?-5:void 0,children:(0,s.jsx)(p.Ee,{alt:"",color:r,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:l,role:"presentation",src:e})},`TripleImageBubble-${t}`)))})]})}function P({auxData:e,bubble:t,immersiveHeader:i,onTouch:r,pwtSurfaceContext:a,referringSource:l,slotIndex:d,storyId:c,storyType:u,viewParameter:h,viewType:f}){const{article_creator_user:x,display_color:P,dominant_color_css:S,feed_source:T,has_dark_display_color:k=!1,id:I,image_urls:j,is_product_pin_feed:C,subtitle:A,title:E}=t,D=x&&x.full_name&&x.image_small_url?{full_name:x.full_name,image_small_url:x.image_small_url}:void 0,R=(0,m.Z)(),L=(0,g.Z)(),[O,F]=(0,n.useState)();if(!E||!I||!j)return null;const z=(0,v.T7)(null!=T?T:1,null!=C&&C,E,I),M=()=>{L({action:"click",item:"search-suggestion"}),R({view_type:f,view_parameter:h,object_id_str:I,component:13525,event_type:102,aux_data:{grid_index:d,story_id:c,story_type:u,today_article_id:I}}),r&&r({query:E})},N="100%",Z=e=>{if(e){const t=e.offsetWidth,i=Number.parseFloat("85%");F(t*i/100)}};if(!O)return(0,s.jsx)(p.xu,{ref:Z,dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat("85%")+"%",width:N}}});const U=()=>{a&&a.markConstraintComplete("RenderSearchLandingPageBubbles")};return(0,s.jsx)(y.Y4,{auxData:{grid_index:d.toString(),story_id:c,story_type:u,today_article_id:I,...e},component:13525,impressionData:{storyIdStr:c},loggingId:c,objectIdStr:c,slotIndex:d,viewParameter:h,viewType:f,children:({impressionTrackerRef:e})=>i?(0,s.jsx)(p.xu,{"data-test-id":"search-suggestion","data-test-type":l,position:"relative",ref:e,children:(0,s.jsx)(_.MZ,{to:z,isAppUpsellDisabled:!0,onTouch:M,children:j.length>=3?(0,s.jsx)(w,{backgroundColor:P,coverImageUrl:j,height:O,imgBackgroundColor:null!=S?S:void 0,isDarkBackground:k,pwtTrackImageLoad:U,subtitle:null!=A?A:"",title:E,width:N}):(0,s.jsx)(b,{backgroundColor:null!=S?S:void 0,coverImageUrl:j[0],height:O,pwtTrackImageLoad:U,subtitle:null!=A?A:"",title:E,width:N})})}):(0,s.jsx)(o.ZP,{backgroundColor:S||"",bubbleId:I,bubbleUrl:z,curator:D,coverImageUrl:j[0],format:o.UG.article,height:"75%",onTap:M,pwtSurfaceContext:a,title:E,width:N})})}function S(e){const{action:t,bubbles:i,component:o,format:c,onTouch:u,pwtSurfaceContext:g,query:_,referringSource:v,storyId:f,storyType:y,viewParameter:x,viewType:b}=e,w=i.filter((e=>null!=e)),S=w.map((({type:e,id:t})=>`${null!=e?e:""}:${null!=t?t:""}`)).join("|"),T="slp_immersive_header"===y,k="user_style_story_v2"===y,I="shop_tab_upsell"===y,j="interest"===w[0].type,C=(0,n.useRef)(),A=(0,n.useRef)(),[E,D]=(0,n.useState)(0),{windowWidth:R}=(0,a.Z)(),L=T?R:R-32,O=w.length,F=I?"50%":"100%",[z,M]=(0,n.useState)(T||j),[N,Z]=(0,n.useState)(!1),U=(0,m.Z)();return(0,n.useEffect)((()=>{const e=C.current,t=A.current;if(!e)return;const i=t=>{e.scrollTo({top:0,left:t,behavior:"smooth"})};let n;const r=()=>{clearTimeout(n),M(!1),Z(!0),setTimeout((()=>{var e;let n=-(null!==(e=null==t?void 0:t.getBoundingClientRect().left)&&void 0!==e?e:0);n=T?n:n+16;const r=Math.floor((n+L/2)/L);i(r!==O-1||T?r*L:r*L-4),D(r)}),500)},a=()=>{const e=E===O-1?0:E+1;return i(e*L),D(e),n=setTimeout(a,4e3),()=>clearTimeout(n)};return z?(e.addEventListener("touchend",r),n=setTimeout(a,4e3)):N&&e.addEventListener("touchend",r),()=>{clearTimeout(n),z&&e.removeEventListener("touchend",r)}})),(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(p.xu,{marginEnd:-4,marginStart:-4,overflow:"hidden",width:"100vw",children:(0,s.jsx)(p.xu,{display:"flex",marginBottom:-2,overflow:"scrollX",paddingX:T?void 0:j?3:4,paddingY:T?void 0:3,ref:C,children:w.map(((e,i)=>{var n;const{type:a,schema:m}=e;let I=null;switch(a||m){case"explorearticle":I=k?(0,s.jsx)(h,{bubble:e,component:o,height:"75%",storyId:f,slotIndex:i,storyType:y,viewParameter:x,viewType:b}):(0,s.jsx)(r.Z,{auxData:{content_ids:S,story_type:y},bubble:e,format:c,height:"75%",onTouch:u,pwtSurfaceContext:g,referringSource:v,slotIndex:i,storyId:f,viewParameter:x,viewType:b});break;case"todayarticle":I=(0,s.jsx)(P,{auxData:{content_ids:S,story_type:y},bubble:e,immersiveHeader:T,onTouch:u,pwtSurfaceContext:g,referringSource:v,slotIndex:i,storyId:f,storyType:y,viewParameter:x,viewType:b});break;case"interest":I=(0,s.jsx)(l,{bubble:e,font:"md",height:"65%",onTouch:u});break;case"pin":I=i===w.length-1&&t?(0,s.jsx)(p.iP,{href:t.url,onTap:()=>{U({view_type:b,view_parameter:x,component:o,element:179,event_type:102,aux_data:{content_ids:S,entered_query:_,grid_index:i,story_type:y}})},role:"link",rounding:4,children:(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:[(0,s.jsx)(p.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(d.default,{auxData:{content_ids:S,entered_query:_,grid_index:i,story_type:y},componentType:o||14026,imageOnlyOption:"image-only",duploIsSquarePin:!0,pinId:e.id,slotIndex:i,viewParameter:x,viewType:b})}),(0,s.jsx)(p.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,s.jsx)(p.zx,{accessibilityLabel:t.text,size:"sm",text:t.text})})]})}):(0,s.jsx)(d.default,{auxData:{content_ids:S,entered_query:_,grid_index:i,story_type:y},componentType:o||14026,duploIsSquarePin:!0,pinId:e.id,slotIndex:i,trafficSource:"shop_feed",viewParameter:x,viewType:b})}return(0,s.jsx)(p.xu,{flex:"none",paddingX:T?void 0:1,ref:0===i?A:void 0,width:F,children:I},`bubble-${null!==(n=e.id)&&void 0!==n?n:""}`)}))})}),(T||j)&&(0,s.jsx)(p.xu,{marginBottom:T?5:-2,marginTop:T?-6:1,position:"relative",zIndex:new p.Ry(100),children:(0,s.jsx)(p.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},justifyContent:"center",children:[...Array(O).keys()].map((e=>{const t=E===e?"tertiary":"lightWash";return(0,s.jsx)(p.xu,{color:t,height:6,rounding:"circle",width:6},`indicator-dot-${e}`)}))})})]})}},419685:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(702664),r=i(906935),a=i(366428),o=i(883119),s=i(785893);function l({auxData:e,slotIndex:t,storyId:i,storyType:l,viewParameter:d,viewType:c}){var u;const p=(0,n.useSelector)((({stories:e})=>e[i])),{action:h,display_options:m,objects:g,title:_}=p,v=null==m||null===(u=m.content_display)||void 0===u?void 0:u.component_type,f=(null==e?void 0:e.entered_query)||"",y={entered_query:f,grid_index:t,story_id:i,story_type:l},x=(0,a.Z)({componentType:v,contextLogData:y,impressionType:"Story",loggingId:i,slotIndex:t,viewParameter:d,viewType:c}),b=(0,n.useSelector)((({articles:e})=>g.map((t=>{switch(t.schema){case"article":return e[t.id];case"pin":return t;default:return null}}))));return(0,s.jsxs)(o.xu,{ref:x,children:[_&&(0,s.jsx)(o.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(o.xv,{weight:"bold",children:_.format})}),(0,s.jsx)(r.Z,{action:h,bubbles:b,component:v,query:f,storyId:i,storyType:l,viewParameter:d,viewType:c})]})}},151365:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(112690),r=i(825077),a=i(826067),o=i(907231),s=i(613316),l=i(785893);function d({auxData:e,bubble:t,font:i,format:d,height:c,onTouch:u,pwtSurfaceContext:p,referringSource:h,slotIndex:m,storyId:g,viewParameter:_,viewType:v,width:f="100%"}){var y;const{action:x,cover_images:b,curator:w,dominant_colors:P,id:S,identifier_icon_type:T,story_category:k,title:I}=t,j=(0,n.Z)();if(!b||!I)return null;const C=w&&w.full_name&&w.image_small_url?{full_name:w.full_name,image_small_url:w.image_small_url}:void 0,A=null===(y=b[0]&&(b[0]["474x"]||b[0]["236x"]))||void 0===y?void 0:y.url,E=I.format,D=(null==x?void 0:x.url)||(({storyCategory:e,query:t,referringSource:i,bubbleId:n,storyId:r,title:o})=>{const l=null!=e&&(0,s.y)(e),d=(0,a.XP)({q:t,rs:i||void 0,b_id:n,source_id:r}),c=l&&o?(0,s.x)({title:o,id:n,articleType:"discover"}):`/discover/article/${n}/`;return l?c:"/search/pins/"+(d?"?"+d:"")})({storyCategory:k,query:E,referringSource:h,bubbleId:S,storyId:g,title:E}),R=d===o.UG.article?13865:200,L=d===o.UG.article?102:6940,O=P&&P.length?P[0]:void 0;return(0,l.jsx)(r.fv,{auxData:{story_id:g,...e},impressionData:{storyCategory:k,storyIdStr:g},impressionType:"articleImpressions",loggingId:g,slotIndex:m,viewParameter:_,viewType:v,children:(0,l.jsx)(o.ZP,{backgroundColor:O,bubbleId:S,bubbleUrl:D,coverImageUrl:A,curator:C,font:i,format:d,height:c,identifierIconType:T,onTap:t=>{var i;(j({component:R,event_type:L,object_id_str:t,view_parameter:_,view_type:v,aux_data:{article_id:t,grid_index:m,...e}}),u)&&u({query:E,url:null!==(i=null==x?void 0:x.url)&&void 0!==i?i:void 0})},pwtSurfaceContext:p,referringSource:h,title:E,width:f})})}},285230:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(166300),r=i(898781),a=i(883119),o=i(785893);function s({isPinRep:e}){const t=(0,r.ZP)(),i=e?"default":"inverse",s=(0,o.jsx)(a.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(a.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(a.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(a.xu,{paddingY:4,children:(0,o.jsx)(a.JO,{accessibilityLabel:t._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:i,icon:"alert",size:20})}),(0,o.jsx)(a.xv,{align:"center",color:i,weight:"bold",children:t._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,o.jsx)(a.xu,{paddingY:1,children:(0,o.jsx)(a.xv,{align:"center",color:i,children:t._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?s:(0,o.jsx)(a.xu,{height:"100vh",children:(0,o.jsx)(n.Z,{children:s})})}},191363:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),r=i(904411),a=i(785893);function o({boardId:e}){var t;const i=(0,r.gC)()(e),o=null!=i&&i.images&&i.images["170x"]?i.images["170x"][0]:void 0;return e&&o?(0,a.jsx)(n.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=o.url)&&void 0!==t?t:""}):null}},452130:(e,t,i)=>{i.d(t,{k:()=>o,w:()=>a});var n=i(707853),r=i(883119);const a=2e3,o=new r.H3([n.Z])},959322:(e,t,i)=>{i.d(t,{Z:()=>j});var n=i(702664),r=i(98207),a=i(116303),o=i(118725),s=i(757141),l=i(198125),d=i(112690),c=i(50286),u=i(780280),p=i(883119),h=i(785893);const m=Math.floor(24),g=({articleId:e,imageUrls:t,subtitle:i,title:n,viewParameter:r,viewType:g,user:_})=>{const{isAuthenticated:v}=(0,u.B)(),f=(0,c.HG)(),{isHovering:y,handleMouseEnter:x,handleMouseLeave:b}=(0,l.Z)(),w=(0,d.Z)();if(!_||!t||t.length<=0)return null;const{full_name:P,image_medium_url:S,image_small_url:T}=_,k=S||T||"",I=Math.min(t.length,3),j={aux_data:{today_article_id:e},component:13525,object_id_str:e,view_parameter:r,view_type:g};return(0,h.jsxs)(p.xu,{borderStyle:"shadow",color:"default",onMouseEnter:f?x:void 0,onMouseLeave:f?b:void 0,overflow:"hidden",rounding:8,children:[y&&(0,h.jsx)(s.Z,{}),(0,h.jsx)(p.xu,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:(0,h.jsx)(p.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:t.slice(0,I).map(((e,t)=>(0,h.jsx)(p.xu,{width:100/I+"%",children:(0,h.jsx)(p.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t)})))})}),(0,h.jsxs)(p.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,h.jsx)(p.xu,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${m}px)`,top:`-${m}px`}},children:(0,h.jsx)(a.Z,{name:null!=P?P:"",outline:!0,size:"fit",src:k})}),n&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.X6,{size:"400",align:"center",children:n})}),i&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",size:"100",children:i})}),v&&(0,h.jsx)(p.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,h.jsx)(o.Z,{isSecondaryButton:!0,onTap:()=>{w({...j,element:62,event_type:f?101:102})},size:"lg",user:_,viewParameter:r,viewType:g})})]})]})};var _=i(235626),v=i(784641),f=i(606441);function y({articleId:e,gridIndex:t,pinId:i,pinOfficialUserId:n,showCreator:r,title:a,viewParameter:o,viewType:s}){const l=(0,f.N)(i);if(!l)return null;const{id:d,images:c,origin_pinner:u,pinner:p,tracking_params:m}=l,g=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!g)return null;const y=(0,v.xt)(n,null==u?void 0:u.id,null==p?void 0:p.id);return(0,h.jsx)(_.Z,{articleId:e,creatorId:y,gridIndex:t,pinId:d,imageHeight:g.height,imageUrl:g.url,imageWidth:g.width,showCreator:r,title:a,trackingParams:m,viewParameter:o,viewType:s})}var x=i(775007);const b=({articleId:e,gridIndex:t,pinId:i,title:n,viewParameter:r,viewType:a})=>{const o=(0,f.N)(i),s=null==o?void 0:o.pinner,l=null==o?void 0:o.story_pin_data;if(!o)return null;const d=(null==l?void 0:l.page_count)||"",{images:c}=o,u=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!u)return null;const p=(null==s?void 0:s.image_medium_url)||(null==s?void 0:s.image_small_url)||"",m=(null==s?void 0:s.full_name)||"",g=Boolean(p||m);return(0,h.jsx)(x.Z,{articleId:e,imageHeight:u.height,imageWidth:u.width,imageUrl:u.url,gridIndex:t,hasPinnerAttribution:g,pageCount:d,pinId:o.id,pinnerImageSrc:p,pinnerName:m,pinTrackingParams:o.tracking_params,title:n,viewParameter:r,viewType:a})};var w=i(588979);function P({articleId:e,gridIndex:t,pinOfficialUserId:i,showCreator:n,title:r,videoPinId:a,viewParameter:o,viewType:s}){var l,d;const c=(0,f.N)(a);if(!c)return null;const{description:u,images:p,origin_pinner:m,pinner:g,tracking_params:_}=c,y=(0,v.xt)(i,null==m?void 0:m.id,null==g?void 0:g.id),x=(null==p?void 0:p["736x"])||(null==p?void 0:p["236x"])||(null==p?void 0:p["170x"])||{},{url:b,height:P,width:S}=null!=x?x:{},T=null===(l=c.videos)||void 0===l||null===(d=l.video_list)||void 0===d?void 0:d.V_720P,{height:k,thumbnail:I,url:j,width:C}=null!=T?T:{};return(0,h.jsx)(w.Z,{articleId:e,creatorId:y,gridIndex:t,height:k,pinDescription:u,pinImageHeight:P,pinImageUrl:b,pinImageWidth:S,showCreator:n,title:r,trackingParams:_,thumbnail:I,url:j,videoPinId:a,viewParameter:o,viewType:s,width:C})}var S=i(452985),T=i(465110),k=i(802201),I=i(281180);const j=({gridIndex:e,id:t,isTodayArticlePage:i,article:a,subtitleSize:o,subtitleWeight:s,titleSize:l,viewParameter:d,viewType:c})=>{const u=(0,I.kW)(),p=(0,k.AF)(),m=(0,n.useSelector)((({todayArticles:e})=>a||e[t]));if(!m)return null;const{article_creator_user:_,content_pin:f,content_pin_official_user:x,display_type:w,feed_source:j,header_pin_id:C,image_urls:A,is_product_pin_feed:E,show_creator:D,subtitle:R,title:L,video_pin:O}=m,F=u[_||""],z=f||O,M=z?p[z].tracking_params:void 0;let N=null,Z=(0,v.T7)(j,null!=E&&E,L,t);switch(w){case 0:N=(0,h.jsx)(r.Z,{imageUrls:A,subtitle:R,subtitleSize:o||"300",subtitleWeight:s,title:L,titleSize:l||"500"});break;case 1:N=(0,h.jsx)(S.Z,{imageUrls:A,subtitle:R,subtitleSize:o||"300",title:L,titleSize:l||"500"});break;case 2:O&&(N=(0,h.jsx)(P,{articleId:t,gridIndex:e,pinOfficialUserId:x,showCreator:D,title:L,videoPinId:O,viewParameter:d,viewType:c}),Z=`/pin/${O}`);break;case 3:N=(0,h.jsx)(y,{articleId:t,gridIndex:e,pinId:f,pinOfficialUserId:x,showCreator:D,title:L,viewParameter:d,viewType:c}),Z=`/pin/${C}`;break;case 6:N=(0,h.jsx)(b,{articleId:t,gridIndex:e,pinId:f,title:L,viewParameter:d,viewType:c}),Z=`/pin/${C}`;break;case 8:F?(N=(0,h.jsx)(g,{articleId:t,imageUrls:A,subtitle:R,title:L,user:F,viewParameter:d,viewType:c}),Z=`/${encodeURIComponent(F.username)}/`):N=null;break;default:N=null}return N?(0,h.jsx)(T.y,{ArticleModule:N,clientTrackingParams:M,displayType:w,gridIndex:e,id:t,isTodayArticlePage:i,onArticleTapUrl:Z,pinId:z,viewParameter:d,viewType:c}):null}},5724:(e,t,i)=>{i.d(t,{Z:()=>w});var n,r=i(702664),a=i(70598),o=i(987798),s=i(898781),l=i(892819),d=i(883119),c=i(167912),u=i(785893);const p=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:r,locale:a,nameTextSize:c,renderAsPill:p,showFollowerCount:h,topicName:m,followerCount:g,image:_})=>{var v;const f=(0,s.ZP)(),y=(0,l.Z)(),x=(0,u.jsx)(d.JO,{accessibilityLabel:f._('Selected', ' - ', ' -- '),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return p?(0,u.jsx)(o.Z,{color:e||"#767676",image:_,isSelected:null!=r&&r,title:m}):(0,u.jsxs)(d.xu,{position:"relative","aria-selected":r,children:[(0,u.jsx)(d.zd,{rounding:n||i?4:2,children:(0,u.jsxs)(d.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,u.jsx)(d.xu,{bottom:!0,left:!0,padding:n&&r?1:0,position:"absolute",right:!0,rounding:n&&r?4:0,top:!0,children:(0,u.jsx)(d.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(v=_.url)&&void 0!==v?v:""})}),(0,u.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:r?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&r?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&r&&(0,u.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,u.jsx)(d.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,u.jsx)(d.xv,{align:"center",color:"light",size:c,weight:"bold",children:m})}):(0,u.jsxs)(d.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,u.jsx)(d.xv,{color:"inverse",size:c,weight:"bold",children:m}),h&&g>=0&&(0,u.jsx)(d.xu,{paddingY:1,children:(0,u.jsxs)(d.xv,{color:"inverse",size:"100",children:[(0,u.jsx)(d.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(a,g,{shortform:!0,shortform_maximum_fraction_digits:1})}),f._('followers', ' - ', ' -- ')]})})]}),r&&(0,u.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,u.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},h=void 0!==n?n:n=i(133132),m=({topicRef:e,...t})=>{var i,n,r,a,o,s;const l=(0,c.useFragment)(h,e),d=l.images?{url:null!==(i=l.images.url)&&void 0!==i?i:"",width:null!==(n=l.images.width)&&void 0!==n?n:0,height:null!==(r=l.images.height)&&void 0!==r?r:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,u.jsx)(p,{backgroundColor:null!==(a=l.background_color)&&void 0!==a?a:"",topicName:null!==(o=l.name)&&void 0!==o?o:"",followerCount:null!==(s=l.follower_count)&&void 0!==s?s:0,image:d,...t})},g=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...n})=>{const r=i||e||t||{},a=r.images["236x"]||r.images["400x"]||r.images["474x"]||r.images.orig||{height:1,url:"",width:1},o=r.follower_count||-1;return(0,u.jsx)(p,{backgroundColor:r.background_color,topicName:r.name,followerCount:o,image:a,...n})};var _,v=i(856585);const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:o="lg",onTouch:s,padding:l=2,renderAsPill:c,showFollowButton:p=!1,showFollowerCount:h=!1,shouldClickthrough:_=!1,topic:f,viewParameter:y,viewType:x,enabledHomeFeedTunerDesignChanges:b})=>{const w=(0,r.useDispatch)(),P=(0,r.useSelector)((({session:e})=>e.locale)),S=(0,u.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,u.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:P,nameTextSize:o,renderAsPill:c,showFollowerCount:h,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,u.jsx)(m,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:P,nameTextSize:o,renderAsPill:c,showFollowerCount:h,topicRef:f.topicRef}),!!f&&p&&(0,u.jsx)(d.xu,{paddingY:2,children:(0,u.jsx)(a.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t&&b,isFollowed:f.is_followed,onFollow:e=>w((0,v.ZN)(e)),onUnfollow:e=>w((0,v.fv)(e)),size:"md",unfollowEventType:602,viewParameter:y||void 0,viewType:x||void 0})})]});let T="/";return f&&(T=`/topics/${f.id}`),_&&f.slug?(0,u.jsx)(d.iP,{role:"link",onTap:({event:e})=>{null==s||s(e)},tapStyle:"compress",rounding:2,href:T,children:(0,u.jsx)(d.xu,{padding:l,children:S})}):S},y=void 0!==_?_:_=i(964820),x=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:n,isSelected:r=!1,nameTextSize:a="lg",onTouch:o,padding:s=2,renderAsPill:l,showFollowButton:d=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:g,enabledHomeFeedTunerDesignChanges:_})=>{var v,x;const b=(0,c.useFragment)(y,e);return(0,u.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:r,nameTextSize:a,onTouch:o,padding:s,renderAsPill:l,showFollowButton:d,showFollowerCount:p,shouldClickthrough:h,viewParameter:m,viewType:g,enabledHomeFeedTunerDesignChanges:_,topic:{id:null!==(v=b.entityId)&&void 0!==v?v:"",type:"graphql",is_followed:null!==(x=b.is_followed)&&void 0!==x&&x,topicRef:b}})},b=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:n,decreaseNamePadding:a=!1,isHomefeedTuner:o,isLego:s,isSelected:l=!1,nameTextSize:d="lg",onTouch:c,padding:p=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:_=!1,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:x})=>{const b=(0,r.useSelector)((({topics:t})=>t[e])),w=null!=t?t:b;return(0,u.jsx)(f,{decreaseNamePadding:a,isHomefeedTuner:o,isLego:s,isSelected:l,nameTextSize:d,onTouch:c,padding:p,renderAsPill:h,showFollowButton:m,showFollowerCount:g,shouldClickthrough:_,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:x,topic:{id:e,is_followed:!(null==w||!w.is_followed),topic:w,topicBlob:i,topicInfoForContextualExp:n,type:"resource"}})},w=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:r="lg",onTouch:a,padding:o=2,renderAsPill:s,showFollowButton:l=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:p,viewType:h,enabledHomeFeedTunerDesignChanges:m,...g})=>g.topicRef?(0,u.jsx)(x,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:r,onTouch:a,padding:o,renderAsPill:s,showFollowButton:l,showFollowerCount:d,shouldClickthrough:c,viewParameter:p,viewType:h,topicRef:g.topicRef,enabledHomeFeedTunerDesignChanges:m}):(0,u.jsx)(b,{id:g.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:r,onTouch:a,padding:o,renderAsPill:s,showFollowButton:l,showFollowerCount:d,shouldClickthrough:c,topic:g.topic,topicBlob:g.topicBlob,topicInfoForContextualExp:g.topicInfoForContextualExp,viewParameter:p,viewType:h,enabledHomeFeedTunerDesignChanges:m})},957980:(e,t,i)=>{i.d(t,{Z:()=>P});var n,r=i(667294),a=i(248975),o=i(862628),s=i(898781),l=i(250946),d=i(667679),c=i(755506),u=i(349700),p=i(539497),h=i(802201),m=i(276775),g=i(883119),_=i(167912),v=i(785893);const f=({children:e,onTap:t})=>{const[i,n]=(0,r.useState)(!1);return(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,v.jsx)(g.iP,{onTap:t,onBlur:()=>n(!1),onFocus:()=>n(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:e})})},y=void 0!==n?n:n=i(12617);function x({desktopContextMenuState:e,isMainPinImage:t,source:i,images:n,embedSrc:l,embedType:c,sourceUserUsername:h,sourceUserFullname:_,pinJoinVisualAnnotation:y,pinJoinSeoBreadcrumbName:x,pinJoinSeoBreadcrumbUrl:b,pinId:w,pinLink:P}){var S;const T=(0,s.ZP)(),k=(0,m.useHistory)(),I=(0,a.Z)({images:n,embedSrc:l,embedType:c}),j=x,C=b,A=null!==(S=null==y?void 0:y[0])&&void 0!==S?S:void 0,E=(0,o.Z)(A),D=`/search/pins/?q=${encodeURIComponent(E)}&rs=image_only_attribution`,R=(0,d.Z)(),L="dweb.plp.ellipsis.button"===i;return I?(0,v.jsxs)(g.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new g.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,v.jsx)(g.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,v.jsx)(g.JO,{icon:"pinterest",accessibilityLabel:T._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),R({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:w}}})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:T._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(t||L&&!P)&&(0,v.jsx)(f,{onTap:()=>{(0,p.My)(L?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(L?P:`/pin/${w}/`),L||R({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:T._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(A||!(!j||!C))&&(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),C?k.push(`${C}`):k.push(D)},children:j?(0,v.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(T._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:j})}):(0,v.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(T._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:A})})}),!(!_||!h)&&(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),k.push(`/${h}/`)},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(T._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:_})})}),(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),R({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup",desktopOptions:{modalType:"login"}})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:T._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function b({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,...n}){var r,a,o,s,d;const c=(0,_.useFragment)(y,e),u=(0,l.Z)(c);let p;var h,m;(p=null!=c&&c.nativeCreator?c.nativeCreator:null!=c&&c.linkDomain?c.linkDomain.officialUser:(null==c?void 0:c.originPinner)||(null==c?void 0:c.pinner),p)||(p=null!==(h=null==c||null===(m=c.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==h?h:null==c?void 0:c.pinner);return(0,v.jsx)(x,{...n,embedSrc:(null==c?void 0:c.embed)&&c.embed.src,embedType:(null==c?void 0:c.embed)&&c.embed.type,images:u,sourceUserUsername:null===(r=p)||void 0===r?void 0:r.username,sourceUserFullname:null===(a=p)||void 0===a?void 0:a.fullName,pinJoinVisualAnnotation:null==c||null===(o=c.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==c||null===(s=c.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(d=c.pinJoin)||void 0===d?void 0:d.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function w({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,...n}){var r,a,o,s,l,d;const u=(0,h.S6)()(t);let p=(0,c.wS)(u);var m,g;p||(p=null!==(m=null==u||null===(g=u.link_domain)||void 0===g?void 0:g.official_user)&&void 0!==m?m:null==u?void 0:u.pinner);const{full_name:_,username:f}=null!==(r=p)&&void 0!==r?r:{};return(0,v.jsx)(x,{...n,embedSrc:null==u||null===(a=u.embed)||void 0===a?void 0:a.src,embedType:null==u||null===(o=u.embed)||void 0===o?void 0:o.type,images:null==u?void 0:u.images,sourceUserUsername:_,sourceUserFullname:f,pinJoinVisualAnnotation:null==u||null===(s=u.pin_join)||void 0===s?void 0:s.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(l=u.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(d=u.pin_join)||void 0===d?void 0:d.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function P(e){return e.graphqlRef?(0,v.jsx)(b,{...e}):(0,v.jsx)(w,{...e})}},743873:(e,t,i)=>{i.d(t,{n:()=>w,Z:()=>P});var n=i(702664),r=i(474635),a=i(104788),o=i(966476);const s=({children:e,fallback:t})=>(()=>{const e=(0,n.useSelector)((e=>{var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),t=(0,o.Z)();return!e&&!t})()?t||null:e;var l=i(949372),d=i(898781),c=i(125920),u=i(112690),p=i(539497);var h=i(52022),m=i(643010),g=i(968228),_=i(773285),v=i(385740),f=i(53987),y=i(883119),x=i(276775),b=i(785893);const w=56;function P(){const e=(0,d.ZP)(),t=(0,x.useLocation)(),i=(0,x.useHistory)(),{viewType:o,viewParameter:P}=(0,v.SU)(),{userAgentPlatform:S,userAgent:T}=(0,n.useSelector)((({session:e})=>e)),k=(0,g.Rp)({platform:S,userAgent:T}),I=(0,c.Z)(),j=function(){const{isSeoBot:e}=(0,n.useSelector)((({session:e})=>e));return(t,i)=>{e||(0,p.NC)(t,i)}}(),C=(0,l.Z)(),{checkExperiment:A}=(0,_.F)(),E=(0,u.Z)(),D=(0,h.Z)(),R=e._('Log in', 'Label for log in button', 'Label for log in button'),L=e._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),O=e._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),F=!k&&!(0,f.Xn)(t),z=((0,f.dr)(t)||(0,f.$Y)(t)||(0,f.E0)(t))&&!A("lex_follow_button").group.includes("main_cta"),M=!C||I||z?"signup":"download",N=(F?R.length:0)+("signup"===M?L.length:0)+("download"===M?O.length:0);return(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,m.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,b.jsxs)(y.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,b.jsx)(y.iP,{accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:()=>{D({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,b.jsxs)(y.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,b.jsx)(y.xu,{alignItems:"center",display:"flex",height:w,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,b.jsx)(y.iP,{role:"link",tapStyle:"none",href:"/",children:k?(0,b.jsx)(a.Z,{size:24}):(0,b.jsx)(y.hU,{icon:"pinterest",iconColor:"red",padding:1,size:"xl",accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,b.jsx)(y.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:N<18&&(0,b.jsxs)(y.xu,{children:[(0,b.jsx)(y.X6,{color:"error",size:"400",overflow:"normal",children:k?e._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):e._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),k&&(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,b.jsx)(y.xu,{children:(0,b.jsx)(y.xv,{inline:!0,size:"100",color:"subtle",children:e._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,b.jsx)(s,{children:(0,b.jsxs)(y.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[F&&(0,b.jsx)(y.xu,{"data-test-id":"login-button",children:(0,b.jsx)(y.zx,{fullWidth:!0,color:"white",onClick:()=>{D({action:"click",within:"unauth-header",item:"login-button"}),E({component:13198,element:30,event_type:102,view_type:o,view_parameter:P}),j("press_header_login"),E({event_type:10241,element:30,component:14213,view_type:o,view_parameter:P,aux_data:{upsell_reason:"tap_unauth_header_login"}}),i.push("/login",t.state)},size:"md",text:R})}),"signup"===M?(0,b.jsx)(y.xu,{"data-test-id":"signup-button",children:(0,b.jsx)(y.zx,{fullWidth:!0,color:z?"red":"gray",onClick:()=>{D({action:"click",within:"unauth-header",item:"signup-button"}),E({component:13198,element:31,event_type:102,view_type:o,view_parameter:P}),j("press_header_signup"),E({event_type:10241,element:31,component:14215,view_type:o,view_parameter:P,aux_data:{upsell_reason:"tap_unauth_header_signup"}}),i.push("/signup",t.state)},size:"md",text:L})}):(0,b.jsx)(y.xu,{"data-test-id":"download-button",children:(0,b.jsx)(r.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,b.jsx)(y.zx,{fullWidth:!0,color:(0,f.j8)(t)||A("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:O})})})]})})]})})}},884979:(e,t,i)=>{i.d(t,{Yw:()=>S,ZP:()=>C,nt:()=>P});var n,r=i(474635),a=i(155247),o=i(248975),s=i(30700),l=i(862628),d=i(949372),c=i(898781),u=i(250946),p=i(667679),h=i(755506),m=i(349700),g=i(539497),_=i(217013),v=i(773285),f=i(802201),y=i(276775),x=i(883119),b=i(167912),w=i(785893);const P=250,S={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},T=void 0!==n?n:n=i(167074);function k({mwebContextMenuState:e,openShareModal:t,setMwebContextMenuState:i,pinId:n,images:u,embedSrc:h,embedType:f,sourceUserUsername:b,sourceUserFullname:S,pinDownloadFilename:T,pinImageSignature:k,pinJoinVisualAnnotation:I,pinJoinSeoBreadcrumbName:j,pinJoinSeoBreadcrumbUrl:C}){var A;const E=(0,c.ZP)(),D=(0,y.useHistory)(),R=(0,o.Z)({images:u,embedSrc:h,embedType:f}),{isChromeOnIOS:L}=(0,_.R)(),O=j,F=C,z=null!==(A=null==I?void 0:I[0])&&void 0!==A?A:void 0,M=(0,l.Z)(z),N=`/search/pins/?q=${encodeURIComponent(M)}&rs=image_only_attribution`,Z=(0,p.Z)(),U=(0,_.R)(),{checkExperiment:B}=(0,v.F)(),H=(0,d.Z)();return R?(0,w.jsxs)(x.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new x.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:P,children:[(0,w.jsxs)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(x.JO,{icon:"pinterest",accessibilityLabel:E._('Pinterest logo', 'unauth.mweb.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"}),(0,w.jsx)(x.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null)},children:(0,w.jsx)(x.JO,{icon:"cancel",accessibilityLabel:E._('Dismiss mweb context menu', 'unauth.mweb.context_menu.dismiss', 'Dismiss icon in mweb context menu')})})})]}),"main"===e.context&&H&&B("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,w.jsx)(r.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:t})=>{t.stopPropagation(),i(null),e({deepLinkUri:`/pin/${n}/`}),(0,g.My)("unauth.mweb.context_menu.open_in_app")},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E._('Open in App', 'unauth.mweb.context_menu.link.open_in_app', 'Link to open the pin in Pinterest app')})})})}),["download","short_d"].includes(e.context)&&k?(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(a.Z,{imgSrc:R,isChromeOnIOS:L,filename:T,pinId:n,viewType:3,imageSignature:k,children:e=>(0,w.jsx)(s.Z,{pressState:"none",onTouch:t=>{e().then((()=>{t.stopPropagation(),i(null),(0,g.My)("unauth.mweb.context_menu.download_image")}))},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E._('Download image', 'unauth.mweb.related_pin.context_menu.link.download_image', 'Link to download image')})})})}):(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),(0,g.My)("unauth.mweb.context_menu.save_image"),e&&U.saveButtonConfig.onSaveButtonClick(e)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E._('Save image', 'unauth.mweb.context_menu.link.save_image', 'Link to save image')})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),t&&t(!0),(0,g.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E._('Share image', 'unauth.mweb.context_menu.link.share_menu', 'Link to open the share menu')})})}),(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),(0,g.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${n}/`)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E._('Open link in new tab', 'unauth.mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})})}),["download","save","main"].includes(e.context)&&(z||!(!O||!F))&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:()=>{(0,g.My)("unauth.mweb.context_menu.see_more_pins"),D.push(F?`${F}`:N)},children:O?(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(E._('See more ideas about {{levelOneInterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:O})}):(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(E._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:z})})})}),["download","save","main"].includes(e.context)&&!(!S||!b)&&(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:()=>{(0,g.My)("unauth.mweb.context_menu.more_from_creator"),D.push(`/${b}/`)},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(E._('See more from {{full_name}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:S})})})}),(0,w.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(x.iP,{onTap:({event:e})=>{e.stopPropagation(),i(null),(0,g.My)("unauth.mweb.context_menu.login_signup"),Z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,w.jsx)(x.xv,{size:"200",weight:"bold",children:E._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function I({graphqlRef:e,pinId:t,...i}){var n,r,a,o,s;const l=(0,b.useFragment)(T,e),d=(0,u.Z)(l);let c;var p,h;(c=null!=l&&l.nativeCreator?l.nativeCreator:null!=l&&l.linkDomain?l.linkDomain.officialUser:(null==l?void 0:l.originPinner)||(null==l?void 0:l.pinner),c&&"string"!=typeof c)||(c=null!==(p=null==l||null===(h=l.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==p?p:null==l?void 0:l.pinner);const m=(null==l?void 0:l.gridTitle)||(null==l?void 0:l.closeupUnifiedDescription),g=null==l?void 0:l.imageSignature;return(0,w.jsx)(k,{...i,embedSrc:(null==l?void 0:l.embed)&&l.embed.src,embedType:(null==l?void 0:l.embed)&&l.embed.type,images:d,sourceUserUsername:null===(n=c)||void 0===n?void 0:n.username,sourceUserFullname:null===(r=c)||void 0===r?void 0:r.fullName,pinDownloadFilename:m,pinImageSignature:g,pinJoinVisualAnnotation:null==l||null===(a=l.pinJoin)||void 0===a?void 0:a.visualAnnotation,pinJoinSeoBreadcrumbName:(null==l||null===(o=l.pinJoin)||void 0===o?void 0:o.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==l||null===(s=l.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function j({graphqlRef:e,pinId:t,...i}){var n,r,a,o,s,l;const d=(0,f.S6)()(t),c=null==d?void 0:d.pinner;let u=(0,h.wS)(d);var p,m;u&&"string"!=typeof u||(u=null!==(p=null==d||null===(m=d.link_domain)||void 0===m?void 0:m.official_user)&&void 0!==p?p:c);const{full_name:g,username:_}=null!==(n=u)&&void 0!==n?n:{},v=(null==d?void 0:d.grid_title)||(null==d?void 0:d.closeup_unified_description),y=null==d?void 0:d.image_signature;return(0,w.jsx)(k,{...i,embedSrc:null==d||null===(r=d.embed)||void 0===r?void 0:r.src,embedType:null==d||null===(a=d.embed)||void 0===a?void 0:a.type,images:null==d?void 0:d.images,sourceUserUsername:g,sourceUserFullname:_,pinDownloadFilename:v,pinImageSignature:y,pinJoinVisualAnnotation:null==d||null===(o=d.pin_join)||void 0===o?void 0:o.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(l=d.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function C(e){return e.graphqlRef?(0,w.jsx)(I,{...e}):(0,w.jsx)(j,{...e})}},125920:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(702664),r=i(172071),a=i(949372),o=i(436851),s=i(968228),l=i(50286),d=i(276775),c=i(780280),u=i(419940),p=i(622096),h=i(53987);const m=()=>{const{isBot:e}=(0,c.B)(),t=(0,d.useLocation)(),{userAgentPlatform:i,userAgent:m}=(0,n.useSelector)((e=>e.session)),g=(0,a.Z)(),_=(0,l.ml)();return!e&&!(_&&!g)&&!(0,s.Rp)({platform:i,userAgent:m})&&((0,h.uM)(t)||(0,h.am)(t))&&!(0,u.P)()&&!(e=>!!(0,o.d)(e)&&((0,p.qn)("ufausfiiab")||(r.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(m)}},111168:(e,t,i)=>{i.d(t,{Z:()=>s});var n,r=i(667294),a=i(167912);const o=void 0!==n?n:n=i(569772),s=e=>{var t;const i=(0,a.useFragment)(o,e),n=null==i||null===(t=i.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,r.useMemo)((()=>null==n?void 0:n.reduce(((e,t)=>(t.name&&(e[t.name]={name:t.name,url:t.url}),e)),{})),[n])}},609700:(e,t,i)=>{i.d(t,{Z:()=>w});var n=i(667294),r=i(702664),a=i(116303),o=i(70598),s=i(149230),l=i(898781),d=i(883119),c=i(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:i})=>{var n,r,a;const o=(0,l.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:i,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:o._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,src:null!==(a=t.url)&&void 0!==a?a:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:u,height:e,width:i,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"secondary",width:i,height:e})})};var h=i(112690),m=i(892819),g=i(803035),_=i(856919),v=i(349700),f=i(281180),y=i(780280),x=i(825077),b=i(5226);function w({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:u=!1,onFollowUser:w,onUnfollowUser:P,userId:S,userPins:T,viewParameter:k,viewType:I,truncateName:j=!1}){const C=(0,l.ZP)(),A=(0,m.Z)(),E=(0,r.useDispatch)(),{locale:D}=(0,y.B)(),R=(0,h.Z)(),[L,O]=(0,n.useState)(u?window.innerWidth-16:null),F=(0,f.mN)()(S);if(!F)return null;const{contextual_pin_image_urls:z,explicitly_followed_by_me:M,follower_count:N=0,full_name:Z,image_medium_url:U,is_verified_merchant:B,recent_pin_images:H,username:V,verified_identity:W}=F,$=e=>L?(L-(e-1))/e:0,G=u?1.6*$(4):117,K=(null==T?void 0:T.map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],q=(null==H?void 0:H["222x"])||(null==H?void 0:H["192x"])||[];let Y=(null==z?void 0:z["222x"])||(null==z?void 0:z["192x"])||[];i&&0===Y.length&&(Y=q);const X=u&&Y.length<=0;let J=u?Y.concat(q).slice(0,4):K.concat(q).slice(0,2);0===J.length&&(J=[void 0,void 0]);const Q=!X&&(L?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:J.map(((e,t)=>(0,c.jsx)(p,{height:G,image:e,width:$(J.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:G,ref:e=>{e&&O(e.offsetWidth)},width:"100%"})),ee=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(a.Z,{outline:!0,name:null!=Z?Z:"",src:null!=U?U:""})})}),te=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(u?(L||0)/2:L)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:j?1:void 0,children:B||null!=W&&W.verified?(0,c.jsx)(g.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=Z?Z:"",verifiedType:B?"verifiedMerchant":"verifiedIdentity",truncate:j}):Z})}),(0,c.jsx)(d.xv,{inline:!0,size:"100",align:e,children:(0,v.nk)(C.ngettext('{{followers}} follower', '{{followers}} followers', N, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:A(D,N,{shortform:!0})})})]}),ie=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{R({event_type:9029,object_id_str:S,view_type:I,view_parameter:k,aux_data:t})},rel:(0,s.Z)({url:e.url})?"nofollow":void 0,target:(0,s.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(o.Z,{id:S,isSecondaryButton:!0,isFollowed:M,onFollow:e=>{w&&w(),E((0,b.ZN)(e))},onUnfollow:e=>{P&&P(),E((0,b.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:I})});return(0,c.jsx)(x.Cy,{loggingId:S,objectIdStr:S,slotIndex:0,viewParameter:k,viewType:I,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(_.MZ,{to:`/${V}/`,onTouch:()=>{R({event_type:43,object_id_str:S,view_parameter:k,view_type:I})},children:(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),te("start")]}),ie]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),te("center"),ie]})]})})})})}},803035:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),r=i(512176),a=i(883119),o=i(785893);const s=function({badgeSize:e,badgeSpacing:t,fullName:i,verifiedType:s,truncate:l=!1}){const d=i.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return l?(0,o.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(a.xv,{lineClamp:1,weight:"bold",children:i}),(0,o.jsx)(a.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,o.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)("span",{children:c}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,o.jsx)(a.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,o.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},139463:(e,t,i)=>{i.d(t,{Z:()=>c,e:()=>u});var n=i(667294),r=i(722767),a=i(867405),o=i(883119),s=i(606441),l=i(785893);function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.PureComponent{constructor(...e){super(...e),d(this,"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),d(this,"handleVisibilityChanged",(e=>{const{intersectionRatio:t}=e[0],{isPlaying:i,isVideoReady:n,startLoading:r}=this.state;t>=.8?(this.setState({isVisibleForPlaying:!0}),this.videoRef&&(r?n&&!i&&this.videoRef.play():(this.videoRef.load(),this.setState({startLoading:!0})))):(this.setState({isVisibleForPlaying:!1}),this.videoRef&&n&&this.videoRef.pause())})),d(this,"handleVideoPause",(()=>this.setState({isPlaying:!1}))),d(this,"handleVideoPlay",(()=>this.setState({isPlaying:!0}))),d(this,"getVideoRef",(e=>this.videoRef=e)),d(this,"setIsVideoReadyTrue",(()=>{this.setState({isVideoReady:!0}),this.videoRef&&!this.state.isPlaying&&this.state.isVisibleForPlaying&&this.videoRef.play()}))}render(){const{height:e,thumbnail:t,url:i,width:n,pinDescription:s,pinImageHeight:d,pinImageUrl:c,pinImageWidth:u}=this.props,p=(null!=e?e:1)/(null!=n?n:1);return i?(0,l.jsx)(r.Z,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:(0,l.jsx)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:100*p+"%"}},children:(0,l.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,l.jsx)("video",{height:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:t,preload:"none",ref:this.getVideoRef,src:i,width:"100%"})})})}):(0,l.jsx)(o.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,l.jsx)(a.Z,{description:s,imageUrl:c,imageHeight:d,imageWidth:u})})}}function u({pinId:e}){var t,i;const n=(0,s.N)(e);if(!n)return null;const r=n.images&&(n.images.orig||n.images["736x"]||n.images["290x"]||n.images["236x"]),{description:a}=n,{url:o,height:d,width:u}=null!=r?r:{},p=null===(t=n.videos)||void 0===t||null===(i=t.video_list)||void 0===i?void 0:i.V_720P,{height:h,thumbnail:m,url:g,width:_}=null!=p?p:{};return(0,l.jsx)(c,{height:h,thumbnail:m,url:g,width:_,pinDescription:a,pinImageUrl:o,pinImageHeight:d,pinImageWidth:u})}},104788:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e,noCircle:t}){return(0,n.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,n.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},408285:(e,t,i)=>{i.d(t,{$J:()=>T,AP:()=>O,Dm:()=>k,Fv:()=>P,H$:()=>D,In:()=>L,Ng:()=>S,RH:()=>x,Wj:()=>R,_P:()=>I,go:()=>w});var n=i(126098),r=i(6637),a=i(360903),o=i(30287),s=i(53987),l=i(539497),d=i(957161);const c="home",u="closeup",p="news_hub",h="board",m="profile",g="topic",_="today",v="business",f="search";let y;const x="_push",b=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},w=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),P=()=>new Promise(((e,t)=>{const i=navigator.serviceWorker,{pwaType:n,twaType:r}=y.getState().session,a=new URLSearchParams({source_url:window.location.pathname});n&&r&&(0,o.Rx)(r)&&(a.append("pwa_type",n),a.append("twa_type",r)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&a.append("referrer",document.referrer),i&&i.register?((0,l.My)("mweb_service_worker.install_attempt"),i.register(`/sw.js?${a.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),b(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),S=()=>new Promise(((e,t)=>{const i=navigator.serviceWorker;i&&i.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),i.getRegistration().then((i=>{i?i.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),b(i),e(i)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):P().then(e)}))):e()})),T=()=>{const e=y.getState().session.isAuthenticated;(0,l.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),P()},k=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,a.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},I=()=>!(!w()||!("SyncManager"in window)),j=e=>(0,s.C$)(e)?c:(0,s.L6)(e)?u:(0,s.l4)(e)?p:(0,s.am)(e)?h:(0,s.cD)(e)?m:(0,s.En)(e)?f:(0,s.$V)(e)?g:(0,s.Zz)(e)?_:(0,s.Ni)(e)?v:"undefined",C=e=>{switch(j(e)){case c:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case p:return{viewType:107,viewParameter:3081};case h:return{viewType:5,viewParameter:void 0};case f:return{viewType:2,viewParameter:43};case g:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case _:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},A=(e,t)=>(0,l.tj)(e,{browser:y.getState().session.browser,version:Math.floor(parseInt(y.getState().session.browserVersion,10)),...t}),E=(0,n.Z)(),D="default"===E||"granted"===E,R=(e,t,i,n)=>{const a=navigator.serviceWorker,o=Boolean((0,d.qn)(x)),s={experimentName:i||"noExperiment",experimentGroup:n||"noGroup"};return a&&a.ready&&D&&!o?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:i,experiment_group:n}}),A(`mweb.notifications_upsell.${j(e)}.viewed`,s),a.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((i=>((e,t,i,n)=>{r.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const i=(({subscriptionId:e,endpoint:t})=>{return e||(i=t.split("/"))[i.length-1];var i})(e);if(t.resource_response.data[i])return;const n={registration_id:i,subscription_endpoint:e.endpoint};r.Z.create("WebPushDeviceResource",n).callCreate()})),(0,d.Nh)(x,"subscribed"),A(`mweb.notifications_upsell.${j(t)}.subscribed`,i);const a=C(t);n({component:13125,element:10357,event_type:102,view_type:a.viewType,view_parameter:a.viewParameter,aux_data:{experiment_name:i.experimentName,experiment_group:i.experimentGroup}})})(i,e,s,t)),(()=>((e,t,i)=>{(0,d.Nh)(x,"denied"),A(`mweb.notifications_upsell.${j(e)}.denied`,t);const n=C(e);i({component:13125,element:10358,event_type:102,view_type:n.viewType,view_parameter:n.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,s,t)))):Promise.reject()},L=e=>{y=e},O=({isAuthenticated:e,isAppShell:t})=>{let i=!1;const n=n=>{if(i)return;i=!0;const r=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${r}.${n}`)},r=navigator.serviceWorker,a=null==r?void 0:r.controller;r&&a?setTimeout((()=>n("timeout")),1e3):n("no_worker")}},558150:(e,t,i)=>{function n({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:i,pinShoppingFlags:n}){if(n){const r=n,a={pin_is_shop_the_look:r.includes(2),pin_show_pdp:e||t||i,is_available:r.includes(1),is_product_pin_v2:r.includes(5),is_rich_product_pin:r.includes(6)};return JSON.stringify(a)}}i.d(t,{Z:()=>n})},609943:(e,t,i)=>{function n(e,t){return e||(t?`${t}~0`:"~0")}i.d(t,{Z:()=>n})},473535:(e,t,i)=>{i.d(t,{AZ:()=>s,B7:()=>o,U3:()=>a});const n={my_content:63,pins:60,users:62,boards:61,buyable_pins:3800},r={my_content:189,boards:44,my_pins:107,users:45,pins:43,buyable_pins:254};function a({logContextEvent:e,searchScope:t,searchTerm:i,rs:a}){(i=i.trim())&&e({event_type:n[t],view_parameter:r[t],view_type:2,aux_data:{query:i,rs:a}})}function o(e,t,i){i({view_parameter:103,view_type:2,component:35,element:e,event_type:102,aux_data:t})}function s(e){return e.split("/")[2]}},968228:(e,t,i)=>{i.d(t,{G3:()=>c,Rp:()=>d,kp:()=>l});var n=i(622096),r=i(202139),a=i(957161);const o=14*r.F4;function s(e,t,i){return e-t>i}const l=e=>{const t=function(){const e=Date.now(),t=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,n.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,i){const{currentTime:n,firstUpsellTime:r,lastUpsellTime:l,showedAppUpsellCurrentSession:d}=e;return i=i||o,!r||function(e,t,i){return e<t+i}(n,r,t)?!d:!!s(n,l,i)&&((0,a.L_)("firstUpsellTime"),!0)}(t,r.F4):function(e,t){const{currentTime:i,lastUpsellTime:n}=e;return t=t||o,!n||s(i,n,t)}(t)},d=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(i){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},693099:(e,t,i)=>{i.d(t,{AA:()=>a,E9:()=>g,EU:()=>f,IO:()=>v,Jd:()=>h,KH:()=>c,QR:()=>d,Uw:()=>r,ZR:()=>y,dy:()=>l,eA:()=>p,fo:()=>m,k7:()=>o,rT:()=>_,tz:()=>u,u9:()=>x,zR:()=>s,zu:()=>n});const n="OPEN_UNAUTH",r="openUnauthType",a="_isAfterLogin",o="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,h="_unauthInviteCode",m="_unauthReferrerString",g="unauthTopicsFollowed",_=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),f=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),y=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},706512:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(172071),r=i(407043);const a={13:e=>!!e.view_parameter,9105:e=>!!e.view_parameter,9104:e=>!!e.view_parameter,10357:e=>!!e.view_parameter,10358:e=>!!e.view_parameter,10359:e=>!!e.view_parameter,10360:e=>!!e.view_parameter,102:e=>!!e.element&&!!e.view_parameter,101:e=>!!e.element&&!!e.view_parameter,4104:e=>!!e.view_parameter&&!e.element,4105:e=>!!e.view_parameter&&!e.element,8900:e=>!!e.view_parameter&&!e.element,9626:e=>!!e.view_parameter&&!e.element,9625:e=>!!e.view_parameter&&!e.element,46:e=>!!e.view_parameter&&!e.element,45:e=>!!e.view_parameter&&!e.element},o=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13],s=[259,3120,3139,172,3596,3542,261,171,260],l=()=>{const{logContextEvent:e}=(0,r.v)();return t=>{const{event_type:i,element:r,view_parameter:l,component:d,view_type:c,aux_data:u}=t,p=(e=>{const{event_type:t,element:i,view_parameter:n}=e;return!Object.keys(a).includes(`${t}`)||i&&!o.includes(i)||n&&!s.includes(n)?{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}:a[t](e)?-1===[213,24,260].indexOf(e.view_type)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}})(t);if(p)return console.error(p.message),void n.Z.increment("webapp.track_nux_invalid_parameters",1,{code:p.code,component:d,event_type:i,element:r,view_type:c,view_parameter:l});e({component:d,event_type:i,element:r,view_parameter:l,view_type:c,aux_data:u})}}},544826:(e,t,i)=>{i.d(t,{DZ:()=>u,Dv:()=>h,Es:()=>d,HW:()=>l,mv:()=>c,nb:()=>p});var n=i(957161),r=i(773285),a=i(693099);const o=e=>e>=Date.now()-72e5,s=(e,t)=>{const i=[];if(e)for(const n of e)t&&!n.is_shared||o(n.ts)&&i.push(n);return i},l=()=>{const e=(0,n.qn)(a.zR),t=e?JSON.parse(e):[],i=s(t,!1),r=s(t,!0),l=i.map((e=>e.first_pin_image_signature)),d=i.map((e=>e.pin_id)),c=r.map((e=>e.first_pin_image_signature)),u=(e=>{const t={};if(e)for(const i of e)i.is_shared&&o(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(t),p=(0,n.qn)(a.dy),h=p?JSON.parse(p):[];return{extraPlpImages:l,plpImageRenderData:i,extraPlpIds:d,extraBlpImages:s(h,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:c,sharedPinData:u}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){if(e[i].id!==t[i].id)return!1}return!0},c=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>e.is_followed)),u=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null;function p(){const{checkExperiment:e}=(0,r.F)(),{group:t}=e("activation_new_user_holdout_2022_h2");return t.includes("holdout")}const h=()=>{const{checkExperiment:e}=(0,r.F)(),{anyEnabled:t,group:i}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(i.slice(-1)):NaN}}},755506:(e,t,i)=>{i.d(t,{AH:()=>l,Bk:()=>a,CK:()=>s,Fi:()=>o,Xe:()=>r,wS:()=>n});const n=e=>{if(!e)return Object.freeze({});let t;return e.native_creator?(t=e.native_creator,t):e.link_domain?(t=e.link_domain.official_user,t):(t=e.origin_pinner||e.pinner,t)};function r({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:i,pinDomain:n,sourceUserUsername:r,sourceUserFullName:a}){return!t&&(e||i)&&r?{pinCreditLink:`/${r}/`,pinCredit:a}:{pinCreditLink:void 0,pinCredit:!t&&e?n:""}}const a=({i18n:e,isLego:t,hasLinkDomain:i,hasRichMetadataArticle:n,hasRichMetadataTutorial:r,hasRichMetadataRecipeCategorizedIngredients:a,hasRichMetadataProductOfferSummary:o,hasRichSummaryProductOfferSummary:s,richMetadataRecipeFromAggregatedData:l,richMetadataProductName:d,richSummaryProductName:c})=>{const u=a;let p;d&&o&&(p=!0);const h=n,m=r;let g=t?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return!i||l?g=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation'):p?g=e._('Product sold by ', 'pin annotation', 'pin annotation'):m?(t&&(g=e._('From ', 'pin annotation', 'pin annotation')),g=e._('Saved from ', 'pin annotation', 'pin annotation')):u?g=e._('Recipe from ', 'pin annotation', 'pin annotation'):h&&(g=e._('Article from ', 'pin annotation', 'pin annotation')),!o&&c&&s&&(g=e._('Product sold by ', 'pin annotation', 'pin annotation')),g},o=({i18n:e,isLego:t,pin:i})=>{var o,s,l,d,c,u,p,h,m,g,_,v,f,y,x,b,w,P;const S=i.link_domain,T=i.native_creator,k=i.rich_metadata,I=i.rich_summary,j=i.attribution;let C,A,E,D;const R=n(i),{pinCreditLink:L,pinCredit:O}=r({hasLinkDomain:!!S,hasNativeCreator:!!T,hasOriginPinner:!!i.origin_pinner,pinDomain:i.domain,sourceUserUsername:null==R?void 0:R.username,sourceUserFullName:null==R?void 0:R.full_name}),F=a({i18n:e,isLego:t,hasLinkDomain:!!i.link_domain,hasRichMetadataArticle:!(null===(o=i.rich_metadata)||void 0===o||!o.article),hasRichMetadataTutorial:!(null===(s=i.rich_metadata)||void 0===s||!s.tutorial),hasRichMetadataRecipeCategorizedIngredients:!(null===(l=i.rich_metadata)||void 0===l||null===(d=l.recipe)||void 0===d||!d.categorized_ingredients),hasRichMetadataProductOfferSummary:!(null===(c=i.rich_metadata)||void 0===c||null===(u=c.products)||void 0===u||null===(p=u[0])||void 0===p||!p.offer_summary),hasRichSummaryProductOfferSummary:!(null===(h=i.rich_summary)||void 0===h||null===(m=h.products)||void 0===m||null===(g=m[0])||void 0===g||!g.offer_summary),richMetadataRecipeFromAggregatedData:null===(_=i.rich_metadata)||void 0===_||null===(v=_.recipe)||void 0===v?void 0:v.from_aggregated_data,richMetadataProductName:null===(f=i.rich_metadata)||void 0===f||null===(y=f.products)||void 0===y||null===(x=y[0])||void 0===x?void 0:x.name,richSummaryProductName:null===(b=i.rich_summary)||void 0===b||null===(w=b.products)||void 0===w||null===(P=w[0])||void 0===P?void 0:P.name});if(S&&!(k&&k.recipe&&k.recipe.from_aggregated_data)){const e=!!(k&&k.recipe&&k.recipe.name&&k.recipe.categorized_ingredients);let t;k&&k.products&&k.products[0]&&(t=!!(k&&k.products[0].name&&k.products[0].offer_summary));const n=!(!k||!k.article);var z,M;if(t)E=null==k||null===(z=k.products)||void 0===z?void 0:z[0].offer_summary,D=null==k||null===(M=k.products)||void 0===M?void 0:M[0].shipping_info;else if(e){var N,Z,U;A=null!==(N=null==k?void 0:k.recipe)&&void 0!==N?N:null,null!==(Z=A)&&void 0!==Z&&null!==(U=Z.aggregate_rating)&&void 0!==U&&U.rating_value&&"number"==typeof A.aggregate_rating.review_count&&(null!=k&&k.site_name||i.domain)?A.aggregate_rating.review_source=(null==k?void 0:k.site_name)||i.domain:A&&(A.aggregate_rating=null)}else if(n){var B;C=(null==k||null===(B=k.article)||void 0===B?void 0:B.date_published)&&new Date(k.article.date_published)}}if(!E&&I){let e;I&&I.products&&I.products[0]&&(e=!!(I&&I.products[0].name&&I.products[0].offer_summary),e&&(E=I.products[0].offer_summary,D=I.products[0].shipping_info))}return{pinArticleDate:C,pinAttribution:j,pinCreditLink:L,pinCreditPrefix:F,pinCredit:O,pinProduct:E,pinShippingInfo:D,pinRecipe:A}},s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:n})=>e?t?144:i?141:n?145:139:140,l=e=>!!e&&!e.startsWith("https://i.pinimg.com")},663023:(e,t,i)=>{i.d(t,{XK:()=>s,jC:()=>o,yd:()=>l});var n=i(745760);let r=null,a=null;const o=((e,t)=>{let i=null;return o=>{var s;if(o&&!i)return i={...o,event_type:e,time:(0,n.h1)()},null===(s=a)||void 0===s||s.logContextEvent(i),r&&i&&r.storeClickthroughProperties(i),e;if(!o&&i){var l;const e={...i,event_type:t,duration_ns:(0,n.h1)()-i.time};return null===(l=a)||void 0===l||l.logContextEvent(e),i=null,t}return null}})(12,4100),s=e=>{r=e},l=e=>{a=e}},81759:(e,t,i)=>{i.d(t,{CC:()=>b,Cb:()=>f,Ff:()=>A,H$:()=>P,Mt:()=>x,OJ:()=>v,Yi:()=>k,Ys:()=>_,Yy:()=>j,Z4:()=>g,ZN:()=>p,dc:()=>T,dp:()=>w,i$:()=>m,kw:()=>y,p9:()=>S,t_:()=>h});var n=i(231486),r=i(6637),a=i(826067),o=i(400660),s=i(226198),l=i(539497),d=i(622096),c=i(957161),u=i(693099);const p=["utm_pai","utm_source","invite_code"],h=()=>(0,c.qn)(u.tz,""),m=()=>{const e=h();let t;try{t=JSON.parse(e)}catch(i){t=[]}return t},g=(e,t)=>{const i=m(),n=i.length,r=n?i[0].path:"";if(n<u.eA&&(!n||e!==r)){const n={path:e,pageType:t,ts:Date.now()};(0,c.Nh)(u.tz,JSON.stringify([n].concat(i)))}},_=e=>{(0,c.Nh)(u.Jd,e)},v=()=>(0,c.qn)(u.fo,""),f=e=>{(0,c.Nh)(u.fo,e)},y=()=>{h()&&(0,c.L_)(u.tz),(0,c.qn)(u.Jd,"")&&(0,c.L_)(u.Jd),v()&&(0,c.L_)(u.fo)},x=(e,t,i,n,r,a,o=u.k7)=>{const s=(0,c.qn)(o)?JSON.parse((0,c.qn)(o)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:i||0,first_pin_image_signature:t||"",first_pin_id:i||"",image_info:n||"",pin_description:r||"",is_shared:!!a,pin_invite_code:a}];(0,c.Nh)(o,JSON.stringify(l.concat(s)))}},b=({path:e,image:t,dominant_color:i,pin_description:n,pin_id:r})=>{const a=(()=>{const e=(0,d.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(i){t=[]}return t})();if(!a[0]||a[0].path!==e){const o=[{path:e,image:t,pin_description:n||"",dominant_color:i||"",pin_id:r||""}];(0,d.Nh)(u.KH,JSON.stringify(o.concat(a)))}};function w(e,t,i,n,r,a){x(e,t,i,n,r,a,u.zR)}const P=(e,t)=>{var i,n;x(e,t.image_signature,t.id,null===(i=t.images)||void 0===i?void 0:i["236x"],null!==(n=t.description)&&void 0!==n?n:"","",u.dy)};function S(e,t,i,n,r){x(e,t,i,n,r,"",u.QR)}function T(){return m().filter((e=>"closeup"===e.pageType)).length}function k(){const e=r.Z.create("UnauthUserDataResource");return new Promise(((t,i)=>{e.callGet().then((e=>{const r=e.resource_response.data,a=!!n.U2(s.x3);return r?((0,o.Wn)(r.medium_image_url)&&(r.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(a?"true":"false")),t(r)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(a?"true":"false")),i({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return i(e)}))}))}function I({i18n:e,location:t}){const i=t.pathname.startsWith("/signup"),n=t.pathname.startsWith("/login");if(!i&&!n)return{showPLPBanner:!1,pinForBanner:null};let r;try{r=JSON.parse((0,d.qn)(u.KH))}catch(a){r=[]}if(r&&r.length>0){const t=r[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const j=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function C({i18n:e,location:t}){var i;const n=(null===(i=t.state)||void 0===i?void 0:i.next)||j(t);if(n){const t=n.indexOf("?"),i=(0,a.mB)(n.substring(t));if(i.url&&i.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,a.Jx)(i.media),height:1,width:1},pinDescription:i.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function A({i18n:e,location:t}){return C({i18n:e,location:t}).showPLPBanner?C({i18n:e,location:t}):I({i18n:e,location:t}).showPLPBanner?I({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},550407:(e,t,i)=>{i.d(t,{M:()=>v,g:()=>f});var n,r=i(667294),a=i(203345),o=(i(883119),i(539497)),s=i(743873),l=i(50286),d=i(957980),c=i(884979),u=i(167912),p=i(785893);const h=void 0!==n?n:n=i(110767);const m=({queryReference:e,...t})=>{var i;const n=(0,u.usePreloadedQuery)(h,e),r=null==n||null===(i=n.v3GetPinQuery)||void 0===i?void 0:i.data;return r?(0,p.jsx)(d.Z,{...t,graphqlRef:r}):null},g=({queryReference:e,...t})=>{var i;const n=(0,u.usePreloadedQuery)(h,e),r=null==n||null===(i=n.v3GetPinQuery)||void 0===i?void 0:i.data;return r?(0,p.jsx)(c.ZP,{...t,graphqlRef:r}):null},_=(0,r.createContext)((()=>()=>{})),v=()=>(0,r.useContext)(_),f=({children:e,feedRef:t,viewType:i,viewParameter:n,useGraphql:v})=>{const[f,y]=(0,r.useState)(null),[x,b]=(0,r.useState)(null),[w,P]=(0,r.useState)(!1),[S,T]=(0,r.useState)(null),[k,I]=(0,r.useState)(!1),j=(0,l.HG)(),[C,A]=(0,u.useQueryLoader)(h);if(v&&!C&&S){A(function({pinId:e}){return{query:h,variables:{pinId:e}}}({pinId:S}).variables)}const E=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,r.useEffect)((()=>E),[]);const D=(0,r.useCallback)((e=>i=>{const{pinId:n,deviceOptions:r}=e;if(i.stopPropagation(),i.preventDefault(),T(n),r.isDesktop)I(r.isMainPinImage),(0,o.My)("dweb.unauth.context_menu.open_menu"),y({xPosition:i.clientX,yPosition:i.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,o.My)("mweb.unauth.related_pin.context_menu.open");const e=i.changedTouches.item(0);if(t&&t.current){const i=t.current.getBoundingClientRect(),n=Math.min(e.pageX-i.left,i.width-c.nt),a=e.pageY-s.n;b({xPosition:n,yPosition:a,context:r.context})}}}),[t]),R=!!f;(0,r.useEffect)((()=>{const e=()=>{y(null),E(),(0,o.My)("dweb.unauth.context_menu.click_away")};return R&&document.addEventListener("click",e),()=>{R&&document.removeEventListener("click",e)}}),[R]);const L=f&&S?v?C&&(0,p.jsx)(m,{desktopContextMenuState:f,pinId:S,isMainPinImage:!!k,queryReference:C}):(0,p.jsx)(d.Z,{desktopContextMenuState:f,pinId:S,isMainPinImage:!!k,graphqlRef:null}):null,O=x&&S?v?C&&(0,p.jsx)(g,{mwebContextMenuState:x,pinId:S,openShareModal:P,setMwebContextMenuState:b,queryReference:C}):(0,p.jsx)(c.ZP,{graphqlRef:null,mwebContextMenuState:x,pinId:S,openShareModal:P,setMwebContextMenuState:b}):null;return(0,p.jsx)(_.Provider,{value:D,children:(0,p.jsxs)(r.Fragment,{children:[e,j&&L,!j&&O,!j&&w&&S&&(0,p.jsx)(a.default,{objectType:1,isOpen:w,onDismiss:()=>P(!1),objectId:S,hideContactsSuggestions:!0,element:12016,viewType:i,viewParameter:n})]})})}},634291:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),r=i(807609),a=i(957161);const o=e=>{const t=(0,a.qn)(e);if(!t)return null;try{return JSON.parse(t)}catch(i){return null}};var s=i(773285);const l=()=>{const[e,t]=function(e){const t=(0,r.Z)(),[i,s]=(0,n.useState)(t?null:o(e));return(0,n.useEffect)((()=>{s(o(e))}),[e]),[i,(0,n.useCallback)((t=>{s(t),null===t?(0,a.L_)(e):(0,a.Nh)(e,JSON.stringify(t))}),[e])]}("unauthSavedPins"),i=null!==(d=null==(l=e)?void 0:l.pins)&&void 0!==d?d:[];var l,d;const c=e=>t((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,s.F)(),p=()=>{const{anyEnabled:e,group:t}=u("pcons_mweb_save_v3");let n=0;if(e){const e=t.split("_")[1];n=e?parseInt(e,10):0}return i.length<n};return{pins:i,save:e=>{p()&&c(i.filter((({id:t})=>t!==e.id)).concat([e]))},unsave:e=>c(i.filter((({id:t})=>t!==e))),isSaved:e=>i.some((({id:t})=>t===e)),clear:()=>c([]),canSaveMore:p}}},400660:(e,t,i)=>{function n(e){return Boolean(null==e?void 0:e.is_matured_new_user)}i.d(t,{IR:()=>o,V0:()=>n,Wn:()=>a,xT:()=>r});const r=e=>!!e&&2===e.login_state,a=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function o(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},419940:(e,t,i)=>{i.d(t,{C:()=>l,P:()=>s});var n=i(172071),r=i(53987),a=i(622096);const o="msmrsfda",s=()=>!!(0,a.qn)(o),l=e=>{(0,r.LM)(e)&&!s()&&((0,a.Nh)(o,"1"),n.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},983360:(e,t,i)=>{i.d(t,{$o:()=>o,$t:()=>k,AC:()=>me,AO:()=>X,Ae:()=>w,BM:()=>h,C2:()=>E,CB:()=>re,DC:()=>y,Df:()=>_,Fl:()=>p,GG:()=>K,HQ:()=>N,IY:()=>Q,JG:()=>H,K0:()=>a,Kp:()=>J,L6:()=>r,LB:()=>I,Ly:()=>z,MA:()=>F,MU:()=>n,NE:()=>oe,OO:()=>$,Pz:()=>W,Qj:()=>q,R8:()=>D,Th:()=>V,U1:()=>L,UD:()=>ue,Uf:()=>A,Wn:()=>le,XA:()=>ee,YZ:()=>d,Yn:()=>g,ZX:()=>T,a9:()=>f,aj:()=>M,b6:()=>c,c7:()=>v,cZ:()=>R,cs:()=>j,dF:()=>S,dO:()=>ie,eI:()=>O,fz:()=>l,hC:()=>he,hl:()=>x,il:()=>pe,j_:()=>de,l_:()=>s,le:()=>U,lj:()=>ce,m2:()=>se,mU:()=>ne,nk:()=>m,o3:()=>Y,pV:()=>B,pd:()=>ae,q:()=>G,tg:()=>C,u2:()=>u,vH:()=>Z,vW:()=>te,xV:()=>b,xl:()=>P});const n="APPEND_FEED_ITEMS",r="DISMISS_UNAUTH_APP_UPSELL",a="TOPIC_FOLLOW",o="PIN_ADD",s="PIN_DELETE",l="PIN_EDIT",d="PIN_UNDO_SAVE",c="PIN_IMPRESSIONS",u="PINS_MOVE",p="PINS_MOVE_ALL",h="SET_SESSION_DATA",m="BOARD_SECTION_EDIT",g="BOARD_SECTION_DELETE",_="AUTHENTICATE_USER",v="REGISTER_USER",f="SET_LOGIN_SIGNUP_FROM",y="UPDATE_CURRENT_SEARCH",x="UPDATE_RECENT_SEARCHES",b="CLEAR_RECENT_SEARCH",w="CLEAR_RECENT_PERSONAL_SEARCH",P="CLEAR_RECENT_SEARCHES",S="CLEAR_RECENT_PERSONAL_SEARCHES",T="COMPLETE_STORY",k="SET_NUM_SIGNUP_STEPS",I="SET_OWN_PROFILE_PINS_REFRESH",j="SHOW_REPIN_ANIMATION",C="HIDE_REPIN_ANIMATION",A="MESSAGE_SEND_PENDING",E="MESSAGE_SEND_PENDING_SUCCESS",D="MESSAGE_SEND_PENDING_FAILURE",R="ONE_TAP_SAVE",L="ONE_TAP_UNSAVE",O="CLEAR_MESSAGES_BADGE",F="CLEAR_MESSAGE_BADGE",z="RELOAD_VISUAL_SEARCH_ANNOTATIONS",M="SHOW_NUX_HOMEFEED_LOADER",N="SHOW_BIZ_NUX_HOMEFEED_LOADER",Z="SET_VIEWED_IMAGE",U="SET_VIEWED_SHARED_PINS",B="SHOW_NAV_FOOTER",H="HIDE_NAV_FOOTER",V="SET_MESSENGER_CAMPAIGN_DATA",W="LOGGED_OUT_USER_INFO_FOUND",$="LOGGED_OUT_USER_INFO_NOT_FOUND",G="PIN_BUILDER_LOADED_IMAGES",K="UPDATE_PIN_BUILDER_INPUT",q="SET_ACTIVE_HOMEFEED_TAB",Y="SET_SOCIAL_SEASONAL_BOARD",X="SET_SHARE_ON_BOARD_PAGE",J="UPDATE_PIN_REACTION_COUNT",Q="SET_FLASHLIGHT_CROP_SOURCE",ee="ALLOW_ALL_COOKIES",te="SCROLL_TO_CLOSEUP_PIN",ie="STOP_SCROLL_TO_CLOSEUP_PIN",ne="UPDATE_CONTACT_REQUEST_STATUS",re="REMOVE_CONTACT_REQUESTS",ae="SHOW_TOAST_CONTACT_REQUEST_UNDO",oe="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",se="CONVERSATION_DELETE",le="DISMISS_UNAUTH_SAVE",de="SET_UNAUTH_SAVE_PIN_ID",ce="COMPLETE_UNAUTH_SAVE_ACTION",ue="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",pe="SET_LANDING_PAGE_TYPE",he="REPLACE_STATE",me="SET_DARK_MODE"},716235:(e,t,i)=>{i.d(t,{a:()=>r,k:()=>a});var n=i(983360);const r=e=>({type:n.cZ,payload:e}),a=e=>({type:n.U1,payload:e})},358589:(e,t,i)=>{i.d(t,{DX:()=>C,iX:()=>O,q$:()=>D,lr:()=>R,ES:()=>A,Bp:()=>k,wh:()=>I,Zf:()=>E,t_:()=>L,Mr:()=>T});var n=i(667294),r=i(622359),a=i(609943),o=i(499128),s=i(898781),l=i(349700),d=i(883119),c=i(785893);function u({hideToast:e,newPin:t,originalPinId:i}){var n,r;const a=(0,s.ZP)();return(0,c.jsx)(o.ZP,{primaryAction:{accessibilityLabel:a._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${null!==(n=null===(r=t.board)||void 0===r?void 0:r.id)&&void 0!==n?n:""}&&isFromToast=true&&originalPinId=${null!=i?i:""}`,label:a._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,c.jsx)(d.xv,{children:(0,l.nk)(a._('Saved to {{ profile }}', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile'),{profile:(0,c.jsx)(d.xv,{inline:!0,weight:"bold",children:a._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})}),iconThumbnail:(0,c.jsx)(d.xu,{color:"secondary",display:"flex",justifyContent:"center",alignItems:"center",height:48,width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:a._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})})})}var p=i(6637),h=i(47495),m=i(414327),g=i(332611),_=i(195946),v=i(862501),f=i(782677);const y=({board:e,section:t})=>{const i=(0,s.ZP)();return t?(0,l.nk)(i._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.xv,{color:"default",children:i._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,c.jsx)(d.xv,{color:"default",weight:"bold",children:e.name})]})};class x{constructor({boardId:e,dispatch:t,history:i,isOneTapSave:n=!1,isQuickSave:r=!1,onSuccess:o,onUndo:s,originalPinId:l,pin:d,resourceName:c,saveToProfileToastExpGroup:u="",section:p,showRepinToasts:m,trackingParams:g,userId:_,viewType:v=3}){var y,x,b,w,P;P=e=>(0,f.Fv)(e.resource_response.data,h.Z[this.resourceName]),(w="_getNormalizedResponse")in(b=this)?Object.defineProperty(b,w,{value:P,enumerable:!0,configurable:!0,writable:!0}):b[w]=P,this.boardId=e,this.trackingParams=g,this.clientTrackingParams=(0,a.Z)(g.clientTrackingParams||"",d.tracking_params),this.dispatch=t,this.history=i,this.onSuccess=o,this.onUndo=s,this.originalPinId=l,this.pin=d,this.pinnedToBoardId=g.pinnedToBoardId||(null!==(y=null===(x=d.pinned_to_board)||void 0===x?void 0:x.id)&&void 0!==y?y:""),this.resourceName=c,this.saveToProfileToastExpGroup=u,this.showRepinToasts=m,this.section=p,this.isOneTapSave=n,this.isQuickSave=r,this.userId=_,this.viewType=v}get resourceOptions(){const{link:e,title:t,promoted_is_removable:i,id:n}=this.pin,r=i?{is_removable:!0}:{};return{pin_id:n,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=t?t:"",user_id:this.userId,is_removable:r}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:(0,_.A)(this.pin),object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId}}}_createRepin(){return p.Z.create(this.resourceName,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((t=>{this.onSuccess&&this.onSuccess();const i=t.resource_response.data,{board:n}=i,{isQuickSave:a,originalPinId:o}=this,l=!this.saveToProfileToastExpGroup.includes("holdout"),p=({hideToast:e})=>{var t;if(a&&!l)return(0,c.jsx)(u,{hideToast:e,newPin:i,originalPinId:o});const{thumbnail:p}=(0,v.L)(n.id);return(0,c.jsx)(r.Z,{button:l?(0,c.jsx)(s.oz,{children:e=>(0,c.jsx)(d.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const r=this.onUndo;var a;if(r&&!l)r(this.pin.id,i.id,n.id,null===(a=this.section)||void 0===a?void 0:a.id,e);else if(l){var s;null===(s=this.history)||void 0===s||s.push(`/pin/${i.id}/repin/?isEditingPin=true&pinBoardId=${n.id}&&isFromToast=true&&originalPinId=${null!=o?o:""}`)}},text:l?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}):void 0,href:this.section?`${n.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:n.url,isRepinToExistingBoard:!0,onHide:e,text:(0,c.jsx)(y,{board:n,section:this.section}),thumbnail:p})},h=this._getNormalizedResponse(t);if(this.dispatch((0,m.XM)(this.resourceName,this.resourceOptions,t,h)),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,m.XM)(this.resourceName,e,t,h))}this.dispatch(T(i.id,n.id,this.section?this.section.id:void 0,this.userId));const _=this.showRepinToasts;return _&&_(p),this.dispatch((0,g.fO)({event_type:5})),e(this.trackingData),i}))}}var b=i(875495),w=i(811403),P=i(987197),S=i(983360);const T=(e,t,i,n)=>({type:S.$o,payload:{pinId:e,boardId:t,boardSectionId:i,pinnerId:n}}),k=({history:e,i18n:t,logContextEvent:i,onSuccess:n,onUndo:r,originalPinId:a,pinId:o,trackingParams:s,disableRepinAnimation:l,saveToProfileToastExpGroup:d,showRepinConfirmation:c})=>(u,h)=>{const{pins:m,session:g}=h(),{userId:_}=g,v=m[o],f={name:t._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:_};return p.Z.create("BoardResource",f).callCreate().then((o=>{const p=o.resource_response.data;return new x({boardId:p.id,dispatch:u,isQuickSave:!0,history:e,i18n:t,onSuccess:n,onUndo:r,originalPinId:a,pin:v,resourceName:"RepinResource",saveToProfileToastExpGroup:d,section:void 0,showRepinToasts:e=>c?c(e,l):void 0,trackingParams:s,userId:g.userId}).processRepin(i)}))},I=({pinId:e,boardId:t,i18n:i,logContextEvent:n,onSuccess:r,onUndo:a,originalPinId:o,saveToProfileToastExpGroup:s,showRepinConfirmation:l,showToast:d,section:c,trackingParams:u,isOneTapSave:p,viewType:h})=>(m,g)=>{var _,v,f,y,w;const{pins:P,session:S,feeds:T}=g(),k=P[e];t&&((null===(_=null!==(v=null==k?void 0:k.shopping_flags)&&void 0!==v?v:[])||void 0===_?void 0:_.length)>0||null!=k&&k.rich_summary&&(null===(f=null!==(y=null==k||null===(w=k.rich_summary)||void 0===w?void 0:w.products)&&void 0!==y?y:[])||void 0===f?void 0:f.length)>0)&&(T[`board-shop-saved-preview:${t}`]&&m((0,b.Qv)(`board-shop-saved-preview:${t}`,[k],{isPrepend:!0})),T[`board-shop-saved:${t}`]&&m((0,b.Qv)(`board-shop-saved:${t}`,[k],{isPrepend:!0})));return new x({boardId:t,dispatch:m,i18n:i,isLegoSaveStyle:!0,isOneTapSave:p,onSuccess:r,onUndo:a,originalPinId:o,pin:k,resourceName:"RepinResource",saveToProfileToastExpGroup:s,section:c,showRepinToasts:e=>l?l(e):d?d(e):void 0,trackingParams:u,userId:S.userId,viewType:h}).processRepin(n)},j=[],C=e=>(t,i)=>{const{pinId:n}=e,r=i().pins[n];r&&!r.impressed&&(j.push(e),(e=>{e({type:"PIN_IMPRESSIONS",payload:j.slice()}),j.length=0})(t))},A=e=>t=>{const i=p.Z.create("PinFlagResource",e).callCreate().catch((()=>t((0,w.fH)(e.pin_id,"error"))));return t((0,w.fH)(e.pin_id,"reported")),i},E=e=>t=>{const i=p.Z.create("PinFeedbackResource",e).callUpdate().catch((()=>t((0,w.fH)(e.pin_id,"error"))));return t((0,w.fH)(e.pin_id,"hidden")),i},D=({pinId:e,boardId:t,boardSectionId:i,clientTrackingParams:n})=>(r,a)=>{const o=p.Z.create("PinResource",{id:e,client_tracking_params:n}).callDelete(),{session:{userId:s}}=a();return r(((e,t,i,n)=>({type:S.l_,payload:{pinId:e,boardId:t,boardSectionId:i,userId:n}}))(e,t,i,s)),o},R=e=>t=>{const{boardId:i,pinId:n,description:r,section:a,title:o}=e,s=p.Z.create("PinResource",{board_id:i,board_section_id:a&&a.id,description:r,id:n,title:o}).callUpdate();return t((e=>({type:S.fz,payload:e}))(e)),s},L=(e,t,i)=>({type:S.YZ,payload:{pinId:e,boardId:t,boardSectionId:i}}),O=e=>t=>{const{method:i,guid:n,image_base64:r,image_url:a}=e;return((e,t)=>new Promise((i=>{e?(0,P.eR)(e).then((e=>{i(e)})):i(t)})))(r,a).then((r=>{const a={...e,method:"button"!==i||n?i:"button_external",image_url:r,image_base64:void 0},o="PinResource";return p.Z.create(o,a).callCreate().then((e=>{const i=(0,f.Fv)(e.resource_response.data,h.Z.PinResource);t((0,m.XM)(o,a,e,i));const n=e.resource_response.data,{board:{id:r},pinner:{id:s},section:l}=n,d=l&&l.id;return t(T(n.id,r,d,s)),e}))}))}},185894:(e,t,i)=>{i.d(t,{Cp:()=>p,FK:()=>u,H5:()=>j,MI:()=>b,Mj:()=>k,O0:()=>y,QZ:()=>c,W:()=>S,WF:()=>_,Wz:()=>C,YV:()=>g,a5:()=>v,dz:()=>P,e0:()=>f,e2:()=>d,gH:()=>x,iW:()=>T,n1:()=>l,rm:()=>m,wb:()=>I,xu:()=>w});var n=i(172071),r=i(360903),a=i(983360),o=i(53987),s=i(408285);const l=()=>({type:a.Wn}),d=()=>({type:a.lj}),c=e=>({type:a.j_,payload:{unauthSavePinId:e}}),u=()=>({type:a.JG}),p=()=>({type:a.pV}),h=e=>({type:a.BM,payload:e}),m=e=>({type:a.a9,payload:{from:e}}),g=()=>e=>{e(h({preparingNewVersion:!0})),(0,s.Ng)().catch((()=>(n.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,s.Dm)()))).finally((()=>{n.Z.increment("mweb.new_version.refresh",1),e(h({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,r.Qi)()},_=()=>({type:a.cs}),v=()=>({type:a.tg}),f=e=>({type:a.$t,payload:{steps:e}}),y=()=>({type:a.LB}),x=e=>({type:a.aj,payload:e}),b=e=>({type:a.HQ,payload:e}),w=e=>({type:a.vH,payload:{viewedImageSignature:e}}),P=e=>({type:a.le,payload:{pins:e}}),S=()=>({type:a.L6}),T=e=>e?{type:a.Pz,payload:e}:{type:a.OO},k=(e,t,i)=>n=>n(((e,t,i)=>({type:a.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:i}}))(e,t,i)),I=()=>({type:a.dO}),j=e=>({type:a.UD,payload:e}),C=(e,t)=>{let i;return i=e?(0,o.bo)(e)?"today":(0,o.dr)(e)?"ideas":t&&(0,o.dZ)(e,t)?"own_section":t&&(0,o.J)(e,t)?"own_board":(0,o.OJ)(e)?"section":(0,o.am)(e)?"board":(0,o.L6)(e)?"closeup":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.En)(e)?"search":(0,o.$V)(e)?"topic":"":"",{type:a.il,payload:i}}},856585:(e,t,i)=>{i.d(t,{ZN:()=>s,bJ:()=>d,fv:()=>l,hr:()=>o,lD:()=>c});var n=i(6637),r=i(983360);function a(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const o=(e,t)=>({type:r.K0,payload:{id:e,value:t}}),s=(e,t)=>i=>{a(e,t).callCreate().catch((()=>i(o(e,!1)))),i(o(e,!0))},l=(e,t)=>i=>{a(e,t).callDelete().catch((()=>i(o(e,!0)))),i(o(e,!1))},d=e=>t=>{const i=e.reduce(((e,t)=>(e[t.id]=!t.is_followed,e)),{});return n.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:i}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:i})=>{t(o(e,!i))}))}))},c=(e,t="")=>i=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const n=e[t];i(o(t,n))}))}))},987197:(e,t,i)=>{i.d(t,{OF:()=>c,Q_:()=>a,b8:()=>o,eR:()=>d});var n=i(408285),r=i(6637);const a=(e,t)=>i=>r.Z.create("UserStateResource",{state:e,value:t}).callCreate(),o=(e,t,i)=>(a,o)=>{r.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{i({event_type:48,object_id_str:o().session.userId}),e(),(0,n.Dm)()}),t)};const s=async(e,t,i)=>{var n;const a=await r.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(n=a.resource_response)&&void 0!==n&&n.data[e]){const n=a.resource_response.data[e],{status:r,signature:o}=n;if("processing"===r||"registered"===r)setTimeout((async()=>{s(e,t,i)}),5e3);else if("succeeded"===r){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(o);t(e)}else i()}else i()},l=e=>new Promise(((t,i)=>{var n,a,o,l,d;n=e,a="pinimage",o=()=>{},l=e=>{t(e)},d=e=>{i(e)},(new FormData).append("img",n),r.Z.create("VIPResource",{type:a}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:i,upload_parameters:r}=e.resource_response.data,a=new XMLHttpRequest;a.open("POST",i,!0),a.onload=()=>{var e;(e=a.status)>=200&&e<400?(o(100),s(t,l,d)):d()},a.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);o(t)};const c=new FormData;for(const e in r)c.append(e,r[e]);c.append("file",n),a.send(c)}}),(()=>{d()}))})),d=e=>new Promise(((t,i)=>{"string"==typeof e?e.startsWith("data")&&l(function(e,t=512){const i=e.split(";"),n=i[0].split(":")[1],r=i[1].split(",")[1],a=atob(r),o=[];for(let s=0;s<a.length;s+=t){const e=a.slice(s,s+t),i=new Array(e.length);for(let t=0;t<e.length;t+=1)i[t]=e.charCodeAt(t);const n=new Uint8Array(i);o.push(n)}return new Blob(o,{type:n})}(e)).then((e=>t(e))):i("Invalid Image")})),c=e=>()=>r.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()},606441:(e,t,i)=>{i.d(t,{N:()=>r});var n=i(702664);function r(e){return(0,n.useSelector)((({pins:t})=>e?t[e]:null),n.shallowEqual)}},360903:(e,t,i)=>{i.d(t,{Qi:()=>d,RK:()=>l,$_:()=>s});var n=i(766935);var r=i(957161);const a="REDUX_STATE",o=()=>!!navigator.serviceWorker,s=()=>o()&&JSON.parse((0,r.qn)(a))||{},l=e=>(0,n.Z)((t=>{const i={};i[e]=t,o()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{o()&&(0,r.Nh)(a,JSON.stringify({...s(),...e}))})(i)))}),1e3),d=()=>{(0,r.L_)(a)}},479739:(e,t,i)=>{i.d(t,{CQ:()=>l,Cj:()=>m,Il:()=>g,In:()=>T,Is:()=>v,JF:()=>P,NZ:()=>p,PN:()=>f,R_:()=>c,T_:()=>b,Ud:()=>h,gI:()=>u,i3:()=>y,ik:()=>k,kT:()=>x,oF:()=>d,ts:()=>s,ut:()=>S});var n=i(442279);const r=e=>e.boards,a=e=>e.invites,o=e=>e.users,s=e=>e.users[e.session.userId]||null,l=e=>(e=>(t,i)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,i)])(e),d=(0,n.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((t,i)=>({...t,[i]:e[i]})),{}))),c=(0,n.P1)(a,(e=>Object.keys(e).reduce(((t,i)=>{const n=i.split(":")[0],r=t[n]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[i]&&"not_invited"!==e[i].status&&("pending_approval"===e[i].status?r.pendingOwnerAction.push(i):r.notPendingOwnerAction.push(i),t[n]=r),t}),{}))),u=(0,n.P1)(a,(e=>Object.keys(e).reduce(((t,i)=>{const n=e[i];return t[i]=n,t}),{}))),p=(0,n.P1)(s,a,((e,t)=>Object.keys(t).reduce(((i,n)=>{const r=n.split(":"),a=r[0],o=r[1],s=e.id===o,l=t[n]&&["new","contact_request_not_approved"].includes(t[n].status);return s&&l&&(i[a]=n),i}),{}))),h=(0,n.P1)(o,a,((e,t)=>Object.keys(t).reduce(((i,n)=>{const r=t[n]||{};return i[n]=e[r.invited_by_user],i}),{}))),m=(0,n.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((t,i)=>{const n=e[i];return t[n.slug]=n,t[i]=n,t}),{}))),g=(0,n.P1)(o,(e=>Object.keys(e).reduce(((t,i)=>{const n=e[i];return t[n.username]=n,t}),{}))),_=(0,n.P1)(s,r,((e,t)=>Object.keys(t).reduce(((i,n)=>{var r;const a=t[n];return!a.archived_by_me_at&&((null===(r=a.owner)||void 0===r?void 0:r.id)===e.id||a.collaborating_users&&a.collaborating_users.map((({id:e})=>e)).includes(e.id))&&a.cover_images?i.concat([a]):i}),[]))),v=(0,n.P1)(_,(e=>e.sort(((e,t)=>e.name.localeCompare(t.name))))),f=(0,n.P1)(((e,t)=>e.users[t.user_id]||null),r,((e,t)=>Object.keys(t).reduce(((i,n)=>{var r;const a=t[n];return!a.archived_by_me_at&&e&&((null===(r=a.owner)||void 0===r?void 0:r.id)===e.id||a.collaborating_users&&a.collaborating_users.map((({id:e})=>e)).includes(e.id))&&i.push(a),i}),[]))),y=(0,n.P1)(r,(e=>Object.keys(e).reduce(((t,i)=>{const n=e[i];return t[n.url]=n,n.oldSlugUrl&&(t[n.oldSlugUrl]=n),t}),{}))),x=(0,n.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((t,i)=>{var n;const r=e[i];return t[`${null===(n=r.board)||void 0===n?void 0:n.id}_${r.slug}`]=r,t}),{}))),b=l((({boardId:e})=>`board-sections:${e}`)),w=l((({pinId:e})=>`call-to-create-pins:${e}`)),P=(0,n.P1)((e=>e.pins),w,((e=[],t=[])=>t.map((t=>e[t.id])))),S=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),T=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,k=({pins:e},{pinId:t})=>{const i=e[t];return{callToCreateResponseCount:i.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:i.call_to_create_responses_preview_image_urls,callToCreateSourcePin:i.call_to_create_source_pin,callToCreateSourcePinId:i.call_to_create_source_pin_id,isCallToCreate:i.is_call_to_create}}},727126:(e,t,i)=>{i.r(t),i.d(t,{default:()=>M});var n=i(667294),r=i(702664),a=i(223656),o=i(794987),s=i(898781),l=i(349700),d=i(883119),c=i(785893);function u({isOwnProfile:e,username:t}){const i=(0,s.ZP)();return(0,c.jsx)(d.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",maxWidth:240,paddingY:4,children:e?(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.xv,{align:"center",children:i._('You haven\u2019t saved any Pins yet', 'profile.boards.pinner.OwnProfile.NoSavedIdeas', 'User own profile empty state, when there`re no pins saved')}),(0,c.jsx)(d.xu,{marginBottom:1,marginTop:4,children:(0,c.jsx)(d.zx,{role:"link",fullWidth:!0,href:"/",size:"lg",text:i._('Find ideas', 'profile.boards.OwnProfile.EmptyStateLego.Button', 'User own profile empty state button, when there`re no pins saved, to redirect user to homefeed')})})]}):(0,c.jsx)(d.xv,{align:"center",children:(0,l.nk)(i._('{{ username }} hasn\u2019t saved any Pins yet', 'profile.boards.Pinner.EmptyStateLego', 'Other user profile empty state, when there`re no pins saved'),{username:t})})})}var p=i(708605),h=i(968919),m=i(920231),g=i(705834),_=i(989726),v=i(643010);const f="archived-boards";function y({renderBoard:e}){const t=(0,s.ZP)(),{isFetching:i,fetchMore:a}=(0,_.Z)({name:"BoardArchiveResource",options:{}}),o=(0,r.useSelector)((({feeds:e})=>e[f]||[]));return(0,c.jsxs)(n.Fragment,{children:[o.length>0&&(0,c.jsx)(d.xu,{color:(0,v.Yc)()?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,v.Yc)()?void 0:"#f6f6f6",marginBottom:-68,paddingBottom:86}},marginEnd:-4,marginStart:-4,children:(0,c.jsx)(d.xu,{paddingX:6,paddingY:1,children:(0,c.jsx)(m.Z,{cacheKey:f,columnWidth:300,Item:e,gutterWidth:6,items:o,layout:"uniformRow",loadItems:a,minCols:2})})}),i&&(0,c.jsx)(d.xu,{margin:5,children:(0,c.jsx)(d.$j,{accessibilityLabel:t._('Loading user boards', 'Loading state for the user boards page', 'Loading state for the user boards page'),show:!0})})]})}var x=i(49391),b=i(430323),w=i(829407),P=i(298361),S=i(807609),T=i(784590),k=i(52022),I=i(407043),j=i(773285),C=i(50286),A=i(479739),E=i(276775);const D=(0,A.CQ)("archived-boards"),R=e=>`profile-boards:${e}`,L=({hasBoards:e,isOwnProfile:t,userId:i,username:a})=>{const o=(0,s.ZP)(),l=(0,E.useHistory)(),u=(0,A.CQ)(`boardless-pins:${i}`),p=(0,r.useSelector)((e=>u(e)||[]));return(0,c.jsxs)(n.Fragment,{children:[e&&p.length>0&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.xu,{paddingY:6,children:(0,c.jsx)(d.iz,{})}),t&&(0,c.jsxs)(d.xu,{alignItems:"center",marginBottom:4,display:"flex",justifyContent:"between",children:[(0,c.jsx)(d.X6,{size:"400",children:o._('Unorganized ideas', 'ProfileBoards.UnorganizedIdeasHeading', 'Heading above Boardless pins')}),(0,c.jsx)(d.xu,{"data-test-id":"boardless-pin-organize-button",children:(0,c.jsx)(d.zx,{onClick:()=>l.push(`/${a}/organize/`),text:o._('Organize', 'ProfileBoards.UnorganizedIdeasOrganizeButton', 'Organize button to organize Boardless pins')})})]})]}),(0,c.jsx)(h.ZP,{resourceConfig:{name:"BoardlessPinsResource",options:{field_set_key:"mobile",userId:i}},feedItemProps:{viewType:5,viewParameter:t?3106:3107},feedKey:`boardless-pins:${i}`,trafficSource:"user"})]})},O=(0,n.createContext)({isForArchivedBoards:!1});function F({data:e,itemIdx:t}){var i;const l=(0,s.ZP)(),{checkExperiment:u}=(0,j.F)(),p=(0,E.useRouteMatch)(),h=(0,r.useSelector)((e=>((0,A.ts)(e)||{}).username===p.params.username)),{isForArchivedBoards:m,firstBoard:g}=(0,n.useContext)(O),_=(0,P.Z)(),v=(0,r.useSelector)((t=>t.stories[e.id])),f=null!==(i=null==v?void 0:v.objects.map((e=>{var t;return{name:"AllPins",url:null!==(t=e.image_medium_url)&&void 0!==t?t:""}})))&&void 0!==i?i:[],y=p.params.username||"",{last_pin_save_time:x,pin_count:b}=(0,r.useSelector)((e=>(0,A.Il)(e)[y]||{}));return"story"===e.type?(0,c.jsx)(d.xu,{marginEnd:1,children:(0,c.jsx)(a.Z,{storyPinImages:f,subtitle:_(x,!0),pinCount:b})}):(0,c.jsxs)(d.xu,{marginEnd:t%2==0?1:void 0,marginStart:t%2==1?1:void 0,"data-test-id":"board-card",children:[(0,c.jsx)(o.Z,{boardId:e.id,containerBackgroundColor:m?"#f6f6f6":void 0,forwardedRef:g&&e.id===g.id?g.ref:void 0,showFollowButton:!1,type:"full",viewParameter:49,viewType:4}),h&&u("mweb_collab_existing_board").anyEnabled&&(0,c.jsx)(d.xu,{display:"flex",alignItems:"center",marginTop:-8,marginBottom:8,marginEnd:2,justifyContent:"end",children:(0,c.jsx)(d.xu,{position:"absolute",rounding:"circle",children:(0,c.jsx)(d.iP,{role:"link",href:`/board/${e.id}/edit/add_collaborators/`,rounding:"circle",tapStyle:"none",children:(0,c.jsx)(d.xu,{alignItems:"center",color:"secondary",display:"flex",direction:"column",height:36,justifyContent:"center",rounding:"circle",width:36,children:(0,c.jsx)(d.JO,{accessibilityLabel:l._('add collaborators', 'Accessibility label for add collaborator icon', 'Accessibility label for add collaborator icon'),color:"subtle",icon:"person-add",size:20})})})})})]})}const z=({username:e})=>({field_set_key:"profile_grid_item",filter_stories:!1,sort:"last_pinned_to",username:e});function M(){var e,t;const i=(0,s.ZP)(),a=(0,k.Z)(),o=(0,E.useRouteMatch)(),h=(0,C.HG)(),_=(0,n.useRef)(null),{isAuthenticated:v,isProfilePinsStale:f}=(0,r.useSelector)((e=>e.session)),P=o.params.username||"",j=(0,E.useHistory)(),{logContextEvent:M}=(0,I.v)(),N=(0,T.Z)(v?{name:"UserResource",options:{username:P,field_set_key:"quicksave"}}:null),Z=(0,T.Z)({name:"BoardsFeedResource",options:z({username:P})});(0,n.useEffect)((()=>{Z.error&&v&&j.replace("/")}),[j,Z,v]);const U=(0,r.useSelector)((e=>D(e,{match:o})||[])),B=(0,r.useSelector)((({feeds:e})=>{const t=e[R(P||"")]||[],i=t.some((({type:e})=>"board"===e));return!h&&i?t:t.filter((({type:e})=>"story"!==e))})),H=(0,r.useSelector)((e=>((0,A.ts)(e)||{}).username===P)),V=(0,r.useSelector)((e=>((0,A.Il)(e)[P]||{}).id)),W=(0,r.useSelector)((e=>e.users[V])),$=(0,S.Z)(),G=v&&!(null==W||!W.has_quicksave_board),K=null===(e=B.find((e=>"board"===e.type)))||void 0===e?void 0:e.id;(0,w.Z)((()=>{M({event_type:13,view_parameter:H?3106:3107,view_type:4,component:209})}));const q=(0,n.useMemo)((()=>({isForArchivedBoards:!1,firstBoard:K?{id:K,ref:_}:null})),[K]),Y=(0,n.useMemo)((()=>({isForArchivedBoards:!0})),[]);return 404===(null===(t=N.error)||void 0===t?void 0:t.httpStatus)||Z.error?(0,c.jsx)(E.Redirect,{to:{pathname:"/ideas/",state:{showError:!0}}}):(0,c.jsx)(g.Z,{objectIdStr:V,viewType:4,viewParameter:H?3106:3107,component:13669,children:(0,c.jsx)(b.Z,{objectId:V,view:4,viewParameter:H?3106:3107,component:13669,children:(0,c.jsxs)(d.xu,{children:[(0,c.jsxs)(d.xu,{marginTop:-3,"data-test-id":"grid",children:[B.length>0&&(0,c.jsx)(b.Z,{objectId:V,view:4,viewParameter:H?3106:3107,component:209,children:(0,c.jsx)(O.Provider,{value:q,children:(0,c.jsx)(m.Z,{cacheKey:R(P),columnWidth:h?256:300,Item:F,items:B,layout:"basic",id:"profileBoardsFeed",loadItems:Z.fetchMore,minCols:2,serverRender:!0})})}),(0,c.jsx)(p.Z,{anchors:{4011:_.current},placementId:1000312,positionRelativeToAnchor:!1}),!$&&Z.isFetching&&(0,c.jsx)(d.xu,{margin:5,children:(0,c.jsx)(d.$j,{accessibilityLabel:i._('Loading user boards', 'Loading state for the user boards page', 'Loading state for the user boards page'),show:!0})})]}),!$&&Z.isAtEnd&&(0,c.jsxs)(n.Fragment,{children:[G?(0,c.jsx)(L,{hasBoards:B.length>0||U.length>0,isOwnProfile:H,userId:V,username:P}):0===B.length&&(0,c.jsx)(u,{isOwnProfile:H,username:P}),H&&(0,c.jsx)(O.Provider,{value:Y,children:(0,c.jsx)(y,{renderBoard:F})}),B.length>0&&!v&&(0,c.jsxs)(d.xu,{children:[(0,c.jsx)(d.xu,{marginTop:h?6:3,marginBottom:h?6:3,children:(0,c.jsx)(d.X6,{align:"center",overflow:"breakWord",size:h?"500":"400",children:(0,c.jsx)(d.xu,{"data-test-id":"more-ideas-heading-text",children:(0,c.jsx)(d.iP,{onTap:()=>{a({action:"click",item:"more-ideas-heading-text"})},children:(0,l.nk)(i._('More ideas from {{user}}', 'heading to display more pins on user profile', 'heading to display more pins on user profile'),{user:(null==W?void 0:W.full_name)||P})})})})}),(0,c.jsx)(x.Z,{isOwnProfile:H,isProfilePinsStale:!!f,username:P,isRelatedPins:!0})]})]})]})})})}},157796:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(667294),r=i(883119),a=i(785893);function o({color:e="red",duration:t,finalProgress:i,shape:o="pill"}){const[s,l]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===o;return(0,a.jsx)(r.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${i}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},27255:(e,t,i)=>{i.d(t,{Z:()=>n});const n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},558068:(e,t,i)=>{i.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var n=i(667294),r=i(425288),a=i(276775),o=i(785893);const{Provider:s,useHook:l}=(0,r.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){var i;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(i=e.current)||void 0===i?void 0:i.location))return e;switch(t.type){case"POP":return e.forward.length>0&&d(e.forward[0].location)===d(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u(){const{current:e,previous:t}=l();return(0,n.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,a.useHistory)(),i=(0,a.useLocation)(),r=(0,a.useRouteMatch)(),l={forward:[],current:{action:t.action,location:i,match:r},previous:[]},[d,u]=(0,n.useReducer)(c,l);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:i,match:r})}),[i]),(0,o.jsx)(s,{value:d,children:e})}},391254:(e,t,i)=>{i.d(t,{Z:()=>a});i(441143);var n=i(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){const{css:t,unsafeCSS:i,...a}=e,o=String(t||"")||i||"";return!!o?(0,n.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(r.factory(o))}}):null}},310227:(e,t,i)=>{i.d(t,{Dv:()=>a,Ml:()=>o,Oc:()=>n,mv:()=>r});const n=16,r=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},o=120},700398:(e,t,i)=>{i.d(t,{Z:()=>r});const n=new Set([90,88,89,91,101,92,131]);function r(e){return n.has(e)}},941646:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);function a(e){const{children:t,display:i,id:a}=e;return(0,r.jsx)(n.xu,{"data-test-id":a,display:i,children:t})}},512176:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),r=i(898781),a=i(112690),o=i(967181),s=i(883119),l=i(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:i,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,r.ZP)(),[m,g]=(0,n.useState)(!1),{dangerousInlineStyle:_,iconColor:v}=(0,o.W)(!!e),f=(0,a.Z)();return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(s.iP,{onTap:()=>{f({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex","data-test-id":"verified-badge-icon",children:[(0,l.jsx)(s.JO,{accessibilityLabel:e?h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):h._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:v,inline:!0,size:d[t]}),i&&!c&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:_,children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||i&&!c)&&(0,l.jsx)(o.Z,{showModal:m,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},967181:(e,t,i)=>{i.d(t,{W:()=>u,Z:()=>p});var n=i(667294),r=i(121151),a=i(898781),o=i(112690),s=i(966113),l=i(752403),d=i(883119),c=i(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:i,setShowModal:p}){const h=(0,a.ZP)(),[m,g]=(0,n.useState)(!0),{dangerousInlineStyle:_,iconColor:v}=u(!0),f=(0,o.Z)();return(0,n.useEffect)((()=>{i&&m&&(g(!1),f({event_type:13,component:13534}))}),[i]),(0,c.jsx)(r.ZP,{"data-test-id":"modal",isOpen:i,mobileAccessibilityCloseIconLabel:h._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{f({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsxs)(d.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(d.xu,{display:"flex",dangerouslySetInlineStyle:_,justifyContent:"center",children:(0,c.jsx)(d.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:v,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:_,children:h._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(d.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:h._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,c.jsxs)(d.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(d.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(d.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:s.vBy,text:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},619937:(e,t,i)=>{i.d(t,{$N:()=>p,GY:()=>l,MZ:()=>o,NR:()=>c,Vn:()=>d,fm:()=>n,kM:()=>a,q6:()=>r,qp:()=>s,uV:()=>u});const n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},l={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},d={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},c={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},u=604800,p={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},283698:(e,t,i)=>{function n(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}i.d(t,{Z:()=>n})},100183:(e,t,i)=>{i.d(t,{CC:()=>n,Ll:()=>a,XF:()=>r});const n=(e,t)=>((e,t,i)=>({x:Math.floor(e*Math.cos(i)),y:Math.floor(t*Math.sin(i))}))(t/2,e/2,2*Math.random()*Math.PI),r=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,a=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},613316:(e,t,i)=>{function n(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:i}){const n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>r,y:()=>n})},366284:(e,t,i)=>{i.d(t,{G6:()=>a,i7:()=>o,oi:()=>n,u$:()=>r,un:()=>l,vU:()=>s});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>{switch(!0){case e.includes("Chrome"):return n.CHROME;case e.includes("Safari"):return n.SAFARI;case e.includes("Firefox"):return n.FIREFOX;case e.includes("Opera"):return n.OPERA;case e.includes("IE"):return n.IE;case e.includes("Edge"):return n.EDGE;default:return n.OTHER}};function a(e){return r(e)===n.SAFARI}function o(e){return r(e)===n.CHROME}function s(e){return r(e)===n.FIREFOX}function l(e){return r(e)===n.EDGE}},56641:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(567831),r=i(539497);function a(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,n.Z)(e);return setTimeout((()=>{(0,r.My)("setting_new_window_location")}),0),window.location.href=t,window}}},126098:(e,t,i)=>{function n(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}i.d(t,{Z:()=>n})},436851:(e,t,i)=>{i.d(t,{$:()=>r,d:()=>n});const n=e=>/instagram/i.test(e||""),r=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},792182:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(667294),r=i(23279),a=i.n(r);function o(){const[e,t]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const i=a()(e,50);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}),[]),e}},752403:(e,t,i)=>{i.d(t,{Bu:()=>m,Dm:()=>s,I:()=>v,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>h,eT:()=>g,hm:()=>_,yQ:()=>l,ym:()=>y});var n=i(642345);const r=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),a=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),o=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(r).map((e=>r[e])),...Object.keys(a).map((e=>a[e]))],l=[...Object.keys(o).map((e=>o[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var t,i;const n=null==e?void 0:e.isVerifiedMerchant,r=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,a=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_eligible_for_storefront_badges;return Boolean(n&&r&&a)}function g(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function _(e){return(null==e?void 0:e.profile_badges)||[]}function v(e,t,i){return t&&i?t.map((e=>i.find((t=>t.id===e.trim())))).filter(Boolean):[]}function f(e){const t=(0,n.oo)(e);if(!t)return"white";const[i,r,a]=t;return(0,n.DW)(i,r,a)<=n.I?"white":"black"}function y(e){const t=e||c[0];return{backgroundColor:t,color:f(t)}}},834911:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(835209),r=i(341732);function a({carouselData:e,images:t,richMetadata:i,richSummary:a,shouldUnifyImageSizes:o,additionalImages:s}){const l=(0,n.Z)({richPinData:i||a});return l&&s&&s.length>0?(0,r.Z)(null,s,e&&e.index,o,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,r.Z)(t,l.additional_images,e&&e.index,o,l.id):e||void 0}},341732:(e,t,i)=>{i.d(t,{Z:()=>a});const n=["236x","474x","564x","736x"];function r(e){function t(e,{imageKey:t,height:i,width:n}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:i,width:n}}}),e}const i=n.map((function(t){const i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:i,width:n}}));return e.map((e=>i.reduce(t,e)))}function a(e,t,i,n,a){const o=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],s=e?[{images:e},...o]:o;return{carousel_slots:n?r(s):s,index:i||0,id:a}}},768559:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(826067);const r=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,a=/\/discover\/article\/[\w-]+\/(\d+)/,o=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,callToCreateSourcePinId:t,path:i,pinId:s,pinnerUserName:l,query:d,search:c,storyPinDataId:u})=>{var p,h;if(!i)return"";let m="";switch(i){case"/":case"/homefeed/":return"UserHomefeedResource";case l&&`/${l}/pins/`:return"UserPinsResource";case l&&`/${l}/`:case/\/_activity\//.test(i)&&i:return"UserActivityPinsResource";case/\/_created\//.test(i)&&i:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(i)&&i:return"UserDiscoveredPinsResource";case/\/_shop\//.test(i)&&i:return"StoreFrontFeedResource";case/\/_saved\//.test(i)&&i:return"BoardlessPinsResource";case l&&`/${l}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(i)&&i:return"VisualLiveSearchResource";case/\/pin\//.test(i)&&i:m="/pin/";const g=o(i,m);if(s!==g)return t?`ApiResource_callToCreatePins_${g}`:`RelatedPinFeedResource_${g}`;break;case/\/search\//.test(i)&&i:if(c){return`SearchResource_${((0,n.mB)(c,{shouldDecode:!1}).q||"").toLowerCase()}`}if(d)return`SearchResource_${encodeURIComponent(d.q||"").toLowerCase()}`;break;case a.test(i)&&i:return`ExploreArticleResource_${(null===(p=i.match(a))||void 0===p?void 0:p[2])||"unknown"}`;case/\/discover\/article\//.test(i)&&i:m="/discover/article/";return`ExploreArticleResource_${o(i,m)}`;case/\/categories\//.test(i)&&i:m="/categories/";return`CategoryFeedResource_${o(i,m)}`;case/\/discover\/topics\//.test(i)&&i:return"CategoryFeedResource";case/\/news_hub\//.test(i)&&i:m="/news_hub/";return`NewsHubDetailsResource_${o(i,m)}`;case/\/_tools\/more-ideas\//.test(i)&&i:return"BoardContentRecommendationResource";case/\/topics\//.test(i)&&i:m="/topics/";return`TopicFeedResource_${o(i,m)}`;case l&&`/${l}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(i)&&i:m="/source/";return`DomainFeedResource_${o(i,m)}`;case/\/explore\//.test(i)&&i:m="/explore/";return`SearchResource_${o(i,m)}`;case e:case!!e&&/\/more_ideas\//.test(i)&&i:return"BoardFeedResource";case e&&i.indexOf(e)>-1&&i:return"BoardSectionPinsResource";case/\/following\//.test(i)&&i:return"FollowingFeedResource";case/\/brand_catalog\//.test(i)&&i:return"BrandCatalogFeedResource";case r.test(i)&&i:return`TodayArticleFeedResource_${(null===(h=i.match(r))||void 0===h?void 0:h[2])||"unknown"}`;case/\/today\//.test(i):return"TodayTabResource";case/\story_feed\//.test(i)&&i:if(c){const{feed_type:e,request_params:t}=(0,n.mB)(c);return`StoryFeedResource_${e}_${t}`}}return""},l=({boardUrl:e,callToCreateSourcePinId:t,location:i,pinId:n,pinnerUserName:r,previousHistory:a,storyPinDataId:o,trackingParams:l,trackingParamsMap:d={}})=>{if(!n||!l||!i)return;if(!d)return`${l}~0`;const{pathname:c,search:u,query:p}=i,h=s({boardUrl:e,callToCreateSourcePinId:t,path:c,pinId:n,pinnerUserName:r,query:p,search:u,storyPinDataId:o,trackingParams:l,trackingParamsMap:d}),m=Object.keys(d);let g;if((c||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));g=e?d[e]:d.PinResource}else g=d[h];let _;if(!g&&a&&a.length){const i=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(a[a.length-1].location);_=s({boardUrl:e,callToCreateSourcePinId:t,path:i,pinId:n,pinnerUserName:r,query:p,search:u,storyPinDataId:o,trackingParams:l,trackingParamsMap:d}),g=d[_]}return g||(g=`${l||""}~0`),g}},642345:(e,t,i)=>{i.d(t,{DW:()=>s,I:()=>o,oo:()=>a,vq:()=>r});const n=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},r=(e,t,i)=>"#"+n(e)+n(t)+n(i),a=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},o=.18,s=(e,t,i)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(i/255)**2.2},81636:(e,t,i)=>{i.d(t,{Q:()=>d,Z:()=>c});var n=i(667294),r=i(682492),a=i.n(r),o=i(112690),s=i(780280),l=i(385740);function d(e,t){const{setViewContextData:i}=(0,l.sV)(),{requestIdentifier:r}=(0,s.B)(),d=(0,o.Z)(),{viewData:c}=(0,l.SU)();(0,n.useEffect)((()=>{var t;e&&(i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?a()(c,e.view_data):a()({},c),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:r}))}),[t])}function c(e){const{children:t,log:i}=e;return d(i),t||null}},745760:(e,t,i)=>{i.d(t,{Ch:()=>h,nc:()=>w,a:()=>P,ZP:()=>S,cA:()=>x,li:()=>b,h1:()=>u});var n=i(983722);var r=i(682492),a=i.n(r),o=i(6637),s=i(594881),l=i(706922);var d=i(385740),c=i(172045);const u=()=>1e6*Date.now(),p=[6945],h={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpressions",3704:"userImpressions"},m=[4700,4701,4702,4703,7042,7043],g=e=>function(e){let t=e.length;for(let i=e.length-1;i>=0;i-=1){const n=e.charCodeAt(i);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(i-=1)}return t}(JSON.stringify(e)),_=e=>p.includes(e);let v;function f(){const e=new Date;v?v&&v.getUTCDate()!==e.getUTCDate()&&(v=e,(0,s.Z)()):v=e}function y(e){const t=(0,n.Z)(),{checkExperiment:i}=(t||{}).experimentsClient||{},r="function"==typeof i&&i("web_mweb_story_impression_fix").anyEnabled;return r&&(p.push(170),h[170]="storyImpression"),e.reduce(((e,t)=>{const i=e.find((n=t,e=>e.view_type===n.viewType&&e.view_parameter===n.viewParameter&&e.event_type===n.eventType&&e.object_id_str===n.objectIdStr&&(0,l.Z)(e.view_data,n.viewData)));var n;if(i&&!_(t.eventType))t.impressionType in i.event_data?i.event_data[t.impressionType].push(t.eventData):i.event_data[t.impressionType]=[t.eventData];else{const i={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:u(),component:t.component,clientUUID:(0,c.Z)(),aux_data:t.auxData||{},appState:t.appState,event_data:{[t.impressionType]:_(t.eventType)?r?{...t.eventData,...(t.eventData||{})[t.impressionType]}:t.eventData:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(i)}return e}),[])}const x=e=>{const t=e.event_type,i=m.includes(t),n=(0,d.BE)();return!(!i&&13!==t&&!n)},b=(e,t)=>{const i=e.event_type,n=m.includes(i),r=(0,d.BE)();return n?e:13===i&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=r&&r.viewData?a()(r.viewData,e.view_data):a()({},e.view_data)}),e):!r||e.view_type&&e.view_parameter?e:{...e,view_type:r.viewType,view_parameter:r.viewParameter,view_data:e.view_data?a()(e.view_data,r.viewData):a()({},r.viewData)}},w=(e,t)=>{var i,n;const r=e.component,a=e.object_id_str,o=e.view_type,s=e.event_type,l=e.appState;return null!==(i=((null===(n=e.event_data)||void 0===n?void 0:n[t])||[]).map((i=>({auxData:e.aux_data,...r?{component:r}:{},eventData:i,...s?{eventType:s}:{},...o?{viewType:o}:{},viewData:e.view_data,viewParameter:e.view_parameter,...a?{objectIdStr:a}:null,impressionType:t,appState:l}))))&&void 0!==i?i:[]},P=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function S(){let e=[],t=[],i=0;function n(){return[...e,...y(t)]}function r(){e=[],t=[],i=0}function a(e=!1){const t=n();t.length&&(o.Z.create("ContextLogResource",{events:t,report_time:u()}).callCreate({async:!e,showError:!1}),r(),f())}return{flushContextEvents:a,getContextEvents:n,logContextEvent:function({object_id_str:t,...n}){const r={aux_data:{},event_data:{},view_data:{},...n,time:u(),clientUUID:(0,c.Z)(),...t?{object_id_str:t}:null};r.aux_data=function(e){if(!e)return e;const{element:t,eventData:i,component:n,objectId:r,view:a,viewParameter:o,viewData:s,durationNs:l,pairId:d,clientTrackingParams:c,...u}=e;return u}(r.aux_data),i+g(r)>20480&&a(!1),e.push(r),f()},logImpression:function(e){i+g(e)>20480&&a(!1),t.push(e)},resetEventsBuffer:r}}},112690:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(407043);const r=()=>(0,n.v)().logContextEvent},643010:(e,t,i)=>{i.d(t,{F6:()=>p,Hs:()=>u,Uf:()=>s,Yc:()=>d,vs:()=>c});var n=i(667294),r=i(702664),a=i(539497),o=i(957161);const s="theme",l="dark"===(0,o.qn)(s),d=()=>l;function c(){const{inDarkMode:e}=(0,r.useSelector)((({inDarkMode:e})=>e))||{},t=d(),i=(0,r.useDispatch)();return(0,n.useEffect)((()=>{i({type:"SET_DARK_MODE",payload:{darkMode:t}})}),[i,t]),!!e}const u=()=>{(0,o.Nh)(s,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},p=()=>{(0,o.L_)(s),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},81226:(e,t,i)=>{function n(e){const t=Math.round(e/1e3),i=t%60;return Math.floor(t/60)+":"+(i<10?"0":"")+i}i.d(t,{Z:()=>n})},816068:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>Math.floor(new Date(e).getTime()/1e3)},766935:(e,t,i)=>{function n(e,t){let i;return(...n)=>{clearTimeout(i),i=setTimeout((()=>e(...n)),t)}}i.d(t,{Z:()=>n})},966476:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294);const r=()=>{const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),r=i(973935);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const s=o},780679:(e,t,i)=>{i.d(t,{g:()=>o,t:()=>a});var n=i(667294);const r=(0,n.createContext)(null),a=r.Provider,o=()=>(0,n.useContext)(r)},903095:(e,t,i)=>{i.d(t,{Mi:()=>r,lO:()=>a});var n=i(425288);const{Provider:r,useMaybeHook:a}=(0,n.Z)("pageContext")},121093:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),r=i(702664),a=i(332611),o=i(242923);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:r}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",r(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:r,preventRemoval:a,targeting:o}=this.props,s=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:l}=n||{},d=a||2===s;(1===s||d)&&e&&l&&(r?i(n,d):o?t(e,l,d,o):t(e,l,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:r,targeting:a}=this.props,{placement_id:o,experience_id:s}=i||{};i&&!this.state.hasDismissed.includes(s)&&(n?t(i):a?e(o,s,!!r,a):e(o,s,!!r),this.setState((e=>({hasDismissed:[...e.hasDismissed,s]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:r}=this.props,{experience_id:a,type:o}=e;if(t&&t.includes(a))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(i&&i.includes(o))return!0;if(r&&r===o)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}s(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const d=(0,r.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,i,n,r)=>e((0,a.CK)(t,i,n,!1,{},r)),completeExperienceObject:(t,i)=>e((0,o.Tl)(t,i)),dismissExperience:(t,i,n,r)=>e((0,a.Qu)(t,i,n,void 0,r)),dismissExperienceObject:t=>e((0,o.CF)(t)),viewExperience:(t,i,n)=>e((0,a.UT)(t,i,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,o.dy)(t))})))(l)},332611:(e,t,i)=>{i.d(t,{CK:()=>p,N:()=>v,Qu:()=>h,UT:()=>u,YX:()=>_,d9:()=>m,fO:()=>l,kd:()=>g,pz:()=>d});var n=i(6637),r=i(764990),a=i(172071),o=i(957191);let s;const l=(e,t)=>i=>{const r=t?{extra_context:e,targeting:t}:{extra_context:e};return n.Z.create("UserExperiencePlatformResource",r).callGet().then((e=>e.resource_response?i((0,o.OD)(e.resource_response.data)):void 0))},d=(e,t,i,a)=>(l,d)=>{if(t)return Promise.resolve();if(a&&(s=a),1===e.length){const t=e[0],n=d().experiences[t],a=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(a)===JSON.stringify(i)||(0,r.E3)(n)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return n.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:a}).callGet().then((e=>e.resource_response?l((0,o.cL)(e.resource_response.data)):void 0))},c=(e,t)=>(i,r,a,d=!1,c,u)=>(p,h)=>{const{experiences:m,experiencesMulti:g}=h();let _=null,v=!0;var f;d||(v=m[i]&&m[i].experience_id===r,_=v?m[i]:Array.isArray(g[i])&&(null===(f=g[i])||void 0===f?void 0:f.find((e=>e.experience_id===r))));if(_&&_.experience_id===r||d&&i&&r){const d=n.Z.create(e,{placed_experience_id:`${i}%3A${r}`,extra_context:null!=c?c:{},targeting:u}),h=v?o.Yb:o.xW;switch(t){case"dismissed":return d.callDelete().then((()=>{p(h(i,r,t)),p(l(void 0,s))}));case"completed":return d.callUpdate().then((()=>{a||(p(h(i,r,t)),p(l(void 0,s)))}));case"viewed":return p(h(i,r,t)),d.callUpdate().then((()=>{1000162===i&&p(l())}));case"completedWithoutHomefeed":return d.callUpdate().then((()=>{a||p(h(i,r,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=c("UserExperienceViewedResource","viewed"),p=c("UserExperienceCompletedResource","completed"),h=c("UserExperienceResource","dismissed"),m=c("UserExperienceCompletedResource","completedWithoutHomefeed"),g=(e,t)=>(i,r)=>{const{experiences:o}=r(),s=o[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach((i=>{const[,r]=i.split(":");let o=t;s.metadata&&s.metadata[r]&&(o=Object.assign({},t,s.metadata[r])),n.Z.create("UserExperienceTriggerResource",{placed_experience_id:i.replace(":","%3A"),extra_context:o}).callUpdate().then((()=>{((e,t,i={})=>{a.Z.increment(`${e}.${t}`,1,i)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:r})}))}))},_=e=>(t,i)=>{t(g(e));const{experiences:n}=i();return n[e]},v=(e,t,i)=>n=>{i&&(s=i),n(g(e,t)),t&&Object.keys(t).length>0&&n(d([e],!1,t,i))}},242923:(e,t,i)=>{i.d(t,{CF:()=>s,Tl:()=>o,dy:()=>l});var n=i(6637),r=i(332611);const a=(e,t)=>(i,a)=>o=>{if(i&&i.id){const s=n.Z.create(e,{placed_experience_id:i.id,extra_context:{}});switch(t){case"dismissed":s.callDelete().then((()=>{o((0,r.fO)())}));break;case"completed":s.callUpdate().then((()=>{a||o((0,r.fO)())}));break;case"viewed":s.callUpdate()}}},o=a("UserExperienceCompletedResource","completed"),s=a("UserExperienceResource","dismissed"),l=a("UserExperienceViewedResource","viewed")},764990:(e,t,i)=>{function n(e){return!!e&&0!==e.type}i.d(t,{A0:()=>a,E3:()=>n,MQ:()=>r});const r=(e,t,i)=>{const r=e[i];return t[i]&&n(r)?r:null};function a(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},131108:(e,t,i)=>{i.d(t,{HI:()=>o,f8:()=>l,hm:()=>s,sH:()=>a});var n=i(883119),r=i(785893);const a=({children:e})=>(0,r.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),o=({children:e})=>(0,r.jsx)(n.xu,{padding:2,children:e}),s=({children:e})=>(0,r.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,r.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,i)=>{i.d(t,{Mf:()=>d,q4:()=>r,zn:()=>n});const n=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,a={0:"start",1:"center",2:"end"},o={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18"}},s={1:"italics",0:"normal"},l={1:"bold",0:"normal"},d=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:r},d)=>({color:e,fontStyle:s[null!=t?t:0],fontWeight:l[null!=i?i:1],horizontalAlignment:a[null!=n?n:0],fontSize:o[d][null!=r?r:0]+"px"})},207737:(e,t,i)=>{i.d(t,{$S:()=>n,V$:()=>r,_4:()=>o,iY:()=>s,mR:()=>a});const n="REFRESH_ALL_EXPERIENCES_MULTI",r="UPDATE_EXPERIENCE_MULTI",a="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,i)=>{i.d(t,{NW:()=>o,OD:()=>l,Yb:()=>s,cL:()=>d,xW:()=>a});var n=i(6637),r=i(207737);const a=(e,t,i)=>({type:r.V$,payload:{placementId:e,experienceId:t,status:i}}),o=e=>t=>n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((i=e.resource_response.data,{type:r.$S,payload:{experiencesMulti:i}})):void 0;var i})),s=(e,t,i)=>({type:r.iY,payload:{placementId:e,experienceId:t,status:i}}),l=e=>({type:r._4,payload:{experiences:e}}),d=e=>({type:r.mR,payload:{experiences:e}})},570470:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),r=i(883119),a=i(785893);function o({anchor:e,children:t,zIndex:i,leftOverride:o,topOverride:s}){const l=(0,n.useRef)(null),[d,c]=(0,n.useState)(0),[u,p]=(0,n.useState)(0),{height:h,width:m}=e.getBoundingClientRect();(0,n.useEffect)((()=>{const{current:t}=l;if(e&&t){const{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:r}=((e,t,i,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(i/2-e/2)}))(h,m,e,i);c(n),p(r)}}));const g=o||d,_=s||u;return(0,a.jsx)(r.xu,{position:"absolute",zIndex:i?new r.Ry(i):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:_}},ref:l,children:t})}const s=function(e){const{anchor:t,leftOverride:i,onTouch:n,onMouseEnter:s,paused:l,size:d,topOverride:c,zIndex:u}=e;return t?(0,a.jsx)(o,{anchor:t,leftOverride:i,topOverride:c,zIndex:u,children:(0,a.jsx)(r.iP,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:s,rounding:"circle",children:(0,a.jsx)(r.o3,{paused:l,size:d})})}):null}},839534:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),r=i(570470),a=i(883119),o=i(785893);const s=new a.Ry(669),l={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:i,displayData:d,idealDirection:c,onCompleteByAnchor:u={},platform:p,positionRelativeToAnchor:h=!0,touchToDismiss:m=!0,useMasonryFlyout:g=!1})=>{var _;const{anchors_by_platform:v={},button_text:f,button_uri:y,display_type:x,flyout_direction:b,scroll_to_dismiss:w,scroll_to_dismiss_delay_in_seconds:P=0,text:S}=d||{},T=null===(_=v[p])||void 0===_?void 0:_.anchor,k=e[T],I=(0,n.useCallback)((()=>{w&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I)),m&&k&&k.removeEventListener("click",I),setTimeout((()=>i()),1e3*P)}),[k]);if((0,n.useEffect)((()=>{k&&(w&&(window.addEventListener("scroll",I),window.addEventListener("touchmove",I)),m&&k.addEventListener("click",I))}),[k]),!k)return null;const j=({children:e})=>{if(g)return(0,o.jsx)(a.mh,{zIndex:s,children:e});if(2===x){const t={};if(h)t.top=k.offsetTop,t.left=k.offsetLeft,t.width=k.offsetWidth,t.height=k.offsetHeight;else{const e=k.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,o.jsx)(a.xu,{position:"absolute",top:!0,left:!0,zIndex:s,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,o.jsx)(a.xu,{zIndex:s,children:e})},C=l[b],A=y&&(y.startsWith("https://")||y.startsWith("http://")),E=(u||{})[T],D=()=>{w&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I)),m&&k.removeEventListener("click",I),t()};return(0,o.jsxs)(n.Fragment,{children:[2===x&&(0,o.jsx)(j,{children:(0,o.jsx)(r.Z,{anchor:k,onTouch:()=>{D(),E?E():k instanceof HTMLElement&&k.click()},zIndex:670})}),1===x&&(0,o.jsx)(j,{children:(0,o.jsx)(a.J2,{anchor:k,color:"blue",idealDirection:C||c||"down",onDismiss:I,positionRelativeToAnchor:!g&&h,shouldFocus:!1,showCaret:!0,size:"md",children:(0,o.jsxs)(a.xu,{padding:4,width:"220px",children:[(0,o.jsx)(a.xv,{align:"center",color:"inverse",weight:"bold",children:S}),f?(0,o.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,o.jsx)(a.xu,{column:8,children:y?(0,o.jsx)(a.zx,{fullWidth:!0,color:"white",href:y,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),D()},role:"link",size:"md",target:A?"blank":null,text:f}):(0,o.jsx)(a.zx,{fullWidth:!0,color:"white",onClick:D,size:"md",text:f})})}):null]})})})]})}},378518:(e,t,i)=>{i.d(t,{_:()=>d,a:()=>c});var n=i(667294),r=i(702664),a=i(618446),o=i.n(a),s=i(780280),l=i(332611);const d=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{const a=(0,n.useRef)(),d=(0,r.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,r.useSelector)((e=>e.experiences[t]));return(0,n.useEffect)((()=>{d((0,l.kd)(t))}),[d,u,t]),(0,n.useEffect)((()=>{i||o()(a.current,e)||(d((0,l.pz)([t],c,e)),a.current=e)}),[d,e,c,t,i]),u},c=e=>(d(e),(0,r.useSelector)((t=>t.experiencesMulti[e.id])))},116303:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),r=i(785893);const a=(e,t)=>{const i=null==e?void 0:e.includes("images/user/default");return Boolean(i&&t)};function o({accessibilityLabel:e,name:t,outline:i,size:o,src:s,verified:l}){return(0,r.jsx)(n.qE,{accessibilityLabel:e,name:t,outline:i,size:o,src:a(s,t)?void 0:s,verified:l})}},920231:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),r=i(319915);function a({flexible:e,gutterWidth:t,id:i,isRTL:n,itemWidth:r,maxColumns:a,minColumns:o}){const s=i.replace(/\:/g,"\\:"),l=r+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:a+1-o},((e,t)=>t+o)).map((i=>{const d=i===a?null:(i+1)*l-1;return`\n      @media (min-width: ${i===o?0:i*l}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${s} .static:nth-child(-n+${i}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${n?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${i}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${i*l}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${r}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var o=i(757184),s=i(391254),l=i(50286),d=i(883119),c=i(773285),u=i(780280),p=i(444445),h=i(785893);function m({cacheKey:e,columnWidth:t,gutterWidth:i,id:m,Item:g,items:_,layout:v,loadItems:f,masonryRef:y,minCols:x,scrollContainerRef:b,serverRender:w,resetPositions:P,virtualize:S=!0}){var T;const{isRTL:k}=(0,u.B)(),I="desktop"!==(0,l.ZP)(),j=w?"serverRenderedFlexible":"flexible",C=(0,n.useCallback)((()=>(null==b?void 0:b.current)||window),[b]),A=(0,o.Z)(e),[E,D]=(0,n.useState)(!1);(0,n.useEffect)((()=>{P&&!E&&(null==A||A.reset(),D(!0))}),[A,P,E]);const R=(0,n.useCallback)((e=>(0,h.jsx)(r.Z,{name:"MobileGridItem",children:(0,h.jsx)(g,{...e})})),[g]),{checkExperiment:L}=(0,c.F)(),O=null!==(T={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[L("duplo_masonry_virtual_buffer_factor").group])&&void 0!==T?T:.7;return(0,h.jsxs)("div",{id:m,className:"gridCentered",children:[w&&m&&(0,h.jsx)(s.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:a({flexible:I,gutterWidth:i||0,id:m,isRTL:k,itemWidth:t||p.yF,maxColumns:_.length||p.g5,minColumns:x||p.yc})}),(0,h.jsx)(d.Rk,{columnWidth:t,Item:R,gutterWidth:i||1,layout:I?j:null!=v?v:"basic",items:_,loadItems:f,measurementStore:(0,o.Z)(e),minCols:x||p.yc,ref:e=>{y&&(y.current=e)},scrollContainer:C,virtualize:S,virtualBufferFactor:O})]})}},757184:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119);const r={};function a(e){if(null!=e)return r[e]&&r[e].screenWidth===window.innerWidth||(r[e]={screenWidth:window.innerWidth,cache:n.Rk.createMeasurementStore()}),r[e].cache}},121151:(e,t,i)=>{i.d(t,{ZP:()=>c,b7:()=>s.b7,bN:()=>l,p4:()=>d});var n=i(50286),r=i(883119),a=i(240684),o=i(785893),s=i(968121);const l=(0,a.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(51879).then(i.bind(i,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 373420}}),d=(0,a.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(72430).then(i.bind(i,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 430322}});function c(e){const t=(0,n.ZP)(),i=void 0===e.isOpen||e.isOpen;if("desktop"===t&&i){const{isOpen:t,mobileAccessibilityCloseIconLabel:i,mobileAllowScroll:n,mobileHideCloseIcon:r,mobileIsFullscreen:a,mobileIsSlideUp:s,type:d,...c}=e;return(0,o.jsx)(l,{...c})}const{allowClickAndDrag:r,allowMediaPlay:a,allowScroll:s,role:c,size:u,...p}=e;return(0,o.jsx)(d,{...p,isOpen:i})}},373420:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(667294),r=i(124580),a=i(223815),o=i(968121),s=i(883119),l=i(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:i,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:_,role:v,size:f,subHeading:y}){(0,n.useEffect)((()=>(r.Z.pause(),function(){r.Z.resume()})),[]);return(0,l.jsx)(s.mh,{zIndex:o.b7,children:(0,l.jsx)(a.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,l.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:i,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{r.Z.resume(),_()},role:v,size:f,subHeading:y,padding:"none",children:p})})})}},430322:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var n=i(667294),r=i(124580),a=i(283698),o=i(223815),s=i(50286),l=i(898781),d=i(494349),c=i(780280),u=i(883119),p=i(968121),h=i(539497),m=i(785893);function g({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:i="center",allowScroll:g=!1,children:_,closeOnOutsideClick:v=!0,footer:f,heading:y,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:b,mobileIsFullscreen:w,isOpen:P,mobileIsSlideUp:S,modalStyle:T,onDismiss:k,overrideZDepth:I,subHeading:j,type:C}){const A=(0,l.ZP)(),{isRTL:E}=(0,c.B)(),D=(0,n.useRef)(!1),[R,L]=(0,n.useState)(!1),{setAppFocusState:O}=(0,d.I)(),F=(0,s.ZP)();(0,n.useEffect)((()=>{(0,h.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!P)}`)}),[P,C]),(0,n.useEffect)((()=>(D.current=(0,a.Z)((()=>{D.current&&L(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&D.current&&(window.cancelAnimationFrame(D.current),D.current=null)})),[]),(0,n.useEffect)((()=>(P?(r.Z.pause(),O(!1)):(r.Z.resume(),O(!0)),()=>{P&&(r.Z.resume(),O(!0))})),[O,P]);const z=P&&!g;(0,n.useEffect)((()=>(z&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{z&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[z]);const M=(0,p.bf)();if(!P)return null;const N=S?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===F,isShowing:R,type:C}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===F,modalStyle:T,type:C});return(0,m.jsx)(o.Z,{children:(0,m.jsx)(u.mh,{children:(0,m.jsxs)(u.xu,{"aria-label":t,display:"inlineBlock",zIndex:I?new u.Ry(I):p.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(u.iP,{accessibilityLabel:A._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const t=e,i=k?"with":"without",n=C||"unknown_type";(0,h.tj)(`mweb_unauth.mobile_modal.wash_tap.${n}.${i}_dismissal`,{x:t.clientX,y:t.clientY}),v&&k&&k()},tapStyle:"none",children:(0,m.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:M})}),(0,m.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:N,children:[(0,m.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[x&&!b?(0,m.jsx)(u.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(u.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:k,padding:4,size:"sm"})}):null,y?(0,m.jsx)(u.kC.Item,{flex:"grow",children:(0,m.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:x&&!b?(0,p.ju)(E):{__style:{}},children:[w?y:(0,m.jsx)(u.xv,{align:i,weight:"bold",size:"400",children:y}),j?(0,m.jsx)(u.xv,{align:i,children:j}):null]})})}):null]}),(0,m.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[_,f]})]})]})})})}},968121:(e,t,i)=>{i.d(t,{JN:()=>u,Vf:()=>p,ZM:()=>s,b7:()=>o,bf:()=>c,i_:()=>l,ju:()=>h});var n=i(707853),r=i(643010),a=i(883119);const o=new a.Ry(1e3),s=new a.H3([n.Z]),l=12,d={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},c=()=>({__style:d.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:i,type:n})=>{const r=d.modal.fullscreenStyles;let a;return a=e?r:t?d.modal.tabletStyles:"signup"===n?d.modal.nonTabletSignUpStyles:{...d.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:i||a}},p=({isFullscreen:e,isTablet:t,isShowing:i,type:n})=>{let r=d.modal.baseStylesSliding,a=i?"translateY(0)":"translateY(100vh)";return r.height=e?"100vh":"",t&&"related_interests_modal"===n&&(r={...r,...d.modal.tabletNarrowStyle},a=i?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...r,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:a}}},h=e=>e?d.RTLheadingOffset:d.headingOffset},499128:(e,t,i)=>{i.d(t,{UZ:()=>d,Vg:()=>l,ZP:()=>c});var n=i(667294),r=i(829407),a=i(50286),o=i(883119),s=i(785893);const l=200,d=({deviceType:e,hiding:t,visible:i})=>{const n="desktop"===e;let r=0,a=n?"translateY(200px)":"translateY(-200px)",o="opacity 0.1s ease-in-out",s="hidden";return i&&!t&&(r=1,a="translateY(0)",o="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),i&&t&&(a="scale(1.1)",o="opacity transform 0.2s"),{opacity:r,pointerEvents:"auto",position:"relative",marginTop:n?10:0,transform:a,transition:o,visibility:s}};function c({_dangerouslySetPrimaryAction:e,text:t,primaryAction:i,thumbnailShape:c,variant:u,dataTestId:p,duration:h=2e3,onHide:m,href:g,onClick:_,openNewPage:v,iconThumbnail:f,imageUrl:y}){const x=(0,a.ZP)(),[b,w]=(0,n.useState)(!1),[P,S]=(0,n.useState)(!1),T=(0,n.useRef)(),k=()=>{w(!0),T.current=setTimeout(m,l)},I=()=>{T.current=setTimeout(k,h)},j=()=>{T.current&&clearTimeout(T.current)};let C;(0,r.Z)((()=>(setTimeout((()=>S(!0)),100),I(),j))),f?C=f:y&&(C=(0,s.jsx)(o.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(o.Ee,{alt:"string"==typeof t?t:`${t[0]} ${t[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:y})}));const A=(0,s.jsx)(o.FN,{_dangerouslySetPrimaryAction:e,primaryAction:i,text:t,thumbnail:C,thumbnailShape:c,variant:u}),{marginTop:E,opacity:D,pointerEvents:R,position:L,transform:O,transition:F,visibility:z}=d({deviceType:x,hiding:b,visible:P});return(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:O,transition:F,visibility:z,pointerEvents:R}},"data-test-id":null!=p?p:"toast",onMouseEnter:j,onMouseLeave:I,opacity:D,position:L,marginTop:E,children:g?(0,s.jsx)(o.iP,{role:"link",href:g,onTap:({event:e})=>null==_?void 0:_(e),target:v?"blank":null,rounding:"pill",children:A}):A})}},444445:(e,t,i)=>{i.d(t,{$H:()=>o,$q:()=>v,D6:()=>l,KN:()=>f,Lo:()=>r,P2:()=>m,ZZ:()=>c,g5:()=>u,jC:()=>s,lX:()=>h,nW:()=>p,oX:()=>g,qG:()=>_,tG:()=>a,yF:()=>n,yc:()=>d});const n=236,r=2*n/3,a=175,o=24,s=4,l=2,d=2,c=14,u=16,p=12,h=16,m=24,g=16,_=-1,v=(e=!1,t=!1)=>e?t?h:p:m,f=(e,t,i,n,r=c)=>{const a=e+r;return`\n@media (min-width: ${t*a}px) and (max-width: ${(i+1)*a-1}px) {\n  ${n}\n}\n`}},298361:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(898781),r=i(349700),a=i(202139);function o(){const e=(0,n.ZP)();return function(t,i){const n=new Date(t),o=new Date-n,s=Math.floor(o/a.FS),l=Math.floor(o/a.UK),d=Math.floor(o/a.F4),c=Math.floor(o/a.VL),u=Math.floor(o/a.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),_=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),f=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),y=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),b=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,r.nk)(i?b:_,{years:u}).join(""):c>0?(0,r.nk)(i?x:g,{weeks:c}).join(""):d>0?(0,r.nk)(i?y:m,{days:d}).join(""):l>0?(0,r.nk)(i?f:h,{hours:l}).join(""):s>0?(0,r.nk)(i?v:p,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:(e,t,i)=>{i.d(t,{ZP:()=>s,oz:()=>a,q6:()=>r});var n=i(425288);const{Provider:r,Consumer:a,useHook:o}=(0,n.Z)("i18n"),s=o},892819:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(66699),r=i(898781);const a=(e,t)=>{const i=t||0,n=10**i,r=+(i?e*n:e).toFixed(8),a=Math.floor(r),o=r-a,s=o>.5-1e-8&&o<.5+1e-8?a%2==0?a:a+1:Math.round(r);return i?s/n:s},o=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,r.ZP)();return(t,i,r)=>{let s=0,l=0;const d=r&&r.style||void 0,c=r&&r.shortform||!1,u=r&&r.uplimit||void 0,p=r&&r.currency||void 0,h=!!u&&i>=u,m=u&&h?u:i;if("currency"===d){const{minimumFractionDigits:e,maximumFractionDigits:i}=((e,t)=>{if(t){const{minimumFractionDigits:i,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==i&&void 0!==n)return{minimumFractionDigits:i,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,p);s=void 0===r||void 0===r.maximum_fraction_digits?i:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?e:r.minimum_fraction_digits}else s=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(c&&m>999&&(s=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,l=0),s<l)return String(m);let g=m,_="";const v=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],f=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],y=/^zh|ja|ko/.test(t);if(c&&m>999){const e=y?v:f;for(let t=0;t<e.length;t+=1){const i=Object.keys(e[t])[0],n=e[t][i].value;if(m>=n){g=a(m/n*Math.pow(10,s))/Math.pow(10,s),_=e[t][i].localeKey;break}}}if(null==g)return"";const x=g.toLocaleString([o(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:i,currency:n})=>{const r={maximumFractionDigits:e,minimumFractionDigits:t};return i?{...r,style:i,..."currency"===i?{currency:n,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:s,minimumFractionDigits:l,currency:p,style:d}));return _&&_.length>0?(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:x,numberSuffix:_})+(h?"+":""):x+(h?"+":"")}}},366428:(e,t,i)=>{i.d(t,{F:()=>u,Z:()=>c});var n=i(667294),r=i(983722),a=i(834911),o=i(124580),s=i(407043),l=i(802201);const d={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function c({closeupImpressionType:e,closeupNavigationType:t,componentType:i,contextLogData:c,clientTrackingParams:u,elementType:p,impressionAuxFields:h,inImpressionExp:m,impressionType:g,impressionsFramework:_,isPaused:v,loggingId:f,objectIdStr:y,slotIndex:x,trackCarousel:b,viewData:w,viewParameter:P,viewType:S}){const{logContextEvent:T}=(0,s.v)(),k=(0,l.AF)(),I=f?k[f]:{},j=I&&(0,a.Z)({carouselData:I.carousel_data,images:I.images,richMetadata:I.rich_metadata,richSummary:I.rich_summary}),C=_||o.Z,A=(0,n.useRef)(null),E=n=>{const a=d[g],o=a.idType,s={endTime:n.endTime,[o]:f,slotIndex:x,time:n.startTime,renderDuration:n.endTime-n.startTime,type:e,...h,forcedExit:"removed"===n.forcedExit?0:void 0},l={component:i,object_id_str:y,view_type:S,view_data:w||{},view_parameter:P},m=(0,r.Z)(),{checkExperiment:_}=(m||{}).experimentsClient||{},v="function"==typeof _&&_("web_mweb_story_impression_fix").anyEnabled;if(v&&(d.Story={impressionType:"storyImpression",idType:"idStr",eventType:170}),b){if(j){var k,I,C;T({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,carouselDataId:Number(j.id),carouselSlotId:(null===(k=j.carousel_slots)||void 0===k?void 0:k[null!==(I=j.index)&&void 0!==I?I:0])&&Number(j.carousel_slots[null!==(C=j.index)&&void 0!==C?C:0].id),slotIndex:j.index}]},...l,aux_data:{...c}})}}else T({clientTrackingParams:u,event_type:a.eventType,...l,element:p,event_data:{[a.impressionType]:"Story"===g&&v?s:[s]},aux_data:{closeup_navigation_type:t,...c}})},D=(0,n.useCallback)((()=>{try{A.current instanceof HTMLElement&&C.start(A.current).onExitViewport(E).setDebugId(f||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[A.current]);(0,n.useEffect)((()=>(m&&!C.inExperiment&&C.setExperimentStatus(!0),v||D(),()=>{A.current instanceof HTMLElement&&C.stop(A.current)})),[D]);const R=(0,n.useRef)(v);return(0,n.useEffect)((()=>{R.current&&!v&&D(),R.current=v}),[v,D]),A}const u=({children:e,...t})=>e({impressionTrackerRef:c(t)})},12610:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const r=1e6,a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:l,[o.stopped]:l,[o.paused]:l,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){n(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),n(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),n(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),n(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(o.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,a&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*r,endTime:Date.now()*r,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(a)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case o.flushed:case o.paused:case o.exit:s[this.debugId]=!0}}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:i}=t.getBoundingClientRect();return i>e?i:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:i}=t.getBoundingClientRect();return i<e?i:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,i)=>{i.d(t,{Z:()=>n});const n=new(i(12610).ZP)},954571:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},349700:(e,t,i)=>{function n(e,t,i){return e.split(i).map((e=>{if(e.match(i)){const i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e}))}i.d(t,{Wc:()=>o,bF:()=>l,nk:()=>a});const r=/(\{\{\s*\w+\s*\}\})/g;function a(e,t){return n(e,t,r)}function o(e,t){return n(e,t,r).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return n(e,t,s)}},313047:(e,t,i)=>{i.r(t),i.d(t,{DEFAULT_HEIGHT:()=>u,DEFAULT_PADDING_Y:()=>p,FixedFooter:()=>g,FixedHeader:()=>m});var n=i(667294),r=i(124580),a=i(53987),o=i(773285),s=i(834256),l=i(883119),d=i(643010),c=i(785893);const u=64,p=3;function h({children:e,footerConfig:t,headerConfig:i,height:a,hideOnScroll:s,hideOnScrollState:{isHidden:h,updateHiddenState:m},showDockedNavBar:g,dockNavBarForAuthTablet:_,dockNavBarForUnauthTablet:v,noPadding:f,paddingY:y=p,type:x,zIndex:b}){const{headerLimitedOverflow:w,ignoreObstructions:P,zIndexForGestaltBug:S}=i||{},{appUpsellFooterConfig:T,footerInLego:k,footerWidth:I}=t||{},j=!!T,C="header"===x?"top":"bottom",{anyEnabled:A}=(0,o.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),E=(0,d.vs)(),D=A?E:(0,d.Yc)(),R=(0,n.useRef)(null),L=(0,n.useRef)(null);(0,n.useEffect)((()=>{try{if(!P){const e=R.current;L.current=w&&e&&Array.isArray(e.children)?e.children[0]:e,L.current instanceof HTMLElement&&r.Z.addObstruction(C,L.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{P||L.current instanceof HTMLElement&&r.Z.removeObstruction(C,L.current)}}),[P,w,C,D]);const O="top"===C?"relative":"fixed",F=f?0:y,z=(null!=a?a:u)+((null==i?void 0:i.overrideTop)||0),M=s||g||_||v?{transition:k?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h?{transform:`translateY(${"top"===C?-z:z}px)`,opacity:k?0:1}:Object.freeze({})}:{},N="relative"!==O||null!=i&&i.noGutter?0:2,Z=N?-N:0,U=D?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let B,H;return D&&("header"===x?B=-1:H=-1),(0,c.jsx)(l.xu,{ref:R,dangerouslySetInlineStyle:{__style:{top:B,bottomStyle:H,...!b||S?{zIndex:S||1}:Object.freeze({}),...w?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=i&&i.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...M}},zIndex:S?void 0:b,"data-test-id":x,display:j?"flex":void 0,height:a&&!k?a:void 0,position:O,bottom:"footer"===x,top:"header"===x,left:!0,right:!0,marginStart:k?"auto":Z,marginEnd:k?"auto":Z,onTransitionEnd:()=>{(s||g||_||v)&&L.current&&(h?r.Z.removeObstruction(C,L.current):r.Z.addObstruction(C,L.current))},width:k||"fixed"!==O?void 0:"100%",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==i?void 0:i.isTranslucent)&&U||(null==i?void 0:i.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:k?j?void 0:null!=a?a:u:"100%",boxShadow:k?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:k&&!g?16:void 0,...w?{pointerEvents:"auto"}:Object.freeze({}),...null!=i&&i.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==x||f?0:4)+N,paddingY:F,position:"relative",width:k&&I?I:j?void 0:"100%",rounding:k&&!g?"pill":void 0,display:k||null!=t&&t.alignCenter?"flex":void 0,marginStart:k?"auto":void 0,marginEnd:k?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:m}):e})})}function m({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:i,isTranslucent:n,isTransparentBackground:r,noGutter:a,overrideTop:o,useRoundedCorners:d,zIndexForGestaltBug:u,...m}){const{noPadding:g,paddingY:_=p,zIndex:v}=m,f=g?0:_;return(0,c.jsx)(l.Le,{top:o||0,height:t?44+2*f*4:void 0,zIndex:v||void 0,children:(0,c.jsx)(s.Z,{hideOnScroll:m.hideOnScroll,children:s=>(0,c.jsx)(h,{...m,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:r,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:i,noGutter:a,overrideTop:o,zIndexForGestaltBug:u,useRoundedCorners:d}})})})}function g({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,footerWidth:n,forceShow:r,hasTopShadow:o,location:l,showDockedNavBar:d,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:p,isModal:m,onScroll:g,..._}){const v=!!l&&(0,a.uM)(l)&&(!!d||!!u||!!p);return(0,c.jsx)(s.Z,{appUpsellFooterConfig:t,forceShow:r,hideOnScroll:_.hideOnScroll,location:l,isDockedNavOnPlp:v,isModal:m,onScroll:g,children:r=>(0,c.jsx)(h,{..._,hideOnScrollState:r,showDockedNavBar:d,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:p,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,footerWidth:n,hasTopShadow:o}})})}},834256:(e,t,i)=>{i.d(t,{Z:()=>s,m:()=>o});var n=i(667294),r=i(700380);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o=20;class s extends n.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),a(this,"handleScroll",(0,r.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:i,isDockedNavOnPlp:n}=this.props,{isHidden:r}=this.state,a=window.scrollY,s=a-this.lastScrollPos;let l="none";const{scrollHeight:d,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(d)&&!Number.isNaN(c))if(s<0){const e=window.scrollMinY||0;l=a<=Math.abs(e+Math.max(s,o))?"start":"none"}else{l=a>=(window.scrollMaxY||d-c)-Math.max(s,o)?"end":"none"}const u=t?0:55;if(e)if(s>o&&r&&a>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),i&&i(!1))}else(s<-o&&!r||a<=u)&&(this.updateHiddenState(!0),i&&i(!0));else!this.props.hideOnScroll&&n?"start"===l&&!r||a<=u?(this.updateHiddenState(!0),i&&i(!0)):(a>u||"end"===l)&&r&&(this.updateHiddenState(!1),i&&i(!1)):(s<-o||"start"===l)&&r||a<=u?(this.updateHiddenState(!1),i&&i(!1)):(s>o||"end"===l)&&!r&&(this.updateHiddenState(!0),i&&i(!0));this.lastScrollPos=a}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:i}=this.state;return e({isHidden:!t&&i,updateHiddenState:this.updateHiddenState})}}},166300:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(50286),r=i(883119),a=i(444445),o=i(134879),s=i(785893);const l=({children:e,roundedForLargeDevice:t})=>{const i="phone"!==(0,n.ZP)()&&t;return(0,o.V)()?(0,s.jsx)(r.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:i?6:void 0,overflow:i?"hidden":void 0,children:(0,s.jsx)(o.C,{value:!1,children:e})}):e}},134879:(e,t,i)=>{i.d(t,{C:()=>a,V:()=>o});var n=i(667294);const r=(0,n.createContext)(!1),a=r.Provider,o=()=>(0,n.useContext)(r)},48714:(e,t,i)=>{i.d(t,{nS:()=>b,iw:()=>P,gV:()=>y,G3:()=>S,lI:()=>T,Gj:()=>w,Jd:()=>f,$3:()=>x});var n=i(231486),r=i(56641),a=i(768559),o=i(250059);const s=e=>"string"!=typeof e&&e?e.state:null;var l=i(643913),d=i(547239),c=i(508847),u=i(102500),p=i(43760),h=i(579164),m=i(307640),g=i(397066),_=i(623568),v=i(226198);const f=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},y=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),x=({location:e,pin:t,surface:i})=>!(0,_.jL)(t)&&(({location:e,pinId:t,surface:i})=>{const n=Boolean(i),r=m.ZF.includes(i),a=e.pathname.includes(t);return n&&!r||a})({location:e,pinId:t.id,surface:i}),b=e=>{const t=Math.round(1e3*Math.random())+"",i=Math.round(1e3*Math.random())+"";n.t8((0,v.GS)(t),i);const r=`${t}-${i}`,{queryParams:a,url:o}=e;let s={token:r,url:o};if(!a){const{pinId:t,csrId:i,clientTrackingParams:n,auxData:r}=e;s={...s,pin:null!=t?t:void 0,csr:i&&!t?i:void 0,client_tracking_params:n,aux_data:r?JSON.stringify(r):void 0}}a&&(s={...s,...a});return`/offsite/?${(0,l.Z)(s)}`},w=e=>{(0,r.Z)(b(e),!0)},P=async({isMounted:e,pin:t,location:i,spamCheckCallback:n,href:r})=>{var o,s;const l=await(0,u.Z)({check_only:!0,client_tracking_params:(0,a.Z)({boardUrl:null==t||null===(o=t.board)||void 0===o?void 0:o.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:i,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(s=t.pinner)||void 0===s?void 0:s.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:r}).callGet({showError:!1});if(!l.resource_response.error&&e){const e=l.resource_response.data||{},{message:t,redirect_status:i,url:r}=e;n({blocked:["blocked","suspicious","porn"].includes(i),message:t,redirectStatus:i,sanitized_url:r})}},S=({event:e,onHistoryChange:t,href:i,history:n,target:a})=>{const l=(0,o.Z)(i),u=s(i),p=(0,d.Z)(l);p===h.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===a?(0,r.Z)(l,"blank"===a):n&&p===h.Z.SAME_ORIGIN&&(n.push((0,c.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},T=({href:e,pinId:t,pin:i,location:n,auxData:r,spamCheck:o,queryParams:s},l,d)=>{"undefined"!=typeof window&&window.Windows?(0,p.Z)({url:e,pinId:t,pin:i,location:n,auxData:r}):i?(({spamCheck:e,auxData:t,location:i,pin:n,pinId:r,href:o},s,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{var d,c;if((0,g.b)({href:o,pinId:r,pin:n,location:i,auxData:t},s))return;w({url:o,pinId:r,csrId:null,clientTrackingParams:(0,a.Z)({boardUrl:null===(d=n.board)||void 0===d?void 0:d.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:i,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),auxData:t})}})({spamCheck:o,auxData:r,location:n,pin:i,pinId:t,href:e},l,d):w({url:e,pinId:t,queryParams:s})}},102500:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(6637);function r(e){return n.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,i)=>{i.d(t,{Z:()=>c,p:()=>u});var n=i(667294),r=i(250059),a=i(149230),o=i(407043),s=i(643074),l=i(48714),d=i(276775);function c(e){var t;const{externalData:i,href:c,onHistoryChange:u,target:p}=e,{logContextEvent:h}=(0,o.v)(),[m,g]=(0,n.useState)(null),[_,v]=(0,n.useState)(!1),f=(0,d.useHistory)(),y=(0,d.useLocation)(),x=(0,a.Z)({url:(0,r.Z)(c)}),{showWarning:b}=null!==(t=(0,s.s)())&&void 0!==t?t:{};return(0,n.useEffect)((()=>(v(!0),()=>{v(!1)})),[]),(0,n.useEffect)((()=>{x&&null!=i&&i.pin&&null===m&&_&&(0,l.$3)({location:y,pin:i.pin,surface:i.surface})&&(0,l.iw)({isMounted:_,pin:i.pin,location:y,spamCheckCallback:e=>g(e),href:(0,r.Z)(c)})}),[null==i?void 0:i.pin,null==i?void 0:i.surface,c,x,_,y,m]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:x,event:e})||(e.preventDefault(),c&&(x||null!=i&&i.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==i?void 0:i.auxData,href:(0,r.Z)(c),pinId:null==i||null===(t=i.pin)||void 0===t?void 0:t.id,pin:null==i?void 0:i.pin,queryParams:null==i?void 0:i.queryParams,location:y,spamCheck:m},h,b):(0,l.G3)({event:e,href:c,history:f,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:c(t)})},713930:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(172071);function r(e,t){return new Promise(((i,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)i();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,n.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)i();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,n.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else i()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>i())),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}}))}},53987:(e,t,i)=>{i.d(t,{wy:()=>E,Fw:()=>Y,ey:()=>K,dt:()=>f,bo:()=>U,oF:()=>ee,bW:()=>v,AX:()=>p,Fy:()=>u,XE:()=>c,am:()=>o,pD:()=>h,OJ:()=>l,LO:()=>de,Gl:()=>ie,PY:()=>x,Ni:()=>y,pV:()=>D,L6:()=>A,bb:()=>pe,b0:()=>_,jC:()=>H,O7:()=>ne,LM:()=>B,OK:()=>j,mP:()=>b,C$:()=>w,dr:()=>O,gT:()=>L,Fr:()=>G,Xn:()=>P,l4:()=>C,b_:()=>Q,J:()=>s,dZ:()=>d,FO:()=>k,re:()=>T,RU:()=>re,Ui:()=>m,KY:()=>g,fY:()=>q,uM:()=>$,x7:()=>X,rk:()=>ce,cD:()=>V,dW:()=>ue,Pu:()=>te,En:()=>R,ej:()=>se,E0:()=>Z,gf:()=>I,mY:()=>ae,kY:()=>le,cY:()=>J,$Y:()=>N,Zz:()=>S,$V:()=>M,j8:()=>W,ip:()=>F,tZ:()=>z,YW:()=>oe});const n=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),r=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var a=i(276775);const o=e=>n.test(e.pathname),s=(e,t)=>{const{pathname:i}=e;return o(e)&&i.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,a.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},d=(e,t)=>{const{pathname:i}=e;return l(e)&&i.match(t||"?")},c=e=>!!(0,a.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,a.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,a.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,a.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,a.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),g=e=>!!(0,a.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),_=e=>!!(0,a.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),v=e=>!!(0,a.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),f=e=>e.pathname.startsWith("/age-appeal"),y=e=>e.pathname.startsWith("/business/"),x=e=>e.pathname.startsWith("/business/invite/"),b=e=>!!(0,a.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),w=e=>"/"===e.pathname,P=e=>e.pathname.startsWith("/login"),S=e=>!!(0,a.matchPath)(e.pathname,{path:"/today",exact:!0}),T=e=>e.pathname.startsWith("/password/reset")||!!(0,a.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),k=e=>e.pathname.startsWith("/secure/panic"),I=e=>e.pathname.startsWith("/signup"),j=e=>e.pathname.startsWith("/email/subscription"),C=e=>e.pathname.startsWith("/notifications/"),A=e=>!!(0,a.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),E=e=>A(e)&&void 0===e.state,D=e=>e.pathname.startsWith("/pin_redirect"),R=e=>e.pathname.startsWith("/search"),L=e=>!!(0,a.matchPath)(e.pathname,{path:"/ideas",exact:!0}),O=e=>!!(0,a.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),F=e=>!!(0,a.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),z=e=>e.pathname.startsWith("/videos"),M=e=>e.pathname.startsWith("/topics"),N=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),Z=e=>e.pathname.startsWith("/today/shop/"),U=e=>S(e)||N(e)||e.pathname.startsWith("/today/popular/"),B=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),H=e=>e.pathname.startsWith("/pin/create/"),V=e=>!!(0,a.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!r.includes(e.pathname.replace(/\/$/,"")),W=e=>e.pathname.startsWith("/unauth-profile"),$=e=>e.pathname.startsWith("/pin/"),G=e=>"#imgViewer"===e.hash,K=e=>new RegExp("invite_code").test(e.search),q=e=>!!(0,a.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),Y=e=>K(e)&&((q(e)?"pin":o(e)&&"board")||V(e)&&"profile")||null,X=e=>e.pathname.includes("/repin/x"),J=e=>e.pathname.startsWith("/_/storyboard"),Q=e=>e.pathname.startsWith("/oauth"),ee=e=>e.pathname.startsWith("/app-factory-oauth"),te=e=>e.pathname.includes("/scheduled-pin/"),ie=e=>e.pathname.startsWith("/business/convert"),ne=e=>e.pathname.startsWith("/pin-editor"),re=e=>e.pathname.startsWith("/pin-builder"),ae=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),oe=e=>e.pathname.startsWith("/advertiser/quick-promote"),se=e=>e.pathname.startsWith("/settings"),le=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),de=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),ce=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),ue=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),pe=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/v1/connect/")},627995:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(927104),r=i(898781),a=i(903095),o=i(112690),s=i(883119),l=i(785893);const d=(e,t)=>{let i={};if(e){const{pinData:n,viewData:r}=e;i={unauth_click_pin_id:n.id,unauth_click_pin_image_signature:n.imageSignature},3===t?i={...i,unauth_page_pin_id:r.id,unauth_page_pin_image_signature:r.imageSignature}:5===t&&(i={...i,unauth_page_board_id:r.id})}return i},c=({clickLoggingOptions:e,domain:t,link:i,onClick:c})=>{var u;const p=null===(u=(0,a.lO)())||void 0===u?void 0:u.logging,h=(0,r.ZP)(),m=(0,o.Z)(),g=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),g().forEach((e=>m(e))),c(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:h._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,l.jsx)("a",{href:i,onClick:e=>{e.stopPropagation(),g().forEach((e=>m(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,n.Z)(t,27)})})]})})}},55275:(e,t,i)=>{i.d(t,{P:()=>o,t:()=>s});var n=i(6637);const r=()=>{};const a={complaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){n.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){n.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){n.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){n.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){n.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){n.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){n.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){n.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){n.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,i=r){const n=e?a[e]:null;return n?n(t,i):i()}},680046:(e,t,i)=>{i.d(t,{EF:()=>u,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var n=i(55275),r=i(760372),a=i(966113);const o=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return a.hsD;case 2:case 3:return a.LbF;default:return a.m7f}},getRecommendationDescription:({ad_match_reason:i,board:n,feedbackType:r,makeNavigateLink:a,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(r){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:r,url:u}=d.board,p=a("navigation",u,r);return t(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:p});case"topic":const{name:h,url_name:m}=c,g=a("topicUrl",`/topics/${m}`,h);return t(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:g});case"followed":const _=`/${s.username}`,v=a("boardUrl",n.url,o(n.name)),f=a("pinnerUrl",_,o(s.full_name));return s.explicitly_followed_by_me?t(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f}):t(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:v});case"promoted":switch(i){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:i,username:n}=l,r=a("promotedLink",n?"/"+n+"/":"/",i);return t(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:i,pin:{promoter:n,is_downstream_promotion:r,recommendation_reason:a},pinner:o}){const s=t&&t.type;return n&&!r?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(a)?a.board?"pfyBoard":"pfy":a&&"FOLLOWED_INTEREST"===a.reason?"topic":e&&e.followed_by_me||o&&o.explicitly_followed_by_me?"followed":140===i||144===i||141===i||145===i||139===i||3173===i?"related":92===i?"default":3082===i?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:i,recommendationReasonId:n,pinFeedbackType:r,complaintReason:a,throughId:o,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===t;let c,u;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":u={query:e.query,pin_id:i};break;case"related":u={pin:i};break;case"newsHub":u={pinId:i,newsId:e.newsId};break;default:u={complaint_reason:a||0,pin_id:i,...n?{recommendation_reason_id:n}:{},feedback_type:r||1,promoted:d,...o?{through_id:o}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:i,feedbackType:n,makeNavigateLink:a,pinner:o,sourceInterest:s})=>{if("topic"===n){if(s){const{id:i,name:n,url_name:o}=s,l=a("topicUrl",`/topics/${o}`,n,!0),d=t(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===n&&i&&o){const{id:n,name:r,url:s}=i||{},{explicitly_followed_by_me:l,full_name:d,username:c}=o,u=`/${c}`,p=a("boardUrl",s,r,!0),h=a("pinnerUrl",u,d,!0);let m=l?t(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:h,formattedBoard:p}):t(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p});return m=l?t(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:h}):t(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:n},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,t,i,r,a,o,s){return()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,n.t)(d,l),o(i),s({event_type:101,component:0,element:11181,view_type:r,view_parameter:a})}}},248975:(e,t,i)=>{function n({embedSrc:e,embedType:t,images:i,preferredResolution:n}){if(!e&&!t&&!i)return"";if("gif"===t)return e||"";const r=i;if(!r)return"";if(n){const e="474x"===n&&r["474x"]||"236x"===n&&r["236x"]||r["736x"];if(e&&e.url)return e.url}const a=Object.keys(r).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(r[t]=r[e],t):e}catch(t){return""}}));a.sort();const o=a.pop();return r[o]&&r[o].url||""}i.d(t,{Z:()=>n})},958007:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(992750);const r=e=>(e||"").trim().replace(/\s+/g," "),a=({storyPinDataId:e,pinDescription:t,richMetadataDescription:i,richSummaryDisplayName:a,placeSummaryName:o,closeupDescription:s,closeupUnifiedDescription:l})=>!!e?r(t):r((0,n.eK)({richMetadataDescription:i,richSummaryDisplayName:a,placeSummaryName:o,closeupUnifiedDescription:l}).description)||r(l||"")||r(s)||r(t)||r(i)||""},164985:(e,t,i)=>{i.d(t,{Z:()=>n});function n(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},623568:(e,t,i)=>{i.d(t,{Js:()=>s,NK:()=>f,Nc:()=>y,VX:()=>l,Zt:()=>_,_J:()=>u,_Q:()=>o,_S:()=>x,cL:()=>m,dZ:()=>P,hb:()=>v,hy:()=>c,iR:()=>a,jL:()=>d,o:()=>b,oN:()=>n,pU:()=>w,rM:()=>g,sV:()=>p,sY:()=>h});const n=5e3,r=["Uploaded by user"],a=e=>!!e&&!!e.video_list,o=e=>!!e.promoted_is_lead_ad,s=(e,t)=>{let i=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(i=t.full_name),i},l=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},d=e=>!!e.promoter&&!e.is_downstream_promotion,c=e=>!!e,u=e=>!!e.video_status&&5!==e.video_status,p=e=>["email","messages","deep_linking"].includes(e),h=e=>!!e&&"gif"===e,m=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!h(i)&&!(e=>"pinstory"===e)(t),g=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,_=({link:e,mobileLink:t,origImageUrl:i,trackedLink:n})=>t||n||e||i||"",v=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",f=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){var t,i;return!a(e.videos)&&!c(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(i=t.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function x(e){for(const t of r)if(e===t)return!1;return!0}function b(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function w(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function P(e){var t,i;return!(null===(t=e.creator_analytics)||void 0===t||null===(i=t["30d_realtime"])||void 0===i||!i.is_realtime)}},992750:(e,t,i)=>{i.d(t,{hP:()=>u,fs:()=>l,eK:()=>d,Ly:()=>c,BY:()=>p,bN:()=>h,RC:()=>o,EU:()=>s});const n=/\s\s+/g,r=e=>e.replace(n," ");var a=i(883561);const o=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,a.ZP)(e.trim(),t).trim():e.trim():"",l=({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:r,storyPinDataMetadataPinTitle:a,placeSummaryName:o})=>{const l=a||e,d=s(t,200);return d||(i||(o||(n||(r&&l?l:null))))},d=e=>{var t,i,n,o;const{richSummaryDisplayName:s,placeSummaryName:l}=e,d=null!==(t=e.pinJoinVisualAnnotation)&&void 0!==t?t:[],c=null!==(i=e.pinJoinAnnotationsWithLinks)&&void 0!==i?i:{},u=null!==(n=e.richMetadataDescription)&&void 0!==n?n:"",p=null!==(o=e.closeupUnifiedDescription)&&void 0!==o?o:"",h=d.map((e=>(c||{})[e]||{name:e,url:""}));let m="";const g=(({richSummaryDisplayName:e,placeSummaryName:t})=>e||t||"")({richSummaryDisplayName:s,placeSummaryName:l}).toLocaleLowerCase().trim(),_=u.toLocaleLowerCase().trim(),v=p.toLocaleLowerCase().trim();return p&&p.length>3&&v!==g?m=p:u&&u.length>3&&_!==g&&(m=u),m&&(m=r((0,a.ZP)(m,496)).trim()),{description:m,annotationsWithLinks:h}},c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:r,storyPinDataMetadataPinTitle:a,placeSummaryName:o,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:c})=>{const{annotationsWithLinks:u}=d({pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:c}),p=(u||[]).map((e=>e.name)),h=e=>(e||[])[0]||null;return l({pinTitle:e,gridTitle:t,richSummaryDisplayName:i,richMetadataTitle:n,storyPinDataId:r,storyPinDataMetadataPinTitle:a,placeSummaryName:o})||h(s)||h(p)||e},u=(e,t,i,n)=>{var r;let a=(r=e,"string"==typeof r?r:"").trim();if(!i)return n&&n.trim().length?n:a;n&&n.trim().length&&(a=n);let o=i;return o&&o.length>0&&(o=o.join(", "),a&&(a+=" "),a+=o),a},p=e=>`/pin/${e}/`,h=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:p(e)},467570:(e,t,i)=>{i.d(t,{$:()=>d,GH:()=>l,JF:()=>_,Jb:()=>h,MI:()=>g,sl:()=>u,we:()=>p});var n=i(935879),r=i(713930),a=i(816068),o=i(6637),s=i(539497);const l="274266067164",d=["public_profile","email","user_birthday","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})},p=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});return(0,r.Z)((0,n.Z)(e),"FACEBOOK").then((()=>u(t)))},h=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),m=({userID:e,accessToken:t,data:{birthday:i,email:n,first_name:r,gender:o,last_name:s,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:i?(0,a.Z)(i):void 0,email:n,first_name:r,gender:o,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:s});async function g(e){var t;const i=(null===(t=(await o.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:c.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:i.birthday,email:i.email,first_name:i.first_name,gender:i.gender,id:i.id,last_name:i.last_name,picture:i.picture}}const _=()=>new Promise((e=>{window.FB.login(e,{scope:d.join(",")})})).then((e=>((e,t)=>new Promise(((i,n)=>{if("connected"!==e.status)return void n({status:e.status||"unknown"});const{userID:r,accessToken:a}=e.authResponse;g(a).then((e=>{i({creds:{facebook_id:r,facebook_token:a,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:m({userID:r,accessToken:a,data:e})})}),n)})))(e)))},935879:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},760372:(e,t,i)=>{i.d(t,{X:()=>n});const n="favorited"},813401:(e,t,i)=>{i.d(t,{kf:()=>_,l5:()=>m,of:()=>p,xC:()=>g,yz:()=>h});var n=i(667294),r=i(172071),a=i(829407),o=i(807609),s=i(30287),l=i(425288),d=i(785893);const{Provider:c,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[i,o]=(0,n.useState)(null),l=t||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,a.Z)((()=>{const e=(0,s.FB)(window)||"unknown";o(e),u!==e&&r.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&i?i:u,h=l.twaType,m=(0,n.useMemo)((()=>({pwaType:p,twaType:h})),[p,h]);return(0,d.jsx)(c,{value:m,children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},g=()=>"android-twa"===h(),_=()=>{const e=h(),t=(0,o.Z)();return"unknown"===e&&t?null:"windows"===e}},317254:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(969853),r=i(667294),a=i(276602),o=i(543059);var s=i(198462);function l({children:e,isAtEndOfFeed:t,pinData:i,itemCount:l,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,s.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,n.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const t=(0,a.EV)(),i=(0,r.useRef)(null);(0,r.useEffect)((()=>{e!==i.current&&(i.current=e,t&&(0,o.ZP)(o.at))}),[!!t,e])}(l),e}},561195:(e,t,i)=>{i.d(t,{A:()=>l,Z:()=>d});var n=i(667294),r=i(498913),a=i.n(r),o=i(883119),s=i(785893);const l=({fill:e,width:t,color:i})=>{const r="half"===e?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o.xu,{position:"absolute",children:(0,s.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,s.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,s.jsx)(o.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:r})};function d({max_rating:e,rating:t,width:i,color:r}){const o=[],d=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return a()(c,(e=>o.push((0,s.jsx)(l,{color:r,fill:"full",width:i},e)))),u>=.75?o.push((0,s.jsx)(l,{color:r,fill:"full",width:i},o.length)):u>=.25&&o.push((0,s.jsx)(l,{color:r,fill:"half",width:i},o.length)),a()(5-o.length,(()=>o.push((0,s.jsx)(l,{color:r,fill:"empty",width:i},o.length)))),(0,s.jsx)(n.Fragment,{children:o})}},923297:(e,t,i)=>{function n({m:e=0,h:t=0}){let i;return i=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:i}}function r(e){const t=Math.floor(e/3600);return n({m:Math.floor(e%3600/60),h:t})}i.d(t,{X:()=>n,u:()=>r})},932995:(e,t,i)=>{function n(e,t,i){const n=[...e],r=n.splice(t,1)[0];return n.splice(i,0,r),n}i.d(t,{Z:()=>n})},505920:(e,t,i)=>{i.d(t,{UZ:()=>u,Z8:()=>p,my:()=>h});var n=i(667294),r=(i(702664),i(6637)),a=i(425288),o=i(785893);function s(e,t,i){var n;const r=[...null!==(n=t[e][i.payload.name])&&void 0!==n?n:[],i.payload.handler],a={...t};return a[e]={...t[e],[i.payload.name]:r},a}function l(e,t,i){if(!t[e][i.payload.name])return t;const n=t[e][i.payload.name].filter((e=>e!==i.payload.handler)),r={...t};return r[e]={...t[e],[i.payload.name]:n},r}const{Provider:d,useHook:c}=(0,a.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:i},a]=(0,n.useReducer)(((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});r.Z.fetchCompleteCallback=({resource:e,options:i,response:n,normalizedResponse:r,refresh:a,resourceSchema:o})=>{t[e]&&t[e].forEach((t=>t({isRefresh:a,normalizedResponse:r,options:i,schema:o,resource:e,response:n})))},r.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:r,refresh:a,resourceSchema:o})=>{i[e]&&i[e].forEach((i=>i({isRefresh:a,normalizedResponse:r,options:t,schema:o,resource:e,response:n})))};const c=(0,n.useMemo)((()=>({listenerDispatch:a})),[]);return(0,o.jsx)(d,{value:c,children:e})}function p(e,t){const{listenerDispatch:i}=c();(0,n.useEffect)((()=>(i({type:"addListener",payload:{name:e,handler:t}}),()=>{i({type:"removeListener",payload:{name:e,handler:t}})})))}function h(e,t){const{listenerDispatch:i}=c();(0,n.useEffect)((()=>(i({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{i({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},176843:(e,t,i)=>{function n(e,t){let i;if(e.error){const{httpStatus:n,api_error_code:r,redirectUrl:a}=e.error;if(404===n||401===n&&7===r){i={pathname:t?"/ideas/":"/",state:{showError:!0}}}301===n&&a&&(i={pathname:a})}return i}i.d(t,{Z:()=>n})},989726:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(176843),r=i(784590),a=i(19121),o=i(53987),s=i(276775);function l(e){const t=(0,s.useHistory)(),i=(0,s.useLocation)(),{isAuth:l}=(0,a.Z)(),d=!l&&(0,o.L6)(i),c=(0,r.Z)(e),u=(0,n.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},134185:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);const r=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},578661:(e,t,i)=>{i.d(t,{G:()=>n});const n="https://schema.org/Recipe"},857079:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);function a({accessibilityLabel:e}){return(0,r.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},995228:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),r=i(966476),a=i(464228),o=i(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:i=!1}){const s=t||null,l=(0,r.Z)(),d=(0,a.P)();return d&&"legacy"!==d?i||l?(0,o.jsx)(n.Suspense,{fallback:s,children:e}):s:(0,o.jsx)(n.Suspense,{fallback:s,children:e})}},947599:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i(995228).Z},740990:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,i)=>{i.d(t,{Hd:()=>o,_R:()=>r,lw:()=>n,wF:()=>a});const n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},r=e=>{switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},a=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},o=e=>{switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}}},862628:(e,t,i)=>{function n(e){return(e||"").trim().replace(/\s+/g," ")}i.d(t,{Z:()=>n})},648284:(e,t,i)=>{function n({appliedProductFilters:e,autoCorrectionDisabled:t,filters:i,query:n,scope:r,selectedPinImgSig:a,user:o}){const s=[r,i,e,o,a,n].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+s:s}function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:i,appliedFilters:n,filters:r,selectedPinImgSig:a,query:o,rs:s,scope:l,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:i=null,bubbleId:n=null,filters:r=null,query:a=null,rs:o="direct_navigation",scope:s="pins",selectedPinImgSig:l=null,sourceId:d=null,user:c}){return{article:n,applied_filters:t,appliedProductFilters:i,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:r,query:a,query_pin_sigs:l,redux_normalize_feed:!0,rs:o,scope:s,source_id:d,user:c}}({autoCorrectionDisabled:!!t,appliedProductFilters:i,appliedFilters:n,filters:r,query:o,rs:s,scope:l,selectedPinImgSig:a,bubbleId:d,user:c})}}i.d(t,{Ht:()=>r,Tb:()=>n})},706922:(e,t,i)=>{function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(let a=0;a<i.length;a+=1)if(!Object.prototype.hasOwnProperty.call(t,i[a])||!n(e[i[a]],t[i[a]]))return!1;return!0}i.d(t,{Z:()=>r})},835209:(e,t,i)=>{function n({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}i.d(t,{Z:()=>n})},458882:(e,t,i)=>{i.d(t,{l:()=>a,r:()=>o});var n=i(667294);const r=(0,n.createContext)(null),a=()=>(0,n.useContext)(r),o=r.Provider},667679:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(458882),r=i(780679);const a=()=>{const e=(0,r.g)(),t=(0,n.l)();return i=>{const{mobileOptions:n,desktopOptions:r,reason:a,attributionLabel:o}=i;e?e.showDesktopSignupModal({signupFlow:"login"===(null==r?void 0:r.modalType)?{type:"login"}:{type:"signup"},reason:a,attributionLabel:o,...null==r?void 0:r.modalOptions}):t&&t.showMobileSignupModal({reason:a,attributionLabel:o,headingType:null==n?void 0:n.headingType})}}},90771:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,n.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,n.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,n.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},31149:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,n.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},214680:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,n.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#0CBD2A"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},331744:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,n.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,n.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,n.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,n.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,n.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,n.jsx)("stop",{stopColor:"#09F"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,n.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},862960:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,n.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,n.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,n.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#37AEE2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#EFF7FC"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},464240:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,n.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},89396:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},22641:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(785893);function r({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},619277:(e,t,i)=>{i.d(t,{o$:()=>r,ty:()=>a,vE:()=>o});var n=i(425288);const{Provider:r,MaybeConsumer:a,useMaybeHook:o}=(0,n.Z)("inviteContext")},296011:(e,t,i)=>{i.d(t,{Z:()=>l,t:()=>d});var n=i(667294),r=i(6637),a=i(167912);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s={};class l extends n.Component{constructor(...e){super(...e),o(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e}=this.props;r.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const i=t.resource_response.data;s[e]=i,this.setState({invite:i,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class d extends n.Component{constructor(...e){super(...e),o(this,"state",{invite:s[this.props.invite_code]||null,loaded:this.props.invite_code in s})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:i}=this.props;(0,a.fetchQuery)(t,i,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},867060:(e,t,i)=>{i.d(t,{c:()=>n,y:()=>r});const n={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116},r={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},957161:(e,t,i)=>{i.d(t,{L_:()=>r,Nh:()=>a,qn:()=>n});const n=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(i){return console.error("Cannot access localStorage."),t}},r=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},a=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(i){console.error("Cannot access localStorage.")}}},622096:(e,t,i)=>{i.d(t,{L_:()=>r,Nh:()=>a,qn:()=>n});const n=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(i){return window.console.error("Cannot access sessionStorage."),t}},r=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},a=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(i){window.console.error("Cannot access sessionStorage.")}}},940882:(e,t,i)=>{i.d(t,{J:()=>n,Z:()=>r});const n=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(858142);const r=/\{\{\s*(\w+)\s*\}\}/g,a=(e,t)=>(0,n.Z)(r,e,t)},858791:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},936776:(e,t,i)=>{i.d(t,{Z:()=>r});const n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>n.test(e)},927104:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},858142:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t,i)=>t?t.replace(e,((e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:"")):""},66699:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(985913),r=i(858791);const a=(e,t)=>{const i={};return Object.keys(t).forEach((e=>{i[e]=t[e]?(0,r.Z)(t[e].toString()):""})),(0,n.Z)(e,i)}},883561:(e,t,i)=>{i.d(t,{ZP:()=>n});function n(e,t=80,i="",n=false){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||n)r=e.substring(0,t);else{const i=e.lastIndexOf(" ",t);r=e.substring(0,i)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+i}},700380:(e,t,i)=>{function n(e,t){let i;const n=(...n)=>{i||(e(...n),i=setTimeout((()=>i=null),t))};return n.cancel=()=>{void 0!==i&&clearTimeout(i)},n}i.d(t,{Z:()=>n})},430323:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(667294),r=i(722767),a=i(706922),o=i(245474),s=i(558068),l=i(802201),d=i(780280),c=i(790123),u=i(425288);const{Provider:p,useMaybeHook:h}=(0,u.Z)("timeSpentContext");var m=i(785893);function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends n.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:r,view:a,viewParameter:o}=this.props;return{view:a||r&&r.view,viewParameter:o||r&&r.viewParameter,component:t||r&&r.component,element:i,objectId:n||r&&r.objectId,clientTrackingParams:e||r&&r.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:i,left:n,right:r,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===r&&0===a?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new o.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,a.Z)(e.auxData,this.props.auxData)&&(0,a.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(p,{value:this.getContext(),children:(0,m.jsx)(r.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}function v(e){var t;const i=(0,s.Hv)(),r=h(),a=(0,c.w)(),o=(0,l.H0)(),{requestIdentifier:u=""}=(0,d.B)(),p={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)((()=>{null==a||a.setHistoryStackContext(i)}),[i,a]),(0,n.useEffect)((()=>{null==a||a.setPins(null!=o?o:{})}),[o,a]),a?(0,m.jsx)(_,{...e,auxData:p,timeSpentContext:r,timeSpentManager:a,children:e.children}):e.children}v.displayName="TimeSpent";const f=v},790123:(e,t,i)=>{i.d(t,{j:()=>u,w:()=>c});var n=i(829407),r=i(19121),a=i(407043),o=i(50286),s=i(425288),l=i(785893);const{Provider:d,useMaybeHook:c}=(0,s.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const i=(0,a.v)(),s=(0,o.HG)(),{isAuth:c}=(0,r.Z)(),u=s&&c;return(0,n.Z)((()=>{document.hasFocus()&&t(i,u).registerApp(),t(i,u).addEventListeners()})),(0,l.jsx)(d,{value:t(i,u),children:e})}},245474:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(172045),r=i(17314);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const s=class{constructor(e){a(this,"start",(()=>(this.startTime=o(),this.startTime))),a(this,"end",(()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,n.Z)()}catch(t){this.uuid=(0,r.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,i)=>{i.d(t,{E5:()=>d,T7:()=>n,Y_:()=>c,Yj:()=>o,d9:()=>p,nx:()=>u,pe:()=>s,xt:()=>l});i(883119);function n(e,t,i,n){const r=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),a=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(i);return`/today/${r}/${encodeURIComponent(a)}/${n}/`}const r={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},a={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},o=(e,t)=>{const i=a[e];return!(null===i||i!==t&&!t.startsWith(i))},s=e=>r[e],l=(e,t,i)=>e||(t||i||""),d=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),c=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),p=e=>{var t,i;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(i=e.width)&&void 0!==i?i:1)}},657292:(e,t,i)=>{i.d(t,{X0:()=>r,ZP:()=>o,iT:()=>a,v0:()=>n});const n="unauthHistories",r="authHistories",a="trackHistoryClickInternalUrl";function o(e,t){if("undefined"!=typeof window)try{const i=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||i){const i=window.PINTEREST_DEV_REGEX||"";i&&!(e||"").match(i)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(i){}}},539497:(e,t,i)=>{i.d(t,{My:()=>p,NC:()=>m,Nc:()=>g,dy:()=>_,qJ:()=>c,tj:()=>u,yl:()=>l});var n=i(6637),r=i(657292),a=i(622096);let o=[];let s;function l(e){o.length&&(n.Z.create("UserRegisterTrackActionResource",{actions:o}).callUpdate({showError:!1,async:!e}),o=[],s=null)}function d(e,t){const i=(0,a.qn)(r.iT);if((0,a.L_)(r.iT),i)return;let n=(0,a.qn)(e);if(n=n?n.split(","):[],n.length){const e=`${t}.${n.reduce(((e,t)=>e+"-"+t))}`;o.push({name:e,aux_data:{}})}(0,a.L_)(e)}const c=e=>{d(r.v0,e),d(r.X0,`${e}_auth`),o.length&&l(!0)};function u(e,t){let i="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==i.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=i,i="track_register_action.web.invalid_action.with_percent"),o.push({name:i,aux_data:t}),s||(s=setTimeout((()=>l()),5e3)),(0,r.ZP)(e,t)}function p(e,t){u(e,{tags:t?{...t}:Object.freeze({})})}function h(e,t,i=!1){if("undefined"==typeof window)return;let n=(0,a.qn)(e);n=n?n.split(","):[],n.push(t),(0,a.Nh)(e,n.join()),e!==r.X0&&p(`lex.${t}`),i&&(0,a.Nh)(r.iT,!0)}function m(e,t=!1){h(r.v0,e,t)}function g(e,t=!1){h(r.X0,e,t)}const _=({event:e,provider:t})=>{p(`pinner_conversion.autologin.${t}.${e}`)}},52022:(e,t,i)=>{i.d(t,{S:()=>s,Z:()=>l});var n=i(667294),r=i(539497),a=i(53987),o=i(276775);const s=e=>(0,a.L6)(e)?"pin":(0,a.am)(e)?"board":(0,a.Xn)(e)?"login":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.dr)(e)?"ideas":(0,a.gT)(e)?"ideas-root":(0,a.tZ)(e)?"videos":(0,a.$Y)(e)?"article":(0,a.E0)(e)?"shopping-spotlight":(0,a.Zz)(e)?"today":(0,a.j8)(e)?"unauth-profile":"other";function l(){const e=(0,o.useLocation)();return(0,n.useCallback)((({action:t,item:i,within:n})=>{const a=s(e);(0,r.My)(`logged_out_product.interaction.${a}.${t}`,{item:i||"none",within:n||"none"})}),[e])}},200310:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),r=i(116303),a=i(898781),o=i(112690),s=i(719626),l=i(349700),d=i(591042),c=i(883119),u=i(785893);function p({color:e="default",pinId:t,title:i,user:p,startsAt:h,isEpisodeUpcoming:m,isEpisodeReplay:g,viewParameterType:_=3582,viewType:v=1}){const f=(0,a.ZP)(),y=(0,o.Z)(),{referrer:x}=(0,d.iH)(),[b,w]=(0,n.useState)({});if((0,n.useEffect)((()=>{w((0,s.p)(h))}),[h]),!p)return null;const P=e=>{y({event_type:102,view_type:v,view_parameter:_,component:0,...e})};return(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{padding:"8px 6px 16px"}},children:[!!i&&(m||g)&&(0,u.jsx)(c.xu,{marginBottom:2,children:(0,u.jsxs)(c.iP,{href:`/tv/${t}/?referrer=${x}`,onTap:()=>P(),role:"link",children:[m&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xv,{size:"200",weight:"bold",lineClamp:2,children:i}),(0,u.jsx)(c.xv,{size:"100",color:"default",lineClamp:2,children:(0,l.nk)(f._('Live on {{ date }} {{ time }}', 'episodeAttribution.formattedDateTime.text', 'When the episode will go live'),{date:b.shortDate,time:b.time})})]}),g&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xv,{size:"200",weight:"bold",lineClamp:2,children:i}),(0,u.jsx)(c.xv,{size:"100",color:"default",lineClamp:2,children:(0,l.nk)(f._('Aired on {{ mmddyyy }}', 'episodeAttribution.formattedDateTime.text', 'When the episode was aired'),{mmddyyy:b.mmddyyy})})]})]})}),(0,u.jsx)(c.iP,{href:`/${p.username}`,onTap:()=>P({element:11619}),role:"link",children:(0,u.jsxs)(c.kC,{alignItems:"center",children:[(0,u.jsx)(c.xu,{marginStart:-2,paddingX:2,children:(0,u.jsx)(r.Z,{name:"",size:"sm",src:p.image_medium_url})}),(0,u.jsx)(c.xv,{color:e,size:"200",lineClamp:1,children:p.full_name||""})]})})]})}},447635:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),r=i(200310),a=i(218672),o=i(898781),s=i(112690),l=i(349700),d=i(591042),c=i(883119),u=i(582637),p=i(785893);const h=16/9;function m({feedItem:e,gridIndex:t}){const i=(0,o.ZP)(),m=(0,s.Z)(),{gridItemWidth:g,referrer:_}=(0,d.iH)(),{creator_class:v,creator_class_instance:f,id:y}=e,{creator:x,hero_images:b}=v,{title:w,starts_at:P,hero_images:S}=f,T=S?S["312x"]:b?b["312x"]:{},k=(0,u.Zz)(f),I=(0,u.oi)(f),j=(e=>{const{duration:t}=e&&e.video_list&&e.video_list.V_HLSV4||{};if(!t)return"";const i=Math.trunc(t/1e3),n=Math.trunc(t/6e4),r=Math.trunc(t/36e5),a=n-60*r,o=i-60*a-60*r*60;let s=r>0?`${r}:${a.toString().padStart(2,"0")}`:`${a}`;return s+=`:${o.toString().padStart(2,"0")}`,s})(f.replay_video),C=j.length>0?j:i._('Processing video', 'EpisodeGridRep.pillText.fallback', 'A label indicating that the video is still processing.'),A=new c.Ry(1),E=i._('Watch', 'EpisodeGridRep.button.text', 'A label indicating that button can be interacted with to watch the video.'),[D,R]=(0,n.useState)(g?g*h:void 0);return(0,p.jsx)(c.xu,{children:T.url&&(0,p.jsxs)(n.Fragment,{children:[D?(0,p.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",height:D,justifyContent:"between",position:"relative",rounding:3,width:g,children:[(0,p.jsx)(c.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:A,children:(0,p.jsx)(a.Z,{text:C,backgroundColor:"black"})}),(0,p.jsx)(c.iP,{fullHeight:!0,fullWidth:!0,href:`/tv/${y}/?referrer=${_}`,onTap:()=>{var e;return m({event_type:102,view_type:1,view_parameter:3582,component:0,aux_data:{content_ids:{pin:y},grid_index:t,referrer:_,story_id:null===(e=v.recap_pin)||void 0===e?void 0:e.id}})},role:"link",children:(0,p.jsx)(c.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(c.Ee,{alt:w,color:"gray",fit:"cover",naturalHeight:T.height,naturalWidth:T.width,src:T.url})})}),(0,p.jsx)(c.xu,{position:"absolute",bottom:!0,marginBottom:4,children:(0,p.jsx)(c.zx,{text:E,role:"link",href:`/tv/${y}/?referrer=${_}`,accessibilityLabel:(0,l.nk)(i._('Watch {{episodeTitle}}', 'webapp.app.pinTv.watchBtn.a11yText', 'episodeTitle: a11y text for watch button for the episode'),{episodeTitle:w}).join("")})})]}):(0,p.jsx)(c.xu,{ref:e=>{if(e){const t=e.offsetWidth;R(t*h)}},width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}}),(0,p.jsx)(r.Z,{isEpisodeReplay:I,isEpisodeUpcoming:k,pinId:y,startsAt:P,title:w,user:x})]})})}},218672:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);function a({text:e,backgroundColor:t}){return(0,r.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:t}},display:"flex",paddingX:2,paddingY:1,rounding:"pill",children:[(0,r.jsx)(n.xu,{color:"primary"===t?"default":"primary",dangerouslySetInlineStyle:{__style:{marginRight:5}},height:6,rounding:"circle",width:6}),(0,r.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:e})]})}},591042:(e,t,i)=>{i.d(t,{J1:()=>s,iH:()=>l,xs:()=>o});var n=i(667294),r=(i(883119),i(425288)),a=i(273712);const o=({pinId:e})=>{const[t,i]=(0,n.useState)({}),[r,o]=(0,n.useState)(e),[s,l]=(0,n.useState)(0);return{activePinId:r,getSubscription:e=>{if(!t)return a.d0.UNKNOWN;switch(t[e]){case!0:return a.d0.TRUE;case!1:return a.d0.FALSE;default:return a.d0.UNKNOWN}},setSubscription:(e,t)=>{i((i=>i&&i[e]!==t?{...i,[e]:t}:i))},setActivePinId:o,setVolume:l,volume:s}},{Provider:s,useHook:l}=(0,r.Z)("LiveSessionContext")},38530:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(6637),r=i(898781),a=i(112690),o=i(19121),s=i(883119),l=i(273712),d=i(591042),c=i(785893);function u({color:e="white",componentType:t,creatorClassId:i,pinId:u,size:p,viewParameterType:h,viewType:m}){const g=(0,r.ZP)(),_=(0,a.Z)(),{isAuth:v}=(0,o.Z)(),{getSubscription:f,referrer:y,setSubscription:x,showSignup:b}=(0,d.iH)(),w=f(u);if(w===l.d0.UNKNOWN)return null;const P=w?{text:g._('Attending', 'liveSession.button.attending', 'Button indicating user is subscribed to reminders; click to unsubscribe')}:{text:g._('Remind me', 'liveSession.button.remindMe', 'Button to subscribe to reminders')};return(0,c.jsx)(s.zx,{color:e,onClick:({event:e})=>{if(e.preventDefault(),e.stopPropagation(),_({event_type:102,view_type:m,view_parameter:h,component:t,element:w?12384:12383,aux_data:{content_ids:{pin:u},referrer:y}}),v){const e=n.Z.create("ApiResource",{url:`/v3/classes/${i}/subscription/`,data:{id:u}});w?e.callDelete():e.callUpdate(),x(u,!w)}else b&&b()},selected:w,size:p,text:P.text})}},585112:(e,t,i)=>{i.d(t,{Z:()=>g,t:()=>h});var n=i(667294),r=i(218672),a=i(38530),o=i(898781),s=i(112690),l=i(349700),d=i(591042),c=i(666842),u=i(883119),p=i(785893);const h={grid:2,closeup:6},m=16/9;function g({creatorClass:e,creatorClassInstance:t,pinId:i,variant:h="grid",width:g,height:_}){const v=(0,s.Z)(),{referrer:f}=(0,d.iH)(),y=(0,o.ZP)(),{id:x}=e,{starts_at:b,title:w,hero_images:P}=t,{url:S,width:T,height:k}=P["624x"],{V_HLSV4:I}=t.preview_video&&t.preview_video.video_list||{},j="closeup"===h,C=()=>{const e=function(e){const t=new Date(e)-new Date;return Math.floor(t/864e5)}(b),t=function(e){const t=new Date(e)-new Date;return Math.floor(t/36e5)}(b),i=function(e){const t=new Date(e)-new Date;return Math.floor(t/36e5)}(b);return e>=1?(0,l.nk)(y.ngettext('{{ numDaysUntilEvent }} day', '{{ numDaysUntilEvent }} days', e, 'upcomingEpisode.badge.daysUntil', 'Number of days remaining until the event'),{numDaysUntilEvent:e}):t>=1?(0,l.nk)(y.ngettext('{{ numHoursUntilEvent }} hour', '{{ numHoursUntilEvent }} hours', t, 'upcomingEpisode.badge.hoursUntil', 'Number of hours remaining until the event'),{numHoursUntilEvent:t}):i>1?(0,l.nk)(y.ngettext('{{ numMinutesUntilEvent }} minute', '{{ numMinutesUntilEvent }} minutes', i, 'upcomingEpisode.badge.minutesUntil', 'Number of minutes remaining until the event'),{numMinutesUntilEvent:i}):y._('Live soon', 'liveSession.badge.liveSoon', 'A label indicating event is happening soon.')},{gridItemWidth:A}=(0,d.iH)(),E=g||A,D=_||(E?E*m:void 0),R=new u.Ry(1),L=(0,p.jsx)(a.Z,{componentType:200,creatorClassId:x,pinId:i,size:j?"lg":"md",viewParameterType:3582,viewType:1}),[O,F]=(0,n.useState)(_||(E?E*m:void 0)),z=e=>{if(e){const t=e.offsetWidth;F(t*m)}};return D?j?(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:E,height:D||O,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:R,children:(0,p.jsx)(r.Z,{text:C(),backgroundColor:"black"})}),I?(0,p.jsx)(u.xu,{width:"100%",height:"100%",rounding:3,children:(0,p.jsx)(c.Z,{autoplay:!0,format:c.k.CLOSEUP,height:D,video:I,width:E,bgImgUrl:S})}):(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:S,alt:w,naturalWidth:T,naturalHeight:k,color:"gray",fit:"cover"})})]}):(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:E,height:D,"data-test-id":`upcoming-episode-${i}`,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:R,children:(0,p.jsx)(r.Z,{text:C(),backgroundColor:"black"})}),(0,p.jsx)(u.iP,{href:`/tv/${i}/?referrer=${f}`,onTap:()=>{var t;return v({event_type:102,view_type:1,view_parameter:3582,component:200,aux_data:{content_ids:{pin:i},referrer:f,story_id:null===(t=e.recap_pin)||void 0===t?void 0:t.id,story_type:"upcoming_creator_classes"}})},role:"link",fullHeight:!0,fullWidth:!0,children:(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:S,alt:w,naturalWidth:T,naturalHeight:k,color:"gray",fit:"cover"})})}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,marginBottom:4,children:L})]}):(0,p.jsx)(u.xu,{ref:z,width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}})}},666842:(e,t,i)=>{i.d(t,{Z:()=>d,k:()=>l});var n=i(667294),r=i(898781),a=i(591042),o=i(883119),s=i(785893);const l={GRID:"grid",HERO:"hero",HEAD:"head",CLOSEUP:"closeup"};function d({autoplay:e=!1,children:t,controls:i,height:d,format:c,video:u,width:p,bgImgUrl:h}){const{volume:m,setVolume:g,renderTvVideo:_}=(0,a.iH)(),[v,f]=(0,n.useState)(e),y=(0,r.ZP)();if(!u)return null;const{height:x,url:b,width:w}=u,P=p/d;return(0,s.jsx)(o.zd,{height:d,rounding:c===l.HEAD?"circle":c===l.CLOSEUP?0:4,width:p,children:c===l.GRID?(0,s.jsx)(o.Ee,{alt:"",color:"",naturalHeight:x,naturalWidth:w,src:h,children:(0,s.jsx)(o.xu,{height:"100%",position:"relative",width:"100%",children:t})}):_&&_({autoplay:e,accessibilityMaximizeLabel:y._('Maximize', 'Video.accessibilityMaximizeLabel', 'Maximize accessibility Label'),accessibilityMinimizeLabel:y._('Minimize', 'Video.accessibilityMinimizeLabel', 'Minimize accessibility Label'),accessibilityMuteLabel:y._('Mute', 'Video.accessibilityMuteLabel', 'Mute accessibility Label'),accessibilityPauseLabel:y._('Pause', 'Video.accessibilityPauseLabel', 'Pause accessibility Label'),accessibilityPlayLabel:y._('Play', 'Video.accessibilityPlayLabel', 'Play accessibility Label'),accessibilityProgressBarLabel:y._('Progress bar', 'Video.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:y._('Unmute', 'Video.accessibilityUnmuteLabel', 'Unmute accessibility Label'),aspectRatio:P,captions:"",controls:i,loop:!0,onPlay:()=>{},onPlayError:()=>{},playing:v,playsInline:!0,poster:h,src:b,volume:m,setPlaying:f,setVolume:g,children:(0,s.jsx)(o.xu,{height:"100%",position:"relative",width:"100%",children:t})})})}},273712:(e,t,i)=>{i.d(t,{$J:()=>n,Ct:()=>p,Ff:()=>u,Md:()=>l,My:()=>o,Rp:()=>s,ak:()=>a,d0:()=>h,jm:()=>d,oo:()=>r,vw:()=>c});const n={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},r=2,a=6,o=3,s=1.5,l=16,d=8,c=16/9,u=25,p={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},h={TRUE:!0,FALSE:!1,UNKNOWN:void 0}},582637:(e,t,i)=>{i.d(t,{Zz:()=>o,fN:()=>a,oi:()=>r});var n=i(273712);const r=e=>e.live_status===n.Ct.POST_LIVE,a=e=>e.live_status===n.Ct.LIVE,o=e=>e.live_status===n.Ct.PRE_LIVE},719626:(e,t,i)=>{i.d(t,{Z:()=>o,p:()=>a});var n=i(926467),r=i(273712);function a(e){return{date:e?(0,n.Z)(new Date(e),"eeee, MMMM do,"):"",shortDate:e?(0,n.Z)(new Date(e),"eee, MMM do,"):"",formalDate:e?(0,n.Z)(new Date(e),"d MMM yyy"):"",dayOfWeek:e?(0,n.Z)(new Date(e),"EEEE"):"",time:e?(0,n.Z)(new Date(e),"h:mm aaa"):"",mmddyyy:e?(0,n.Z)(new Date(e),"MM/dd/yyyy"):"",Emmmdd:e?(0,n.Z)(new Date(e),"E, MMM dd"):""}}function o(e){var t,i;const n=e.creator_class_instance.live_status===r.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:null===(t=e.creator_class.recap_pin)||void 0===t?void 0:t.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===r.Ct.LIVE,postLive:n,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${(null===(i=e.creator_class.recap_pin)||void 0===i?void 0:i.id)||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:n&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}},758127:(e,t,i)=>{i.d(t,{U:()=>a,Z:()=>o});var n=i(883119),r=i(785893);const a=", ";function o(){return(0,r.jsx)(n.xu,{display:"visuallyHidden",children:a})}},477802:(e,t,i)=>{i.d(t,{W:()=>o,Z:()=>a});var n=i(883119),r=i(785893);function a({data:e}){return(0,r.jsx)(n.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,r.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const o=e=>(0,r.jsx)(n.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,r.jsx)(a,{...e})})},948618:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);function a({ariaHidden:e=!1,color:t="darkGray",size:i}){return(0,r.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,r.jsx)(n.xv,{color:t,inline:!0,size:null!=i?i:"200",children:""})})}},343341:(e,t,i)=>{i.d(t,{F9:()=>o,Zo:()=>r,nE:()=>a});var n=i(425288);const{Provider:r,Consumer:a,useHook:o}=(0,n.Z)("toastManagerContext")},753311:(e,t,i)=>{i.d(t,{M:()=>o,Q:()=>a});var n=i(667294);const r=(0,n.createContext)(null),a=()=>(0,n.useContext)(r),o=r.Provider},690035:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(753311);const r=()=>{const e=(0,n.Q)();return t=>{if(e){const{pinId:i,location:n,seoPlacementConfig:r}=t;e.showUnauthContextMenu({pinId:i,location:n,seoPlacementConfig:r})}}}},250059:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(954931);const r=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,n.Z)(e))},508847:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(567831);const r=(e,t)=>0===e.lastIndexOf(t,0),a=({url:e})=>{const t=(0,n.Z)("/");return r(e,t)?e.substr(t.length-1):e}},829407:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294);const r=e=>{(0,n.useEffect)(e,[])}},198125:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294);function r(){const[e,t]=(0,n.useState)(!1);return{isHovering:e,handleMouseEnter:(0,n.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,n.useCallback)((()=>t(!1)),[t])}}},807609:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(411465),r=i(966476);const a=()=>{const e=(0,n.Z)(),t=(0,r.Z)();return e&&!t}},411465:(e,t,i)=>{i.d(t,{G:()=>s,Z:()=>l});var n=i(667294),r=i(276775),a=i(785893);const o=(0,n.createContext)(!0);function s({children:e}){const t=(0,r.useLocation)(),[i,s]=(0,n.useState)(!0),l=(0,n.useRef)(t);return(0,n.useEffect)((()=>{l.current!==t&&(l.current=t,s(!1))}),[t]),(0,a.jsx)(o.Provider,{value:i,children:e})}function l(){return(0,n.useContext)(o)}},46584:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294);const r=new Map;let a=null;const o=e=>{e.forEach((e=>{const t=r.get(e.target);t&&t(e)}))};function s({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:i,rootMargin:s}){const l=(0,n.useRef)(null);let d=!1;const c=()=>{var t;l.current instanceof HTMLElement&&(t=l.current,r.has(t))&&(d&&(e(!1),d=!1))},u=(0,n.useCallback)((n=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",i)=>{const n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(o,n),r.set(e,i),a.observe(e)})(l.current,n,(n=>{if(!r.has(l.current))return;const a=t?n.intersectionRatio>=.5:n.intersectionRatio>0||n.isIntersecting,o=i?n.intersectionRatio>=1:a,s=i?0===n.intersectionRatio:!o;!d&&o?(t=>{const i=t.intersectionRatio>0||t.isIntersecting;d=i,d&&e(!0)})(n):d&&s&&c()}))}),[l.current]);return(0,n.useEffect)((()=>(u(s),()=>{var e;l.current instanceof HTMLElement&&(c(),e=l.current,a.unobserve(e),r.delete(e))})),[u]),l}},644035:(e,t,i)=>{i.d(t,{GW:()=>r,RL:()=>n,s4:()=>a});const n="ios",r="android",a="ipad"},562559:(e,t,i)=>{i.d(t,{Z:()=>y});var n=i(667294),r=i(867631),a=i.n(r),o=i(112690),s=i(19121),l=i(494349),d=i(773285),c=i(780280),u=i(883119),p=i(969315),h=i(179888),m=i(785893);function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=(e,t)=>{if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",i)}return e},v=(e,t)=>"string"==typeof e?_(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:_(e[0].src,t)}]:e)(e,t):e;class f extends n.PureComponent{constructor(...e){super(...e),g(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:h.Cy.DEFAULT}),g(this,"errorRetryCount",1),g(this,"firstFragBuffered",!1),g(this,"hasPlaybackStarted",!1),g(this,"hasVideoSessionStarted",!1),g(this,"hasVideoSessionEnded",!1),g(this,"hls",null),g(this,"fragStartupTime",{}),g(this,"lastLevelSwitchKbps",null),g(this,"lastStallTime",null),g(this,"lastPauseTime",null),g(this,"logSessionStartOnNextPlay",!1),g(this,"playerId",""),g(this,"videoSessionId",""),g(this,"videoVisibleTime",null),g(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?_(this.props.src,this.props.quicExpGroup):_(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),g(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:i}=this.props,n=new(a())(t),r=v(e,i);n.loadSource(r),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(a().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),n.on(a().Events.FRAG_CHANGED,this.handleHlsFragChanged),n.on(a().Events.FRAG_LOADING,this.handleHlsFragLoading),n.on(a().Events.FRAG_LOADED,this.handleHlsFragLoaded),n.on(a().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),n.on(a().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),n.on(a().Events.ERROR,this.handleHlsError),this.hls=n})),g(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),g(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,i=t&&t[t.length-1];if(this.hls&&t.length&&i&&i.uri!==e.url){this.updateWatchDurationForCurrentSegment();const i=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls&&this.hls.levels||{},r="number"==typeof e.level?n[e.level]:{},a=this.fragStartupTime[e.url];let o=-1;a&&a.startLoadTime&&a.endLoadTime&&(o=a.endLoadTime-a.startLoadTime);const s={indicatedKbps:r.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:i&&i.clientWidth||-1,viewportHeight:i&&i.clientHeight||-1,watchedDurationMs:0};t.push(s)}})),g(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:i=!1}=t,{segments:n}=this.playbackPerformance;if(!n.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!n.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls.levels,r="number"==typeof e.level?i[e.level]:{},a=this.fragStartupTime[e.url];let o=-1;a&&a.startLoadTime&&a.endLoadTime&&(o=a.endLoadTime-a.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR;const s={indicatedKbps:r.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};n.push(s)}}else(0,p.tE)("initializeSegmentsFailed",!0,i)})),g(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.gJ:null)),g(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:i,playing:n}=this.props,{is_closeup_video:r=!1}=t,{canPlayVideo:a}=this.state;(0,p.tE)("handleCanPlayVideo",!0,r,{firstCanPlayEvent:!a,playing:n}),this.playbackPerformance.hasFatalError=!1,a||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),i&&i(e)})),g(this,"handleEnded",(e=>{const{loop:t,onEnded:i}=this.props,{segments:n}=this.playbackPerformance,r=n&&n[n.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.Cy.ENDED}),i&&i(e)})),g(this,"handleHlsError",((e,t)=>{var i;const{contextLogData:n={}}=this.props,{is_closeup_video:r=!1}=n;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var o,s,l,d;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(o=t.err)||void 0===o||null===(s=o.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(l=t.response)||void 0===l||null===(d=l.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,p.tE)("fatalError",!0,r,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case a().ErrorTypes.NETWORK_ERROR:if(t.details===a().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===a().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===a().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var c;const{src:e,quicExpGroup:t}=this.props,i=v(e,t);null===(c=this.hls)||void 0===c||c.loadSource(i)}else{var u;null===(u=this.hls)||void 0===u||u.startLoad()}break;case a().ErrorTypes.MEDIA_ERROR:null===(i=this.hls)||void 0===i||i.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.Cy.FAILED})})),g(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),g(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),g(this,"handleHlsFragLoading",((e,t)=>{var i;const n=null===(i=t.frag)||void 0===i?void 0:i.url;n&&!this.fragStartupTime[n]&&(this.fragStartupTime[n]={startLoadTime:new Date})})),g(this,"handleHlsFragLoaded",((e,t)=>{var i;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/h.Fm);const n=null===(i=t.frag)||void 0===i?void 0:i.url;n&&this.fragStartupTime[n]&&this.fragStartupTime[n].startLoadTime&&(this.fragStartupTime[n].endLoadTime=new Date)})),g(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR)})),g(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:h.Cy.LOADED_METADATA})})),g(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.Cy.LOAD_START})})),g(this,"handleLoadedData",(()=>{this.setState({playbackState:h.Cy.LOADED_DATA})})),g(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:h.Cy.PLAYING})})),g(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),g(this,"handleVideoPause",(()=>{this.state.playbackState!==h.Cy.STALLING&&this.state.playbackState!==h.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:h.Cy.PAUSED})})),g(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.Cy.ENDED&&this.setState({playbackState:h.Cy.SEEKING})})),g(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==h.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:h.Cy.STALLING})})),g(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),g(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),g(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),g(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),g(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),g(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),g(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),g(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),g(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof n&&"number"==typeof i){const e=n-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),g(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:i={},userId:n,isAutoPlay:r,logContextEvent:a}=this.props,{is_closeup_video:o=!1}=i,{canPlayTime:s,detailedErrors:l,downloadedKiloBytes:d,errorCode:c,errorName:u,errorReason:m,hasFatalError:g,playbackStartTimestamp:_,totalPauseDurationMs:v,totalStallDurationMs:f,segments:y,srcString:x,loadStartTime:b,numberOfStalls:w,numberOfSeeks:P}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===h.DR,k=T&&!this.hasVideoSessionStarted,I=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&S&&(k||I)){var j;let k=-1;s&&b&&(k=s>b?s-b:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,h.Y7)(n),this.playerId=this.playerId||(0,h.EB)());const C={autoplaying:r,averageVideoKbps:-1,detailedErrors:l,downloadedKiloBytes:d,isCellular:!1,errorCode:c,errorName:u,errorReason:m,fatalError:g,nativeVideoDurationMs:S.duration*h.gJ||-1,numberOfStalls:w,numberOfSeeks:P,overallPausedDurationMs:v,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:_||-1,segments:[],sessionMark:e,screenPixelScale:null!==(j=window)&&void 0!==j&&j.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:k,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:x};if(!T&&y.length){const e=this.hls.levels,t=y[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const i=y.reduce(((t,i)=>{if(i&&"number"==typeof i.level&&e&&e.length>0){return t+(e[i.level]||{}).bitrate*(i.watchedDurationMs||0)/h.gJ}return t}),0),n=y.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let r=null,a=0,o=0;do{a+=y[o].watchedDurationMs,r=r||y[o].level,o+=1}while(o<y.length&&y[o].level===r);C.startupVariantKbps=t.indicatedKbps,C.startupVariantWatchedDurationMs=a,C.startupVariantWidth=t.sourceWidth,C.startupVariantHeight=t.sourceHeight,C.startupPlayerWidth=t.viewportWidth,C.startupPlayerHeight=t.viewportHeight,C.overallWatchedDurationMs=n,n>0?(C.averageVideoKbps=i/(n/h.gJ),C.rebufferRate=this.playbackPerformance.totalStallDurationMs/n):0===n&&(C.averageVideoKbps=-1,C.rebufferRate=-1,C.errorName="invalid_watch_duration"),C.segments=y}else C.errorName="invalid_watch_duration";(0,p.ZP)(C,!0,o,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:A,component:E,durationNs:D,element:R,objectId:L,pairId:O,viewData:F,view:z,viewParameter:M,...N}=i;a({aux_data:{...N,is_closeup_video:o,playback_session_id:this.videoSessionId},clientTrackingParams:A,component:E,duration_ns:D,element:R,event_data:{videoPerformanceData:C},event_type:3606,object_id_str:L,pair_id:O,view_data:F,view_parameter:M,view_type:z}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,p.tE)(T?"sessionStart":"sessionEnd",!0,o,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:i,src:n,visible:r,appInFocus:a}=this.props;var o,s;(typeof(o=e.src)!=typeof(s=n)||(Array.isArray(s)?o.length!==s.length||s.some(((e,t)=>!Array.isArray(o)||e.type!==o[t].type||e.src!==o[t].src)):s!==o))&&this.initializeHls(),e.appInFocus&&!a&&(this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===r&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===r&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&a&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:o,aspectRatio:s,backgroundColor:l,captions:d,controls:c,loop:p,loopOverride:h,onDurationChange:g,onFullscreenChange:_,onLoadedChange:f,onControlsPlay:y,onPlayheadDown:x,onPlayheadUp:b,onSeek:w,onVolumeChange:P,playbackRate:S,playing:T,playsInline:k,poster:I,preload:j,quicExpGroup:C,src:A,volume:E}=this.props,{canPlayVideo:D,isManifestParsed:R}=this.state,L=v(A,C);return(0,m.jsx)(u.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:o,aspectRatio:s,backgroundColor:l,captions:d,controls:c,loop:void 0===h?p:h,onDurationChange:g,onEnded:this.handleEnded,onFullscreenChange:_,onLoadStart:this.handleLoadStart,onLoadedChange:f,onControlsPause:this.handleUserPause,onControlsPlay:y,onPlaying:this.handlePlaying,onPlayheadDown:x,onPlayheadUp:b,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:P,onWaiting:this.handleStalled,playbackRate:S,onPlay:()=>{},onPlayError:()=>{},playing:R&&D&&T,playsInline:k,poster:I,preload:j,ref:this.setVideoPlayerRef,src:L,volume:E})}}const y=(0,n.memo)((function(e){const{country:t,isAuthenticated:i,isBot:n,isSocialBot:r,unauthId:a,userAgent:u}=(0,c.B)(),h=(0,o.Z)(),g=(0,s.Z)(),{browserName:_,browserVersion:v,isMobile:y}=u,{contextLogData:x={}}=e,{is_closeup_video:b=!1,view:w,viewParameter:P}=x,{checkExperiment:S}=(0,d.F)();let T=null;i&&(T=S("web_video_quic").group.length?S("web_video_quic").group:null);const{appUI:k}=(0,l.I)(),I=S("web_video_fail_to_start_fix").anyEnabled?k.appInFocus:e.appInFocus,j={browserName:_,browserVersion:v,country:t,isAuthenticated:i,isBot:n,is_closeup_video:b,isMobile:y,isSocialBot:r,view:w,viewParameter:P};return(0,p.r$)(j),(0,m.jsx)(f,{...e,userId:g.id||a,appInFocus:I,quicExpGroup:T,logContextEvent:h})}))},964082:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,r={...i,...n};for(const a in r){const{paused:t}=r[a];if(a!==e&&!t)return!1}return!0}i.d(t,{Z:()=>n})},36971:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,r={...i,...n};return r[e]&&r[e].currentTime}i.d(t,{Z:()=>n})},463045:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,r={...i,...n};return!!r[e]&&!r[e].paused}i.d(t,{Z:()=>n})},969315:(e,t,i)=>{i.d(t,{ZP:()=>u,r$:()=>d,tE:()=>c});var n=i(311560),r=i(172071),a=i(179888);const o=["isCellular","videoUrl","sessionMark"];let s={},l="";const d=e=>{const{browserName:t,browserVersion:i,country:r,isAuthenticated:a,isBot:o,isMobile:d,isSocialBot:c,view:u="unknown",viewParameter:p="unknown"}=e;l=(c?"socialBot":o&&"bot")||"nonbot";const h=(0,n.Z)(r);s={browserName:t,browserVersion:(null==i?void 0:i.split(".")[0])||"0",isAuthenticated:a,isMobile:d,region:h,view:u,viewParameter:p}};function c(e,t,i,n={}){const a=i?"closeup":"nonCloseup",o=t?"hls":"nonHls",d={...n,...s},c=`web.video.${o}.${l}.${a}.${e}`;r.Z.increment(c,1,d)}function u(e,t,i,n={}){const d=i?"closeup":"nonCloseup",c=t?"hls":"nonHls",u=e.sessionMark===a.DR?"sessionStart":"sessionEnd",p={...n,...s};if(Object.entries(e).forEach((([t,i])=>{const n=`web.video.${c}.${l}.${d}.${u}.${t}`,a=parseInt(i,10),s="number"==typeof a?a:-1;var h;if(!o.includes(t))if(t.includes("fatalError")&&!0===i){const{errorCode:t,errorName:i,errorReason:a}=e;r.Z.increment(n,1,{errorCode:t,errorName:i,errorReason:a,...p})}else if(t.includes("Width")||t.includes("Height")){const e=(h=s)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";r.Z.increment(n,1,{dimensionBucket:e,...p})}else if("numberOfStalls"===t){let e=i;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),r.Z.increment(n,1,{numberOfStalls:e,...p})}else"screenPixelScale"===t?r.Z.increment(n,1,{screenPixelScale:i||-1,...p}):s>=0?(0===s&&r.Z.increment(`${n}.zero`,1,p),r.Z.timing(n,s,1),r.Z.timing(`${n}_with_tags`,s,1,p)):s<0&&r.Z.increment(`${n}.negative`,1,p)})),e.sessionMark!==a.DR){const{rebufferRate:t,screenPixelScale:i,startupLatencyMs:n,startupVariantWidth:a,startupPlayerWidth:o}=e,s=`web.video.${c}.${l}.${d}.${u}`;if("number"==typeof a&&"number"==typeof o&&"number"==typeof i){const e=1.5*a>i*o;r.Z.increment(`${s}.upscaled.${e?"good":"bad"}`,1,p)}"number"==typeof n&&r.Z.increment(`${s}.startupLatency.${n<500?"good":"bad"}`,1,p),"number"==typeof t&&r.Z.increment(`${s}.rebufferRate.${t<.01?"good":"bad"}`,1,p)}}},179888:(e,t,i)=>{i.d(t,{$f:()=>a,Cy:()=>d,DR:()=>r,EB:()=>p,Fm:()=>l,Y7:()=>u,bR:()=>s,gJ:()=>o,lG:()=>c});var n=i(172045);const r=1,a=2,o=1e3,s=1e3,l=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,n.Z)()}function p(){return(0,n.Z)()}},121630:(e,t,i)=>{i.d(t,{Z:()=>a,e:()=>r});var n=i(81226);const r=e=>{if("undefined"==typeof window)return"";let t=0;const i=document.querySelector('[data-test-id="header"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:i}=e.getBoundingClientRect();t+=i}break;case"SearchItem":const i=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},a=e=>{var t,i,r,a,o;return(0,n.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(i=e.videos)||void 0===i||null===(r=i.video_list)||void 0===r||null===(a=r.V_HLSV4)||void 0===a?void 0:a.duration)||(null===(o=e.story_pin_data)||void 0===o?void 0:o.total_video_duration)||0)}},43760:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(768559),r=i(102500),a=i(48714);function o({url:e,pinId:t,pin:i,location:o,auxData:s}){var l,d;const c={check_only:!0,client_tracking_params:i?(0,n.Z)({boardUrl:null===(l=i.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:o,pinId:i.id,pinnerUserName:null===(d=i.pinner)||void 0===d?void 0:d.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}):void 0,pin_id:i?i.id:t,url:e,aux_data:JSON.stringify(s)};(0,r.Z)(c).callGet().then((r=>{if(r&&r.resource_response&&!r.resource_response.error){const{resource_response:e}=r,{redirect_status:t,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(i){var l,d;const r=(0,n.Z)({boardUrl:null===(l=i.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:o,pinId:i.id,pinnerUserName:null===(d=i.pinner)||void 0===d?void 0:d.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map});(0,a.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:r,auxData:s})}else(0,a.Gj)({url:e,pinId:t})}))}},494349:(e,t,i)=>{i.d(t,{g:()=>h,I:()=>p});var n=i(667294),r=i(567450),a=i(150361),o=i.n(a);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:n,isPromoted:r,currentTime:a,inVideoGridAutoplayExp:s}=i,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=l,p=o()(c),h=o()(u);return!r&&d&&s?e:(r?p[n]={pinId:n,currentTime:a,paused:!1}:h[n]={pinId:n,currentTime:a,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:r?d:n,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:n,isPromoted:r,currentTime:a}=i,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:d}=s,c=o()(l),u=o()(d);return r?c[n]={...c[n],paused:!0,currentTime:a}:u[n]={...u[n],paused:!0,currentTime:a},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var d=i(425288),c=i(785893);const{Provider:u,useHook:p}=(0,d.Z)("AppUI");function h({children:e}){const[t,i]=(0,n.useReducer)(l,s),a=(0,n.useCallback)((e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),o=(0,n.useCallback)((e=>i({type:"SET_APP_FOCUS_STATE",payload:e})),[]),d=(0,n.useCallback)((e=>i({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,n.useCallback)((e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,n.useCallback)((e=>i({type:"SET_IS_AUTOPLAY",payload:e})),[]),m=(0,n.useCallback)((e=>i({type:"SET_VIEWPORT_SIZE",payload:e})),[]),g=(0,n.useCallback)((e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),_=(0,n.useMemo)((()=>({pauseAutoplay:a,setCurrentVideo:d,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:g,setAppFocusState:o,appUI:t})),[a,d,p,h,m,g,o,t]);return(0,n.useEffect)((()=>{r.Z.onSessionResume((()=>{o(!0)})).onSessionPause((()=>{o(!1)}))}),[o]),(0,c.jsx)(u,{value:_,children:e})}},639758:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(898781),r=i(883119),a=i(785893);const o={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},s={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},l={overlay:{__style:{backgroundColor:"#000"}}};function d({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:d,pinTitle:c,pin:u}){const p=(0,n.ZP)(),{id:h}=u;return(0,a.jsxs)(r.Ee,{alt:c||p._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:i,src:e,children:[(0,a.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:l.overlay}),(0,a.jsxs)(r.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${h}`,children:[(0,a.jsx)(r.iP,{rounding:2,children:(0,a.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,a.jsx)(r.JO,{accessibilityLabel:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:s,size:25}),(0,a.jsx)(r.xu,{margin:1}),(0,a.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,a.jsx)(r.xu,{margin:3}),(0,a.jsx)(r.iP,{onTap:d,rounding:2,children:(0,a.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,a.jsx)(r.JO,{accessibilityLabel:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:o,size:25}),(0,a.jsx)(r.xu,{margin:1}),(0,a.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},307640:(e,t,i)=>{i.d(t,{UP:()=>s,Wv:()=>r,ZF:()=>n,zI:()=>a,zl:()=>o});const n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],o=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},479301:(e,t,i)=>{i.d(t,{i5:()=>x,sX:()=>P,aX:()=>b,Z5:()=>y,NG:()=>w,MT:()=>S,iu:()=>T});var n=i(667294),r=i(6637),a=i(802201),o=i(682492),s=i.n(o);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function d(e,t){const i={};return e.filter((e=>!!e)).reduce(((e,n)=>{const r=t(n);return i[r]?(s()(i[r],n),e):(i[r]=n,e.concat([n]))}),[])}function c(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,i){let n=l(e,t).concat(i);return n=d(n,(e=>e.id)),c(n)}const p={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function h(e=p,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:i}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const i={...e,data:{...e.data}},{id:n}=t.payload;return delete i.data[n],i}if("FETCH_COMPLETE"===t.type){const{options:i,resource:n,response:r}=t.payload,a=r.resource_response.data;if("ConversationMessagesResource"===n){const t=a||[],n=(null==i?void 0:i.conversation_id)||"",r=u(e,n,t),o=r[r.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:r,unread:0,last_message:o}}}}if("ConversationsResource"===n){const t=a||[],i={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:r,board:a,emails:o,unread:s,users:l,last_message:d}=e,c=u(i,t,[d]);i.data[t]={...i.data[t],id:t,created_at:n,name:r,board:a,emails:o||[],unread:s||0,users:l||[],last_message:d,messages:c}})),i}if("ConversationResource"===n){const t=a||{},{id:i}=t,n={...e,data:{...e.data}};return i&&(n.data[i]={...n.data[i],...t}),n}if("NewsHubBadgeResource"===n){if(a){const t=a.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:i,message:n}=t.payload;return e.data[i]?{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:[...e.data[i].messages,n]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:i,tempMessage:n,newMessage:r}=t.payload;if(e.data[i]){if(l(e,i).find((e=>e.id===n.id&&e.created_ms===n.created_ms))){let t=l(e,i).filter((e=>e.id!==n.id)).concat([r]);return t=d(t,(e=>e.id)),t=c(t),{...e,data:{...e.data,[i]:{...e.data[i],last_message:r,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:i,tempMessageId:n}=t.payload;if(e.data[i]){const t=l(e,i).filter((e=>e.id!==n));return{...e,data:{...e.data,[i]:{...e.data[i],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:i}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:i}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:i}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:i,position:n}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i],position:n}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:i}=t.payload;return{...e,data:{...e.data,[i]:{...e.data[i],position:null}}}}}return e}var m=i(425288),g=i(505920),_=i(785893);const v=(()=>{let e=0;return()=>e++})(),{Provider:f,useHook:y}=(0,m.Z)("Conversations");function x({children:e}){const[t,i]=(0,n.useReducer)(h,p),a=(0,n.useCallback)((e=>i({type:"FETCH_COMPLETE",payload:e})),[]);(0,g.Z8)("ConversationMessagesResource",a),(0,g.my)("ConversationMessagesResource",a),(0,g.Z8)("ConversationsResource",a),(0,g.Z8)("ConversationResource",a),(0,g.Z8)("NewsHubBadgeResource",a);const o=(0,n.useCallback)(((e,t=!1,n="")=>i({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})),[]),s=(0,n.useCallback)(((e,t="",n=!1)=>i({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})),[]),l=(0,n.useCallback)((e=>i({type:"CONVERSATION_CREATE",payload:e})),[]),d=(0,n.useCallback)((e=>i({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),c=(0,n.useCallback)(((e,t)=>i({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),u=(0,n.useCallback)((e=>i({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),m=(0,n.useCallback)(((e,t,n)=>{r.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;i({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))}),[]),v=(0,n.useCallback)((()=>{i({type:"CLOSE_DROPDOWN"})}),[]),y=(0,n.useCallback)((()=>{i({type:"OPEN_DROPDOWN"})}),[]),x=(0,n.useCallback)((e=>{i({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),b=(0,n.useCallback)(((e,t)=>i({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),w=(0,n.useCallback)(((e,t,n)=>i({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:n}})),[]),P=(0,n.useCallback)(((e,t)=>i({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),S=(0,n.useCallback)((e=>i({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),T=(0,n.useCallback)((e=>i({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),k=(0,n.useCallback)((e=>i({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),I=(0,n.useMemo)((()=>({clearMessageBadge:k,conversationOpen:o,conversationClose:s,conversationCreate:l,conversationDelete:d,conversationGet:m,saveConversationPosition:c,resetConversationPosition:u,dropdownClose:v,dropdownOpen:y,newMessageOpen:x,pendingMessageSend:b,pendingMessageSuccess:w,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:T,conversations:t})),[k,o,s,l,d,m,c,u,v,y,x,b,w,P,S,T,t]);return(0,_.jsx)(f,{value:I,children:e})}function b(){const{conversationCreate:e}=y();return async t=>{let i;const n=r.Z.create("ConversationsResource",t);try{var a;const t=null===(a=(await n.callCreate()).resource_response)||void 0===a?void 0:a.data;t&&(e(t),i=t)}catch(o){throw new Error(o.message)}return i}}function w(){const{conversations:e,conversationCreate:t,pendingMessageSend:i,pendingMessageSuccess:n,pendingMessageFailure:o}=y(),s=(0,a.AF)();return async(a,l,d,c)=>{const{text:u,pinId:p,boardId:h,userId:m,didItId:g}=l;async function _(){const e=r.Z.create("ConversationMessagesResource",{conversation_id:a,text:u,pin:p,board:h,user:m,user_did_it_data:g,source:d}),t=`${v()}`,l={text:u,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,pin:p?s[p]:null,type:"tempMessage"};i(a,l);try{var _;const t=null===(_=(await e.callCreate()).resource_response)||void 0===_?void 0:_.data;t&&n(a,l,t)}catch(f){throw o(a,t),new Error(f.message)}}if(e.data[a])await _();else{const e=r.Z.create("ConversationResource",{conversation_id:a});try{var f;const i=null===(f=(await e.callGet()).resource_response)||void 0===f?void 0:f.data;i&&(t(i),await _())}catch(y){throw new Error(y.message)}}}}function P(e){const{conversations:t}=y();return t.data[e]}function S(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function T(){const{conversations:{data:e}}=y(),t=(i=e,Object.keys(i).map((e=>i[e]))).filter((e=>e.users&&e.last_message));var i,n;return n=t,Array.from(n).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},70598:(e,t,i)=>{i.d(t,{Z:()=>P});var n=i(829407),r=i(898781),a=i(112690),o=i(728214),s=i(602574),l=i(667679),d=i(52022),c=i(19121),u=i(957314),p=i(755506),h=i(773285),m=i(802201),g=i(281180),_=i(50286),v=i(343341),f=i(687999),y=i(539497),x=i(883119),b=i(785893);const w=({children:e,pulsar:t,testId:i})=>t.show?(0,b.jsx)(x.xu,{position:"relative","data-test-id":i,children:(0,b.jsxs)(x.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,b.jsx)(x.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(x.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(x.o3,{})})]})}):(0,b.jsx)(x.xu,{"data-test-id":i,children:e});function P({auxData:e,disabled:t,disableLog:i,followEventType:P,id:S,inline:T,invertColors:k,isFollowed:I,isIdeaPin:j,isLegoEnabled:C,isSecondaryButton:A,isUserFollowButton:E,isUserMe:D,onFollow:R,onUnfollow:L,pinId:O,shouldUseLegoColors:F,showPulsar:z,size:M,textType:N="FollowFollowing",unfollowEventType:Z,viewParameter:U,viewType:B}){const H=(0,r.ZP)(),V=(0,_.HG)(),{showToast:W}=(0,v.F9)(),$=(0,d.Z)(),G=(0,a.Z)(),K=(0,l.Z)(),{checkExperiment:q}=(0,h.F)(),Y=(0,o.Z)(),X=(0,c.Z)(),J=X&&X.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,f.f)(),te=(0,g.mN)()(S),ie=(0,m.S6)()(null!=O?O:""),ne=(0,p.wS)(ie),re=null!=te?te:ne;(0,n.Z)((()=>{!V&&J&&Q&&S&&Q===S&&R(S)}));const ae=Y({fn:()=>{J?I?(L(S),i||G({event_type:Z,view_type:B,view_parameter:U,object_id_str:S,aux_data:e})):(R(S),E&&W((({hideToast:e})=>{if(!re)return null;const t=re.username?`/${re.username}/`:"";return(0,b.jsx)(s.Z,{handleHide:e,text:(0,b.jsx)(x.xv,{children:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:S,href:t,imageUrl:re.image_medium_url})})),i||G({event_type:P,view_type:B,view_parameter:U,object_id_str:S,aux_data:e})):((0,y.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===P&&(0,y.My)("mweb_unauth_board_page_follow_button.tap"),(0,y.NC)(I?"press_profile_unfollow":"press_profile_follow"),$({action:"click",item:"board-follow-button"}),K({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:j?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:V&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),V||ee(null!=S?S:""),(0,y.NC)("clickthrough"))},modalHeader:(0,u.N4)({i18n:H,toFollow:!I})}),oe=!I&&!!z,se=()=>{if(D)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===N)return I?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===N?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return I?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(w,{pulsar:oe?{show:!0,onClick:ae}:{show:!1},testId:D||I?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(x.zx,{color:F||"AddRemove"===N||!C&&A||I?"gray":"red",disabled:D||t,fullWidth:T,onClick:oe?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),i||G({event_type:101,component:13672,element:11951,object_id_str:S,view_type:B,view_parameter:U,aux_data:e}),ae()},selected:k?!I:F&&I||!!I&&A,size:M,text:se(),accessibilityLabel:se()})})}},49391:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(266254),r=i(968919),a=i(430323),o=i(829407),s=i(898781),l=i(112690),d=i(19121),c=i(883119),u=i(785893);const p=({isOwnProfile:e})=>{const t=(0,s.ZP)();return(0,u.jsx)(c.xu,{paddingY:4,children:e?(0,u.jsx)(n.Z,{message:t._('You haven\'t saved any ideas yet. Find ideas you love...', 'you have no pins', 'user has no pins'),icon:"arrow-circle-forward",iconLabel:t._('Go to home feed', 'profile.pins.redirectButtonLabel', 'Redirect to home feed for more ideas, when user has no pins'),url:"/"}):(0,u.jsx)(n.Z,{message:t._('This Pinner hasn\'t saved any ideas yet.', 'user has no boards and pins', 'user has no pins and boards')})})},h=({username:e,isAuthenticated:t,isOwnProfile:i})=>({add_vase:!t,field_set_key:"mobile_grid_item",is_own_profile_pins:i,username:e});function m({isOwnProfile:e,isProfilePinsStale:t,username:i,isRelatedPins:n=!1}){const s=(0,l.Z)(),{isAuth:c}=(0,d.Z)();(0,o.Z)((()=>{n&&s({event_type:13,view_type:4,view_parameter:e?3106:3107,component:14081})}));const m=()=>(0,u.jsx)(r.ZP,{feedKey:`profile-pins:${i}`,trafficSource:"user_pins",resourceConfig:{name:"UserPinsResource",options:h({isAuthenticated:c,isOwnProfile:e,username:i}),noCache:!e||t},feedItemProps:{viewParameter:e?3106:3107,viewType:4},emptyState:(0,u.jsx)(p,{isOwnProfile:e})});return n?(0,u.jsx)(a.Z,{component:14081,viewParameter:e?3106:3107,view:4,children:m()}):m()}},904411:(e,t,i)=>{i.d(t,{bn:()=>s,fJ:()=>d,gC:()=>l});var n=i(702664),r=i(425288),a=i(785893);const{Provider:o,useHook:s}=(0,r.Z)("Boards");function l(){const e=s();return t=>e[t]}function d({children:e}){const t=(0,n.useSelector)((({boards:e})=>e),n.shallowEqual);return(0,a.jsx)(o,{value:t,children:e})}},802201:(e,t,i)=>{i.d(t,{AF:()=>s,H0:()=>l,S6:()=>d,_S:()=>c});var n=i(702664),r=i(425288),a=i(785893);const{Provider:o,useHook:s,useMaybeHook:l}=(0,r.Z)("Pins");function d(){const e=s();return t=>e[t]}function c({children:e}){const t=(0,n.useSelector)((({pins:e})=>e),n.shallowEqual);return(0,a.jsx)(o,{value:t,children:e})}},643074:(e,t,i)=>{i.d(t,{Z:()=>v,s:()=>_});var n=i(667294),r=i(121151),a=i(608575),o=i(898781),s=i(349700),l=i(966113),d=i(883119),c=i(785893);const u=()=>{var e;const t=(0,o.ZP)(),{dismissWarning:i}=null!==(e=_())&&void 0!==e?e:{};return(0,c.jsx)(d.xu,{paddingX:3,children:(0,c.jsx)(d.zx,{fullWidth:!0,color:"red",onClick:i,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{const e=(0,o.ZP)();return(0,c.jsx)(d.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(d.rU,{target:"blank",href:l.KhJ,inline:!0,underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:t})=>{var i;const n=(0,o.ZP)(),{dismissWarning:l}=null!==(i=_())&&void 0!==i?i:{};return(0,c.jsx)(r.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:l,heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,c.jsx)(u,{}),children:(0,c.jsxs)(d.xu,{padding:6,children:[(0,c.jsx)(d.xv,{children:(0,s.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(d.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(d.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})};var m=i(425288);const{Provider:g,useMaybeHook:_}=(0,m.Z)("SpammyClickthrough");function v({children:e}){const[t,i]=(0,n.useState)(null),r=(0,n.useCallback)((()=>{i(null)}),[i]),a=(0,n.useCallback)((e=>{i(e)}),[i]),o=(0,n.useMemo)((()=>({dismissWarning:r,showWarning:a})),[r,a]);return(0,c.jsxs)(g,{value:o,children:[t&&(0,c.jsx)(h,{...t}),e]})}},98207:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(757141),r=i(198125),a=i(50286),o=i(883119),s=i(785893);const l=({imageUrls:e,subtitle:t,subtitleSize:i,subtitleWeight:l,title:d,titleSize:c})=>{var u;const p=(0,a.HG)(),{isHovering:h,handleMouseEnter:m,handleMouseLeave:g}=(0,r.Z)();return!e||e.length<=0?null:(0,s.jsxs)(o.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?m:void 0,onMouseLeave:p?g:void 0,children:[h&&(0,s.jsx)(n.Z,{}),(0,s.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)(o.Ee,{alt:d,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(u=e[0])&&void 0!==u?u:"",children:(0,s.jsx)(o.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:(0,s.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[t&&(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.xv,{color:"light",size:i,align:"center",weight:l,children:t})}),(0,s.jsx)(o.X6,{color:"light",size:c,align:"center",children:d})]})})})})]})}},235626:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(609943),r=i(757141),a=i(510552),o=i(198125),s=i(825077),l=i(50286),d=i(276775),c=i(883119),u=i(785893);const p=function({articleId:e,creatorId:t,creatorFullName:i,creatorImgSrc:p,creatorIsVerified:h,gridIndex:m,imageHeight:g,imageWidth:_,imageUrl:v,pinId:f,showCreator:y,trackingParams:x,title:b,viewParameter:w,viewType:P}){const S=(0,d.useLocation)(),{isHovering:T,handleMouseEnter:k,handleMouseLeave:I}=(0,o.Z)(),j=(0,l.HG)();return(0,u.jsxs)(c.xu,{borderStyle:"shadow",position:"relative",color:"default",onMouseEnter:j?k:void 0,onMouseLeave:j?I:void 0,overflow:"hidden",rounding:8,children:[T&&(0,u.jsx)(r.Z,{}),(0,u.jsx)(s.dL,{auxData:{grid_index:m,today_article_id:e},loggingId:f,objectIdStr:f,slotIndex:m,impressionData:{imageURL:v},component:13525,trackingParams:(0,n.Z)((S.state||{}).trackingParams,x),viewParameter:w,viewType:P,children:({impressionTrackerRef:e})=>(0,u.jsx)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof g&&"number"==typeof _?g/_*100+"%":"100%"}},ref:e,children:(0,u.jsx)(c.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,u.jsx)(c.Ee,{alt:b,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=v?v:""})})})}),(0,u.jsxs)(c.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(c.X6,{align:"center",size:"400",children:b}),y&&(t||i)&&(0,u.jsx)(c.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,u.jsx)(a.Z,{userId:t,creatorFullName:i,creatorImgSrc:p,creatorIsVerified:h})})]})]})}},775007:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(116303),r=i(609943),a=i(252745),o=i(825077),s=i(276775),l=i(883119),d=i(785893);const c=({articleId:e,gridIndex:t,hasPinnerAttribution:i,imageHeight:c,imageWidth:u,imageUrl:p,pageCount:h,pinId:m,pinnerImageSrc:g,pinnerName:_,pinTrackingParams:v,title:f,viewParameter:y,viewType:x})=>{const b=(0,s.useLocation)();return(0,d.jsxs)(l.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",paddingY:6,rounding:8,children:[(0,d.jsx)(l.xu,{paddingX:6,display:"flex",justifyContent:"center",children:(0,d.jsx)(l.X6,{align:"center",size:"400",children:f})}),(0,d.jsx)(o.dL,{auxData:{grid_index:t,today_article_id:e},loggingId:m,objectIdStr:m,slotIndex:t,impressionData:{imageURL:p},component:13525,trackingParams:(0,r.Z)((b.state||{}).trackingParams,v),viewParameter:y,viewType:x,children:({impressionTrackerRef:e})=>(0,d.jsxs)(l.xu,{marginTop:4,paddingX:12,ref:e,children:[(0,d.jsx)(l.zd,{rounding:8,children:(0,d.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof c&&"number"==typeof u?c/u*100+"%":"100%"}},children:(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,d.jsx)(l.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=p?p:"",children:(0,d.jsx)(l.xu,{position:"relative",marginStart:1,marginTop:1,children:(0,d.jsx)(a.Z,{icon:"idea-pin",text:h.toString()})})})})})}),i&&(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,d.jsx)(l.xu,{flex:"none",height:44,width:44,marginEnd:2,children:(0,d.jsx)(n.Z,{name:"",outline:!0,size:"fit",src:g})}),(0,d.jsx)(l.xv,{lineClamp:1,children:_})]})]})})]})}},588979:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(609943),r=i(757141),a=i(510552),o=i(198125),s=i(139463),l=i(825077),d=i(50286),c=i(276775),u=i(883119),p=i(785893);const h=function({articleId:e,creatorId:t,creatorFullName:i,creatorImgSrc:h,creatorIsVerified:m,gridIndex:g,height:_,pinDescription:v,pinImageHeight:f,pinImageUrl:y,pinImageWidth:x,showCreator:b,thumbnail:w,title:P,trackingParams:S,url:T,videoPinId:k,viewParameter:I,viewType:j,width:C}){const A=(0,c.useLocation)(),E=(0,d.HG)(),{isHovering:D,handleMouseEnter:R,handleMouseLeave:L}=(0,o.Z)();return(0,p.jsxs)(u.xu,{borderStyle:"shadow",color:"default",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},onMouseEnter:E?R:void 0,onMouseLeave:E?L:void 0,children:[D&&(0,p.jsx)(r.Z,{}),(0,p.jsx)(l.dL,{auxData:{grid_index:g,today_article_id:e},loggingId:k,objectIdStr:k,slotIndex:g,impressionData:{imageURL:y},component:13525,trackingParams:(0,n.Z)((A.state||{}).trackingParams,S),viewParameter:I,viewType:j,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(s.Z,{height:_,thumbnail:w,url:T,width:C,pinDescription:v,pinImageUrl:y,pinImageHeight:f,pinImageWidth:x})})}),(0,p.jsxs)(u.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,p.jsx)(u.X6,{align:"center",size:"400",children:P}),b&&(t||i)&&(0,p.jsx)(u.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,p.jsx)(a.Z,{userId:t,creatorFullName:i,creatorImgSrc:h,creatorIsVerified:m})})]})]})}},452985:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(757141),r=i(198125),a=i(50286),o=i(276602),s=i(883119),l=i(785893);function d({imageUrls:e,rounding:t,subtitle:i,subtitleSize:d,title:c,titleSize:u}){const p=(0,a.HG)(),h=(0,o.EV)();let m=0;const g=()=>{m-=1,0===m&&(null==h||h.markConstraintComplete("idea_module_loaded"))},{isHovering:_,handleMouseEnter:v,handleMouseLeave:f}=(0,r.Z)();if(!e||e.length<=0)return null;const y=e.slice(0,3);return h&&(m=y.length),(0,l.jsxs)(s.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:null!=t?t:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?v:void 0,onMouseLeave:p?f:void 0,children:[_&&(0,l.jsx)(n.Z,{}),(0,l.jsxs)(s.xu,{display:"flex",direction:"column",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:y.map(((e,t)=>(0,l.jsx)(s.xu,{width:100/y.length+"%",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:(0,l.jsx)(s.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:"",onLoad:g})},t)))}),(0,l.jsxs)(s.xu,{flex:"none",paddingX:5,paddingY:6,width:"100%",children:[i&&(0,l.jsx)(s.xu,{marginBottom:1,children:(0,l.jsx)(s.xv,{size:d,align:"center",weight:p?"bold":"normal",children:i})}),(0,l.jsx)(s.X6,{size:u,align:"center",children:c})]})]})]})}},465110:(e,t,i)=>{i.d(t,{i:()=>S,y:()=>b});var n,r=i(458843),a=i(98207),o=i(235626),s=i(775007),l=i(588979),d=i(452985),c=i(112690),u=i(52022),p=i(825077),h=i(276775),m=i(50286),g=i(780280),_=i(784641),v=i(883119),f=i(167912),y=i(785893);const x=new Set([3,2,6]),b=({ArticleModule:e,clientTrackingParams:t,id:i,displayType:n,gridIndex:a,isTodayArticlePage:o=!1,onArticleTapUrl:s,pinId:l,viewParameter:d,viewType:g})=>{const _=(0,h.useHistory)(),f=(0,c.Z)(),b=(0,u.Z)(),P=(0,m.HG)();return(0,y.jsx)(p.Y4,{auxData:{grid_index:a.toString(),today_article_id:i},loggingId:i,objectIdStr:i,slotIndex:a,viewParameter:d||3372,viewType:g||1,children:({impressionTrackerRef:c})=>(0,y.jsx)(v.xu,{ref:c,"data-test-id":"suggested-articles-link",children:(0,y.jsx)(w,{href:s,isTodayArticlePage:o,onTap:()=>{f({event_type:P?101:102,view_type:g||1,view_parameter:d||3372,component:13525,aux_data:{today_article_id:i,grid_index:a.toString()}}),b({action:"click",item:"suggested-articles-link"}),"number"==typeof n&&x.has(n)&&t&&l&&f({event_type:P?101:102,view_type:g||1,view_parameter:d||3372,object_id_str:l,clientTrackingParams:t,aux_data:{today_article_id:l,grid_index:a.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,r.Z)(_)}}),_.push(s)},children:e})})})},w=({children:e,href:t,isTodayArticlePage:i,onTap:n})=>{const{isAuthenticated:r}=(0,g.B)(),a=(0,m.HG)();return r?(0,y.jsx)(v.iP,{onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),n({event:e})},tapStyle:"compress",children:a?(0,y.jsx)(v.xu,{width:i?void 0:408,minHeight:i?void 0:306,children:e}):e}):(0,y.jsx)(v.iP,{href:t,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),n({event:e})},role:"link",children:a?(0,y.jsx)(v.xu,{width:i?void 0:408,minHeight:i?void 0:306,children:e}):e})},P=void 0!==n?n:n=i(584818),S=({containerKey:e,gridIndex:t,subtitleSize:i,titleSize:n,viewParameter:r,viewType:c})=>{var u,p,h,m,g,v,x,w,S,T,k,I,j,C,A,E;const{contentPinOfficialUser:D,contentPin:R,displayType:L,feedSource:O,headerPinId:F,id:z,imageUrls:M,isProductPinFeed:N,showCreator:Z,subtitle:U,title:B,videoPin:H}=(0,f.useFragment)(P,e);let V=null,W=(0,_.T7)(null!=O?O:0,null!=N&&N,null!=B?B:"",null!=z?z:"");const{description:$,images170x:G,images236x:K,images736x:q,pinner:Y,storyPinData:X,trackingParams:J}=null!=R?R:{},Q=null!==(u=null!==(p=null!==(h=null==q?void 0:q.url)&&void 0!==h?h:null==K?void 0:K.url)&&void 0!==p?p:null==G?void 0:G.url)&&void 0!==u?u:"",ee=null!==(m=null!==(g=null==q?void 0:q.width)&&void 0!==g?g:null==K?void 0:K.width)&&void 0!==m?m:null==G?void 0:G.width,te=null!==(v=null!==(x=null==q?void 0:q.height)&&void 0!==x?x:null==K?void 0:K.height)&&void 0!==v?v:null==G?void 0:G.height,{originPinner:ie}=null!=R?R:{},ne=D||ie||Y;switch(L){case 0:V=(0,y.jsx)(a.Z,{imageUrls:M,subtitle:null!=U?U:"",subtitleSize:i||"300",title:null!=B?B:"",titleSize:n||"500"});break;case 1:V=(0,y.jsx)(d.Z,{imageUrls:M,subtitle:null!=U?U:"",subtitleSize:i||"300",title:null!=B?B:"",titleSize:n||"500"});break;case 2:const{entityId:e,videos:u}=null!=H?H:{},p=null!==(w=null==u||null===(S=u.videoList)||void 0===S?void 0:S.v720P)&&void 0!==w?w:{};var re;if(e)V=(0,y.jsx)(l.Z,{articleId:null!=z?z:"",creatorFullName:null==ne?void 0:ne.fullName,creatorImgSrc:(null==ne?void 0:ne.imageMediumUrl)||(null==ne?void 0:ne.imageSmallUrl),creatorIsVerified:Boolean(null==ne||null===(re=ne.verifiedIdentity)||void 0===re?void 0:re.verified),gridIndex:t,height:p.height,pinDescription:$,pinImageUrl:Q,pinImageHeight:te,pinImageWidth:ee,showCreator:Boolean(Z),thumbnail:p.thumbnail,title:null!=B?B:"",trackingParams:J,url:p.url,videoPinId:e,viewParameter:r,viewType:c,width:p.width}),W=`/pin/${e}`;break;case 3:if(!Q)return null;V=(0,y.jsx)(o.Z,{articleId:null!=z?z:"",creatorFullName:null==ne?void 0:ne.fullName,creatorImgSrc:(null==ne?void 0:ne.imageMediumUrl)||(null==ne?void 0:ne.imageSmallUrl),creatorIsVerified:Boolean(null==ne||null===(T=ne.verifiedIdentity)||void 0===T?void 0:T.verified),imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,gridIndex:t,pinId:null!==(k=null==R?void 0:R.entityId)&&void 0!==k?k:"",showCreator:Boolean(Z),title:null!=B?B:"",trackingParams:J,viewParameter:r,viewType:c}),W=F?`/pin/${F}`:W;break;case 6:if(!Q)return null;const h=null!==(I=null!==(j=null==Y?void 0:Y.imageMediumUrl)&&void 0!==j?j:null==Y?void 0:Y.imageSmallUrl)&&void 0!==I?I:"",m=null!==(C=null==Y?void 0:Y.fullName)&&void 0!==C?C:"",g=Boolean(h||m);return(0,y.jsx)(s.Z,{articleId:null!=z?z:"",gridIndex:t,hasPinnerAttribution:g,imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,pageCount:null!==(A=null==X?void 0:X.pageCount)&&void 0!==A?A:"",pinId:null!==(E=null==R?void 0:R.entityId)&&void 0!==E?E:"",pinnerImageSrc:h,pinnerName:m,pinTrackingParams:J,title:null!=B?B:"",viewParameter:r,viewType:c});default:V=null}return V?(0,y.jsx)(b,{ArticleModule:V,displayType:L,gridIndex:t,id:null!=z?z:"",onArticleTapUrl:W,viewParameter:r,viewType:c}):null}},757141:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(883119),r=i(785893);const a=new n.Ry(1);function o(){return(0,r.jsx)(n.xu,{opacity:.1,color:"transparentDarkGray",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:a})}},510552:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),r=i(116303),a=i(993786),o=i(281180),s=i(883119),l=i(785893);const d=function({userId:e,creatorFullName:t,creatorImgSrc:i,creatorIsVerified:d}){var c;const u=null!==(c=(0,o.mN)()(null!=e?e:""))&&void 0!==c?c:{},{fullNameFromStore:p,imgSrcFromStore:h,isVerifiedFromStore:m}=function(e){const{full_name:t,image_medium_url:i,image_small_url:n,verified_identity:r}=e;return{fullNameFromStore:t,imgSrcFromStore:i||n,isVerifiedFromStore:Boolean(null==r?void 0:r.verified)}}(u),g=e?p:t,_=e?h:i,v=e?m:d;return(0,l.jsx)(s.kC,{alignContent:"center",alignItems:"center",flex:"none",justifyContent:"center",width:"100%",children:g&&(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(r.Z,{name:g,size:"sm",src:null!=_?_:""})}),(0,l.jsx)(s.xu,{minWidth:0,paddingX:1,children:(0,l.jsx)(s.xv,{lineClamp:1,size:"300",weight:"bold",children:g})}),v&&(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(a.Z,{hasVerifiedIdentity:v,iconOnly:!0,size:"xs"})})]})})}},687999:(e,t,i)=>{i.d(t,{f:()=>s,w:()=>l});var n=i(667294),r=i(425288),a=i(785893);const{Provider:o,useHook:s}=(0,r.Z)("Session");function l({children:e}){const[t,i]=(0,n.useState)(void 0),r=(0,n.useCallback)((()=>i(void 0)),[]),s=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:i,removeUnauthFollowUserId:r})),[t,r]);return(0,a.jsx)(o,{value:s,children:e})}},705834:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),r=i(618446),a=i.n(r),o=i(674806),s=i(385740),l=i(785893);class d extends n.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:i,viewType:n}=this.props;e({viewData:t,viewParameter:i,viewType:n})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:i,viewParameter:n,viewType:r}=this.props;n===e.viewParameter&&r===e.viewType&&a()(i,e.viewData)||t({viewData:i,viewParameter:n,viewType:r})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:i,objectIdStr:n,viewData:r,viewParameter:a,viewType:s,clientTrackingParams:d}=this.props;return(0,l.jsx)(o.Z,{auxData:e,component:i,objectIdStr:n,clientTrackingParams:d,viewData:r,viewParameter:a,viewType:s,children:t})}}function c(e){const{setViewContextData:t,clearViewContextData:i}=(0,s.sV)();return(0,l.jsx)(d,{...e,clearCurrentPageData:i,setCurrentPageData:t})}},674806:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),r=i(112690),a=i(539497);const o=({viewType:e,viewParameter:t,viewData:i,auxData:n,objectIdStr:r,component:o,clientTrackingParams:s,element:l},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:n,object_id_str:r,component:o,clientTrackingParams:s,element:l},Object.keys(u).reduce(((e,t)=>(void 0!==u[t]&&(e[t]=u[t]),e)),{}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),d(c)};function s(e){const{auxData:t,clientTrackingParams:i,children:a,component:s,element:l,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,h=(0,r.Z)(),m=JSON.stringify(t),g=JSON.stringify(c);return(0,n.useEffect)((()=>{o(e,h)}),[h,m,i,s,l,d,g,u,p]),n.Children.only(a)}},223656:(e,t,i)=>{i.d(t,{Z:()=>w});var n=i(667294),r=i(758127),a=i(898781),o=i(112690),s=i(892819),l=i(52022),d=i(91885),c=i(349700),u=i(539497),p=i(50286),h=i(276775),m=i(780280),g=i(276602),_=i(883119),v=i(785893);const f="133%";function y(e){const{isRTL:t}=(0,m.B)(),i=(0,a.ZP)(),r=t?-1:1,{borderRadius:o=16,containerBackgroundColor:s="white",images:l,applyWash:d}=e,c=(0,g.EV)(),u=l.slice(0,5);for(;u.length<5;)u.push({name:"",url:""});const h=(0,p.HG)(),[y,x]=(0,n.useState)(Array.from({length:5},(()=>!1))),[b,w]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{y.includes(!1)||b||!c||(c.addAnnotation("allPinsCard.imagesLoaded"),w(!0))}),[b,y,c]),(0,v.jsxs)(_.xu,{"aria-hidden":!0,display:"flex",direction:"row",width:"100%",children:[(0,v.jsx)(_.sg,{span:6,children:(0,v.jsx)(_.xu,{position:"relative",children:u.map(((e,t)=>{var n;return(0,v.jsx)(_.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:f,borderRadius:o,transform:`translateX(${25*r*t}%)`,zIndex:h?0-t:100-t}},left:!0,position:0===t?"relative":"absolute",top:!0,height:h?157:void 0,width:"100%",children:(0,v.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{border:`1px solid ${s}`,borderRadius:o}},overflow:"hidden",children:(0,v.jsx)(_.zd,{width:"100%",height:"100%",wash:d,children:(0,v.jsx)(_.Ee,{alt:e.name||i._('Pin image', 'pileImageGroup', 'Alt text for group of pin images'),color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:100,src:null!==(n=e.url)&&void 0!==n?n:"",onLoad:()=>{var e;e=t,x((t=>{const i=[...t];return i.splice(e,1,!0),i}))}})})})},t)}))})}),(0,v.jsx)(_.sg,{span:6})]})}var x=i(808058);const b=({children:e})=>(0,p.HG)()?(0,v.jsx)(_.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,v.jsx)(_.xv,{lineClamp:1,weight:"bold",children:e});function w({storyPinImages:e,pinCount:t,subtitle:i,userId:g,isOwnProfile:f}){const w=(0,a.ZP)(),P=(0,o.Z)(),S=(0,l.Z)(),T=(0,s.Z)(),k=(0,h.useParams)(),{isAuthenticated:I,locale:j}=(0,m.B)(),{username:C}=k,A=`/${null!=C?C:""}/pins/`,E=(0,p.HG)(),[D,R]=(0,n.useState)(!1);return(0,v.jsx)(_.xu,{height:"100%",padding:E?2:0,"data-test-id":d.Kb,children:(0,v.jsx)(_.iP,{role:"link",href:A,rounding:2,tapStyle:"compress",onMouseEnter:()=>{R(!0)},onMouseLeave:()=>{R(!1)},onTap:()=>{I?E&&P({event_type:101,component:13676,object_id_str:g,view_type:4,view_parameter:f?3106:3107}):((0,u.NC)("click_go_to_board"),S({action:"click",item:"board-card-all-pins"}))},children:(0,v.jsx)(_.xu,{paddingY:E?0:3,width:E?x.M0:void 0,children:(0,v.jsxs)(_.xu,{height:"100%",position:"relative",width:"100%",children:[(0,v.jsx)(y,{images:e,applyWash:D}),(0,v.jsxs)(_.xu,{display:"block",height:E?void 0:x.s0,marginTop:E?0:1,paddingX:2,paddingY:E?2:0,children:[(0,v.jsx)(_.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:(0,v.jsx)(b,{children:w._('All Pins', 'allPinsCard.heading', 'Label for component leading to a page that shows all Pins of a user')})}),(0,v.jsx)(_.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:t?(0,v.jsxs)(_.xv,{size:"100",lineClamp:1,children:[(0,v.jsx)(r.Z,{}),(0,c.nk)(w.ngettext('{{ count }} Pin', '{{ count }} Pins', t, 'profile.ProfilePage.allPins.AllPinsCard.PinsCount', 'label for n amount of pins'),{count:T(j,t,{})}),(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{display:E?"inline-flex":"inline",paddingLeft:7}},children:(0,v.jsxs)(_.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,v.jsx)(r.Z,{}),i]})})]}):(0,v.jsxs)(_.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,v.jsx)(r.Z,{}),i]})})]})]})})})})}},14254:(e,t,i)=>{i.d(t,{Z:()=>w});var n=i(667294),r=i(948618),a=i(70598),o=i(298361),s=i(112690),l=i(892819),d=i(19121),c=i(349700),u=i(539497),p=i(773285),h=i(50286),m=i(758127),g=i(322937),_=i(898781),v=i(808058),f=i(883119),y=i(785893);function x(e,t){const{full_name:i,username:n}=e,r=(0,y.jsx)(f.rU,{href:`/${n}`,inline:!0,underline:"hover",children:i});return(0,c.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:r})}const b=({children:e})=>{const t=(0,d.Z)(),i=(0,h.HG)(),n=t&&t.isAuth;return i&&n?(0,y.jsx)(f.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,y.jsx)(f.xv,{lineClamp:1,weight:"bold",children:e})};function w({archivedDate:e,boardUrl:t,canEdit:i,collaborators:d,collaboratorsCount:w=0,containerBackgroundColor:P,coverPhoto:S,followedByMe:T,fullSizeDrawer:k,sensitivityScreen:I,handleInviteResponse:j,hideMeta:C,id:A,invite:E,imagesLego:D=[],isBoardInviteAccepted:R,isActive:L,isAuthenticated:O,isCollaborative:F,isCollaborator:z,isOwner:M,isSecret:N,lastModifiedDate:Z,layout:U,locale:B,name:H,numCols:V,onEditClick:W,onFollow:$,onUnfollow:G,owner:K,pinCount:q=0,sectionCount:Y,showFollowButton:X,viewParameter:J,viewType:Q,viewerId:ee}){const te=(0,_.ZP)(),ie=(0,o.Z)(),ne=(0,l.Z)(),re=(0,s.Z)(),ae=(0,h.HG)(),oe=ae&&O,se="square"===U?v.M0:v.z9,le=D.map((e=>({url:e.url,name:H}))),de=!!K&&!i&&X,{checkExperiment:ce}=(0,p.F)(),ue=!M&&!z&&ce("mweb_board_sensitivity_screen").anyEnabled,pe=!(null==I||!I.show_warning)&&ue,he={board_id:A,reason:null==I?void 0:I.reason};(0,n.useEffect)((()=>{pe&&re({event_type:13,component:13861,view_type:215,aux_data:he})}),[]);const me=K?K.id:void 0,ge=[...d.filter((({id:e})=>e===me)),...d.filter((({id:e})=>e===ee&&e!==me)),...d.filter((({id:e})=>![me,ee].includes(e)))].map((e=>{var t,i;return{name:null!==(t=oe?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(i=e.image_medium_url)&&void 0!==i?i:""}}));let _e=w>=ge.length?w-ge.length:0;_e=_e>99?100:_e;const ve=[...ge,...Array(_e).fill({name:"",src:""})],fe=oe?24:16,ye=fe/3*(2*(ge.length>2?3:ge.length)+1);return(0,y.jsxs)(f.xu,{"data-test-id":`boardCard-${H}`,position:"relative",height:de?"max(calc(25vh + 10px), 220px)":"100%",width:oe?se:"100%",children:[(0,y.jsx)(g.Z,{canEdit:i,containerBackgroundColor:P,coverPhoto:S,images:le,isSecret:N,fullSize:k,showSensitivityScreen:pe,isActive:L,onEditClick:W,layout:U}),!C&&(0,y.jsx)(n.Fragment,{children:E?(0,y.jsxs)(n.Fragment,{children:[(0,y.jsxs)(f.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsxs)(f.xu,{width:"100%",children:[(0,y.jsx)(f.rU,{href:null!=t?t:"",children:(0,y.jsx)(f.xu,{marginTop:0,marginBottom:1,children:(0,y.jsx)(b,{children:H})})}),R?(0,y.jsx)(f.xv,{size:"200",lineClamp:1,children:te._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,y.jsx)(f.xv,{size:"200",children:x(E.invited_by_user,te)})]}),(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ye,minWidth:ye,height:fe,children:(0,y.jsx)(f.HE,{accessibilityLabel:m.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ve})})]}),R?(0,y.jsx)(f.xu,{direction:"row",display:"flex",paddingX:2,children:(0,y.jsx)(f.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,y.jsx)(f.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,y.jsxs)(f.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,y.jsx)(f.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(f.zx,{fullWidth:!0,onClick:()=>{null==j||j(!1)},size:"lg",text:te._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,y.jsx)(f.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(f.zx,{fullWidth:!0,color:"red",onClick:()=>{null==j||j(!0)},size:"lg",text:te._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,y.jsxs)(f.xu,{height:oe?void 0:v.s0,marginTop:oe?0:1,paddingX:2,paddingY:oe?2:0,children:[(0,y.jsxs)(f.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsx)(b,{children:H}),F&&(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ye,minWidth:ye,height:fe,children:(0,y.jsx)(f.HE,{accessibilityLabel:m.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ve})})]}),(0,y.jsxs)(f.xu,{alignItems:ae?"center":"start",direction:ae?"row":"column",display:"flex",marginTop:1,children:[(0,y.jsxs)(f.xv,{size:"100",lineClamp:1,children:[(0,y.jsx)(m.Z,{}),(0,c.nk)(te.ngettext('{{ count }} Pin', '{{ count }} Pins', q, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ne(B,q,{})}),!!Y&&(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(r.Z,{ariaHidden:!0}),(0,y.jsx)(m.Z,{}),(0,c.nk)(te.ngettext('{{ count }} section', '{{ count }} sections', Y, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:Y})]})]}),!e&&(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{display:oe?"inline-flex":"inline",paddingLeft:ae?7:0}},children:(0,y.jsxs)(f.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,y.jsx)(m.Z,{}),ie(Z,!0)]})})]}),!!e&&(0,y.jsxs)(f.xu,{marginTop:1,children:[(0,y.jsx)(m.Z,{}),(0,y.jsx)(f.xv,{color:"subtle",size:"100",lineClamp:1,children:te._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),de&&(0,y.jsx)(f.xu,{marginTop:2===V?3:void 0,column:2===V?12:void 0,flex:"none",children:(0,y.jsx)(a.Z,{disabled:null==K?void 0:K.blocked_by_me,followEventType:26,id:A,isFollowed:T,onFollow:e=>{O||(0,u.NC)("press_follow_board"),$&&$(e)},onUnfollow:e=>{O||(0,u.NC)("press_unfollow_board"),G&&G(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:J,viewType:Q})})]})})]})}},794987:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(702664),r=i(14254),a=i(851850),o=i(52022),s=i(19121),l=i(539497),d=i(904411),c=i(780280),u=i(286268),p=i(883119),h=i(628358),m=i(785893);const g=["thumbnail","imageOnly"];function _({boardId:e,containerBackgroundColor:t,forwardedRef:i,fullSize:_,showFollowButton:v=!0,showPinCount:f=!0,type:y,viewParameter:x,viewType:b}){var w,P,S;const T=(0,s.Z)(),k=T&&T.isAuth,I=(0,n.useDispatch)(),{locale:j}=(0,c.B)(),C=(0,o.Z)(),A=(0,d.gC)()(e),E=(0,a.Z)(),D=T.isAuth?T.id:"";if(!A)return null;const R=A.owner,L=[R,...A.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:i})=>({id:e,image_medium_url:t,username:i}))),O=(null==R?void 0:R.id)===D,F=L.filter((({id:e})=>e===D)).length>0;if("secret"===A.privacy&&!F)return null;const z="grid"===y||"thumbnail"===y?2:4,M=E(A,z),N={isCustom:A.has_custom_cover,url:M,position:(0,u.Bw)(A.cover_pin)},Z=(0,u.Jx)(A,M).map((({url:e})=>({name:(0,u.po)(e),url:e}))),U=(0,m.jsx)(r.Z,{archivedDate:null!==(w=A.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!A.access&&A.access.includes("write"),collaborators:L,collaboratorsCount:A.collaborator_count,containerBackgroundColor:t,coverPhoto:M?N:null,followedByMe:A.followed_by_me,fullSizeDrawer:_,hideMeta:g.includes(y),id:A.id,imagesLego:Z,isAuthenticated:k,isCollaborative:A.is_collaborative,isCollaborator:F,isOwner:O,isSecret:"secret"===A.privacy,lastModifiedDate:"full"===y?A.board_order_modified_at:"",locale:j,name:null!==(P=A.name)&&void 0!==P?P:"",numCols:z,onFollow:e=>I((0,h.Z)(e)),onUnfollow:e=>I((0,h.f)(e)),owner:R,pinCount:f&&A.pin_count?A.pin_count:void 0,sectionCount:null!==(S=A.section_count)&&void 0!==S?S:0,sensitivityScreen:A.sensitivity_screen,showFollowButton:v,viewParameter:x,viewType:b,viewerId:D});return!g.includes(y)&&A.url?(0,m.jsx)(p.iP,{role:"link",href:A.url,rounding:2,tapStyle:"compress",onTap:()=>{k||((0,l.NC)("click_go_to_board"),C({action:"click",item:"board-card"}))},children:(0,m.jsx)(p.xu,{ref:i,paddingY:3,children:U})}):U}},371918:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);function a({customCover:e,height:t,imgUrl:i,imgPos:a,width:o}){const s=t/o;let l="center center";if(e&&a){let e=1;e=a.height/a.width>s?o/a.width:t/a.height;l=`-${a.x*e}px -${a.y*e}px`}const d={backgroundImage:`url(${i})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:o}},children:(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,r.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(371918),r=i(217508),a=i(898781),o=i(50286),s=i(780280),l=i(808058),d=i(883119),c=i(785893);const u="100%";function p(e){var t,i,p,h;const m=(0,a.ZP)(),{containerBackgroundColor:g="white",coverPhoto:_,fullSize:v,images:f,isSecret:y,showSensitivityScreen:x,isActive:b,canEdit:w,onEditClick:P,layout:S}=e,T=(0,o.HG)(),{isRTL:k,isAuthenticated:I}=(0,s.B)(),j=T&&I,C=f[0],A=!_&&(null===(t=f[0])||void 0===t?void 0:t.name)||m._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),E=Array(2).fill(),D=new d.Ry(1),R="square"===S?l.M0:l.z9,L="square"===S?l.FP:l.FC,O=x?{filter:"blur(20px)"}:{};return(0,c.jsx)(d.zd,{height:v?"100%":void 0,rounding:4,width:"100%",wash:b,children:(0,c.jsxs)(d.xu,{"aria-hidden":!0,display:"flex",height:j?L:"100%",direction:"row",children:[(0,c.jsx)(d.sg,{span:8,children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:O},position:"relative",height:v?"100%":void 0,children:(0,c.jsx)(d.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:g,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[y&&(0,c.jsx)(d.xu,{left:!k,right:k,margin:2,position:"absolute",top:!0,zIndex:D,children:(0,c.jsx)(r.Z,{backgroundColor:"default",iconColor:"default",size:j?32:24})}),j&&null!=_&&_.url?(0,c.jsx)(n.Z,{customCover:_.isCustom,imgPos:_.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(i=_.url)&&void 0!==i?i:"",width:Math.floor(R/3*2),height:L}):(0,c.jsx)(d.Ee,{alt:A,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(p=null!==(h=null==_?void 0:_.url)&&void 0!==h?h:null==C?void 0:C.url)&&void 0!==p?p:""})]})})})}),(0,c.jsx)(d.sg,{span:4,children:(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",children:[w&&b&&(0,c.jsx)(d.xu,{left:k,right:!k,margin:2,position:"absolute",bottom:!0,zIndex:D,children:(0,c.jsx)(d.hU,{accessibilityLabel:m._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==P?void 0:P(e),size:"sm"})}),E.map(((e,t)=>{var i,n;const r=f[j?t:t+1];return(0,c.jsx)(d.xu,{position:"relative",height:v?"50%":void 0,children:(0,c.jsx)(d.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderColor:g,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,c.jsx)(d.Ee,{alt:null!==(i=null==r?void 0:r.name)&&void 0!==i?i:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(n=null==r?void 0:r.url)&&void 0!==n?n:""})})})},t)}))]})}),x&&(0,c.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(d.X6,{align:"center",color:"light",size:"400",children:m._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},808058:(e,t,i)=>{i.d(t,{FC:()=>s,FP:()=>a,M0:()=>r,s0:()=>n,z9:()=>o});const n=40,r=236,a=157,o=320,s=213},851850:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(19121),r=i(50286);function a(){const e=(0,r.HG)(),t=(0,n.Z)(),i=t&&t.isAuth;if(e&&i){return e=>{var t,i;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,r=null!==(t=null===(i=e.cover_pin)||void 0===i?void 0:i.image_url)&&void 0!==t?t:n,a=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return r||a}}return(e,t)=>{var i,n;const r=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!r)return"";const a=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,o=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,s=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,l=null!==(i=null!==(n=null!=a?a:o)&&void 0!==n?n:s)&&void 0!==i?i:"",d=e.image_cover_url||"";return r||(t&&t>2&&l?l:"")||d}}},286268:(e,t,i)=>{i.d(t,{Bw:()=>s,Jx:()=>o,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),a=e=>{if(!e)return()=>!0;const t=n(e);return e=>{var i;return"string"==typeof e?n(e)!==t:n(null!==(i=e.url)&&void 0!==i?i:"")!==t}},o=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(a(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(a(t)).map(r):[],s=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},993786:(e,t,i)=>{i.d(t,{O:()=>d,Z:()=>c});var n=i(667294),r=i(898781),a=i(966113),o=i(883119),s=i(785893);const l={xs:12,sm:16,md:20,lg:24};function d({children:e}){const t=(0,r.ZP)();return(0,s.jsx)(o.u,{link:(0,s.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,s.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:i,showText:a,size:c}){const u=(0,r.ZP)(),p=(0,s.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(o.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[c]}),a&&(0,s.jsx)(o.xu,{marginStart:2,children:(0,s.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(n.Fragment,{children:[i&&!t&&(0,s.jsx)(d,{children:p}),i&&t&&p,e&&!i&&(0,s.jsx)(o.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[c]})]})}},91456:(e,t,i)=>{i.d(t,{GY:()=>o,LM:()=>l,h9:()=>d,r$:()=>s});var n=i(385740),r=i(909499);const a=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function o({query:e,scope:t}){return`${e}-${t}`}function s({query:e,rs:t,scope:i},a){const o=(0,n.BE)(),s=!(null!=o&&o.viewType||null!=o&&o.viewParameter),l=(0,r.wF)(i);if(!s&&l){const{viewType:i,viewParameter:n}=null!=o?o:{};a({event_type:l,view_type:i,view_parameter:n,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?a({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&a({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,i)=>{var n;return t&&i.story_type&&a.includes(i.story_type)&&0===(null===(n=i.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(i):(t=!1,e.filteredResults.push(i)),e}),{searchFullWidthStories:[],filteredResults:[]})};function d(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},154391:(e,t,i)=>{i.d(t,{H:()=>a,o:()=>r});var n=i(425288);const{Provider:r,useHook:a}=(0,n.Z)("LimitedLogin")},957314:(e,t,i)=>{i.d(t,{N4:()=>a,Wh:()=>n,hr:()=>r});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(898781),r=i(50286),a=i(154391),o=i(957314);const s=()=>{const e=(0,n.ZP)(),t=(0,r.HG)(),{viewer:i,loginForMore:s,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:d}=(0,a.H)();return"LIMITED_LOGIN"===i.type?({modalHeader:i,nextLocation:n})=>r=>{let a=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?a=r:r.event&&(a=r.event)),a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),i||(i=t?(0,o.hr)(e):(0,o.Wh)(e)),null==s||s.setVisible(!0),null==l||l.setText(i),n&&(null==d||d.setRoute(n))}:({fn:e})=>e}},31185:(e,t,i)=>{function n(e,t,i){return{privacy_filter:t?"secret":"public",sort:i||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}i.d(t,{Z:()=>n})},848900:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t)=>`${e}:${t||""}`},527885:(e,t,i)=>{i.d(t,{O:()=>s,Q:()=>l});var n=i(848900),r=i(414327),a=i(875495);const o=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:i,username:n},r)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...r?{orbac_subject_id:r}:Object.freeze({})})},l=e=>o.reduce(((t,i)=>{const o=[(0,a.N8)("profileBoards",(0,n.Z)(e,i))];return[!0,!1].forEach((t=>{[!0,!1].forEach((n=>{o.push((0,r.jB)(s.name,s.options({username:e,boardOrder:i,mixPublicSecret:t,filterStories:n})))}))})),t.concat(o)}),[])},602574:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(883119),r=i(785893);function a({ideaPinImages:e}){const t={1:28,2:40,3:48},i=e.map(((e,t)=>{var i,a,o;return(0,r.jsx)(n.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,r.jsx)(n.Ee,{alt:"",src:null!==(i=null==e?void 0:e.url)&&void 0!==i?i:"",color:"#696969",fit:"cover",naturalHeight:null!==(a=null==e?void 0:e.height)&&void 0!==a?a:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},t)}));return(0,r.jsx)(n.kC,{justifyContent:"center",children:(0,r.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:i})})}var o=i(499128),s=i(898781),l=i(784590),d=i(50286);function c({handleHide:e,text:t,userId:i,href:c,imageUrl:u}){const p=(0,s.ZP)(),h=(0,d.HG)(),m=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:i}}),g=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length){const t=u?(0,r.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,r.jsx)(n.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,r.jsx)(o.ZP,{duration:5e3,onHide:e,text:g,href:c,iconThumbnail:t,thumbnailShape:"circle"})}const _=(m.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),v=(0,r.jsx)(a,{ideaPinImages:_});return(0,r.jsx)(o.ZP,{href:c,duration:5e3,onHide:e,iconThumbnail:v,text:g,thumbnailShape:"square"})}},572260:(e,t,i)=>{i.d(t,{ZP:()=>S});var n=i(667294),r=i(23279),a=i.n(r),o=i(722767);function s(e){const{eventData:{videoEvent:{videoDuration:t,startTime:i,endTime:n,videoStartTime:r,videoEndTime:a,isAudible:o,height:s,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:g,objectId:_,view:v,viewParameter:f,...y}=e;return{component:g,object_id_str:_,view_type:v,view_parameter:f,aux_data:{...y},event_data:{videoEventData:{videoDuration:t,time:i,endTime:n,videoTime:r,endVideoTime:a,isAudible:o,height:s,width:l,playbackState:d,quartile:c,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var l=i(121630),d=i(559230),c=i(407043),u=i(288273),p=i(883119),h=i(785893);function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const g=[0,.25,.5,.75,.95,.97],_=[0,.5,.8,.99,1],v="-64px 0px 0px 0px",f={rootMargin:v,threshold:_},y={rootMargin:v,threshold:d.iM},x=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function b(){return(new Date).getTime()}function w(e){return!!e.volume&&e.volume>0}class P extends n.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,n.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,r=function(e,t,i,n){if(e>t)return null;if(i<=0)return null;for(const r of n){const n=r*i;if(e<=n&&t>n)return r}return null}(this.videoTime,n,this.currentInterval.videoDuration,g);if("number"==typeof r&&this.props.playing&&!t&&i){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*r),quartilePercentValue:r})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const i=e.slice(-1)[0],n=function(e,t){for(let i=0;i<t.length;i+=1){const n=t[i],r=t[i+1];if(null==r)return n;if(n<=e&&e<r)return n}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),_);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:x.PAUSED}):this.startNewInterval({viewability:n}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=b();this.handleWindowResize=a()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:w(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const i={};w(e)&&!w(this.props)?i.isAudible=!1:!w(e)&&w(this.props)&&(i.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(i.playbackState=n),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?x.PLAYING:x.PAUSED:x.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:i,contextLogData:n,logContextEvent:r}=this.props,{height:a,width:o,windowHeight:l,windowWidth:d,viewability:c,...u}=t;if(null!=a&&null!=o&&null!=l&&null!=d&&null!=c){const t={...u,height:a,width:o,windowHeight:l,windowWidth:d,viewability:i||c};r({event_type:e,...s({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:s,aspectRatio:d,backgroundColor:c,captions:m,contextLogData:g,controls:_,cropHeight:v,hlsConfig:x,inAdsDesktopVideoExperiment:b,isAutoPlay:w,loop:P,objectFit:S,onLoadedChange:T,onControlsPause:k,onControlsPlay:I,onSeek:j,onVolumeChange:C,playbackRate:A,playing:E,playsInline:D,poster:R,preload:L,rootMargin:O,src:F,surface:z,videoStartTime:M,volume:N}=this.props,{seeking:Z}=this.state,U=b?y:f;return void 0!==O&&(U.rootMargin=z?(0,l.e)(z):O),(0,h.jsx)(o.Z,{options:U,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(p.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:`${v}px`}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:s,aspectRatio:v?236/v:d,backgroundColor:c,captions:m,contextLogData:g,controls:_,hlsConfig:x,isAutoPlay:w,loop:P,objectFit:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:T,onLoop:this.handleLoop,onControlsPause:k,onControlsPlay:I,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:j,onTimeChange:this.handleTimeChange,onVolumeChange:C,playbackRate:A,playing:!Z&&E,onPlay:()=>{},onPlayError:()=>{},playsInline:D,poster:R,preload:L,src:F,videoStartTime:M,visible:this.visible,volume:N})})})}}function S(e){const{logContextEvent:t}=(0,c.v)();return(0,h.jsx)(P,{...e,logContextEvent:t})}m(P,"defaultProps",p.nk.defaultProps)},288273:(e,t,i)=>{i.r(t),i.d(t,{VideoWrapper:()=>b,default:()=>w,getPlaylistSourceSrc:()=>x});var n=i(667294),r=i(19121),a=i(494349),o=i(407043),s=i(773285),l=i(780280),d=i(883119),c=i(969315),u=i(179888),p=i(785893);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let i=e;if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";i=e.replace("v.pinimg.com",n)}return i}if(Array.isArray(e)&&e[0].src){let i=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";i=i.replace("v.pinimg.com",e)}return i}return"unsupported_type_"+typeof e}class g extends n.Component{constructor(...e){super(...e),h(this,"state",{canPlayVideo:!1,playbackState:u.Cy.DEFAULT}),h(this,"errorRetryCount",2),h(this,"hasSegmentStarted",!1),h(this,"hasPlaybackStarted",!1),h(this,"hasVideoSessionStarted",!1),h(this,"hasVideoSessionEnded",!1),h(this,"lastStallTime",null),h(this,"lastPauseTime",null),h(this,"logSessionStartOnNextPlay",!1),h(this,"playerId",""),h(this,"videoSessionId",""),h(this,"videoVisibleTime",null),h(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:m(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),h(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;(0,c.tE)("videoMounted",!1,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(u.DR,{initiator:"mount"}))})),h(this,"componentDidUpdate",(e=>{const{playing:t,visible:i,appInFocus:n}=this.props;e.appInFocus&&!n&&(this.logPlaybackPerformance(u.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===i&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(u.$f,{initiator:"update"})),!1===e.visible&&!0===i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&n&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),h(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:i,srcString:n}=this.playbackPerformance;let r=-1;e&&t&&0===i.length&&(r=e>t?e-t:0);const a=this.videoPlayerRef&&this.videoPlayerRef.video,o={indicatedKbps:-1,duration:a&&a.duration*u.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:r,switchBitrateKbps:-1,uri:n,viewportWidth:a&&a.clientWidth||-1,viewportHeight:a&&a.clientHeight||-1,watchedDurationMs:0};i.push(o)})),h(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*u.gJ:0)),h(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),h(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:i,playing:n,videoStartTime:r}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:o}=this.state;(0,c.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!o,playing:n}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date,null!=r&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=r)),this.setState({canPlayVideo:!0}),i&&i(e)})),h(this,"handleEnded",(e=>{const{loop:t,onEnded:i}=this.props,{segments:n}=this.playbackPerformance,r=n&&n[n.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(u.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:u.Cy.ENDED}),i&&i(e)})),h(this,"handleError",(()=>{var e,t,i,n,r,a,o,s;const{contextLogData:l={}}=this.props,{is_closeup_video:d=!1}=l,p=this.videoPlayerRef&&this.videoPlayerRef.video;(null==p||null===(e=p.error)||void 0===e?void 0:e.code)!==u.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==p||null===(t=p.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==p||null===(i=p.error)||void 0===i?void 0:i.code)||0,this.playbackPerformance.errorName=(null==p||null===(n=p.error)||void 0===n||null===(r=n.message)||void 0===r?void 0:r.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==p||null===(a=p.error)||void 0===a||null===(o=a.message)||void 0===o?void 0:o.slice(0,100))||"unknown";const h={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==p?void 0:p.networkState)||"unknown"};switch((0,c.tE)("fatalError",!1,d,h),null==p||null===(s=p.error)||void 0===s?void 0:s.code){case u.lG.MEDIA_ERR_ABORTED:break;case u.lG.MEDIA_ERR_NETWORK:case u.lG.MEDIA_ERR_DECODE:case u.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==p||p.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:u.Cy.FAILED})})),h(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:u.Cy.LOADED_METADATA})})),h(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:u.Cy.LOAD_START})})),h(this,"handleLoadedData",(()=>{this.setState({playbackState:u.Cy.LOADED_DATA})})),h(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:u.Cy.PLAYING})})),h(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),h(this,"handleVideoPause",(()=>{this.state.playbackState!==u.Cy.STALLING&&this.state.playbackState!==u.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:u.Cy.PAUSED})})),h(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==u.Cy.ENDED&&this.setState({playbackState:u.Cy.SEEKING})})),h(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==u.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:u.Cy.STALLING}))})),h(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===u.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),h(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),h(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),h(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),h(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),h(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),h(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),h(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),h(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof n&&"number"==typeof i){const e=n-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),h(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:i={},userId:n,isAutoPlay:r,logContextEvent:a}=this.props,{is_closeup_video:o=!1}=i,{canPlayTime:s,detailedErrors:l,errorCode:d,errorName:p,errorReason:h,hasFatalError:m,loadStartTime:g,totalPauseDurationMs:_,totalStallDurationMs:v,numberOfStalls:f,numberOfSeeks:y,playbackStartTimestamp:x,segments:b,srcString:w}=this.playbackPerformance,P=this.videoPlayerRef&&this.videoPlayerRef.video,S=e===u.DR,T=S&&!this.hasVideoSessionStarted,k=!S&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(P&&(T||k)){var I;let T=-1;s&&g&&(T=s>g?s-g:0);let k=-1;s&&this.videoVisibleTime&&(k=s>this.videoVisibleTime?s-this.videoVisibleTime:0),S&&(this.videoSessionId=(0,u.Y7)(n),this.playerId=this.playerId||(0,u.EB)());const j=this.getVideoResourceTiming(),C={averageVideoKbps:-1,autoplaying:r,detailedErrors:l,downloadedKiloBytes:"number"==typeof(null==j?void 0:j.decodedBodySize)&&j.decodedBodySize/u.Fm||0,errorCode:d,errorName:p,errorReason:h,fatalError:m,isCellular:!1,nativeVideoDurationMs:P.duration*u.gJ||-1,numberOfStalls:f,numberOfSeeks:y,overallPausedDurationMs:_,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:x||-1,segments:[],sessionMark:e,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:P.clientWidth,startupPlayerHeight:P.clientHeight,startupTimeMs:T,startupLatencyMs:k,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:P.videoWidth,startupVariantHeight:P.videoHeight,videoUrl:w};if(!S){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=b.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);C.overallWatchedDurationMs=e,C.startupVariantWatchedDurationMs=e,C.segments=this.playbackPerformance.segments,0===e?(C.errorName="invalid_watch_duration",C.rebufferRate=-1):C.rebufferRate=v/e}(0,c.ZP)(C,!1,o,{playbackState:this.state.playbackState,...t});const{view:A,viewParameter:E,component:D,element:R,objectId:L,...O}=i;a({event_type:3606,event_data:{videoPerformanceData:C},view_type:A,view_parameter:E,component:D,element:R,object_id_str:L,aux_data:{...O,is_closeup_video:o,playback_session_id:this.videoSessionId}}),S?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,c.tE)(S?"sessionStart":"sessionEnd",!1,o,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(u.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:o,aspectRatio:s,captions:l,controls:c,loop:u,loopOverride:h,objectFit:g,onDurationChange:_,onFullscreenChange:v,onLoadedChange:f,onControlsPlay:y,onPlayheadDown:x,onPlayheadUp:b,onSeek:w,onVolumeChange:P,playbackRate:S,playing:T,playsInline:k,poster:I,preload:j,src:C,volume:A}=this.props,{canPlayVideo:E}=this.state;return(0,p.jsx)(d.nk,{autoplay:E&&T,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:o,aspectRatio:s,captions:l,controls:c,loop:void 0===h?u:h,objectFit:g,onDurationChange:_,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:v,onLoadedChange:f,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:y,onPlaying:this.handlePlaying,onPlayheadDown:x,onPlayheadUp:b,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:P,onWaiting:this.handleStalled,playbackRate:S,onPlay:()=>{},onPlayError:()=>{},playing:E&&T,playsInline:k,poster:I,preload:j,ref:this.setVideoPlayerRef,src:m(C,this.props.quicExpGroup),volume:A})}}const _=(0,n.memo)((function(e){const{logContextEvent:t}=(0,o.v)(),{country:i,isAuthenticated:n,isBot:d,isSocialBot:u,unauthId:h,userAgent:m}=(0,l.B)(),{browserName:_,browserVersion:v,isMobile:f}=m,{contextLogData:y={}}=e,{is_closeup_video:x=!1,view:b,viewParameter:w}=y,{appUI:{appInFocus:P}}=(0,a.I)(),{checkExperiment:S}=(0,s.F)();let T=null;n&&(T=S("web_video_quic").group.length?S("web_video_quic").group:null);const k=(0,r.Z)(),I={browserName:_,browserVersion:v,country:i,isAuthenticated:n,isBot:d,is_closeup_video:x,isMobile:f,isSocialBot:u,view:b,viewParameter:w};return(0,c.r$)(I),(0,p.jsx)(g,{...e,userId:k.id||h,appInFocus:P,quicExpGroup:T,logContextEvent:t})}));var v=i(562559),f=i(366284);function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const x=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class b extends n.PureComponent{constructor(e){super(e),y(this,"componentDidUpdate",((e,t)=>{var i;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(i=this.videoPlayerRef)&&void 0!==i&&i.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),y(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),y(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:i,onEnded:n}=this.props;n&&(n({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),i&&i()))}));const t=x(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,f.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:o,aspectRatio:s,appInFocus:l,backgroundColor:d,captions:c,contextLogData:u,controls:h,hlsConfig:m,isAutoPlay:g,loop:f,objectFit:y,onDurationChange:b,onEnded:w,onFullscreenChange:P,onLoadedChange:S,onControlsPause:T,onControlsPlay:k,onPlayheadDown:I,onPlayheadUp:j,onReady:C,onSeek:A,onTimeChange:E,onVolumeChange:D,playbackRate:R,playing:L,playsInline:O,poster:F,preferMp4:z,preload:M,src:N,videoStartTime:Z,visible:U,volume:B}=this.props,{useHlsVideo:H}=this.state,V=x(N),W={...m,startPosition:Z||-1},$=!w&&f;return H&&V?(0,p.jsx)(v.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:o,aspectRatio:s,appInFocus:l,backgroundColor:d,captions:c,contextLogData:u,controls:h,hlsConfig:W,isAutoPlay:g,loop:f,loopOverride:$,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:S,onControlsPause:T,onControlsPlay:k,onPlayheadDown:I,onPlayheadUp:j,onReady:C,onSeek:A,onTimeChange:E,onVolumeChange:D,playbackRate:R,onPlay:()=>{},onPlayError:()=>{},playing:L,playsInline:O,poster:F,preload:M,setVideoRef:this.setVideoPlayerRef,src:V,visible:U,volume:B}):(0,p.jsx)(_,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:r,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:o,aspectRatio:s,captions:c,contextLogData:u,controls:h,isAutoPlay:g,loop:f,loopOverride:$,objectFit:y,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:S,onControlsPause:T,onControlsPlay:k,onPlayheadDown:I,onPlayheadUp:j,onReady:C,onSeek:A,onTimeChange:E,onVolumeChange:D,playbackRate:R,onPlay:()=>{},onPlayError:()=>{},playing:L,playsInline:O,poster:F,preload:M,setVideoRef:this.setVideoPlayerRef,src:z?N:V||N,videoStartTime:Z,visible:U,volume:B})}}function w(e){const{appUI:{appInFocus:t}}=(0,a.I)(),i=(0,l.B)();return(0,p.jsx)(b,{...e,appInFocus:t,requestContext:i})}},559230:(e,t,i)=>{i.d(t,{HJ:()=>r,VS:()=>n,iM:()=>a});const n=2,r="V_HLSV3_MOBILE",a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},935409:(e,t,i)=>{i.d(t,{$z:()=>D,Br:()=>p,Cr:()=>T,K8:()=>f,Q_:()=>b,Tq:()=>_,Xi:()=>A,YQ:()=>R,YV:()=>S,ZP:()=>k,aX:()=>I,eo:()=>m,gi:()=>P,md:()=>h,oG:()=>g,oL:()=>j,of:()=>y,xH:()=>v,xQ:()=>x,xR:()=>E,xk:()=>w,yT:()=>u});var n=i(27255),r=i(31185),a=i(778821),o=i(379725),s=i(875495),l=i(527885),d=i(414327),c=i(6637);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function m({viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:i,boardPinCount:n}}}const g=(e,t)=>i=>i((0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function _(e,t,i){return(0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}function v(e,t,i){return n=>c.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...i?{orbac_subject_id:i}:{}}).callUpdate().then((()=>Promise.all([n(m({boardId:e})),n(_(t,"pin_count")),n((0,s.N8)(a.DV.BOARD_SECTIONS,t))])))}function f(e){return t=>{e&&(0,l.Q)(e).forEach((e=>{t(e)}))}}const y=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),x=e=>g(e,"pin_count");function b(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function w(e,t){return i=>(i(b(e)),c.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function P(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function S(e,t){return i=>(i(P(e)),c.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const T=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),k=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function I(e,t,i){const a={name:e,privacy:n.Z.BoardPrivacy.PUBLIC,username:t,...i?{orbac_subject_id:i}:Object.freeze({})};return e=>c.Z.create("BoardResource",a).callCreate().then((i=>{const n=i.resource_response.data;return e(t&&(0,d.jB)("BoardsResource",(0,r.Z)(t,!1))),n}))}function j(e={},t,i){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:i}}const C=(e,t,i,n)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:i,collaboratingUsers:n}}),A=(e,t=!1,i)=>n=>(n(((e,t,i)=>({type:"BOARD_INVITE_APPROVED_BY_VIEWER",payload:{boardId:e,isRequestToJoin:t,collaboratingUser:i}}))(e,t,i)),c.Z.create("BoardInviteResource",{board_id:e,invited_user_id:null==i?void 0:i.id}).callUpdate()),E=(e,t)=>i=>(i(((e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}))(e,t)),c.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),D=(e,t,i)=>n=>(n(C(e,t,"new",i)),c.Z.create("BoardInviteResource",{board_id:e,invited_user_ids:i.map((({id:e})=>e))}).callCreate()),R=(e,t,i,n,r)=>a=>{var o,s;const l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return a(((e,t,i)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:i}}))(e,null!==(o=null==n?void 0:n.id)&&void 0!==o?o:"",i)),c.Z.create(l,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(s=null==n?void 0:n.id)&&void 0!==s?s:"",...r?{orbac_subject_id:r}:{}}).callDelete().catch((()=>a(C(e,i,t,[n]))))}},628358:(e,t,i)=>{i.d(t,{Z:()=>o,f:()=>s});var n=i(6637),r=i(935409);function a(e){return n.Z.create("BoardFollowResource",{board_id:e})}function o(e){return t=>{a(e).callCreate().catch((()=>{t((0,r.md)(e,!1))})),t((0,r.md)(e,!0))}}function s(e){return t=>{a(e).callDelete().catch((()=>{t((0,r.md)(e,!0))})),t((0,r.md)(e,!1))}}},875495:(e,t,i)=>{function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>o,N8:()=>r,Qv:()=>a,_f:()=>n,vX:()=>s});const a=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function o(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},811403:(e,t,i)=>{function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function r(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function a(e,t,i,n,r){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:i,url:n,localPinId:r}}}function o(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,text:t,undoAction:i,undoActionOptions:n,undoText:r}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:i,undoActionOptions:n,undoText:r}}}function d(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function c(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function h(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}i.d(t,{Gb:()=>o,I1:()=>d,Ib:()=>u,NA:()=>l,Ur:()=>a,Vw:()=>s,b9:()=>h,fH:()=>g,i0:()=>p,mO:()=>r,q1:()=>c,yR:()=>n,yj:()=>m});const g=(e,t)=>({type:"PIN_FEEDBACK",payload:{id:e,value:t}})},5226:(e,t,i)=>{i.d(t,{KF:()=>d,ZN:()=>o,fv:()=>l,kE:()=>u,yA:()=>s});var n=i(6637),r=i(482546);function a(e,t){return n.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function o(e,t=null){return i=>{a(e,t).callCreate().catch((()=>i((0,r.P_)(e,!1)))),i((0,r.P_)(e,!0))}}function s(e,t=null){return async i=>{i((0,r.P_)(e,!0)),await a(e,t).callCreate().catch((t=>{throw i((0,r.P_)(e,!1)),t}))}}function l(e,t=null){return i=>{a(e,t).callDelete().catch((()=>i((0,r.P_)(e,!0)))),i((0,r.P_)(e,!1))}}function d(e,t=null){return async i=>{i((0,r.P_)(e,!1)),await a(e,t).callDelete().catch((t=>{throw i((0,r.P_)(e,!0)),t}))}}const c=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(n.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(c(e,!1)))),t(c(e,!0)))}},482546:(e,t,i)=>{i.d(t,{Ge:()=>s,JS:()=>r,P_:()=>a,h2:()=>l,h6:()=>d});var n=i(6637);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const a=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),s=(e,t)=>i=>(i(o(e,!0)),n.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>i(o(e,!1))))),l=e=>t=>(t(o(e,!1)),n.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(o(e,!0)))));function d(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}},47495:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(583228);const r={AggregatedCommentResource:n.rm,AggregatedCommentFeedResource:n.LR,AggregatedCommentReplyResource:n.rm,AggregatedCommentReplyFeedResource:n.LR,AggregatedActivityFeedResource:n.LR,BestPinsFeedAltResource:n.LR,BoardArchiveResource:n.LR,BoardCollaboratorsResource:n.LR,BoardContentRecommendationResource:n.LR,BoardFeedResource:n.LR,BoardFollowingResource:n.LR,BoardInviteResource:n.sf,BoardInvitesResource:n.Ht,BoardlessPinsResource:n.LR,BoardPickerBoardsResource:{all_boards:n.LR,boards_shortlist:n.LR},BoardSectionEditResource:n._F,BoardSectionsRepinResource:n.LR,BoardSectionsResource:n.LR,BoardsFeedResource:n.LR,BoardResource:n.IY,BoardSectionResource:n._F,BoardSectionPinsResource:n.LR,BoardToolsFeedResource:n.LR,ContactRequestsResource:n.LR,ConversationsResource:n.LR,ConversationMessagesResource:n.dq,DidItCommentsResource:n.LR,DidItLikedByResource:n.Gn,DidItUserFeedResource:n.LR,ExploreArticleBlockPinResource:n.LR,ExploreArticleBlockSearchResource:n.LR,ExploreArticleBlockUserResource:n.LR,ExploreArticleBlockUserDidItDataResource:n.LR,ExploreArticleResource:n.yg,FollowingFeedResource:n.LR,HolidaySpotlightRelatedFeedResource:n.LR,HolidaySpotlightResource:n.LR,InterestFollowingResource:n.LR,InterestResource:n.cC,MoreIdeasTabsBoardsResource:n.LR,NewsHubResource:n.LR,NewsHubDetailsResource:n.LR,NewsHubSummaryResource:n.t6,NuxInterestsResource:n.LR,NuxTopicToCreatorsResource:n.Gn,PinResource:n.Cj,PinCatalogResource:n.LR,PinsFromBrandResource:n.LR,ReactionsResource:n.fE,RelatedArticlesResource:n.LR,RelatedInterestsResource:n.LR,RelatedModulesResource:n.LR,RelatedPinFeedResource:n.LR,RelatedProductFeedResource:n.LR,RelatedStreamResource:n.LR,RepinResource:n.Cj,BaseSearchResource:{results:n.LR},SearchResource:n.LR,SectionToolsFeedResource:n.LR,ShareSuggestionsTypeaheadResource:{items:n.LR},ShoppingFeedModularizedResource:n.LR,StoryFeedResource:n.LR,StoryPinTaggedProductsResource:n.LR,SuggestedCreatorFollowsResource:n.Gn,TodayArticleFeedResource:n.LR,IdeasHubTodayArticlesResource:n.LR,TodayArticleResource:n.iF,TodayTabInterestFeedResource:n.LR,TodayTabResource:n.LR,TopicFeedResource:n.LR,UnifiedCommentsResource:n.LR,UserActivityPinsResource:n.LR,UserFollowingResource:n.LR,UserRecentActivityResource:n.LR,UserSimilarBusinessesResource:n.LR,UserHomefeedResource:n.LR,UserPinsResource:n.LR,UserSettingsResource:n.EA,UserStoryPinsFeedResource:n.LR,UserResource:n.EA,VideosFeedResource:n.LR,VisualLiveSearchResource:{results:n.LR},VisualLiveSearchProductFeedResource:n.LR,VisualSearchFlashlightUnifiedResource:n.LR,SeoTier1CandidateResource:n.LR}},583228:(e,t,i)=>{i.d(t,{Cj:()=>d,EA:()=>a,Gn:()=>k,Ht:()=>T,IY:()=>l,LR:()=>j,_F:()=>p,cC:()=>y,dq:()=>m,fE:()=>u,iF:()=>f,rm:()=>o,sN:()=>I,sf:()=>b,t6:()=>S,yg:()=>_});var n=i(782677);const r=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",creatorRecommendationItem:"creatorRecommendationItems",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),a=new n.fK.Entity(r.user),o=new n.fK.Entity(r.aggregatedComment,{user:a,tagged_users:[a]}),s=new n.fK.Entity(r.article,{curator:a}),l=new n.fK.Entity(r.board),d=new n.fK.Entity(r.pin),c=new n.fK.Entity(r.reaction,{user:a}),u=new n.fK.Array(c),p=new n.fK.Entity(r.boardsection),h=new n.fK.Entity(r.conversationMessage,{sender:a,users:[a],board:l,pin:d,user:a}),m=new n.fK.Array(h),g=new n.fK.Entity(r.contactrequest),_=new n.fK.Entity(r.story,{cover_pin:d,user:a}),v=new n.fK.Entity(r.triedit,{pin:d,user:a}),f=new n.fK.Entity(r.todayArticle,{article_creator_user:a,content_pin:d,content_pin_official_user:a,video_pin:d}),y=new n.fK.Entity(r.topic,{},{processStrategy:(e,t,i)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),x=new n.fK.Entity(r.creatorRecommendationItem,{user:a,interest:y}),b=new n.fK.Entity(r.invite,{invited_by_user:a,invited_user:a,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),w=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"creatorrecommendationitem":return"creatorRecommendationItem";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},P=new n.fK.Union({user:a,board:l,invite:b,pin:d,topic:y,triedit:v},w),S=new n.fK.Entity(r.notification,{content_items:[{content_object:P}],header_icon_objects:[P]}),T=new n.fK.Array(b),k=new n.fK.Array(a),I=new n.fK.Array(l),j=new n.fK.Array({aggregatedComment:o,article:s,board:l,boardsection:p,contactrequest:g,conversationMessage:h,creatorRecommendationItem:x,notification:S,pin:d,story:_,todayArticle:f,topic:y,triedit:v,user:a},w,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));_.define({objects:j})},778821:(e,t,i)=>{i.d(t,{DV:()=>u,J:()=>_,ZP:()=>x});var n=i(848900),r=i(932995),a=i(47495),o=i(91456),s=i(648284),l=i(983360),d=i(583228),c=i(338739);const u={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USER_DID_IT_DATA:"userDidItData"},p=new Set(["PinResource","RepinResource"]),h={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${u.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItCommentsResource:e=>`${u.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,i=e.resource_response.data,{story_type:n}=i?i.objects[0]:{story_type:""};return`explore-${n.slice(t)}:${i.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>`user-similar-business:${e.username}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},m={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:u.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:u.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?u.AGGREGATED_COMMENT_REPLIES:u.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:u.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:u.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:u.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:u.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:u.PROFILE_BOARDS,id:(0,n.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:i,filters:n,query_pin_sigs:r,query:a,user:l},response:d})=>{var c;return{type:u.SEARCH_PINS,id:(0,s.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:n,query:a,selectedPinImgSig:r,scope:i,user:l}),items:null!==(c=d.resource_response.data)&&void 0!==c&&c.results?(0,o.LM)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:u.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:u.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:u.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:u.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:u.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:u.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:u.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:u.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:u.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:u.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},g=(e,{pinId:t,oldFeedId:i,newFeedId:n})=>i===n?e:((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:[{type:"pin",id:t},...e[i]]}:e)(((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:e[i].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:i}),{pinId:t,feedId:n}),_=(e,t)=>e in h?h[e](t):null,v=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,f=(e,t)=>e.map((({id:e,schema:i})=>{var n;return i?{id:e,type:i,trackingParams:"pin"===i?t.pins[e].tracking_params:void 0,user_id:"creatorRecommendationItem"===i?null===(n=t.creatorRecommendationItems[e])||void 0===n?void 0:n.user_id:void 0}:null})).filter(Boolean),y=(e,t,i)=>Object.keys(e).reduce(((n,r)=>{const a=e[r]||[],o=a.filter((e=>!(e.type===t&&e.id===i)));return a.length!==o.length&&(n[r]=o),n}),{...e}),x=(e={},t)=>{switch(t.type){case c.zP:case c.aW:{const{payload:n}=t,{resource:r,options:o,normalizedResponse:s,schema:l}=n;if(s&&r in h){const i=((e,t,i)=>{const n=i||a.Z[e];if(n===d.LR)return t.result;if(n===d.sN)return t.result.map((e=>({id:e,schema:"board"})));if(n===d.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(n===d.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(n===d.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof n){const e=Object.entries(n).find((([e,t])=>t===d.LR));if(e)return t.result[e[0]]}return null})(r,s,l);if(i&&Array.isArray(i)){const n=h[r](o);if("ShoppingFeedModularizedResource"===r){const{board_id:t,saved_products_only:n}=null!=o?o:{},r=`board-shop-related:${t}`,a=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,d=[...e[r]||[]],c=[...e[a]||[]],u=[...e[l]||[]];return f(i,s.entities).forEach((e=>{var i;n?c.push(e):s.entities.pins&&(null===(i=s.entities.pins[e.id])||void 0===i?void 0:i.board)===t?u.push(e):d.push(e)})),{...e,[r]:d,[a]:c,[l]:u}}if("BoardToolsFeedResource"===r||"SectionToolsFeedResource"===r)return{...e,[n]:i};{const r=(t.type===c.aW&&e[n]||[]).concat(f(i,s.entities));return{...e,[n]:r}}}}else{var i;const r=n.response.resource_response.data;if(null===(i=n.options)||void 0===i||!i.redux_normalize_feed)return e;const a=m[n.resource](n);if(a){const{type:i,id:n,items:o,reversed:s}=a;let l=(o||r||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===u.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,i)));s&&(l=l.reverse());const d=`${i}:${n}`,p=e[d];if(p||t.type!==c.aW){const i=p||[];let n=l;return t.type===c.aW&&(n=s?l.concat(i):i.concat(l)),{...e,[d]:n}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:i,feedId:n,itemType:a,targetItemId:o,sourceItemId:s}}=t,l=`${i}:${n}`,d=e[l]||[];let c=-1,p=-1;if([u.BOARDFEED,u.BOARD_SECTION_PINS,u.BOARD_SECTIONS,"profileBoards"].includes(i)&&(c=d.findIndex((e=>e.type===a&&e.id===s)),p=d.findIndex((e=>e.type===a&&e.id===o))),-1!==c&&-1!==p)return{...e,[l]:(0,r.Z)(d,c,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:i,feedId:n,inverseSelection:r,itemType:a,itemIds:o=[]}}=t,s=`${i}:${n}`,l=e[s]||[];if(l&&l.length>0&&(i===u.BOARD_SECTION_PINS||i===u.BOARDFEED)){const t=l.filter((e=>{const t=o.includes(e.id);return!(e.type===a&&(r&&!t||!r&&t))})),i=!!t.find((e=>"pin"===e.type));return{...e,[s]:i?t:[]}}if(l&&l.length>0&&i===u.BOARD_SECTIONS){const t=l.filter((e=>{const t=o.includes(e.id);return!(e.type===a&&t)}));return{...e,[s]:t}}if(l&&l.length>0&&(i===u.AGGREGATED_COMMENTS||i===u.BOARDLESS_PINS||i===u.PROFILE_PINS_FEED||i===u.STORY_PINS_FEED||i===u.UNIFIED_COMMENTS||i===u.USER_DID_IT_DATA||i===u.STORY_PIN_DATA)){const t=l.filter((e=>{const t=o.includes(e.id);return!(e.type===a&&t)}));return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:i,feedId:n,itemType:r,itemIds:a=[],prepend:o}}=t,s=`${i}:${n}`,l=e[s]||[];if(l&&(i===u.BOARD_SECTION_PINS||i===u.BOARDFEED||i===u.BOARDLESS_PINS)){const t=a.map((e=>({id:e,type:r})));let i=0;"story"===(l[0]||{}).type&&(i=1),"story"===(l[1]||{}).type&&(i=2);const n=[...l.slice(0,i),...t,...l.slice(i)];return{...e,[s]:n}}if(l&&i===u.BOARD_SECTIONS){const t=[...a].reverse().map((e=>({id:e,type:"board_section"}))),i=l?[...t,...l]:[...t];return{...e,[s]:i}}if(i===u.AGGREGATED_COMMENTS||i===u.AGGREGATED_COMMENT_REPLIES||i===u.PROFILE_PINS_FEED||i===u.STORY_PINS_FEED||i===u.UNIFIED_COMMENTS){const t=a.map((e=>({id:e,type:r}))),i=l?[...o?t:l,...o?l:t]:t;return{...e,[s]:i}}if(i===u.USER_DID_IT_DATA){const t=a.map((e=>({id:e,type:r}))),i=l?[...t,...l]:t;return{...e,[s]:i}}break}case"FEED_INVALIDATE":{const{payload:{feedType:i,feedId:n}}=t,r=`${i}:${n}`;if(e[r]||[])return{...e,[r]:null};break}case l.MU:{const{payload:{id:i,items:n,options:r}}=t,a=e[i];if(a){let t;return t=r.isPrepend?a[0]&&"story"===a[0].type?[].concat(a[0],n,a.slice(1)):n.concat(a):a.concat(n),{...e,[i]:t}}return{...e,[i]:n}}case l.l_:{const{payload:{pinId:i}}=t;return y(e,"pin",i)}case"BOARD_ARCHIVE":{const{payload:{boardId:i,username:n}}=t,r=`profile-boards:${null!=n?n:""}`;if(e[r])return{...e,[r]:e[r].filter((e=>e.id!==i))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:i}}=t,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter((e=>e.id!==i))};break}case"BOARD_DELETE":{const{payload:{boardId:i}}=t;return y(e,"board",i)}case l.Yn:{const{payload:{boardSectionId:i}}=t;return y(e,"boardsection",i)}case l.u2:{const{payload:{source:i,target:n,pinIds:r,userId:a}}=t,o=i.boardlessPins&&a&&`boardless-pins:${a}`||i.boardId&&v(i.boardId,i.sectionId),s=v(n.boardId,n.sectionId);return r.reduce(((e,t)=>g(e,{pinId:t,oldFeedId:o,newFeedId:s})),e)}case l.Fl:{const{payload:{source:i,target:n,excludePinIds:r}}=t,a=v(i.boardId,i.sectionId),o=v(n.boardId,n.sectionId),s={...e,[a]:r.map((e=>({type:"pin",id:e})))};return delete s[o],s}case l.fz:{const{payload:{pinId:i,boardId:n,section:r,source:{boardId:a,sectionId:o}}}=t,s=v(a,o),l=v(n,null==r?void 0:r.id);return g(e,{pinId:i,oldFeedId:s,newFeedId:l})}case c.AF:if(p.has(t.payload.resource)){const i=t.payload.response.resource_response.data,n=i.board;let r;if("quick_saves"===n.layout)r=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;r=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[r]){const t={...e},n={id:i.id,type:"pin",trackingParams:null==i?void 0:i.tracking_params};return t[r]=[n].concat(e[r]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const i=t.payload.normalizedResponse.result,n=`board-sections:${t.payload.normalizedResponse.entities.boardsections[i].board}`;if(e[n]){const t={...e},r={id:i,type:"boardsection"};return t[n]=[r].concat(e[n]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const i={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},n=["aggregated-comments","unified-comments"];let r={...e};for(const a of n){const n=`${a}:${t.payload.options.objectId}`;e[n]&&(r={...r,[n]:[i].concat(r[n])})}return r}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const i=`${u.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[i]:[...e[i]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:i}=t.payload.options;if("reaction"===t.payload.options.action_type){const n=`reactions:${t.payload.options.pin_id}`,r={...e},a={id:`${i}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return r[n]=[a].concat(e[n]),r}if("unreaction"===t.payload.options.action_type){const n=`${i}:${t.payload.options.user_id}`;return y(e,"reaction",n)}}break;case l.ZX:{const{payload:{storyId:i}}=t;return y(e,"story",i)}}return e}},464228:(e,t,i)=>{i.d(t,{P:()=>a,Z:()=>o});var n=i(667294);const r=(0,n.createContext)();function a(){return(0,n.useContext)(r)}const o=r},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,i)=>{var n=i(373897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,i)=>{var n=i(386116);e.exports=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,i)=>{var n=i(238416);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,i)=>{var n=i(163405),r=i(379498),a=i(386116),o=i(742281);e.exports=function(e){return n(e)||r(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,i)=>{var n=i(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/duplo-routes-ProfileBoards-af5fdbe501c52834.mjs.map