(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68919,16117,26467],{361600:e=>{var i,t,n,a,o,r,l,s,d={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},t={defaultValue:null,kind:"LocalArgument",name:"inviteType"},n={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,i,n],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[r,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};d.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=d},865107:e=>{var i,t,n,a,o={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=o},248639:e=>{var i,t,n,a,o,r={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NuxHomefeedLoaderQuery",selections:[{alias:null,args:i=[{kind:"Literal",name:"includeFavoritedTopics",value:!0}],concreteType:null,kind:"LinkedField",name:"v3OrientationTopicsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[t,{alias:null,args:n=[{kind:"Literal",name:"first",value:105}],concreteType:"V3OrientationTopicsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3OrientationTopicsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"node",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"connection(first:105)"}],type:"V3OrientationTopicsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3OrientationTopics",abstractKey:null}],storageKey:"v3OrientationTopicsQuery(includeFavoritedTopics:true)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"NuxHomefeedLoaderQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3OrientationTopicsQuery",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{alias:null,args:n,concreteType:"V3OrientationTopicsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3OrientationTopicsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"node",plural:!1,selections:[a,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"connection(first:105)"}],type:"V3OrientationTopicsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3OrientationTopics",abstractKey:null}],storageKey:"v3OrientationTopicsQuery(includeFavoritedTopics:true)"}]},params:{id:"a9bf783b9d875a30fe98739f3ffca410758baf5ba070ca4d8f27327fc986fbf1",metadata:{},name:"NuxHomefeedLoaderQuery",operationKind:"query",text:null}};r.hash="aef2f8a5b90b995cabe88f9752f12af1",e.exports=r},7745:e=>{var i,t,n,a,o,r,l,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,r,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s},276667:e=>{var i,t,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},i,{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};a.hash="64effb4f1e63deaf1d53b77187d996de",e.exports=a},584818:e=>{var i,t,n,a,o,r,l,s,d,c,u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayArticleModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:c=[i,r={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,s,l,r,d],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},n,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TodayArticle",abstractKey:null};u.hash="3afdada2f3d905a39bf4a6d5bf55a160",e.exports=u},133132:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=i},964820:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=i},12617:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};t.hash="6cc486603fe4bb19b18741c21346a49b",e.exports=t},167074:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};t.hash="74f28c48f3a5ddb4a53f101389981c63",e.exports=t},85934:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=i},877821:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null,hash:"5645b1c5850647c98e4d2fefbb484bf4"};e.exports=i},569772:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=i},110767:e=>{var i,t,n,a,o,r,l={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a,storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},n],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"a3c7af73694bf4bca337151ae03a4ab0cd268d45aad7d6a29c9cab3ffedebaa3",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};l.hash="28d48aeed76d97d5b2fc59af2e75669f",e.exports=l},924262:(e,i,t)=>{t.d(i,{Z:()=>o});var n=6e4;function a(e){return e.getTime()%n}function o(e){var i=new Date(e.getTime()),t=Math.ceil(i.getTimezoneOffset());i.setSeconds(0,0);var o=t>0?(n+a(i))%n:a(i);return t*n+o}},13882:(e,i,t)=>{function n(e,i){if(i.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+i.length+" present")}t.d(i,{Z:()=>n})},159025:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(983946),a=t(619013),o=t(13882);function r(e,i){(0,o.Z)(1,arguments);var t=i||{},r=t.locale,l=r&&r.options&&r.options.weekStartsOn,s=null==l?0:(0,n.Z)(l),d=null==t.weekStartsOn?s:(0,n.Z)(t.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,a.Z)(e),u=c.getUTCDay(),p=(u<d?7:0)+u-d;return c.setUTCDate(c.getUTCDate()-p),c.setUTCHours(0,0,0,0),c}},983946:(e,i,t)=>{function n(e){if(null===e||!0===e||!1===e)return NaN;var i=Number(e);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.d(i,{Z:()=>n})},51820:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(983946),a=t(619013),o=t(13882);function r(e,i){(0,o.Z)(2,arguments);var t=(0,a.Z)(e).getTime(),r=(0,n.Z)(i);return new Date(t+r)}},926467:(e,i,t)=>{t.d(i,{Z:()=>V});var n=t(112274),a=t(983975),o=t(983946),r=t(51820),l=t(13882);function s(e,i){(0,l.Z)(2,arguments);var t=(0,o.Z)(i);return(0,r.Z)(e,-t)}var d=t(619013);function c(e,i){for(var t=e<0?"-":"",n=Math.abs(e).toString();n.length<i;)n="0"+n;return t+n}const u={y:function(e,i){var t=e.getUTCFullYear(),n=t>0?t:1-t;return c("yy"===i?n%100:n,i.length)},M:function(e,i){var t=e.getUTCMonth();return"M"===i?String(t+1):c(t+1,2)},d:function(e,i){return c(e.getUTCDate(),i.length)},a:function(e,i){var t=e.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":case"aaa":return t.toUpperCase();case"aaaaa":return t[0];case"aaaa":default:return"am"===t?"a.m.":"p.m."}},h:function(e,i){return c(e.getUTCHours()%12||12,i.length)},H:function(e,i){return c(e.getUTCHours(),i.length)},m:function(e,i){return c(e.getUTCMinutes(),i.length)},s:function(e,i){return c(e.getUTCSeconds(),i.length)},S:function(e,i){var t=i.length,n=e.getUTCMilliseconds();return c(Math.floor(n*Math.pow(10,t-3)),i.length)}};var p=864e5;function h(e){(0,l.Z)(1,arguments);var i=1,t=(0,d.Z)(e),n=t.getUTCDay(),a=(n<i?7:0)+n-i;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}function m(e){(0,l.Z)(1,arguments);var i=(0,d.Z)(e),t=i.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var a=h(n),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var r=h(o);return i.getTime()>=a.getTime()?t+1:i.getTime()>=r.getTime()?t:t-1}function g(e){(0,l.Z)(1,arguments);var i=m(e),t=new Date(0);t.setUTCFullYear(i,0,4),t.setUTCHours(0,0,0,0);var n=h(t);return n}var _=6048e5;var x=t(159025);function v(e,i){(0,l.Z)(1,arguments);var t=(0,d.Z)(e,i),n=t.getUTCFullYear(),a=i||{},r=a.locale,s=r&&r.options&&r.options.firstWeekContainsDate,c=null==s?1:(0,o.Z)(s),u=null==a.firstWeekContainsDate?c:(0,o.Z)(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(n+1,0,u),p.setUTCHours(0,0,0,0);var h=(0,x.Z)(p,i),m=new Date(0);m.setUTCFullYear(n,0,u),m.setUTCHours(0,0,0,0);var g=(0,x.Z)(m,i);return t.getTime()>=h.getTime()?n+1:t.getTime()>=g.getTime()?n:n-1}function f(e,i){(0,l.Z)(1,arguments);var t=i||{},n=t.locale,a=n&&n.options&&n.options.firstWeekContainsDate,r=null==a?1:(0,o.Z)(a),s=null==t.firstWeekContainsDate?r:(0,o.Z)(t.firstWeekContainsDate),d=v(e,i),c=new Date(0);c.setUTCFullYear(d,0,s),c.setUTCHours(0,0,0,0);var u=(0,x.Z)(c,i);return u}var y=6048e5;var b="midnight",w="noon",P="morning",j="afternoon",S="evening",k="night";function T(e,i){var t=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;if(0===o)return t+String(a);var r=i||"";return t+String(a)+r+c(o,2)}function I(e,i){return e%60==0?(e>0?"-":"+")+c(Math.abs(e)/60,2):C(e,i)}function C(e,i){var t=i||"",n=e>0?"-":"+",a=Math.abs(e);return n+c(Math.floor(a/60),2)+t+c(a%60,2)}const A={G:function(e,i,t){var n=e.getUTCFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,i,t){if("yo"===i){var n=e.getUTCFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return u.y(e,i)},Y:function(e,i,t,n){var a=v(e,n),o=a>0?a:1-a;return"YY"===i?c(o%100,2):"Yo"===i?t.ordinalNumber(o,{unit:"year"}):c(o,i.length)},R:function(e,i){return c(m(e),i.length)},u:function(e,i){return c(e.getUTCFullYear(),i.length)},Q:function(e,i,t){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"Q":return String(n);case"QQ":return c(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,i,t){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"q":return String(n);case"qq":return c(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,i,t){var n=e.getUTCMonth();switch(i){case"M":case"MM":return u.M(e,i);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,i,t){var n=e.getUTCMonth();switch(i){case"L":return String(n+1);case"LL":return c(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,i,t,n){var a=function(e,i){(0,l.Z)(1,arguments);var t=(0,d.Z)(e),n=(0,x.Z)(t,i).getTime()-f(t,i).getTime();return Math.round(n/y)+1}(e,n);return"wo"===i?t.ordinalNumber(a,{unit:"week"}):c(a,i.length)},I:function(e,i,t){var n=function(e){(0,l.Z)(1,arguments);var i=(0,d.Z)(e),t=h(i).getTime()-g(i).getTime();return Math.round(t/_)+1}(e);return"Io"===i?t.ordinalNumber(n,{unit:"week"}):c(n,i.length)},d:function(e,i,t){return"do"===i?t.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.d(e,i)},D:function(e,i,t){var n=function(e){(0,l.Z)(1,arguments);var i=(0,d.Z)(e),t=i.getTime();i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0);var n=i.getTime(),a=t-n;return Math.floor(a/p)+1}(e);return"Do"===i?t.ordinalNumber(n,{unit:"dayOfYear"}):c(n,i.length)},E:function(e,i,t){var n=e.getUTCDay();switch(i){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,i,t,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(i){case"e":return String(o);case"ee":return c(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(e,i,t,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(i){case"c":return String(o);case"cc":return c(o,i.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(e,i,t){var n=e.getUTCDay(),a=0===n?7:n;switch(i){case"i":return String(a);case"ii":return c(a,i.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,i,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,i,t){var n,a=e.getUTCHours();switch(n=12===a?w:0===a?b:a/12>=1?"pm":"am",i){case"b":case"bb":case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,i,t){var n,a=e.getUTCHours();switch(n=a>=17?S:a>=12?j:a>=4?P:k,i){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,i,t){if("ho"===i){var n=e.getUTCHours()%12;return 0===n&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return u.h(e,i)},H:function(e,i,t){return"Ho"===i?t.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.H(e,i)},K:function(e,i,t){var n=e.getUTCHours()%12;return"Ko"===i?t.ordinalNumber(n,{unit:"hour"}):c(n,i.length)},k:function(e,i,t){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===i?t.ordinalNumber(n,{unit:"hour"}):c(n,i.length)},m:function(e,i,t){return"mo"===i?t.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.m(e,i)},s:function(e,i,t){return"so"===i?t.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.s(e,i)},S:function(e,i){return u.S(e,i)},X:function(e,i,t,n){var a=(n._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(i){case"X":return I(a);case"XXXX":case"XX":return C(a);case"XXXXX":case"XXX":default:return C(a,":")}},x:function(e,i,t,n){var a=(n._originalDate||e).getTimezoneOffset();switch(i){case"x":return I(a);case"xxxx":case"xx":return C(a);case"xxxxx":case"xxx":default:return C(a,":")}},O:function(e,i,t,n){var a=(n._originalDate||e).getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+T(a,":");case"OOOO":default:return"GMT"+C(a,":")}},z:function(e,i,t,n){var a=(n._originalDate||e).getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+T(a,":");case"zzzz":default:return"GMT"+C(a,":")}},t:function(e,i,t,n){var a=n._originalDate||e;return c(Math.floor(a.getTime()/1e3),i.length)},T:function(e,i,t,n){return c((n._originalDate||e).getTime(),i.length)}};function z(e,i){switch(e){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}}function D(e,i){switch(e){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}}const F={p:D,P:function(e,i){var t,n=e.match(/(P+)(p+)?/),a=n[1],o=n[2];if(!o)return z(e,i);switch(a){case"P":t=i.dateTime({width:"short"});break;case"PP":t=i.dateTime({width:"medium"});break;case"PPP":t=i.dateTime({width:"long"});break;case"PPPP":default:t=i.dateTime({width:"full"})}return t.replace("{{date}}",z(a,i)).replace("{{time}}",D(o,i))}};var L=t(924262),Z=["D","DD"],E=["YY","YYYY"];function M(e){return-1!==Z.indexOf(e)}function U(e){return-1!==E.indexOf(e)}function R(e,i,t){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(i,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(i,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var O=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B=/^'([^]*?)'?$/,H=/''/g,W=/[a-zA-Z]/;function V(e,i,t){(0,l.Z)(2,arguments);var r=String(i),c=t||{},u=c.locale||a.default,p=u.options&&u.options.firstWeekContainsDate,h=null==p?1:(0,o.Z)(p),m=null==c.firstWeekContainsDate?h:(0,o.Z)(c.firstWeekContainsDate);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=u.options&&u.options.weekStartsOn,_=null==g?0:(0,o.Z)(g),x=null==c.weekStartsOn?_:(0,o.Z)(c.weekStartsOn);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var v=(0,d.Z)(e);if(!(0,n.Z)(v))throw new RangeError("Invalid time value");var f=(0,L.Z)(v),y=s(v,f),b={firstWeekContainsDate:m,weekStartsOn:x,locale:u,_originalDate:v},w=r.match(N).map((function(e){var i=e[0];return"p"===i||"P"===i?(0,F[i])(e,u.formatLong,b):e})).join("").match(O).map((function(t){if("''"===t)return"'";var n=t[0];if("'"===n)return K(t);var a=A[n];if(a)return!c.useAdditionalWeekYearTokens&&U(t)&&R(t,i,e),!c.useAdditionalDayOfYearTokens&&M(t)&&R(t,i,e),a(y,t,u.localize,b);if(n.match(W))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return t})).join("");return w}function K(e){return e.match(B)[1].replace(H,"'")}},112274:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(619013),a=t(13882);function o(e){(0,a.Z)(1,arguments);var i=(0,n.Z)(e);return!isNaN(i)}},849526:(e,i,t)=>{function n(e){return function(i){var t=i||{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}t.d(i,{Z:()=>n})},688486:(e,i,t)=>{function n(e){return function(i,t){var n,a=t||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,r=a.width?String(a.width):o;n=e.formattingValues[r]||e.formattingValues[o]}else{var l=e.defaultWidth,s=a.width?String(a.width):e.defaultWidth;n=e.values[s]||e.values[l]}return n[e.argumentCallback?e.argumentCallback(i):i]}}t.d(i,{Z:()=>n})},276723:(e,i,t)=>{function n(e){return function(i,t){var n=String(i),a=t||{},o=a.width,r=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],l=n.match(r);if(!l)return null;var s,d=l[0],c=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return s="[object Array]"===Object.prototype.toString.call(c)?function(e,i){for(var t=0;t<e.length;t++)if(i(e[t]))return t}(c,(function(e){return e.test(d)})):function(e,i){for(var t in e)if(e.hasOwnProperty(t)&&i(e[t]))return t}(c,(function(e){return e.test(d)})),s=e.valueCallback?e.valueCallback(s):s,{value:s=a.valueCallback?a.valueCallback(s):s,rest:n.slice(d.length)}}}t.d(i,{Z:()=>n})},360974:(e,i,t)=>{function n(e){return function(i,t){var n=String(i),a=t||{},o=n.match(e.matchPattern);if(!o)return null;var r=o[0],l=n.match(e.parsePattern);if(!l)return null;var s=e.valueCallback?e.valueCallback(l[0]):l[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:n.slice(r.length)}}}t.d(i,{Z:()=>n})},181991:(e,i,t)=>{t.d(i,{Z:()=>a});var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e,i,t){var a;return t=t||{},a="string"==typeof n[e]?n[e]:1===i?n[e].one:n[e].other.replace("{{count}}",i),t.addSuffix?t.comparison>0?"in "+a:a+" ago":a}},721865:(e,i,t)=>{t.d(i,{Z:()=>a});var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a(e,i,t,a){return n[e]}},611950:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(688486);const a={ordinalNumber:function(e,i){var t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:(0,n.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,n.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,n.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,n.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,n.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},507219:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(360974),a=t(276723);const o={ordinalNumber:(0,n.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,a.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,a.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,a.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,a.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,a.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},983975:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var n=t(181991),a=t(849526);const o={date:(0,a.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,a.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,a.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var r=t(721865),l=t(611950),s=t(507219);const d={code:"en-US",formatDistance:n.Z,formatLong:o,formatRelative:r.Z,localize:l.Z,match:s.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}}},619013:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(13882);function a(e){(0,n.Z)(1,arguments);var i=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===i?new Date(e.getTime()):"number"==typeof e||"[object Number]"===i?new Date(e):("string"!=typeof e&&"[object String]"!==i||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},416131:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},483010:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},808310:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},963421:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},549658:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},275441:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},916611:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},344191:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},614860:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},317343:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},443140:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},522940:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},325634:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},204554:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},294700:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},594701:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},253833:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},495297:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},296875:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},231596:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},846653:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},47786:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},830866:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},375664:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},214298:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},647887:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},114200:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},813150:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},246184:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},935563:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},460628:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},199081:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},671157:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},747147:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},25078:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},622314:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},765409:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},690435:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},712627:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},387629:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},465843:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},951237:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},13820:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},990148:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},879191:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},59192:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},237258:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},424961:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},436044:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},206581:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},300633:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},690532:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},749406:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},370960:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},535389:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},590716:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},482925:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},370216:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},926410:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},777172:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},305067:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},621216:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},826132:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},681384:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},729566:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},972841:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},733756:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(30700),a=t(883119),o=t(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},l={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:t,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:h=70,onTouch:m,pressState:g,shape:_,text:x})=>{const v=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(i),f=(({color:e,icon:i})=>i?s:"transparent"===e?{__style:{...r.__style,...l}}:r)({color:i,icon:c}),y=(0,o.jsx)(a.xu,{position:"relative",children:(0,o.jsx)(a.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:h,dangerouslySetInlineStyle:"pill"===_?(b=t,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):f,children:(0,o.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,o.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,o.jsx)(a.JO,{accessibilityLabel:e,color:v,icon:c,inline:!0,size:"check"===c?16:20})}),(0,o.jsx)(a.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:x})]})})});var b;return m?(0,o.jsx)(n.Z,{onTouch:m,rounding:"pill"===_?"pill":2,pressState:g||"none",children:(0,o.jsx)(a.xu,{ref:d,children:y})}):y}},856919:(e,i,t)=>{t.d(i,{MZ:()=>D,di:()=>L,Ai:()=>F});var n=t(667294),a=t(474635),o=t(205443),r=t(733756),l=t(735079),s=t(954571),d=t(250059),c=t(149230),u=t(407043),p=t(48714),h=t(276775);const m=({children:e,external:i,externalQueryParams:t,target:n,href:a})=>{const{logContextEvent:o}=(0,u.v)(),r=(0,h.useHistory)(),l=(0,h.useLocation)();if(!a)return null;const s=(0,d.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,c.Z)({url:s})||i?(0,p.lI)({href:s,queryParams:t,location:l},o,null):(0,p.G3)({event:e,href:a,history:r,target:"blank"===n?"blank":null})}})};var g=t(883119),_=t(785893);const x=({accessibilityLabel:e,children:i,external:t,externalQueryParams:n,inline:a=!1,newTab:o,nofollow:r,onTouch:l,onBlur:s,onFocus:c,pressState:u,rounding:p,to:h})=>(0,_.jsx)(m,{external:t,target:o?"blank":null,externalQueryParams:n,href:h,children:({navigate:t})=>(0,_.jsx)(g.rU,{accessibilityLabel:e,onBlur:s?({event:e})=>s(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,d.Z)(h),inline:a,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),null==l||l(e),e.defaultPrevented||t(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:i})}),v=({external:e,externalQueryParams:i,newTab:t,onTouch:n,to:a,...o})=>(0,_.jsx)(m,{external:e,target:t?"blank":null,externalQueryParams:i,href:a,children:({navigate:e})=>(0,_.jsx)(r.Z,{onTouch:i=>{null==n||n(i),i.defaultPrevented||e(i)},...o})});var f=t(949372),y=t(112690),b=t(19121),w=t(53987),P=t(30287),j=t(968228),S=t(780622),k=t(773285),T=t(780280),I=t(281180),C=t(957161),A=t(622096);const z=(e,i=!1)=>function({isAppUpsellDisabled:t,...r}){const{children:d,clientTrackingParams:c,deeplinkUri:u,external:p,onTouch:m,refresh:x,to:v,viewParameter:z,viewType:D}=r,F=(0,f.Z)(),[L,Z]=(0,n.useState)(!1),{isAuth:E}=(0,b.Z)(),{userAgent:{platform:M},locale:U}=(0,T.B)(),R=(0,I.Tt)(),O=(0,y.Z)(),{checkExperiment:N}=(0,k.F)(),B=(0,h.useLocation)(),H=(0,S.L)(),W=()=>{O({event_type:1701,view_type:D,view_parameter:z}),L&&Z(!1)};return(0,_.jsxs)(g.xu,{"data-test-id":"deeplink-wrapper",children:[L&&(0,_.jsx)(a.Z,{componentType:14157,within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,_.jsx)(o.Z,{clientTrackingParams:c,isOpen:!0,onDismiss:()=>{O({component:14157,element:10308,event_type:10220,view_type:D||32,view_parameter:z,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,C.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:u}),W()},shouldTrackDismiss:!0,to:v,viewParameter:z,viewType:D})}),(0,_.jsx)(l.Z,{children:n=>(0,_.jsx)(e,{...r,onTouch:e=>{const a=F&&!t&&E&&!p&&!x&&!(0,P.FP)(window)&&!("ios"===M&&(U||"").startsWith("ar"))&&(0,j.kp)((0,s.Z)(null==R?void 0:R.created_at));if(a){const{group:i}=N("mweb_auth_learning_app_upsell");i.startsWith("enabled_related_pin_click")?(0,w.uM)(B)&&setTimeout((()=>{H.setTypeVal(`learning_${i}`)}),500):(e.stopPropagation(),e.preventDefault(),Z(!0))}else"branchfallback"!==(0,C.qn)("deeplinkBehavior")||(0,A.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,A.Nh)("fallbackAttempt",1),n(u,`${window.location.origin}${o=v,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),W());var o;i&&a||!m||m(e)},children:d})})]})},D=z(x),F=z(v),L=z(r.Z,!0)},735079:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(702664),a=t(172071),o=t(826067);const r="http://play.google.com/store/apps/details?id=com.pinterest",l=["access_token","new_password","new_password_confirm","password","next"],s=(e,i)=>i?(0,o.ru)(e,{invite_code:i}):e,d=(e,i,t)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){const i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return"string"==typeof e?s(e,t):"ios"===i||"ipad"===i?s(e.iOS,t):"android"===i?s(e.android,t):null},c=({deeplinkUri:e,fallbackUrl:i,invite_code:t,platform:n,redirectToLite:s,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:i,platform:t,fallbackUrl:n,unauthId:a})=>({deeplink_path:d(e,t,i),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:a,utm_source:140,utm_medium:2152,...n?{af_r:n}:null}))({deeplinkUri:e,fallbackUrl:i,invite_code:t,platform:n,unauthId:c,userAgent:u});if(a.Z.increment("mweb.deeplink",1,{platform:n}),t&&a.Z.increment("mweb.deeplink.invite_code",1),a.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),s){a.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const i=(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(i)}})({unauthId:c});window.location.href=(0,o.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===n){const i=(({deeplinkUri:e,invite_code:i,platform:t,unauthId:n})=>{const a=JSON.stringify({deeplink_path:d(e,t,i),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:n});return{referrer:(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:e,invite_code:t,platform:n,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,o.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,o.ru)(r,i)})).catch(a.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,o.ru)(r,i)}else{if(a.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===n&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,o.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,o.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=t(619277),p=t(968228),h=t(785893);function m({children:e,invite_code:i}){const{userAgentPlatform:t,unauthId:a,userAgent:o}=(0,n.useSelector)((({session:e})=>e));return e((async(e,n)=>{c({deeplinkUri:e,fallbackUrl:n,invite_code:i,platform:t,redirectToLite:(0,p.Rp)({platform:t,userAgent:o}),unauthId:a,userAgent:o})}))}const g=e=>(0,h.jsx)(u.ty,{children:i=>(0,h.jsx)(m,{...e,invite_code:i})});g.displayName="DeepLinkNavigator";const _=g},141280:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(667294),a=t(124580),o=t(740990),r=t(223815),l=t(643010),s=t(968121),d=t(494349),c=t(883119),u=t(785893);const p={border:(0,l.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,l.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function m({accessibilityModalLabel:e,allowClickAndDrag:i,children:t,isOpen:l}){const{setAppFocusState:p}=(0,d.I)(),m=(0,n.useRef)(null);return(0,n.useEffect)((()=>(l&&(a.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{l&&(a.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[l,p]),(0,u.jsx)(r.Z,{allowClickAndDrag:i,children:(0,u.jsx)(c.mh,{zIndex:s.b7,children:(0,u.jsx)(c.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(c.xu,{ref:m,dangerouslySetInlineStyle:{__style:l?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(o.Z.Provider,{value:m.current,children:t})})})})})}},155247:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(172071),o=t(883119),r=t(813401),l=t(112690),s=t(785893);function d(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const c=(e,i)=>{const t=e&&e.replace(".","_");return i?t&&t.substring(0,50):t};class u extends n.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,i)=>{"undefined"==typeof window&&i();const{filename:t,imgSrc:n,isAndroidTwa:o,isChromeOnIOS:r,isUnauth:l,logContextEvent:s,category:d,viewParameter:u,viewType:p,pinId:h,imageSignature:m}=this.props,{href:g}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(n,c(t,o)),e()):r?(this.imageDownload&&this.imageDownload.click(),e()):null==g&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((i=>{this.setState({href:window.URL.createObjectURL(i)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),a.Z.increment(`mweb.${l?"unauth":"auth"}.download.click.${d||"no_category"}`),s({event_type:82,object_id_str:h,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:m}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:i,imgSrc:t,isAndroidTwa:a,isChromeOnIOS:r}=this.props,{href:l}=this.state,d=null!=l&&l!==this.DOWNLOAD_ERROR;return(0,s.jsxs)(n.Fragment,{children:[e(this.onEvent),r&&t?(0,s.jsx)(o.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:t})}):d&&(0,s.jsx)(o.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(i,a),href:l})})]})}}function p(e){const i=(0,r.xC)(),t=(0,l.Z)();return(0,s.jsx)(u,{...e,isAndroidTwa:i,logContextEvent:t})}},968919:(e,i,t)=>{t.d(i,{iK:()=>Fe,G9:()=>ke,ZP:()=>Le,kk:()=>Se,cV:()=>Ie});var n=t(667294),a=t(702664),o=t(157796),r=t(391254),l=t(283698),s=t(313047),d=t(100183),c=t(185894),u=t(81636),p=t(898781),h=t(883119),m=t(785893);function g(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const _="BizNuxHomefeedLoader",x=[140,220,265],v=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{}}),y=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{},b=[`${_}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${_}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class w extends n.PureComponent{constructor(...e){super(...e),g(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),g(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),g(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:i}=this.props,{enterAnimationFinished:t,startExitAnimation:n}=this.state;!t||i||n||(0,l.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const i=e.current.querySelectorAll(".PinCard__imageWrapper"),t=Array.from({length:this.numberOfColumns},(e=>[]));for(let n=0;n<i.length;n+=1){const e=i[n].getBoundingClientRect();t[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return t}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,i,t){const n=this.numberOfColumns+1,a=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*a+16*(e+1),top:t,width:a,height:x[(e+i)%x.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:i}=this.state,t=Array(this.numberOfColumns).fill(s.DEFAULT_HEIGHT),n=this.gridCellDimensionsByColumn,a=e.map(((e,a)=>{const o=a%this.numberOfColumns,r=Math.floor(a/this.numberOfColumns),l=v[a%v.length],s=t[o],d=this.computeGridCellLayout(o,r,s),c=(({color:e,startAnimation:i,originDimension:t,destinationDimension:n={}})=>{const a=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:t.height,width:t.width,left:t.left,top:t.top,backgroundColor:e,borderRadius:"8px",...i?a:{}}})({color:l,startAnimation:i,originDimension:d,destinationDimension:n&&n[o][r]});return t[o]+=16+d.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:y(i)},children:(0,m.jsx)(h.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(r.Z,{unsafeCSS:(0,d.Ll)(b)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:f(e)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function P(e){const i=(0,p.ZP)(),t=(0,a.useSelector)((({topics:e})=>e)),n=(0,a.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,m.jsx)(w,{...e,dismissLoader:()=>n((0,c.MI)(!1)),i18n:i,selectedTopics:Object.keys(t).filter((e=>t[e].is_followed)).map((e=>t[e]))})}var j=t(794987),S=t(200310),k=t(447635),T=t(609700),I=t(30700),C=t(172071),A=t(317254),z=t(920231),D=t(459523),F=t(481277);function L({text:e,isSelected:i,icon:t,animationType:n,position:a,hasStartPulling:o,isExecuted:r}){return(0,m.jsxs)(h.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,m.jsx)(h.xu,{color:i?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:o?4:0,dangerouslySetInlineStyle:i&&r?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:i&&"move"===n?40:0}},children:(0,m.jsx)(h.JO,{size:100*a<24?100*a:24,icon:t,accessibilityLabel:e,color:i?"light":"dark"})}),(0,m.jsx)(h.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"all .3s ease-out"}},children:(0,m.jsx)(h.xv,{align:"center",size:"100",children:e})})]})}var Z=t(966113);function E({enabled:e,onSelect:i,refreshing:t}){const a=(0,n.useRef)(null),[o,r]=(0,n.useState)(0),[l,s]=(0,n.useState)(!1),d=t?0:o/250,c=d>0,u=()=>{s(!1),r(0)};(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!t&&(a.current=e.touches[0].clientY)},n=e=>{if(a.current){const i=.5*(e.touches[0].clientY-a.current);i>0&&(r(i),e.preventDefault())}},l=e=>{a.current&&(s(!0),i({pullDistance:o,position:d,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",l),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",l)}}}),[e,i,o,t,d]);const p=a.current;return{pullDistance:o,hasStartPulling:c,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:l}}var M=t(407043),U=t(276775);const{ACCOUNT_EDIT_TUNER:R}=Z.ZPm.settings;function O({enabled:e,onPull:i,refreshing:t}){const n=(0,p.ZP)(),a=(0,U.useHistory)(),{logContextEvent:o}=(0,M.v)(),r=e=>e>=.6,l=e=>e>.4&&e<.6,{position:s,hasStartPulling:d,PULL_MENU_DISTANCE:c,isExecuted:u}=E({enabled:e,onSelect:e=>{const{position:t,resetState:n}=e;l(t)?setTimeout((()=>{o({view_type:1,event_type:158,view_parameter:92}),i(),n()}),500):r(t)?setTimeout((()=>{o({view_type:1,event_type:10144,view_parameter:92}),a.push(R),n()}),500):n()},refreshing:t}),g=n._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),_=n._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,m.jsx)(h.xu,{children:e&&(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",direction:"column",height:s*c,justifyContent:"center",marginBottom:d?4:0,children:[(0,m.jsx)(L,{text:_,isSelected:r(s),icon:"edit",animationType:"move",position:s,hasStartPulling:d,isExecuted:u}),(0,m.jsx)(L,{text:g,isSelected:l(s),icon:"refresh",position:s,hasStartPulling:d,isExecuted:u})]})})}function N({enabled:e,onPull:i,refreshing:t}){const n=(0,p.ZP)(),{logContextEvent:a}=(0,M.v)(),{position:o,startYRefCurrent:r,pullDistance:l}=E({enabled:e,onSelect:e=>{const{pullDistance:t,resetState:n}=e;t>=120&&(a({view_type:1,event_type:158,view_parameter:92}),i()),n()},refreshing:t}),s=Math.min(o,1),d=n._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,m.jsx)(h.xu,{children:e&&(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*o,dangerouslySetInlineStyle:{__style:{opacity:s,transition:null===r?"all .3s ease-out":void 0}},children:(0,m.jsx)(h.JO,{size:40,icon:r&&l<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:d})})})}var B=t(773285);function H({enabled:e,onPull:i,refreshing:t}){const{checkExperiment:a}=(0,B.F)(),{anyEnabled:o}=a("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,m.jsx)(n.Fragment,{children:o?(0,m.jsx)(O,{enabled:e,onPull:i,refreshing:t}):(0,m.jsx)(N,{enabled:e,onPull:i,refreshing:t})})}var W,V=t(995228),K=t(740990),$=t(5724),q=t(585112),G=t(829407),Y=t(784590),X=t(19121),J=t(544826),Q=t(693099),ee=t(273712),ie=t(957161),te=t(550407),ne=t(722647),ae=t(706512),oe=t(167912);const re=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],le=[140,220,265],se=e=>({position:"absolute",width:"100%",height:"100vh",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{}}),de=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{},ce=["NuxHomefeedLoader_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }","NuxHomefeedLoader_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"],ue=e=>e._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details');function pe({gridContainerRef:e,homefeedLoading:i,selectedTopics:t}){const g=(0,p.ZP)(),[_,x]=(0,n.useState)(!1),[v,f]=(0,n.useState)(!1),y=(0,a.useDispatch)(),b=(0,ae.Z)();let w,P;(0,n.useEffect)((()=>(window.scrollTo(0,0),w=setTimeout((()=>{x(!0)}),3e3),()=>{clearTimeout(w),clearTimeout(P)})),[]),(0,n.useEffect)((()=>{i||!_||v||(0,l.Z)((()=>{f(!0),P=setTimeout((()=>{b({event_type:8900,view_type:24,view_parameter:261}),y((0,c.gH)(!1))}),2550)}))}),[i,_,v]);const j=()=>Math.max(Math.floor(window.innerWidth/200),2);return(0,m.jsx)(u.Z,{log:{view_type:24,view_parameter:261},children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(r.Z,{unsafeCSS:(0,d.Ll)(ce)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:se(v)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(o.Z,{color:"dark",duration:5550,finalProgress:100}),(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"500",children:ue(g)})}),(()=>{const i=j(),n=Array(i).fill(s.DEFAULT_HEIGHT),a=(()=>{const i=j();if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:i},(e=>[]));for(let e=0;e<t.length;e+=1){const a=t[e].getBoundingClientRect();n[Math.round(a.left/(window.innerWidth/i))].push(a)}return n})(),o=t.map(((e,t)=>{const o=t%i,r=Math.floor(t/i),l=re[t%re.length],s=((e,i,t)=>{const n=j(),a=n+1,o=(window&&window.innerWidth-8*a)/n;return{left:e*o+8*(e+1),top:t,width:o,height:le[(e+i)%le.length]}})(o,r,n[o]),d=(({color:e,startAnimation:i,originDimension:t,destinationDimension:n={}})=>{const a=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:t.height,width:t.width,left:t.left,top:t.top,backgroundColor:e,borderRadius:"8px",...i?a:{}}})({color:l,startAnimation:v,originDimension:s,destinationDimension:a&&a[o][r]});return n[o]+=8+s.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,m.jsx)(h.xu,{margin:4,dangerouslySetInlineStyle:{__style:de(v)},children:(0,m.jsx)(h.X6,{color:"light",size:"400",children:e.name})})},t)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100vh",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"2.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"2.4s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_SlideUp"}},children:o})})()]})})]})})}const he=void 0!==W?W:W=t(248639);function me(){const e=(0,p.ZP)();return(0,m.jsx)(h.xu,{height:"100vh",width:"100vw",children:(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"500",children:ue(e)})})})}function ge({gridContainerRef:e,homefeedLoading:i}){var t,n,a;const{v3OrientationTopicsQuery:o}=(0,oe.useLazyLoadQuery)(he,{}),r=(null!==(t=null==o||null===(n=o.data)||void 0===n||null===(a=n.connection)||void 0===a?void 0:a.edges)&&void 0!==t?t:[]).filter(Boolean).reduce(((e,i)=>{var t;return i.node&&i.node.isFollowed?[...e,{name:null!==(t=i.node.name)&&void 0!==t?t:""}]:e}),[]);return(0,m.jsx)(pe,{gridContainerRef:e,homefeedLoading:i,selectedTopics:r})}var _e=t(984766),xe=t(50286),ve=t(112690),fe=t(444445);const ye=e=>`BREAK_IN_${e}`,be=new Map,we=e=>{const i=be.get(e);if(i)return i;const t=Object.freeze({type:"FEED_BREAK_IN",id:ye(e)});return be.set(e,t),t};var Pe=t(591042);function je(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const Se=({isDesktop:e})=>{const i=(0,_e.pinRepPaddingInBoint)({isDesktop:e});return i?-i:0},ke=-2,Te={},Ie=e=>{Te[e]&&Te[e].handlePullToRefresh()},Ce=(e,i)=>e.slice(0,i).map((e=>e.id)),Ae=()=>{const e="desktop"===(0,xe.ZP)(),i=(0,_e.pinRepPaddingInBoint)({isDesktop:e}),t=i?-i:0;return(0,m.jsx)(h.xu,{marginTop:t,marginBottom:t,paddingY:i})},ze=({children:e,feedRef:i,viewParameter:t,viewType:n})=>(0,X.Z)().isAuth?e:(0,m.jsx)(te.g,{feedRef:i,viewParameter:t,viewType:n,children:e});class De extends n.PureComponent{constructor(...e){super(...e),je(this,"state",{refreshing:!1,plpIds:(0,J.HW)().extraPlpIds,plpFeed:[]}),je(this,"backonlineAutoFetchResource",(()=>{this.props.feedResource.fetchMore()})),je(this,"onPinTouch",(e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const i=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,i)}})),je(this,"handlePullToRefresh",(()=>{this.props.feedResource.refresh(),this.setState({refreshing:!0})})),je(this,"gridContainerRef",(0,n.createRef)()),je(this,"renderPinterestTVPin",(e=>{const{creator_class:i,creator_class_instance:t,id:a}=e,{creator:o}=i,{title:r,starts_at:l}=t,s=t.live_status===ee.Ct.POST_LIVE,d=t.live_status===ee.Ct.PRE_LIVE;return(0,m.jsx)(h.xu,{width:"100%",padding:1,children:d?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(q.Z,{creatorClass:i,creatorClassInstance:t,pinId:a,variant:"grid"}),(0,m.jsx)(S.Z,{isEpisodeReplay:s,isEpisodeUpcoming:d,pinId:a,startsAt:l,title:r,user:o})]}):(0,m.jsx)(k.Z,{feedItem:e},i.id)},a)})),je(this,"renderFeedPin",((e,i)=>{const{feedItemProps:t,hidePinMetadata:n=!1,lazyLoadBelowFoldIndex:a,location:o,pins:r,priorityFetchAboveFoldIndex:l,renderSquarePins:s,showSeoMetadata:d,squarePins:c,topLevelTrafficSource:u,topLevelTrafficSourceDepth:p,trafficSource:h,duploUnauthRelatedPinsAutoplayExpGroup:g}=this.props,{auxData:_,componentType:x,feedback:v,imageOnly:f,impressionData:y,objectIdStr:b,oneTapSave:w,onFeedItemClick:P,onPinLinkClick:j,shouldAllowProductPriceIndicator:S,showSeoMetadata:k,viewData:T,viewParameter:I,viewType:C}=t||{},A=(o.search||"").includes("force_seo"),z=r[e.id];let D=!1,F=!1;return a&&(D=i>a),l&&(F=i<=l),z.creator_class&&z.creator_class_instance?this.renderPinterestTVPin(z):(0,m.jsx)(_e.default,{auxData:_,componentType:x||0,duploFeedItemProps:{hidePinMetadata:n,onPinClick:P,onPinLinkClick:j,showSeoMetadata:d||A||k},duploIsSquarePin:s||c,duploLazyLoadImage:D,duploOneTapSave:w,duploPriorityFetchImage:F,duploShouldAllowProductPriceIndicator:S,feedback:v,imageOnlyOption:f?"image-only":"default",impressionData:y,objectIdStr:b,pinId:e.id,slotIndex:i,topLevelTrafficSource:u,topLevelTrafficSourceDepth:p,trackingParams:e.trackingParams,trafficSource:h,viewData:T,viewParameter:I,duploUnauthRelatedPinsAutoplayExpGroup:g,viewType:C||1})})),je(this,"renderFeedItem",(({data:e,itemIdx:i})=>{const{breakIns:t,feedItems:n,feedItemProps:a,renderFeedItem:o,trafficSource:r}=this.props;if(o)return o(e,i);const{viewParameter:l,viewType:s}=a||{};switch(e.type){case"pin":return(0,m.jsx)(I.Z,{onTouch:this.onPinTouch,pressState:"none",children:this.renderFeedPin(e,i)});case"user":return(0,m.jsx)(T.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===r,viewParameter:l,viewType:s});case"board":return(0,m.jsx)(j.Z,{boardId:e.id,type:"grid",viewParameter:l,viewType:s});case"topic":return(0,m.jsx)($.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:l,viewType:s});case"story":return"number"==typeof l?(0,m.jsx)(F.Z,{slotIndex:i,storyId:e.id,viewParameter:l,viewType:s||1}):null;case"FEED_BREAK_IN":return t?(({breakIns:e,id:i,items:t})=>{const n=e.find((({index:e})=>ye(e)===i));return null!=n&&n.render?n.render(t||[]):null!=n&&n.content?n.content:null})({breakIns:t,id:e.id,items:n||[]}):null;default:return null}}))}componentDidMount(){window.addEventListener("online",this.backonlineAutoFetchResource);const{logFeed:e,feedKey:i,feedItemProps:t}=this.props;if(e){const{viewParameter:e,viewType:i,auxData:n,componentType:a}=t||{},o={event_type:13};e&&(o.view_parameter=e),i&&(o.view_type=i),n&&(o.aux_data=n),a&&(o.component=a),this.props.logContextEvent(o)}((e,i)=>{Te[e]=i})(i,this)}setPlpFeedData(e){const{feedItems:i,pins:t}=this.props,{plpIds:n}=this.state;if(e)return(0,ie.L_)(Q.zR),void this.setState({plpIds:[],plpFeed:[]});if(n.length>0&&i&&i.length>0){const e=n[0],a=t[e],o=i.slice(0,5).map((e=>e.id)).includes(e);a&&!o&&this.setState({plpFeed:[{id:n[0],type:"pin",trackingParams:i[0].trackingParams}].concat(i)})}}logHomefeedRefreshStats(e,i,t,n){const{locale:a}=this.props,{refreshing:o}=this.state;if(o&&i.isFetching&&!e.isFetching&&t&&t.length>0&&n&&n.length>0){const e=Ce(n,5),i=Ce(t,5),o={appType:"mweb",language:(a?a.slice(0,2):void 0)||"unknown",locale:a||"unknown"};C.Z.increment("home_product.homefeed.refresh",1,o),r=e,l=i,JSON.stringify(r)===JSON.stringify(l)&&C.Z.increment("home_product.homefeed.refresh.no_change",1,o)}var r,l}componentDidUpdate(e){const{feedItems:i}=e,{feedKey:t,feedItems:n}=this.props,{plpFeed:a,plpIds:o,refreshing:r}=this.state,l="homefeed"===t;r&&e.feedResource.isFetching&&!this.props.feedResource.isFetching&&this.setState({refreshing:!1}),l&&this.logHomefeedRefreshStats(this.props.feedResource,e.feedResource,n,i);const s=o.length>0;if(l&&s){const e=!!i&&i.length>0,t=!!n&&n.length>0,o=!e&&t,r=!!n&&n.length>0&&!!i&&i.length>0&&i[0]!==n[0],l=!!n&&n.length>0&&!!i&&i.length>0&&i[0]===n[0]&&i.length!==n.length,s=t&&!r&&0===a.length;(o||r||l||s)&&this.setPlpFeedData(r)}}componentWillUnmount(){var e;window.removeEventListener("online",this.backonlineAutoFetchResource),e=this.props.feedKey,delete Te[e]}renderFeedItems(e){const{hidePinMetadata:i,fullWidthBreakIn:t,deviceType:a,emptyState:o,feedKey:r,feedResource:l,gridConfig:s,pullToRefresh:d,serverRender:c,showBizNuxHomefeedLoader:u,showNuxHomefeedLoader:p,trafficSource:g,feedItemProps:_}=this.props,{viewParameter:x,viewType:v}=_||{},{key:f}=s||{},y=r+(f?`|${f}`:""),b="user_search"===g,w=b?window.innerWidth-16:200,j={columnWidth:"desktop"===a?fe.yF:w,Item:this.renderFeedItem,gutterWidth:"desktop"===a?4*fe.jC:void 0,loadItems:l.fetchMore,minCols:b?1:2,...s},S=!p&&!u&&l.isFetching&&0===e.length&&!this.state.refreshing,k=t?e.slice(0,t.index):e,T=t?e.slice(t.index):[];let I,C,F;(r.includes("homefeed")||r.includes("search"))&&(I=!0,C=!0,F=Object.values(this.props.pins).length?Object.values(this.props.pins):void 0);const L="desktop"===a&&"flashlight"===g,Z=L?0:fe.qG;return(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(H,{enabled:!!d,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:Z,marginEnd:Z,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(A.Z,{isAtEndOfFeed:l.isAtEnd,pinData:F,includeVideos:C,includeBackgroundImages:I,itemCount:e.length,children:e.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:Se({isDesktop:"desktop"===a}),children:(0,m.jsx)(K.Z.Consumer,{children:e=>(0,m.jsx)(n.Fragment,{children:(0,m.jsxs)(ze,{feedRef:this.gridContainerRef,viewParameter:x,viewType:v||1,children:[(0,m.jsx)(z.Z,{cacheKey:y,id:c?r:void 0,items:k,scrollContainerRef:e,serverRender:c,resetPositions:i,...j}),null==t?void 0:t.content,T.length>0&&(0,m.jsx)(z.Z,{cacheKey:`${y}_afterBreak`,items:T,scrollContainerRef:e,...j})]})})})}):l.isFetching?(0,m.jsx)(Ae,{}):null!=o?o:null}),S&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(D.Z,{partialViewportWidth:L})}),p&&(0,m.jsx)(V.Z,{fallback:(0,m.jsx)(me,{}),children:(0,m.jsx)(ge,{homefeedLoading:l.isFetching,gridContainerRef:this.gridContainerRef})}),u&&(0,m.jsx)(P,{homefeedLoading:l.isFetching,gridContainerRef:this.gridContainerRef})]})]})}render(){const{feedItems:e,feedKey:i,isAuthenticated:t}=this.props,{plpFeed:n}=this.state,a=e||[];return"homefeed"!==i?this.renderFeedItems(a):t&&n.length>0?this.renderFeedItems(n):this.renderFeedItems(a)}}function Fe({feedOffset:e,itemShouldBeExcluded:i,resource:{error:t,...o},...r}){const{breakIns:l,feedKey:s}=r,d=(0,U.useLocation)(),u=(0,xe.ZP)(),p=(0,a.useDispatch)(),h=(0,ve.Z)(),{isAuthenticated:g,isBizNuxHomefeedLoadShown:_,isNuxHomefeedLoadShown:x,isSeoBot:v,locale:f}=(0,a.useSelector)((({session:e})=>e)),y=(0,a.useSelector)((({feeds:e})=>e[s])),b=(0,a.useSelector)((({pins:e})=>e)),w=(0,a.useSelector)((({session:e})=>e.firstHomeFeedRequestAfterNux));(0,n.useEffect)((()=>{"homefeed"===s&&y&&y.length>0&&w&&p((0,c.H5)(!1))}),[p,y,s,w]);const P=Object.values(null!=b?b:{}),j=P.some((e=>!!e.creator_class&&!!e.creator_class_instance)),{getSubscription:S,setSubscription:k}=(0,Pe.xs)({});(0,G.Z)((()=>{j&&P.filter((e=>!!e.creator_class&&!!e.creator_class_instance&&e.creator_class_instance.live_status===ee.Ct.PRE_LIVE)).forEach((e=>{var i,t;return k(e.id,null!==(i=null===(t=e.creator_class)||void 0===t?void 0:t.is_viewing_user_subscribed)&&void 0!==i&&i)}))}));const T=(0,n.useMemo)((()=>({getSubscription:S,referrer:41,setSubscription:k})),[S,k]);let I=y;I&&(l&&(I=(({breakIns:e,items:i})=>e.map((e=>e.index)).sort().reduce(((e,i)=>e.length<i?e:[...e.slice(0,i),we(i),...e.slice(i)]),i))({items:I,breakIns:l})),i&&(I=I.filter((e=>!i(e)))),e&&(I=I.slice(e)));const C=(0,ne.T)();if(C){const{setFirstRelatedPinId:e}=C;I&&I.length>0&&e(I[0].id)}return j?(0,m.jsx)(Pe.J1,{value:T,children:(0,m.jsx)(De,{...r,deviceType:u,feedItems:I,feedResource:o,isAuthenticated:g,locale:f,location:d,logContextEvent:h,pins:b,showBizNuxHomefeedLoader:!!_,showNuxHomefeedLoader:!!x,showSeoMetadata:v||!g})}):(0,m.jsx)(De,{...r,deviceType:u,feedItems:I,feedResource:o,isAuthenticated:g,locale:f,location:d,logContextEvent:h,pins:b,showBizNuxHomefeedLoader:!!_,showNuxHomefeedLoader:!!x,showSeoMetadata:v||!g})}function Le({resourceConfig:e,...i}){const t=(0,Y.Z)(e);return(0,m.jsx)(Fe,{...i,resource:t})}},118725:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(702664),a=t(70598),o=t(281180),r=t(5226),l=t(785893);function s({user:e,invertColors:i,isSecondaryButton:t,onTap:s,size:d,viewParameter:c,viewType:u}){const p=(0,n.useDispatch)(),{id:h}=null!=e?e:{},m=(0,o.kW)(),g=m[h]?m[h].explicitly_followed_by_me:null==e?void 0:e.explicitly_followed_by_me;return(0,l.jsx)(a.Z,{id:h,onFollow:()=>{p((0,r.ZN)(h)),s&&s()},onUnfollow:()=>{p((0,r.fv)(h)),s&&s()},size:d,invertColors:i,isSecondaryButton:t,isFollowed:g,isUserFollowButton:!0,followEventType:45,unfollowEventType:46,viewParameter:c,viewType:u})}},825077:(e,i,t)=>{t.d(i,{fv:()=>x,GR:()=>h,Hs:()=>f,Mv:()=>g,uc:()=>_,dL:()=>m,qS:()=>v,Y4:()=>w,HE:()=>b,Cy:()=>y});var n=t(667294),a=t(973935),o=t(124580),r=t(407043),l=t(785893);function s(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class d extends n.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return n.Children.only(this.props.children)}}function c(e){const{logImpression:i}=(0,r.v)();return(0,l.jsx)(d,{...e,logImpression:i})}var u=t(773285);function p({auxData:e,component:i,eventData:t,eventType:a,impressionType:l,isPaused:s,objectIdStr:d,onTracked:c,viewData:u,viewType:p,viewParameter:h}){const m=(0,n.useRef)(null),{logImpression:g}=(0,r.v)(),_=(0,n.useCallback)((()=>{const n=n=>{g({viewData:u||{},viewType:p,viewParameter:h,eventType:a,impressionType:l,auxData:e,component:i,objectIdStr:d,eventData:{endTime:n.endTime,time:n.startTime,...t}}),c&&c(t)};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=t;o.Z.start(m.current).onExitViewport(n).setDebugId(e||i||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,n.useEffect)((()=>{s||_();const e=m.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[s,_]),m}const h=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const i=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},g=e=>{const i=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},_=e=>{const i=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},x=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const{checkExperiment:i}=(0,u.F)(),t=i("web_mweb_story_impression_fix").anyEnabled,n=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:t?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},f=e=>{const{checkExperiment:i}=(0,u.F)(),t=i("web_mweb_story_impression_fix").anyEnabled;return(0,l.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:t?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},y=e=>{const i=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},b=e=>{const i=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},w=e=>{const i=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},749771:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(883119),a=t(785893);function o({skinToneOvalHeight:e,skinToneOvalWidth:i,swatchColors:t}){return(0,a.jsx)(n.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:i,wrap:!0,children:t.map(((t,o)=>(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t}},height:e/2,width:i/2},`${t}-${o}`)))})}var r=t(898781),l=t(112690);const s={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function d({onClickApplyFilter:e,query:i,selectedSkinToneTerm:t,showHeaderText:d=!0,skinToneFilters:c=s}){const u=(0,r.ZP)(),p=(0,l.Z)(),h=c.options,m=`/search/pins/?rs=rs&q=${i}`,g=t?u._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):u._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text'),{filtersContainerHeight:_,filtersContainerWidth:x,skinToneOvalHeight:v,skinToneOvalWidth:f}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,a.jsxs)(n.kC,{alignItems:"center",direction:"column",height:d?88:52,children:[d&&(0,a.jsx)(n.xu,{marginBottom:2,children:(0,a.jsx)(n.xv,{color:"default",overflow:"normal",weight:"bold",children:g})}),(0,a.jsx)(n.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:h.map((({swatch_hex_colors:r,term:l},s)=>(0,a.jsx)(n.iP,{role:"link",onTap:()=>{!function(e,i){const{index:t,query:n,onClickApplyFilter:a}=e;i({aux_data:{entered_query:n,filter_type:"skin_tone",filter_value:t},element:1341,event_type:102,view_parameter:43,view_type:2}),null==a||a()}({index:s,query:i,onClickApplyFilter:e},p)},tapStyle:"none",href:`${m}${t!==l?`&filters=${encodeURIComponent(l)}`:""}`,children:(0,a.jsx)(n.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:t===l?"selected":"default",display:"flex",height:_,justifyContent:"around",rounding:"pill",width:x,children:(0,a.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:_-4,justifyContent:"around",rounding:"pill",width:x-4,children:(0,a.jsx)(o,{skinToneOvalHeight:v,skinToneOvalWidth:f,swatchColors:r})})})},l)))})]})}},30700:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({children:e,onMouseEnter:i,onMouseLeave:t,onTouch:o,rounding:r,fullWidth:l=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(n.iP,{fullWidth:l,onMouseEnter:i&&(({event:e})=>i(e)),onMouseLeave:t&&(({event:e})=>t(e)),onTap:o&&(({event:e})=>o(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},984766:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ze,pinRepPaddingInBoint:()=>we});var n=t(667294),a=t(702664),o=t(319915),r=t(680046),l=t(558150),s=t(248975),d=t(609943),c=t(958007),u=t(954571),p=t(30700),h=t(81226),m=t(116303),g=t(561195),_=t(883119),x=t(785893);function v({maxRating:e,rating:i,text:t}){return(0,x.jsxs)(_.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,x.jsx)(g.Z,{max_rating:e||"",rating:i||"",width:10}),t&&(0,x.jsx)(n.Fragment,{children:(0,x.jsx)(_.xu,{marginStart:1,overflow:"hidden",children:(0,x.jsx)(_.xv,{size:"100",lineClamp:1,children:t})})})]})}var f=t(898781),y=t(643010),b=t(755506);const w=({pinId:e})=>{var i;const t=(0,f.ZP)(),o=(0,a.useSelector)((({pins:e})=>e))[e],r=(0,y.Yc)();if(!o)return null;const{pinProduct:l}=(0,b.Fi)({i18n:t,pin:o});if(!l||!l.price)return null;const s=l.standard_price||l.price,d=l.min_price||"",c=l.max_price||"",u=l.in_stock||!1,p=null===(i=o.rich_summary)||void 0===i?void 0:i.site_name,{textColor:h,inStockColor:m}=(({isDarkMode:e,inStock:i})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:i?"dark":"subtle"})({isDarkMode:r,inStock:u});return(0,x.jsxs)(n.Fragment,{children:[p&&(0,x.jsx)(_.xv,{color:h,size:"100",children:p}),(0,x.jsxs)(_.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[d&&c?(0,x.jsxs)(_.xv,{size:"100",color:m,weight:"bold",children:[d," - ",c]}):(0,x.jsx)(_.xv,{size:"100",color:m,weight:"bold",children:s}),!u&&(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(_.xu,{paddingX:1,children:(0,x.jsx)(_.xv,{size:"100",color:m,weight:"bold",children:"·"})}),(0,x.jsx)(_.xv,{size:"100",color:m,weight:"bold",children:t._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var P=t(947599),j=t(23084),S=t(941646),k=t(50286),T=t(803035),I=t(52022),C=t(997440),A=t(923297),z=t(539497),D=t(904411),F=t(276775),L=t(53987);const Z=(0,n.lazy)((()=>t.e(42368).then(t.bind(t,342368)))),E=({title:e})=>{const i=(0,k.ZP)(),t=(0,I.Z)();return(0,x.jsx)(S.Z,{id:"related-pins-title",children:(0,x.jsx)(_.iP,{onTap:()=>{t({action:"click",item:"related-pins-title"})},children:(0,x.jsx)(_.xv,{size:"desktop"===i?"300":"100",weight:"bold",children:e})})})},M=({allowPriceIndicator:e,contextMenu:i,credits:t,hidePinMetadata:r,hasAffiliatedProducts:l,isPromotedPin:s,isSponsoredPin:d,isSquarePin:c,marginTop:u,marginStart:h,marginEnd:g,onCreditsClick:y,pinDescription:b,pinId:M,pinnedToBoardId:U,pinReactionCounts:R,recipeCookTime:O,recipeMaxRating:N,recipeRating:B,recipeReviewCount:H,shouldShowReactions:W,style:V="default",title:K,type:$,duploConversationPin:q})=>{var G,Y,X,J,Q,ee,ie,te,ne;const ae=(0,f.ZP)(),oe=(0,F.useLocation)(),re=(0,I.Z)(),le=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),se=(0,k.ZP)(),de=K||b||"oneTap"===$,ce=(0,a.useSelector)((({pins:e})=>e[M])),ue=(0,D.gC)()(U||ce&&String(null===(G=ce.board)||void 0===G?void 0:G.id)),pe=ce.pinner,he=s&&(null===(Y=ce.promoter)||void 0===Y?void 0:Y.id)===(null===(X=ce.native_creator)||void 0===X?void 0:X.id),me=ce.sponsorship?(0,x.jsx)(_.xv,{inline:!0,size:"100",weight:"bold",children:null==t?void 0:t.subtitle}):void 0,ge="overlay"===V,_e=W&&R&&Object.keys(R).length>0&&(0,x.jsx)(_.xu,{height:18,display:ge?"flex":void 0,justifyContent:"center",children:(0,x.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,x.jsx)(P.Z,{children:(0,x.jsx)(Z,{pinReactionCounts:R})})})}),xe=r?0:u||1;return(0,x.jsx)(n.Fragment,{children:(0,x.jsxs)(_.xu,{display:"flex",height:c?e?104:72:void 0,marginEnd:g||1,marginStart:h||1,position:"relative",children:[(0,x.jsxs)(_.xu,{flex:"grow",children:[(0,x.jsx)(_.xu,{display:"flex",marginTop:xe,children:(0,x.jsx)(_.xu,{flex:"grow",children:(0,x.jsxs)(n.Fragment,{children:[(0,x.jsxs)(n.Fragment,{children:[(d||l)&&!he&&(0,x.jsx)(_.xu,{marginBottom:1,children:(0,x.jsx)(_.xu,{flex:"grow",overflow:"hidden",children:(0,x.jsx)(j.Z,{hasAffiliatedProducts:l,isPromoted:s,sponsorName:me,sponsorshipStatus:null===(J=ce.sponsorship)||void 0===J?void 0:J.status})})}),K&&(0,x.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:le&&!r&&(0,x.jsx)(E,{title:K})}),"desktop"===se&&!le&&b&&!(0,L.$Y)(oe)&&!(0,L.E0)(oe)&&(0,x.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,x.jsx)(_.iP,{onTap:()=>{re({action:"click",item:"related-pins-description"})},children:(0,x.jsx)(_.xv,{size:"100",inline:!0,children:b})})})]}),e&&(0,x.jsx)(w,{credits:t,pinId:M}),"recipe"===$&&!!H&&(0,x.jsx)(n.Fragment,{children:(0,x.jsxs)(_.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!H&&(0,x.jsx)(v,{maxRating:N||"",rating:B||"",text:""}),!!O&&(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(_.xu,{paddingX:1,children:(0,x.jsx)(_.xv,{size:"100",children:"·"})}),(0,x.jsx)(_.xv,{size:"100",children:(0,C.IS)({...(0,A.u)(O),i18n:ae})})]})]})})]})})}),!ge&&_e,t&&(0,x.jsx)(p.Z,{onTouch:e=>y&&y(e),pressState:"none",children:(0,x.jsx)(_.xu,{children:(!r||d||he)&&(0,x.jsxs)(_.xu,{display:"flex",marginTop:ge?-9:u||(de&&!r?1:0),marginBottom:r?2:0,position:"relative",direction:ge?"column":"row",children:[(0,x.jsx)(_.xu,{flex:"none",display:ge?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,x.jsx)(_.iP,{onTap:()=>{re({action:"click",item:"related-pins-avatar-image"})},children:(0,x.jsx)(m.Z,{accessibilityLabel:t.title||"string"==typeof t.subtitle&&t.subtitle||ae._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:t.title||"",outline:ge,size:ge?"lg":"sm",src:ge&&t.largeAvatar||t.mediumAvatar||t.avatar||void 0})})}),(0,x.jsx)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ge?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,x.jsxs)(_.iP,{onTap:()=>{re({action:"click",item:"related-pins-name"})},children:[t.title&&(0,x.jsx)(_.xv,{lineClamp:1,size:"100",weight:d&&!he||l?"normal":"bold",children:t.title===(null==pe?void 0:pe.full_name)&&(null!=pe&&pe.is_verified_merchant||null!=pe&&null!==(Q=pe.verified_identity)&&void 0!==Q&&Q.verified)?(0,x.jsx)(T.Z,{badgeSize:"sm",badgeSpacing:2,fullName:t.title,verifiedType:pe.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):t.title}),t.subtitle?(!d&&!r||he)&&(0,x.jsx)(_.xv,{lineClamp:d||l?void 0:1,size:"desktop"===se?"200":"100",weight:"desktop"===se?"bold":"normal",children:t.subtitle}):!le&&ue&&"protected"!==ue.privacy?(0,x.jsx)(S.Z,{id:"related-pin-text-below-name",children:(0,x.jsx)(_.rU,{underline:"hover",href:null!==(ee=ue.url)&&void 0!==ee?ee:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),re({action:"click",item:"related-pin-text-below-name"})},children:(0,x.jsx)(_.xv,{size:"200",children:ue.name})})}):null]})})]})})}),!t&&"desktop"===se&&!!pe&&((0,L.L6)(oe)||(0,L.cD)(oe)||(0,L.$Y)(oe))&&(0,x.jsxs)(_.xu,{display:"flex",marginTop:de?2:0,children:[(0,x.jsx)(_.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,x.jsx)(_.iP,{onTap:()=>{re({action:"click",item:"related-pins-avatar-image"})},children:(0,x.jsx)(m.Z,{name:pe.username||"",size:"sm",src:null!==(ie=pe.image_small_url)&&void 0!==ie?ie:void 0})})}),(0,x.jsxs)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,x.jsx)(_.rU,{underline:"hover",href:`/${pe.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_board"),re({action:"click",item:"related-pins-name"})},children:(0,x.jsx)(_.xv,{size:"200",weight:"bold",children:pe.full_name||pe.username})}),ue&&"protected"!==ue.privacy?(0,x.jsx)(S.Z,{id:"related-pin-text-below-name",children:(0,x.jsx)(_.rU,{underline:"hover",href:null!==(te=ue.url)&&void 0!==te?te:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),re({action:"click",item:"related-pin-text-below-name"})},children:(0,x.jsx)(_.xv,{size:"200",children:null!==(ne=ue.name)&&void 0!==ne?ne:""})})}):null]})]}),ge&&_e]}),(0,x.jsx)(_.xu,{position:ge?"absolute":void 0,right:!0,children:!q&&i})]})})};var U,R=t(857079),O=t(349700),N=t(773285),B=t(296011),H=t(167912);const W=void 0!==U?U:U=t(7745),V=(e,i)=>{const{checkExperiment:t}=(0,N.F)();return t("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,i)=>{const t=(0,H.useRelayEnvironment)();return(0,x.jsx)(B.t,{invite_code:e,relayEnvironment:t,inviteQuery:W,children:e=>{const t=null!=e&&e.data?e.data.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;const a=t&&!t.is_default_image?t.image_medium_url:"",o=(0,O.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,x.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,x.jsx)(_.zd,{height:32,width:32,children:(0,x.jsx)(m.Z,{name:n,src:a})}),(0,x.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,x.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})(e,i):((e,i)=>(0,x.jsx)(B.Z,{invite_code:e,children:e=>{const t=e?e.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;const a=t&&!t.is_default_image?t.image_medium_url:"",o=(0,O.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,x.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,x.jsx)(_.zd,{height:32,width:32,children:(0,x.jsx)(m.Z,{name:n,src:a})}),(0,x.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,x.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}}))(e,i)},K=({inviteCode:e})=>{const i=(0,f.ZP)();return(0,x.jsx)(_.xu,{minHeight:82,children:(0,x.jsx)(o.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,x.jsx)(P.Z,{fallback:(0,x.jsx)(R.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:V(e,i)})})})};var $=t(545798),q=t(55275);const G={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},Y=(e,i,t)=>(0,x.jsx)(_.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(_.rU,{inline:!0,href:i,tapStyle:"none",underline:"hover",children:t})},e);function X({color:e,getFeedbackText:i,onUnfollow:t,showing:a,unfollowed:o}){const r=(0,f.ZP)(),[l,s]=(0,n.useState)(a?"fadeIn":"initial"),d=(0,n.useRef)(null);(0,n.useEffect)((()=>("initial"===l&&a&&(d.current=window.requestAnimationFrame((()=>s("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[l,s,a]);const{subTitle:c,title:u,unfollow:p}=i(Y);let h=u,m=c;p&&o&&(h=p.title,m=p.subTitle);const g=()=>p?(0,q.t)(p.action,p.actionOptions,t):void 0;return a&&(0,x.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...G[l]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,x.jsxs)(_.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,x.jsxs)(_.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,x.jsxs)(_.xu,{children:[(0,x.jsx)(_.X6,{size:"400",color:"light",children:h}),m&&(0,x.jsxs)(_.xu,{marginTop:1,children:[(0,x.jsx)(_.xv,{color:"light",size:"200",inline:!0,children:m}),(0,x.jsx)(_.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(_.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!o&&p&&(0,x.jsx)(_.xu,{paddingY:1,children:(0,x.jsx)(_.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:g})})]}),!o&&p&&(0,x.jsx)(_.xu,{paddingY:1,children:(0,x.jsx)(_.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:g})})]})})}var J=t(184298),Q=t(992750);function ee({pin:e}){var i,t,n,a;return(0,x.jsxs)(_.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,x.jsx)(_.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,x.jsx)(_.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,Q.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(i=e.rich_summary)||void 0===i?void 0:i.display_name,richMetadataTitle:null===(t=e.rich_metadata)||void 0===t?void 0:t.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(n=e.story_pin_data)||void 0===n||null===(a=n.metadata)||void 0===a?void 0:a.pin_title,placeSummaryName:e.place_summary})||e.description})}),(0,x.jsx)(_.xu,{children:(0,x.jsx)(J.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})}var ie=t(807592),te=t(856919);const ne=({attribute:e,deviceType:i,location:t})=>{const n=(0,I.S)(t);(0,z.My)("unuath.product_attribution.click",{item:e,page:n,device:i})};function ae({pin:e}){var i,t,n,a,o;const r=(0,f.ZP)(),l=(0,k.ZP)(),s=(0,F.useLocation)();if(!e)return null;const{pinProduct:d}=(0,b.Fi)({i18n:r,pin:e}),c=d&&(d.price||d.standard_price||(0,ie.Z)(d)),u=null===(i=e.rich_summary)||void 0===i?void 0:i.site_name,p=(0,Q.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(t=e.rich_summary)||void 0===t?void 0:t.display_name,richMetadataTitle:null===(n=e.rich_metadata)||void 0===n?void 0:n.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(a=e.story_pin_data)||void 0===a||null===(o=a.metadata)||void 0===o?void 0:o.pin_title,placeSummaryName:e.place_summary})||e.description,h=`/pin/${e.id}/`;return(0,x.jsx)(_.xu,{paddingX:2,marginBottom:-1,marginTop:1,display:"flex",direction:"column",children:(0,x.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,x.jsx)(_.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,x.jsxs)(te.MZ,{to:h,accessibilityLabel:p,deeplinkUri:h,children:[c&&(0,x.jsx)(_.iP,{onTap:()=>ne({deviceType:l,attribute:"price",location:s}),children:(0,x.jsx)(_.xv,{size:"100",weight:"bold",children:c})}),(0,x.jsx)(_.xu,{marginTop:1,children:(0,x.jsx)(_.iP,{onTap:()=>ne({deviceType:l,attribute:"title",location:s}),children:(0,x.jsx)(_.xv,{size:"100",weight:"bold",lineClamp:c?3:2,children:p})})}),u&&c&&(0,x.jsx)(_.xu,{marginTop:1,children:(0,x.jsx)(_.iP,{onTap:()=>ne({deviceType:l,attribute:"merchant",location:s}),children:(0,x.jsx)(_.xv,{size:"100",lineClamp:1,children:u})})})]})}),(0,x.jsx)(_.xu,{children:(0,x.jsx)(J.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})})}var oe=t(285230),re=t(364245),le=t(81759),se=t(358589),de=t(477802),ce=t(236458),ue=t(884979),pe=t(825077),he=t(185894),me=t(663023),ge=t(811403),_e=t(378518),xe=t(813401),ve=t(112690),fe=t(550407),ye=t(780679);function be(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const we=({isDesktop:e})=>e?0:1,Pe=e=>Boolean(e.is_eligible_for_web_closeup),je=e=>Boolean(e.promoter&&!e.is_downstream_promotion),Se={width:1,height:1,url:""},ke=e=>{const{attribution:i,embed:t,is_eligible_for_web_closeup:n,rich_summary:a,videos:o,story_pin_data_id:r}=e,l=t||i&&i.embed;return n?"oneTap":o||l&&"video"===l.type?"video":l&&"gif"===l.type?"gif":a&&"product"===a.type_name?"product":a&&"recipe"===a.type_name?"recipe":r?"storyPin":"image"},Te=e=>{if(("video"===ke(e)||je)&&e.videos&&e.videos.video_list){const{duration:i=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,h.Z)(i)}return""},Ie=e=>{var i;if("product"!==ke(e))return null;const[t]=(null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[];if(!t)return null;const n=t.offer_summary;return n&&(n.price||n.max_price)},Ce=(0,n.lazy)((()=>t.e(13777).then(t.bind(t,813777))));class Ae extends n.Component{constructor(...e){super(...e),be(this,"state",{startImpressionTimer:!1,openContextMenuByLongPress:!1,isShowingCustomContextMenu:!1}),be(this,"getPinImage",(()=>{const{pin:e,duploIsSquarePin:i}=this.props;if(!e||!e.images)return Se;var t;if(i)return{height:136,url:null===(t=e.images["236x"])||void 0===t?void 0:t.url,width:136};const n=["236x","170x","136x136","736x","474x","orig"];for(const a of n)if(e.images[a]&&e.images[a].url)return e.images[a];return Se})),be(this,"getImpressionData",(()=>{var e,i;const{pin:t}=this.props,n=null===(e=t.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,a=n?{isNativeVideoAndWatchable:!!(n&&n.url&&n.height&&n.width)||void 0,videoIdStr:n&&t.videos?t.videos.id:void 0}:{},o=this.getPinImage();return{richTypes:t.shopping_flags||[],imageURL:o.url||"",...a,...this.props.impressionData}})),be(this,"getAuxData",(()=>{const{auxData:e={},pin:i,pwaType:t}=this.props;return{commerce_data:(0,l.Z)({isEligibleForPdp:i.is_eligible_for_pdp,isOosProduct:i.is_oos_product,isStaleProduct:i.is_stale_product,pinShoppingFlags:i.shopping_flags}),pwa_type:t,...e}})),be(this,"getFeedbackType",(()=>{const{board:e,feedback:i,viewParameter:t,pin:n}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:i,viewParameter:t,pin:n,pinner:n.pinner})})),be(this,"getRecommendationDescription",(e=>{const{board:i,pin:t}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:t.ad_match_reason,board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:t.pinner,promoter:t.promoter,recommendationReason:t.recommendation_reason,sourceInterest:t.source_interest})})),be(this,"getPinHiddenFeedbackText",(e=>{const{board:i,pin:t}=this.props,n=t.promoter,a=this.feedbackHelpers.getUnfollowAction({board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:t.pinner,sourceInterest:t.source_interest});return je(t)&&null!=n&&n.full_name?{title:"",subTitle:(0,O.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:n.full_name})}:a?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),be(this,"feedbackHelpers",(0,r.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:O.nk})),be(this,"logOneTap",(()=>{const{logContextEvent:e,pin:i,trackingParams:t,viewType:n,viewParameter:a,auxData:o}=this.props,r=(0,d.Z)(t,i.tracking_params),s={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:i.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:i.id,aux_data:{commerce_data:(0,l.Z)({isEligibleForPdp:i.is_eligible_for_pdp,isOosProduct:i.is_oos_product,isStaleProduct:i.is_stale_product,pinShoppingFlags:i.shopping_flags}),grid_index:this.props.slotIndex,image_signature:i.image_signature,...this.props.auxData},clientTrackingParams:r};e({event_type:8948,view_type:n,view_parameter:a,object_id_str:i.id,clientTrackingParams:r,aux_data:{image_signature:i.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...o}}),(0,me.jC)(s),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:r,aux_data:{closeup_navigation_type:"web_closeup",image_signature:i.image_signature},object_id_str:i.id})})),be(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),be(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),be(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),be(this,"handleClick",(e=>{const{auxData:i,componentType:t,deviceType:n,logContextEvent:a,pin:o,slotIndex:r,trackingParams:s,viewParameter:c,viewType:u,duploFeedItemProps:p,isAuth:h,trackInteraction:m,unauthDesktopSignupModalPageContext:g}=this.props,{onPinClick:_}=null!=p?p:{},x=e=>(0,z.My)(`unauth_pin_rep.${e}.${String(c)}`);if(x("click"),a({view_type:u,view_parameter:c,element:o.story_pin_data_id?12372:35,event_type:101,component:t,object_id_str:o.id,clientTrackingParams:(0,d.Z)(s,o.tracking_params),aux_data:{commerce_data:(0,l.Z)({isEligibleForPdp:o.is_eligible_for_pdp,isOosProduct:o.is_oos_product,isStaleProduct:o.is_stale_product,pinShoppingFlags:o.shopping_flags}),grid_index:r,image_signature:o.image_signature,...i}}),Pe(o)||a({event_type:8948,view_type:u,view_parameter:c,object_id_str:o.id,clientTrackingParams:(0,d.Z)(s,o.tracking_params),aux_data:{image_signature:o.image_signature,commerce_data:(0,l.Z)({isEligibleForPdp:o.is_eligible_for_pdp,isOosProduct:o.is_oos_product,isStaleProduct:o.is_stale_product,pinShoppingFlags:o.shopping_flags}),closeup_navigation_type:"click",grid_index:r,cosmic_ray_count:"3",...i}}),!h)switch(m({action:"click",item:"pin"}),u){case 3:(0,z.NC)("click_pin_related_image");break;case 5:(0,z.NC)("click_board_pin_image");break;case 210:(0,z.NC)("click_topic_pin_image")}if(Pe(o)&&this.logOneTap(),_&&_(),"desktop"===n){if(e.metaKey){x("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o.id}/`,"_blank").focus()}else if(!h&&g){const{pinImageClickHandler:i}=g;i({event:e,pin:o,linkTarget:"duploClientNav"})}}})),be(this,"handleCreditsClick",(e=>{var i;const{history:t,logContextEvent:n,pin:a}=this.props,{id:o,sponsorship:r,story_pin_data_id:l}=a,{creator:s,sponsor:d}=r||{},{id:c}=s||{},{id:u}=d||{},p=!!l;e.stopPropagation(),e.preventDefault();const h=null===(i=this.getCredits())||void 0===i?void 0:i.link;h&&t.push(h),n({view_type:3,element:27,event_type:102,object_id_str:o,component:p?230:void 0,aux_data:{pin_id:o,...c&&u?{creator_id:c,sponsor_id:u}:{}}})})),be(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),be(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:i,board:t,setSharingOnBoardPage:n}=this.props;t&&i&&n&&t.isSocialSeasonalBoard&&n(!0,"pin",i.id)})),be(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:i,viewParameter:t}=this.props,n=3375===t;return e&&43===t&&!(0,u.Z)(i.created_at)||n})),be(this,"convertToGif",(e=>{const i=Math.max(e.embed&&e.embed.width||0,236),t=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:i,height:t}}))}componentDidMount(){const{isAuth:e,slotIndex:i,pin:t,viewParameter:n,location:a}=this.props;if(!e&&0===i&&3070===n){const e=a.pathname;(0,le.H$)(e,t)}}getIsClaimedContent(){var e,i;const{pin:t,viewParameter:n}=this.props;return 3375===n&&!(null===(e=t.link_domain)||void 0===e||null===(i=e.official_user)||void 0===i||!i.is_primary_website_verified)}getCredits(){const{board:e,pin:i,viewParameter:t}=this.props,n=i.story_pin_data,a=i.pinner,o=i.promoter,r=null==n?void 0:n.has_product_pins,l=0===t,s=3173===t,d=3375===t,c=this.getIsClaimedContent(),u=i.native_creator,p=!!i.native_creator,h=je(i),{sponsorship:m}=i,{creator:g,sponsor:_}=m||{},x=h&&!!m&&(null==o?void 0:o.id)!==(null==u?void 0:u.id),v=!!m&&g;if(!(h||v||l||s||p||c))return;switch(x?"PROMOTED_SPONSORED":h?"PROMOTED":v?"SPONSORED":p?"AFFILIATED_PRODUCTS":r?"NATIVE_CONTENT":c?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==u?void 0:u.full_name,subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:null!=o&&o.username?`/${o.username}/`:""};case"SPONSORED":if(!m)throw new Error("sponsorship doesn't exist when expected");return{title:null==u?void 0:u.full_name,subtitle:null==_?void 0:_.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==u?void 0:u.full_name,subtitle:"",avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"NATIVE_CONTENT":let t=(null==e?void 0:e.url)||`/pin/${i.id}/`;return d&&(t=null!=u&&u.username?`/${u.username}/`:""),{title:"",subtitle:null==u?void 0:u.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:t};case"CLAIMED_CONTENT":const{link_domain:n}=i,{official_user:r}=n||{};return r?{subtitle:r.full_name,avatar:this.getPinnerImage(r.image_small_url),mediumAvatar:this.getPinnerImage(r.image_medium_url),largeAvatar:this.getPinnerImage(r.image_large_url),link:r.username?`/${r.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`};default:return{title:(null==a?void 0:a.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:i,viewedSharedPins:t,pinId:n}=this.props;return 92===i?null===(e=t&&t[n])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:i,description:t}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==i?void 0:i.display_name,description:t}}renderPinCard(){var e,i,t,n,a,r,l,u,h,m,g,v,f,y,b,w,j,k,T,I,C,A,z,D,F;const{board:L,checkExperiment:Z,country:E,disableAppUpsell:U,duploDisablePinCardPadding:R,disableRounding:O,disableReaction:N,deviceType:B,experience:H,feedback:W,imageOnlyOption:V,i18n:q,isAuth:G,isBot:Y,duploIsSquarePin:J,isImageOnlyExp:ie,location:ne,duploFeedItemProps:le,duploLazyLoadImage:se,duploOneTapSave:pe,duploPinCardDetailsMargin:he,duploPriorityFetchImage:me,pin:ge,slotIndex:_e,viewParameter:xe,viewType:ve,duploShouldAllowProductPriceIndicator:fe,topLevelTrafficSource:ye,topLevelTrafficSourceDepth:be,trafficSource:Se,duploUnauthRelatedPinsAutoplayExpGroup:Ae,trackingParams:ze,trackInteraction:De,vaseDisplayMode:Fe,createUnauthContextMenuHandler:Le,duploConversationPin:Ze}=this.props,{hidePinMetadata:Ee=!1,onPinLinkClick:Me,showSeoMetadata:Ue}=null!=le?le:{},{aggregated_pin_data:Re,category:Oe,image_signature:Ne,promoter:Be,rich_summary:He,title:We,sponsorship:Ve,story_pin_data:Ke}=ge,{description:$e,title:qe}=this.getPinText(),Ge="desktop"===B,Ye=ke(ge),Xe=0===xe,Je=3475===xe,Qe=43===xe,ei=je(ge),ii=!!Ve,ti=null==Ke?void 0:Ke.has_product_pins,ni=null==Ke?void 0:Ke.is_deleted,ai=(0,d.Z)((ne&&ne.state||{}).trackingParams||ze,ge.tracking_params),oi="product"===ke(ge)&&!G&&!Y&&(!Z("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled||ge.is_eligible_for_pdp),ri=ie&&!this.isOverrideImageOnly(),li=L&&L.isSocialSeasonalBoard,si=this.getPinImage(),di=li&&"gif"===Ye?this.convertToGif(ge):si,ci=null===(e=ge.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,ui=(null==ci?void 0:ci.url)||(null===(t=ge.videos)||void 0===t||null===(n=t.video_list)||void 0===n||null===(a=n.V_HLSV4)||void 0===a?void 0:a.url),pi=(0,Q.hP)(null!==(r=ge.description)&&void 0!==r?r:"",ge.description_html||"",null===(l=ge.pin_join)||void 0===l?void 0:l.visual_annotation,ge.alt_text||""),hi=G?$e:(0,c.Z)({storyPinDataId:ge.story_pin_data_id,pinDescription:ge.description,richMetadataDescription:null!==(u=null===(h=ge.rich_metadata)||void 0===h?void 0:h.description)&&void 0!==u?u:"",richSummaryDisplayName:null!==(m=null===(g=ge.rich_summary)||void 0===g?void 0:g.display_name)&&void 0!==m?m:"",placeSummaryName:null!==(v=ge.place_summary)&&void 0!==v?v:"",closeupDescription:null!==(f=ge.closeup_description)&&void 0!==f?f:"",closeupUnifiedDescription:null!==(y=ge.closeup_unified_description)&&void 0!==y?y:""}),mi=H&&H.display_data.hideReactions||!1,gi=H&&H.display_data.hideDesc||!1,_i=!N&&(0,ce.J6)({boardIsCollaborative:null==L?void 0:L.is_collaborative,isDownstreamPromotion:ge.is_downstream_promotion,isPromoted:ge.is_promoted,storyPinDataId:ge.story_pin_data_id,videosId:null===(b=ge.videos)||void 0===b?void 0:b.id})&&!Je&&!mi,xi=!G;let vi;vi=Pe(ge)?ge.tracked_link||ge.link:xi?(0,Q.bN)({pinId:ge.id,seoUrl:ge.seo_url}):(0,Q.BY)(ge.id);const fi=!$e||ri&&!Xe?void 0:$e.trim(),yi=this.getSharedHeaderInviteCode(),bi={accessibilityLabel:pi||qe||$e||"",country:E,deeplinkUri:vi,external:Pe(ge),externalQueryParams:{pin:ge.id,client_tracking_params:ze},isAppUpsellDisabled:U,onTouch:this.handleClick,pinCategory:ge.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:vi,state:{trackingParams:ze,trafficSource:Se,topLevelTrafficSource:ye,topLevelTrafficSourceDepth:be}},upsellType:"direct",viewParameter:xe,viewType:ve,clientTrackingParams:ai},wi=we({isDesktop:Ge}),Pi=ge.native_creator||ge.pinner,ji="search"===Se&&"storyPin"===Ye&&Z("mweb_search_ideapin_module").anyEnabled;return(0,x.jsxs)(_.xu,{"data-test-id":"pin","data-test-pin-id":ge.id,marginBottom:Ge||Ee?0:2,children:[(0,x.jsxs)(_.xu,{"data-test-id":pi||qe||$e?"pin-with-alt-text":"pin-missing-alt-text",paddingY:Ee||R?0:wi,paddingX:R?0:wi,marginBottom:0,onContextMenu:Pi?Le({pinId:ge.id,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?ue.Yw:{}},children:[(0,x.jsxs)(te.MZ,{...bi,children:[!!yi&&(0,x.jsx)(K,{inviteCode:yi}),ni?(0,x.jsx)(oe.Z,{isPinRep:!0}):(0,x.jsx)($.Z,{clientTrackingParams:ai,color:null!==(w=ge.dominant_color)&&void 0!==w?w:"",description:fi,domainLinkData:ge.domain&&ge.link?{clickLoggingOptions:{auxData:{objectId:ge.id,grid_index:_e,sanitized_url:ge.link}},domain:ge.domain,link:ge.link,onClick:Me}:void 0,disableRounding:O,hideBottomCardText:li,image:di,imageAltText:pi,imageCrop:ge.image_crop,isMessenger:li,isPromoted:ei,isSquarePin:J,lazyLoadImage:se,onError:this.handleError,oneTapSave:pe,onLoad:this.handleLoad,openCustomContextMenu:()=>this.setState({openContextMenuByLongPress:!0}),priorityFetchImage:me,disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:Le,pinId:ge.id,pinnedToBoardId:(null===(j=ge.pinned_to_board)||void 0===j?void 0:j.id)||"",pinVideo:(li||ei)&&ci||void 0,videoUrl:ui,productPrice:fe&&!oi?Ie(ge):null,slotIndex:_e,storyData:Ke,title:!ri||Xe?qe:void 0,type:Ye,videoDuration:Te(ge),unauthRelatedPinsAutoplayExpGroup:Ae,viewType:ve,viewParameter:xe})]}),!("image-only"===V)&&(G||"desktop"===B)&&(0,x.jsxs)(_.xu,{children:[!Je&&!Qe&&"desktopParity"===Fe&&(0,x.jsx)(re.Z,{pinId:ge.id,mode:"inlineWithScrollArrows",graphqlRef:null}),!oi&&(0,x.jsx)(te.MZ,{...bi,children:(0,x.jsx)(M,{duploConversationPin:Ze,allowPriceIndicator:!fe&&!oi&&["shop_feed"].includes(Se),marginTop:he,hidePinMetadata:Ee||gi,contextMenu:G&&!ni?(0,x.jsx)(_.xu,{marginStart:1,marginTop:he,children:(0,x.jsx)(_.xu,{height:26,width:24,children:(0,x.jsx)(o.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,x.jsx)(P.Z,{children:(0,x.jsx)(Ce,{adMatchReason:ge.ad_match_reason,bestPinImgSrc:(0,s.Z)({images:ge.images,embedSrc:null===(k=ge.embed)||void 0===k?void 0:k.src,embedType:null===(T=ge.embed)||void 0===T?void 0:T.type}),feedback:W,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:null,imageSignature:Ne,pinCategory:Oe,pinDescription:hi,pinId:ge.id,pinTitle:We,sourceType:ei?"ad":Xe?"following":void 0,viewParameter:xe,viewType:ve,openByLongPress:this.state.openContextMenuByLongPress,trackingParams:ze,toggleLongPress:()=>{this.setState({openContextMenuByLongPress:!1})}})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:ti,isPromotedPin:ei,isSponsoredPin:ii,isSquarePin:J,marginStart:he,marginEnd:he,onCreditsClick:this.handleCreditsClick,pinDescription:hi,pinId:ge.id,pinnedToBoardId:(null===(I=ge.pinned_to_board)||void 0===I?void 0:I.id)||"",pinReactionCounts:ge.reaction_counts,pinTagsChips:(Re||{}).pin_tags_chips,promoterName:null==Be?void 0:Be.full_name,recipeCookTime:ri?void 0:ge.rich_summary&&ge.rich_summary.display_cook_time,recipeMaxRating:ri||null==He||null===(C=He.aggregate_rating)||void 0===C?void 0:C.best_rating,recipeRating:ri||null==He||null===(A=He.aggregate_rating)||void 0===A?void 0:A.rating_value,recipeReviewCount:ri||null==He||null===(z=He.aggregate_rating)||void 0===z?void 0:z.review_count,shouldShowReactions:_i,style:ji?"overlay":"default",title:ji?void 0:qe,type:Ye})})]}),!G&&oi&&(0,x.jsx)(ae,{pin:ge})]}),(null==L?void 0:L.isSocialSeasonalBoard)&&G&&(0,x.jsx)(_.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,x.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,x.jsx)(_.xu,{padding:3,children:(0,x.jsx)(_.xv,{align:"center",weight:"bold",children:q._('Send', ' - ', ' -- ')})})})}),"reported"===ge.feedback_status?(0,x.jsx)(X,{color:null!==(D=ge.dominant_color)&&void 0!==D?D:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:ge.id,showing:!!ge.feedback_status}):(0,x.jsx)(X,{color:null!==(F=ge.dominant_color)&&void 0!==F?F:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:ge.id,showing:!!ge.feedback_status,unfollowed:"unfollowed"===ge.feedback_status,viewParameter:xe,viewType:ve}),Ue&&"inlineHidden"===Fe&&!oi&&(0,x.jsx)(S.Z,{id:"related-pins-title",children:(0,x.jsx)(_.iP,{onTap:()=>{De({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,x.jsx)(ee,{pin:ge})})}),ge.debug&&(0,x.jsx)(de.W,{data:ge.debug})]})}render(){const{componentType:e,pin:i,trackingParams:t,viewParameter:n,viewType:a,slotIndex:o,objectIdStr:r,viewData:l}=this.props,{startImpressionTimer:s}=this.state;return i?(0,x.jsx)(pe.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!s,loggingId:i.id,objectIdStr:r,onTracked:this.markPinAsSeen,slotIndex:o,trackingParams:t,viewData:l,viewParameter:n,viewType:a,children:({impressionTrackerRef:e})=>(0,x.jsx)(_.xu,{ref:e,children:this.renderPinCard()})}):null}}const ze=(0,a.connect)((({experiences:e,pins:i,session:t,users:n},a)=>{const o=i[a.pinId]||null,r=e[1000107];return{board:null==o?void 0:o.board,country:t.country,hasPoorConnection:t.hasPoorConnection,isAuth:t.isAuthenticated,isBot:t.isBot,isImageOnlyExp:r&&500678===r.experience_id,pin:o,viewer:n[t.userId],viewedSharedPins:t.viewedSharedPins}}),((e,{viewParameter:i,viewType:t})=>({markPinAsSeen:n=>e((0,se.DX)({pinId:n,viewParameter:i,viewType:t})),markPinUnfollowed:i=>e((0,ge.fH)(i,"unfollowed")),setSharingOnBoardPage:(i,t,n)=>e((0,he.Mj)(i,t,n))})))((function(e){const i=(0,f.ZP)(),t=(0,ye.g)(),{checkExperiment:n}=(0,N.F)(),a=(0,F.useHistory)(),o=(0,F.useLocation)(),r=(0,k.ZP)(),l=(0,fe.M)(),s=(0,xe.yz)(),d=(0,_e._)({id:1000107}),c=(0,ve.Z)(),u=(0,I.Z)();return(0,x.jsx)(Ae,{...e,createUnauthContextMenuHandler:l,deviceType:r,experience:d,pwaType:s,unauthDesktopSignupModalPageContext:t,vaseDisplayMode:"desktop"===r?"desktopParity":"inlineHidden",i18n:i,checkExperiment:n,history:a,location:o,logContextEvent:c,trackInteraction:u})}))},545798:(e,i,t)=>{t.d(i,{Z:()=>re});var n=t(667294),a=t(702664),o=t(81226),r=t(733756),l=t(499128),s=t(898781),d=t(112690),c=t(728214),u=t(523504),p=t(52022),h=t(332611),m=t(185894),g=t(856919),_=t(479739),x=t(500594),v=t(358589),f=t(883119),y=t(276775),b=t(785893);const w=new f.Ry(1);function P({buttonText:e,clientTrackingParams:i,color:t="primary",deeplinkUri:o,experience:P,inline:j=!0,minWidth:S,onTouch:k,onUnsave:T,pinId:I,pinnedToBoardId:C,shape:A,shouldShowSavedButton:z,viewType:D,viewParameter:F,showSaveHandoffExperience:L}){var Z;const E=(0,s.ZP)(),M=(0,a.useDispatch)(),U=(0,y.useHistory)(),R=(0,y.useLocation)().pathname.startsWith("/pin"),O=(0,a.useSelector)((({session:e})=>e.hasSavedUnauthPin)),N=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),B=null===(Z=(0,a.useSelector)((e=>(0,_.ts)(e))))||void 0===Z?void 0:Z.pin_count,H=(0,d.Z)(),W=(0,p.Z)(),{showToast:V,showRepinConfirmation:K}=(0,u.Z)(),$=()=>{M((0,v.Bp)({history:U,i18n:E,logContextEvent:H,onSuccess:()=>{P&&M((0,h.CK)(P.placement_id,P.experience_id))},originalPinId:I,pinId:I,trackingParams:{clientTrackingParams:i,pinnedToBoardId:C},showRepinConfirmation:L&&!R?()=>{}:K,disableRepinAnimation:N===I,pinCount:B})).catch((e=>V((({hideToast:i})=>(0,b.jsx)(l.ZP,{variant:"error",text:e.message||E._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},q=(0,n.useRef)(null),G=L&&!O,Y=(0,c.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),k&&k(e),z?z&&T&&T():$()},modalHeader:(0,x.Bx)(E)});(0,n.useEffect)((()=>{G&&!q.current&&(W({action:"trigger",item:"unauth-save-button-quicksave"}),$(),M((0,m.e2)())),q.current=G}));const X=()=>E._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),J=()=>e||E._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return O&&!R?null:(0,b.jsx)(f.xu,{"data-test-id":"save-button-mobile",zIndex:w,children:o?(0,b.jsx)(g.di,{accessibilityLabel:X(),color:t,customStyles:{padding:"14px 16px"},deeplinkUri:o,inline:j,minHeight:48,minWidth:S,onTouch:Y,pressState:["compress","background"],shape:A,size:"lg",text:J(),to:U.location.pathname,upsellType:"save",viewType:D,viewParameter:F}):(0,b.jsx)(r.Z,{accessibilityLabel:X(),color:t,customStyles:{padding:"14px 16px"},inline:j,minHeight:48,minWidth:S,onTouch:Y,pressState:"compress",shape:A,size:"300",text:J()})})}var j=t(634291),S=t(539497),k=t(716235),T=t(343341);function I(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class C extends n.PureComponent{constructor(...e){var i;super(...e),i=this,I(this,"state",{saveState:void 0}),I(this,"legoFixedZIndex",new f.Ry(2)),I(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:t,i18n:n,oneTapSave:a,pinId:o,pinnedToBoardId:r,showToast:s,viewType:d}=i.props;try{const n=await t((0,v.wh)({i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==a?void 0:a.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:r},viewType:d}));i.setState({saveState:"saved"}),t((0,k.a)({boardId:null==a?void 0:a.boardId,localPinId:n.id,pinId:o}))}catch(c){s((({hideToast:e})=>(0,b.jsx)(l.ZP,{variant:"error",text:c.message||n._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),I(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:t,i18n:n,pinId:a,savedInfo:o,showToast:r}=i.props;if(o){e((0,k.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a}));try{await e((0,v.q$)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:t})),r((({hideToast:e})=>(0,b.jsx)(l.ZP,{text:n._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,b.jsx)(l.ZP,{variant:"error",text:n._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),I(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:t,pinId:n,isOneTapExploreLocalTab:a,pinnedToBoard:o}=this.props;["saving","deleting"].includes(i)||a&&o||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?t.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,x.Bx)(this.props.i18n)})),I(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:t})=>e?!!i:!!t))}render(){const{children:e,clientTrackingParams:i,homepageExperience:t,i18n:a,isOneTapExploreLocalTab:o,isRTL:r,oneTapSave:l,pinId:s,pinnedToBoard:d,pinnedToBoardId:c,savedInfo:u,shouldShowSaveHandoffExp:p}=this.props;if(!l&&!o&&!p)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:o,pinnedToBoard:d,savedInfo:u}),m="#000",g="rgba(255, 255, 255, 0.8)",_="light",x="dark";return(0,b.jsxs)(n.Fragment,{children:[e,(0,b.jsx)(f.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:p?(0,b.jsx)(P,{buttonText:d?a._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:i,color:d?"default":"primary",deeplinkUri:"deeplinkUri",experience:t,inline:!0,pinnedToBoardId:c,minWidth:54,pinId:s,shape:"pill",shouldShowSavedButton:!!d,showSaveHandoffExperience:p}):(0,b.jsx)(f.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?m:g}},padding:2,rounding:"circle",children:(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,b.jsx)(f.JO,{accessibilityLabel:h?a._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):a._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:h?"check":"add",color:h?_:x,size:"24"})})})})})]})}}const A=(0,a.connect)(((e,{pinId:i})=>({savedInfo:e.pins[i]&&e.pins[i].savedInfo,pinnedToBoard:e.pins[i]&&e.pins[i].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:i}=(0,T.F9)(),t=(0,s.ZP)(),o=(0,d.Z)(),r=(0,c.Z)(),l=(0,a.useDispatch)(),u=(0,y.useHistory)(),{isRTL:p}=(0,a.useSelector)((({session:e})=>e)),h=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),m=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),g=(0,a.useSelector)((e=>{var i;return null===(i=(0,_.ts)(e))||void 0===i?void 0:i.pin_count})),x=m&&!!h&&h===e.pinId,{pins:f,clear:w}=(0,j.Z)(),P=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{m&&!P.current&&f.length>0&&(P.current=!0,f.forEach((({id:e})=>{l((0,v.Bp)({history:u,i18n:t,logContextEvent:o,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:g})).catch((e=>{(0,S.My)(`error.unauth_profile_pin_merge.${e}`)}))})),w())})),(0,b.jsx)(C,{...e,i18n:t,requireAuthForLimitedLogin:r,history:u,logContextEvent:o,showToast:i,shouldShowSaveHandoffExp:x,isRTL:p})}));A.displayName="OneTapSave";const z=A;var D=t(883561),F=t(349700);function L({boardUrl:e,boardName:i,isQuicksave:t,sectionName:n,sectionSlug:a}){const o=(0,s.ZP)(),r=(0,y.useHistory)(),l=new f.Ry(1),d=!!a&&`${e}${a}/`;return(0,b.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:l,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,b.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,b.jsx)(f.iP,{onTap:i=>{i.event.preventDefault(),r.push(t?"/me/":d||e)},children:(0,b.jsx)(f.xv,{color:"light",children:n?(0,F.nk)(o._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,b.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:(0,D.ZP)(n,22)},`pincard-${n}`)}):(0,F.nk)(o._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,b.jsx)(f.xv,{color:"light",weight:"bold",inline:!0,children:t?o._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,D.ZP)(i,22)},`pincard-${i}`)})})})})})}var Z=t(252745),E=t(964082),M=t(36971),U=t(463045);function R({isSquarePin:e,color:i,description:t,imageUrl:n,imageHeight:a,imageWidth:o,onError:r,onLoad:l}){const s=(0,b.jsx)(f.Ee,{alt:t||"",color:i,naturalHeight:null!=a?a:1,naturalWidth:null!=o?o:1,onError:r,onLoad:l,src:null!=n?n:"",fit:e?"cover":void 0});return e?(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:s})}):s}var O=t(639758),N=t(46584),B=t(572260),H=t(623568),W=t(494349),V=t(50286);function K({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:i,isAutoplay:t,cropHeight:a,currentTime:o,onLoad:r,onError:l,onTimeChange:d,pin:c,playing:u,rootMargin:p,viewType:h,viewParameter:m,onVisibilityChanged:g,trackFullVisible:_,videoDuration:x,imageHeightModifier:v,image:y,isSquarePin:w}){var P,j,S,k;const T=(0,s.ZP)(),[I,C]=(0,n.useState)(!1),[A,z]=(0,n.useState)(!0),D=(0,H.jL)(c),F=D&&!c.is_eligible_for_web_closeup,L=3372===m||42===h,E=D&&c.is_eligible_for_web_closeup&&!L,{setCurrentVideo:M,pauseAutoplay:U}=(0,W.I)(),K=F||!D,$=(0,N.Z)({onVisibilityChanged:g,inAdsDesktopVideoExperiment:e,trackFullVisible:_,rootMargin:p});let q=!u;(e||null!=i&&i.startsWith("enabled"))&&(q=A,t&&u&&A&&z(!1));const{url:G}=(null===(P=c.images)||void 0===P?void 0:P["236x"])||{},{id:Y}=c,X=(0,V.HG)()&&c.videos?null===(j=c.videos.video_list)||void 0===j?void 0:j.V_HLSV4:null===(S=c.videos)||void 0===S||null===(k=S.video_list)||void 0===k?void 0:k.V_720P,J=(0,V.HG)()&&c.videos?"video/m3u8":"video/mp4",Q=(0,n.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),M({pinId:Y,isPromoted:Boolean(D),currentTime:0}),C(!1)}),[D,Y,M]),ee=(0,n.useCallback)((()=>{D&&C(E),U({pinId:Y,isPromoted:Boolean(D),currentTime:0})}),[E,D,Y,U]);if(!c.videos||!X)return null;const{height:ie,thumbnail:te,width:ne,url:ae}=X||{},oe=c.videos.id,re=[{type:J,src:ae}];let le,se=(null!=ne?ne:1)/(null!=ie?ie:1);return e&&w&&(se=1,le="transparent",v&&(se-=v-1)),I&&D?(0,b.jsx)(f.xu,{"data-test-id":"pin-video-mobile-end-card",ref:$,children:(0,b.jsx)(O.Z,{backgroundImage:null!=G?G:"",naturalHeight:null!=ie?ie:1,naturalWidth:null!=ne?ne:1,pin:c,onRestartVideo:Q})}):q?(0,b.jsxs)(f.xu,{"data-test-id":"pin-video-mobile-image",ref:$,children:[x&&(0,b.jsx)(Z.Z,{text:x}),(0,b.jsx)(R,{imageHeight:null!==(de=null==y?void 0:y.height)&&void 0!==de?de:1,imageWidth:null!==(ce=null==y?void 0:y.width)&&void 0!==ce?ce:1,onError:l,onLoad:r,imageUrl:null!==(ue=null==y?void 0:y.url)&&void 0!==ue?ue:"",isSquarePin:w})]}):(0,b.jsx)(f.xu,{"data-test-id":"pin-video-mobile-video",ref:$,children:(0,b.jsx)(B.ZP,{isAutoPlay:!!t,cropHeight:a,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:m,component:0,objectId:c.id,video_id:oe,view:h},accessibilityMaximizeLabel:T._('Maximize', 'pinLayouts.PinVideo.accessibilityMaxVideoBtn', 'Maximize button on video'),accessibilityMinimizeLabel:T._('Minimize', 'pinLayouts.PinVideo.accessibilityMinVideoBtn', 'Minimize button on video'),accessibilityMuteLabel:T._('Mute', 'pinLayouts.PinVideo.accessibilityMuteVideoBtn', 'Mute button on video'),accessibilityPauseLabel:T._('Pause', 'pinLayouts.PinVideo.accessibilityPauseVideoBtn', 'Pause button on video'),accessibilityPlayLabel:T._('Play', 'pinLayouts.PinVideo.accessibilityPlayVideoBtn', 'Play button on video'),accessibilityProgressBarLabel:T._('Progress bar', 'pinLayouts.PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:T._('Unmute', 'pinLayouts.PinVideo.accessibilityUnmuteVideoBtn', 'Unmute button on video'),aspectRatio:se,backgroundColor:le,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:K,onTimeChange:d,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:G||te,src:null!=re?re:[],videoStartTime:o,volume:0,onEnded:ee})});var de,ce,ue}function $(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class q extends n.Component{constructor(...e){super(...e),$(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:i,videosAutoplaying:t}=this.props,{id:n}=i,a=(0,M.Z)(n,t);return this.currentVideoCurrentTime||a||e})),$(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:i,pin:t,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:o}=this.props,{id:r}=t,l=(0,H.jL)(t),s=(0,U.Z)(r,o),d=(0,E.Z)(r,o);e?l?n({pinId:r,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}):d&&n({pinId:r,isPromoted:Boolean(l),currentTime:this.calculateCurrentVideoTime()}):!e&&s&&a({pinId:r,isPromoted:Boolean(l),currentTime:i||this.currentVideoCurrentTime})})),$(this,"handleVideoTimeChange",(e=>{const{pin:i,onTimeChange:t,videosAutoplaying:n}=this.props,{id:a}=i;(0,U.Z)(a,n)&&(this.currentVideoCurrentTime=e.time),t&&t(e)}))}componentDidUpdate(e){const{appInFocus:i}=e,{appInFocus:t,currentTimeFromPinRep:n,pauseAutoplay:a,pin:o,setCurrentVideo:r,videosAutoplaying:l}=this.props,{id:s}=o,d=(0,H.jL)(o),c=(0,U.Z)(s,l);t!==i&&!t&&c?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:s,isPromoted:Boolean(d),currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&t&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:s,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:i,pin:t,videosAutoplaying:n}=this.props,{id:a}=t,o=(0,H.jL)(t);(0,U.Z)(a,n)&&i({pinId:a,isPromoted:Boolean(o),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:i,pin:t,videosAutoplaying:n,videoDuration:a,viewParameter:o,viewType:r,onError:l,onLoad:s,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isSquarePin:u,rootMargin:p,imageHeightModifier:h,image:m,isHovering:g}=this.props,{id:_}=t,x=(0,M.Z)(_,n),v="enabled_hover"===c,f=(0,U.Z)(_,n),y=g&&v||f&&i;return(0,b.jsx)(K,{cropHeight:e,rootMargin:p,currentTime:x,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isAutoplay:i,isSquarePin:u,image:m,viewParameter:o,viewType:r,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:t,playing:y,trackFullVisible:!1,onError:l,onLoad:s,imageHeightModifier:h,videoDuration:a})}}function G(e){const{appUI:{appInFocus:i,isAutoplay:t,videosAutoplaying:n},pauseAutoplay:a,setCurrentVideo:o}=(0,W.I)();return(0,b.jsx)(q,{...e,appInFocus:i,isAutoplay:t,pauseAutoplay:a,setCurrentVideo:o,videosAutoplaying:n})}var Y=t(690035),X=t(310227),J=t(773285),Q=t(904411),ee=t(780679),ie=t(627995);const te=({domainLinkData:e})=>{const i=(0,s.ZP)(),t=(0,ee.g)();return(0,b.jsxs)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,b.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,b.jsx)(f.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,b.jsx)(f.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,b.jsx)(ie.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==t?void 0:t.pinLinkClickHandler)||(()=>{})})})]})};var ne=t(53987);const ae=({width:e,height:i,minY:t,maxY:n})=>{const a=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:t<=0?"0%":a(-1*t*i),bottom:n>=1?"0%":a(-1*(1-n)*i)}},oe=({children:e,margin:i,disableRounding:t})=>(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,b.jsx)(f.zd,{wash:!0,rounding:t?0:X.mv,children:e})}),re=({clientTrackingParams:e,color:i,description:t,domainLinkData:r,hideBottomCardText:l,image:d,imageAltText:c,imageCrop:u,isPromoted:p,isMessenger:h,isOneTapExploreLocalTab:m,isSquarePin:g,lazyLoadImage:_,onError:x,oneTapSave:v,onLoad:w,openCustomContextMenu:P,pinId:j,priorityFetchImage:k,disableDefaultContextMenu:T,pinnedToBoardId:I,pinVideo:C,videoUrl:A,productPrice:D,disableRounding:F,storyData:E,title:M,type:U,videoDuration:R,viewType:O,viewParameter:N,unauthRelatedPinsAutoplayExpGroup:B})=>{var H,W,K,$,q,X,ee,ie,re,le,se;const de=(0,s.ZP)(),ce=(0,Y.Z)(),{checkExperiment:ue}=(0,J.F)(),[pe,he]=(0,n.useState)(!1),me=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),ge=(0,V.ZP)(),_e=(0,a.useSelector)((({pins:e})=>e[j])),xe=(0,Q.gC)()(I||_e&&String(null===(H=_e.board)||void 0===H?void 0:H.id)),ve=I&&_e.savedThisSession,fe=r&&r.link?"with-link":"without-link",ye=!me&&"desktop"!==ge,be=(0,n.useRef)(Date.now()),we=(0,n.useRef)(null),Pe=ue("mweb_video_ads_autoplay").anyEnabled,je="video"===U&&(B&&"enabled_hover"===B),Se=(0,b.jsx)(f.Ee,{alt:c||M||t||"",color:i,naturalHeight:null!==(W=d.height)&&void 0!==W?W:1,naturalWidth:null!==(K=d.width)&&void 0!==K?K:1,onError:x,onLoad:w,src:null!==($=d.url)&&void 0!==$?$:"",fit:g?"cover":void 0,loading:_?"lazy":"auto",fetchPriority:k?"high":"auto"}),ke=g?(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Se})}):Se,Te=(0,y.useLocation)(),Ie=()=>(0,ne.C$)(Te)?"homefeed":(0,ne.L6)(Te)?"related_pins":(0,ne.En)(Te)?"search":"unknown";return(0,b.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,b.jsxs)(f.xu,{onContextMenu:e=>{if("desktop"!==ge){const i=Ie();(0,S.My)((me?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),me&&"unknown"!==i&&(ue("mweb_custom_context_menu_on_longpress").anyEnabled||ue("mweb_pin_card_custom_context_menu_on_longpress").anyEnabled)?(e.preventDefault(),e.stopPropagation(),P()):"related_pins"!==i||me||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ge){const i=Ie();if((0,S.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===i&&!me&&(null==T||T(),be.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const i=e.changedTouches.item(0);i&&(we.current={x:i.pageX,y:i.pageY})}}},onTouchEnd:e=>{if("desktop"!==ge){const i=Ie();if((0,S.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-be.current>500&&!me&&"related_pins"===i){const i=we.current;if(e.changedTouches&&e.changedTouches.length>0&&i){const t=e.changedTouches.item(0);if(t&&Math.pow(t.pageX-i.x,2)+Math.pow(t.pageY-i.y,2)>100)return;null==T||T(),ce({pinId:j,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${U}-${fe}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ye?void 0:()=>he(!0),onMouseLeave:ye?void 0:()=>he(!1),position:"relative",rounding:F?0:4,children:[(0,b.jsxs)(z,{clientTrackingParams:e||"",oneTapSave:v,isOneTapExploreLocalTab:m,pinId:j,pinnedToBoardId:I,viewType:O,children:[(()=>{if("gif"===U&&!l&&!ve)return(0,b.jsx)(Z.Z,{text:de._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===U&&R&&!l&&!ve)return(0,b.jsx)(Z.Z,{text:R});if("storyPin"===U&&E&&!ve){const{page_count:e=0,total_video_duration:i=0}=_e.story_pin_data||{};if(i>0)return(0,b.jsx)(Z.Z,{text:(0,o.Z)(i)});if("number"==typeof e&&e>0)return(0,b.jsx)(Z.Z,{icon:"idea-pin",text:e.toString()})}return"product"===U&&D?(0,b.jsx)(Z.Z,{text:D}):null})(),(0,b.jsx)(oe,{disableRounding:F,margin:u?ae({width:null!==(q=d.width)&&void 0!==q?q:1,height:null!==(X=d.height)&&void 0!==X?X:1,minY:u.min_y,maxY:u.max_y}):void 0,children:"video"===U&&h&&C?(0,b.jsx)(f.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:de._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:C.width/C.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(ee=d.url)&&void 0!==ee?ee:"",src:C.url,volume:0}):C&&p&&Pe||null!=B&&B.startsWith("enabled")&&A?(0,b.jsx)(G,{image:d,inAdsVideoExperiment:Pe,unauthRelatedPinsAutoplayExpGroup:B,isHovering:pe,isSquarePin:g,onError:x,onLoad:w,pin:_e,videoDuration:R,viewParameter:N,viewType:O}):ke})]}),!je&&pe&&!me&&(0,b.jsx)(te,{domainLinkData:r}),me&&ve&&(0,b.jsx)(L,{boardName:null!==(ie=null==xe?void 0:xe.name)&&void 0!==ie?ie:"",boardUrl:null!==(re=null==xe?void 0:xe.url)&&void 0!==re?re:"",sectionName:null==v||null===(le=v.section)||void 0===le?void 0:le.title,sectionSlug:null==v||null===(se=v.section)||void 0===se?void 0:se.slug,isQuicksave:"quick_saves"===(null==xe?void 0:xe.layout)})]})})}},252745:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(898781),a=t(643010),o=t(883119),r=t(785893);function l({text:e,icon:i,largeIdentifier:t,largeMargin:l}){const s=(0,n.ZP)();return(0,r.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:l?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:t?4:void 0,height:t?36:24,top:!0,children:[i&&(0,r.jsx)(o.xu,{marginEnd:t?2:1,children:(0,r.jsx)(o.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:t?18:12})}),(0,r.jsx)(o.xv,{inline:!0,size:t?"200":"100",weight:"bold",children:e})]})}},236458:(e,i,t)=>{function n(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,t)=>e[t]-e[i])).slice(0,3)}return null}function a(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:t,storyPinDataId:n,videosId:a}){return!(t||i||!a&&!n||null!=e&&e)}t.d(i,{At:()=>n,J6:()=>o,Ud:()=>a})},184298:(e,i,t)=>{t.d(i,{Z:()=>C});var n=t(667294),a=t(702664),o=t(373420),r=t(430322),l=t(121151),s=t(898781),d=t(643010),c=t(883119),u=t(50286),p=t(785893);function h({showFullScreenInfo:e,isOpen:i,interstitialUpsellDismissed:t,children:n}){const a=(0,s.ZP)(),o=(0,u.HG)(),h=(0,u.Wb)();return h||o?(0,p.jsx)(l.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!h,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,p.jsx)(c.xu,{color:(0,d.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,d.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:o?"100vw":"100%",zIndex:new c.Ry(1),children:(0,p.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:t?0:12,children:n})})}):(0,p.jsx)(r.default,{accessibilityModalLabel:a._('Close', 'Close modal window', 'Close modal window'),isOpen:i,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a._('Close', 'Close modal window', 'Close modal window'),children:n})}var m,g=t(784590),_=t(690035),x=t(52022),v=t(683350),f=t(623568),y=t(539497),b=t(802201),w=t(992750),P=t(167912);const j=void 0!==m?m:m=t(276667);function S({iconColor:e,size:i,isMainPin:t,isAuth:r,pinCreditPrefix:l,onClickTitleOrDomain:d,richMetadataDescription:m,richMetadataTitle:g,richSummaryDisplayName:b,placeSummaryName:P,closeupUnifiedDescription:j,gridTitle:S,storyPinDataId:k,storyPinDataMetadataPinTitle:T,pinDescription:I,pinDomain:C,pinTitle:A,boardId:z,boardUrl:D,boardName:F,boardPrivacy:L,pinnerFullName:Z,pinnerImageSmallUrl:E,pinnerImageLargeUrl:M,pinId:U,graphqlRef:R}){const O=(0,s.ZP)(),N=(0,x.Z)(),{unauthInterstitialDismissed:B,isSeoBot:H}=(0,a.useSelector)((({session:e})=>e)),[W,V]=(0,n.useState)(!1),K=(0,u.HG)(),$=(0,u.Wb)(),q=(0,_.Z)(),G=(0,f._S)(C)?C:"",Y=!$&&!r,{description:X}=(0,w.eK)({richMetadataDescription:m,richSummaryDisplayName:b,placeSummaryName:P,closeupUnifiedDescription:j}),J=(0,w.fs)({pinTitle:A,gridTitle:S,richSummaryDisplayName:b,richMetadataTitle:g,storyPinDataId:k,storyPinDataMetadataPinTitle:T,placeSummaryName:P})||I,Q=!K,ee=(0,p.jsxs)(c.xu,{padding:5,dangerouslySetInlineStyle:Y?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,p.jsx)(c.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,p.jsx)(c.hU,{accessibilityLabel:O._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,y.My)("mweb.unauth.see_more.dismissed"),N({action:"click",item:"close-seo-vase-see-more-button"}),V(!1),t&&(0,y.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,p.jsx)(c.xu,{marginBottom:Y?0:8,children:(0,p.jsx)(c.xv,{align:Y?"start":"center",weight:Y?void 0:"bold",children:(0,p.jsx)("span",{className:"deprecatedTextSizeXL",children:Y?null:O._('More information', 'more information label', 'more information label')})})}),(0,p.jsx)(v.Z,{description:X,title:J,pinCreditPrefix:l,onClickTitleOrDomain:d,pinDomain:G,boardId:z,boardUrl:D,boardName:F,boardPrivacy:L,pinnerFullName:Z,pinnerImageSmallUrl:E,pinnerImageLargeUrl:M,pinId:U,graphqlRef:R})]});return(0,p.jsxs)(c.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,p.jsx)(c.hU,{accessibilityLabel:O._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=e?e:"gray",size:i||"md",onClick:({event:e})=>{e.stopPropagation(),(0,y.My)("mweb.unauth.see_more.shown"),N({action:"click",item:"seo-vase-see-more-button"}),$||r?(V(!0),t&&(0,y.My)("mweb.unauth.see_more.main_pin.shown")):q({pinId:U||"",location:t?"main-pin-more-information":"non-main-pin-more-information",seoPlacementConfig:{description:X,titleText:J,pinCreditPrefix:l,onClickTitleOrDomain:d,cleanPinDomain:G,boardId:z,boardUrl:D,boardName:F,boardPrivacy:L,pinnerFullName:Z,pinnerImageSmallUrl:E,pinnerImageLargeUrl:M,pinId:U,graphqlRef:R}})}}),H&&Q?(0,p.jsx)(c.xu,{display:W?"flex":"none",children:ee}):(0,p.jsx)(h,{showFullScreenInfo:W,isOpen:W&&!$,interstitialUpsellDismissed:!!B,children:ee}),$&&W&&(0,p.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:ee})]})}function k(e){var i,t,n,a,o,r,l,s,d,c,u,h,m,g,_,x;const v=(0,P.useFragment)(j,e.graphqlRef);return(0,p.jsx)(S,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==v||null===(t=v.richMetadata)||void 0===t?void 0:t.description)&&void 0!==i?i:"",richMetadataTitle:null!==(n=null==v||null===(a=v.richMetadata)||void 0===a?void 0:a.title)&&void 0!==n?n:"",richSummaryDisplayName:null!==(o=null==v||null===(r=v.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"",closeupUnifiedDescription:null!==(l=null==v?void 0:v.closeupUnifiedDescription)&&void 0!==l?l:"",gridTitle:null==v?void 0:v.gridTitle,storyPinDataId:null==v?void 0:v.storyPinDataId,storyPinDataMetadataPinTitle:null==v||null===(s=v.storyPinData)||void 0===s||null===(d=s.metadata)||void 0===d?void 0:d.pinTitle,pinDescription:null==v?void 0:v.description,pinDomain:(null==v?void 0:v.domain)||void 0,pinTitle:null==v?void 0:v.title,boardId:null==v||null===(c=v.board)||void 0===c?void 0:c.entityId,boardUrl:(null==v||null===(u=v.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==v||null===(h=v.board)||void 0===h?void 0:h.name)||void 0,boardPrivacy:(null==v||null===(m=v.board)||void 0===m?void 0:m.privacy)||void 0,pinnerFullName:(null==v||null===(g=v.pinner)||void 0===g?void 0:g.fullName)||void 0,pinnerImageSmallUrl:null==v||null===(_=v.pinner)||void 0===_?void 0:_.imageSmallUrl,pinnerImageLargeUrl:null==v||null===(x=v.pinner)||void 0===x?void 0:x.imageLargeUrl,pinId:null==v?void 0:v.entityId,graphqlRef:v})}function T(e){var i,t,n,a,o,r,l,s,d,c,u;const h=(0,b.S6)()(null!==(i=e.pinId)&&void 0!==i?i:""),m=null==h?void 0:h.board,g=null==h?void 0:h.pinner;return(0,p.jsx)(S,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==h||null===(n=h.rich_metadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",richMetadataTitle:null!==(a=null==h||null===(o=h.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==h||null===(l=h.rich_summary)||void 0===l?void 0:l.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(s=null==h?void 0:h.place_summary)&&void 0!==s?s:"",closeupUnifiedDescription:null!==(d=null==h?void 0:h.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==h?void 0:h.grid_title,storyPinDataId:null==h?void 0:h.story_pin_data_id,storyPinDataMetadataPinTitle:null==h||null===(c=h.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==h?void 0:h.description,pinDomain:null==h?void 0:h.domain,pinTitle:null==h?void 0:h.title,boardId:null==m?void 0:m.id,boardUrl:null==m?void 0:m.url,boardName:null==m?void 0:m.name,boardPrivacy:null==m?void 0:m.privacy,pinnerFullName:null==g?void 0:g.full_name,pinnerImageSmallUrl:null==g?void 0:g.image_small_url,pinnerImageLargeUrl:null==g?void 0:g.image_large_url,pinId:null==h?void 0:h.id})}function I(e){var i,t,n,a,o,r,l,s,d,c,u;const h=(0,b.S6)()(null!==(i=e.pinId)&&void 0!==i?i:""),m=null==h?void 0:h.board,_=null==h?void 0:h.pinner;return(0,g.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,p.jsx)(S,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==h||null===(n=h.rich_metadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",richMetadataTitle:null!==(a=null==h||null===(o=h.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null==h||null===(l=h.rich_summary)||void 0===l?void 0:l.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(s=null==h?void 0:h.place_summary)&&void 0!==s?s:"",closeupUnifiedDescription:null!==(d=null==h?void 0:h.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==h?void 0:h.grid_title,storyPinDataId:null==h?void 0:h.story_pin_data_id,storyPinDataMetadataPinTitle:null==h||null===(c=h.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,pinDescription:null==h?void 0:h.description,pinDomain:null==h?void 0:h.domain,pinTitle:null==h?void 0:h.title,boardId:null==m?void 0:m.id,boardUrl:null==m?void 0:m.url,boardName:null==m?void 0:m.name,boardPrivacy:null==m?void 0:m.privacy,pinnerFullName:null==_?void 0:_.full_name,pinnerImageSmallUrl:null==_?void 0:_.image_small_url,pinnerImageLargeUrl:null==_?void 0:_.image_large_url,pinId:null==h?void 0:h.id})}function C(e){return e.graphqlRef?(0,p.jsx)(k,{...e}):e.lazyLoadAnnotations?(0,p.jsx)(I,{...e}):(0,p.jsx)(T,{...e})}},23084:(e,i,t)=>{t.d(i,{Z:()=>d,j:()=>s});var n=t(898781),a=t(883119),o=t(773285),r=t(349700),l=t(785893);const s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:t,sponsorshipStatus:d,textColor:c}){const u=(0,n.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let h;i?h=(0,r.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:t}):d||0===d?t&&!s.includes(d)?h=(0,r.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:t}):2!==d&&(h=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(h=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const m=p&&!i?"Ad • ":"";return(0,l.jsxs)(a.xv,{color:c,size:"100",children:[m,h]})}},536454:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(700380),o=t(883119),r=t(313047),l=t(785893);function s(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class d extends n.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(0,a.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:n}=this;var i,t;if(n())null===(i=(t=this.props).onView)||void 0===i||i.call(t)}}),this.props.throttleTime||100)),s(this,"wasViewed",(()=>{var e;const i=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!i&&i.top<=r.DEFAULT_HEIGHT})),s(this,"isOnView",(()=>{var e;const i=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!i&&(i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||window.height)-150&&i.right<=(window.innerWidth||window.width))})),s(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,l.jsx)(o.xu,{ref:e=>{var i,t;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(i=(t=this.props).onView)||void 0===i||i.call(t))},children:e})}}const c=d},364245:(e,i,t)=>{t.d(i,{Z:()=>b});var n,a=t(667294),o=t(391254),r=t(941646),l=t(111168),s=t(898781),d=t(52022),c=t(992750),u=t(802201),p=t(883119),h=t(167912),m=t(785893);const g=void 0!==n?n:n=t(85934);function _({direction:e,handleClick:i,testId:t}){const n=(0,s.ZP)(),a=(0,d.Z)();return(0,m.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{a({action:"click",item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":t,children:(0,m.jsx)(r.Z,{id:"board-pills-arrow",children:(0,m.jsx)(p.JO,{accessibilityLabel:n._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function x({name:e,url:i}){const[t,n]=(0,a.useState)(!1),o=(0,d.Z)();return(0,m.jsx)(p.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,m.jsx)(p.xv,{color:t?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,m.jsx)(p.rU,{inline:!0,tapStyle:"compress",href:i,rounding:8,onClick:()=>{o({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function v({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i,mode:t}){const[n,l]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1),h=(0,d.Z)(),g=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=g.current,i=()=>{if("inlineWithScrollArrows"===t&&g.current){const e=g.current,i=Math.max(0,e.scrollLeft),t=i+e.clientWidth;l(0!==i),u(t<e.scrollWidth)}else l(!1),u(!1)};return i(),null==e||e.addEventListener("scroll",i),()=>{null==e||e.removeEventListener("scroll",i)}}),[t]);const v=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&h({action:"click",item:"board-pills-arrow-button-right"});const t=g.current;if(!t)return;const n=("left"===e?-1:1)*t.clientWidth*.5;t.scrollLeft=Math.min(Math.max(t.scrollLeft+n,0),t.scrollWidth)},{annotationsWithLinks:f}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i});return(0,m.jsx)(p.kC,{alignItems:"center",justifyContent:"end",children:(0,m.jsxs)(p.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,m.jsx)(o.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),n&&(0,m.jsx)(_,{direction:"left",handleClick:v("left"),testId:"left-scroll-arrow"}),(0,m.jsx)(p.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:g,children:f.map((({name:e,url:i})=>(0,m.jsx)(x,{name:e,url:i},i||e)))}),s&&(0,m.jsx)(r.Z,{id:"board-pills-arrow-button-right",children:(0,m.jsx)(_,{direction:"right",handleClick:v("right"),testId:"right-scroll-arrow"})})]})})}function f(e){var i;const t=(0,h.useFragment)(g,e.graphqlRef),n=(0,l.Z)(t),a=(null==t||null===(i=t.pinJoin)||void 0===i?void 0:i.visualAnnotation)||[];return a.length<1?null:(0,m.jsx)(v,{mode:e.mode,pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:n||void 0})}function y(e){var i,t,n;const a=(0,u.S6)()(e.pinId||"");return((null==a||null===(i=a.pin_join)||void 0===i?void 0:i.visual_annotation)||[]).length<1?null:(0,m.jsx)(v,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.annotations_with_links})}function b(e){return e.graphqlRef?(0,m.jsx)(f,{...e}):(0,m.jsx)(y,{...e})}},683350:(e,i,t)=>{t.d(i,{Z:()=>b});var n=t(667294),a=t(702664),o=t(927104),r=t(941646),l=t(52022),s=t(539497),d=t(50286),c=t(883119),u=t(785893);function p({boardUrl:e,boardName:i,boardPrivacy:t,pinnerFullName:n,pinnerImageSmallUrl:a,pinnerImageLargeUrl:o}){const p=(0,d.HG)(),h=(0,l.Z)();if(!e||!i)return null;const m=e.split("/")[1],g=n||m,_=a||o;return(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[_?(0,u.jsx)(c.iP,{role:"link",href:`/${m}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator`),h({action:"click",item:"see-more-button-creator"})},children:(0,u.jsx)(c.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,u.jsx)(c.Ee,{naturalHeight:32,naturalWidth:32,alt:g,fit:"cover",color:"rgb(231, 186, 176)",src:_})})},"profile-link"):null,(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,u.jsx)(r.Z,{id:"see-more-button-creator-full-name",children:(0,u.jsx)(c.iP,{onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator-full-name`),h({action:"click",item:"see-more-button-creator-full-name"})},children:(0,u.jsx)(c.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,u.jsx)(c.rU,{href:`/${m}/`,inline:!0,tapStyle:"compress",underline:"hover",children:g},"profile-link")},"profileLink")})}),"protected"===t?null:(0,u.jsx)(c.xv,{color:"default",inline:!0,size:"100",children:(0,u.jsx)(c.rU,{href:null!=e?e:"",inline:!0,tapStyle:"compress",underline:"hover",children:null!=i?i:""},"board-link")},"boardLink")]})]})}var h,m=t(898781),g=t(364245),_=t(349700),x=t(780280),v=t(389920),f=t(167912);const y=void 0!==h?h:h=t(877821);function b({onClickTitleOrDomain:e,title:i,description:t,pinId:r,graphqlRef:h,pinCreditPrefix:b,pinDomain:w,boardId:P,boardUrl:j,boardName:S,boardPrivacy:k,pinnerFullName:T,pinnerImageSmallUrl:I,pinnerImageLargeUrl:C}){const A=(0,m.ZP)(),{isSeoBot:z}=(0,a.useSelector)((({session:e})=>e)),D=(0,d.ml)(),F=(0,d.Wb)(),{isAuthenticated:L}=(0,x.B)(),Z=(0,l.Z)(),E=(0,f.useFragment)(y,h),M=!L&&!z&&D,U=e||null,[R,O]=(0,n.useState)(!1),N=(0,v.si)(),B=(0,v.Re)(),H=(i||"").length>B,W=t.length>N,[V,K]=(0,n.useState)(!W&&!H);return(0,u.jsxs)(c.xu,{children:[(0,u.jsxs)(c.xu,{children:[(0,u.jsxs)(c.xu,{as:"figcaption",paddingX:F?11:0,children:[(0,u.jsx)(c.X6,{color:"default",size:"300",accessibilityLevel:3,children:R||z?i:(0,o.Z)(i||"",B)}),!!i&&(0,u.jsx)(c.xu,{height:t?8:0}),t&&(W||H)?(0,u.jsxs)(c.iP,{onTap:()=>{R||L||((0,s.NC)("click_open_description_in_sheet"),Z({action:"click",item:"more-description-in-sheet"})),K(!V),O(!R)},fullWidth:!1,children:[(0,u.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:R||z?t:(0,o.Z)(t,N)}),(0,u.jsx)(c.xu,{display:"inlineBlock",paddingX:1,children:(0,u.jsx)(c.xv,{weight:"bold",size:"200",inline:!0,children:R||z?A._('Less', 'Toggle less description button', 'Toggle less description button'):A._('More', 'Toggle more description button', 'Toggle more description button')})})]}):(0,u.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:t})]}),M&&(V||z)&&!!w&&(0,u.jsx)(c.xu,{marginTop:2,children:(0,u.jsx)(c.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,_.nk)(A._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,u.jsx)(c.xu,{display:"inlineBlock",children:(0,u.jsx)(c.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,u.jsx)(c.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,u.jsx)(c.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),Z({action:"click",item:"pin-domain-link"}),(0,s.My)("mweb_pin_page.pin_link.clickthrouh"),L||(0,s.NC)("click_pin_closeup_link_clickthrough"),U&&U()},tapStyle:"compress",children:(0,u.jsx)(c.xv,{size:"200",lineClamp:1,children:(0,u.jsx)("span",{style:{textDecoration:"underline"},children:w})},"pinLinkDomain")})},"pinCredits")})})})]}),!!P&&(V||z)&&(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(p,{boardUrl:j,boardName:S,boardPrivacy:k,pinnerFullName:T,pinnerImageSmallUrl:I,pinnerImageLargeUrl:C})}),(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(g.Z,{pinId:r,mode:"expanded",graphqlRef:E})})]})}},474635:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(667294),a=t(735079),o=t(949372),r=t(53987),l=t(407043),s=t(385740),d=t(52022),c=t(539497),u=t(276775),p=t(785893);function h({children:e,componentType:i,within:t}){const h=(0,u.useLocation)(),{flushContextEvents:m,logContextEvent:g}=(0,l.v)(),{viewType:_,viewParameter:x}=(0,s.SU)(),v=(0,d.Z)();(0,n.useEffect)((()=>{v({action:"view",item:"download-button",within:t})}),[h,t,v]);const f=(0,n.useRef)(!1);(0,n.useEffect)((()=>{_&&(g({component:i||13106,element:10308,event_type:9976,view_type:_||32,view_parameter:x,aux_data:{app_upsell_type:t,app_upsell_is_dupe:f.current}}),f.current=!0)}),[i,g,x,_,t]);const y=(0,o.Z)();return(0,n.useEffect)((()=>{y||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${t}`)}),[y,t]),(0,p.jsx)(a.Z,{children:n=>e({handleOpenApp:e=>{var a;(v({action:"click",item:"download-button",within:t}),(0,c.NC)("press_open_app",!0),g({component:i||13106,element:10308,event_type:102,view_type:_||32,view_parameter:x,aux_data:{app_upsell_type:t}}),g({component:i||13106,element:10308,event_type:9977,view_type:_||32,view_parameter:x,aux_data:{app_upsell_type:t}}),m(!0),n)&&(g({component:i||13106,element:10308,event_type:1701,view_type:_||32,view_parameter:x,aux_data:{app_upsell_type:t}}),n(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:(e=>"/"===e.pathname?"/":(0,r.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(h)))}})})}},205443:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(702664),a=t(104788),o=t(430322),r=t(898781),l=t(287072),s=t(19121),d=t(968228),c=t(773285),u=t(194095),p=t(883119),h=t(785893);const m=({isOpen:e,onDismiss:i,onOpenInApp:t,to:u})=>{const m=(0,r.ZP)(),{isTablet:g,userAgent:_,userAgentPlatform:x}=(0,n.useSelector)((({session:e})=>e)),{checkExperiment:v}=(0,c.F)(),{isAuth:f}=(0,s.Z)(),y=(0,d.Rp)({platform:x,userAgent:_}),b=(0,l.Z)({href:null!=u?u:""}),w=g?60:40,P=f?v("mweb_auth_app_upsell_modal_copy_change_v2").group:"";let j=m._('The best experience is on the app', 'mweb.auth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp');"enabled_1"===P&&(j=m._('There\'s more to see in the app', 'mweb.auth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_2"===P&&(j=m._('It\'s better in the app (we promise!)', 'mweb.auth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_3"===P&&(j=m._('So much more in the app', 'mweb.auth.app_upsell.app_value_prop3', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp'));let S=m._('Free, unlimited access to ideas', 'mweb.auth.app_upsell.description', 'Mobile Web App Upsell subheading informing the user the value of downloading the app');"enabled_1"===P&&(S=m._('Try the latest features and see what you like', 'mweb.auth.app_upsell.description1', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_2"===P&&(S=m._('Newer features, faster searching, and more', 'mweb.auth.app_upsell.description2', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_3"===P&&(S=m._('Videos, AR try-on and the fastest browsing experience', 'mweb.auth.app_upsell.description3', 'Mobile Web App Upsell subheading informing the user the value of downloading the app'));let k=m._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text', 'Button to get the Pinterest app');return"enabled_1"===P&&(k=m._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest app')),"enabled_2"===P&&(k=m._('Try the app', 'mweb.auth.app_upsell.app_upsell_button_text2', 'Button to get the Pinterest app')),"enabled_3"===P&&(k=m._('Try it out', 'mweb.auth.app_upsell.app_upsell_button_text3', 'Button to get the Pinterest app')),(0,h.jsx)(o.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsxs)(p.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(p.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(p.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(p.hU,{accessibilityLabel:m._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{i({event:e}),b&&!e.defaultPrevented&&(t(),b({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(p.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(p.xu,{paddingY:2,justifyContent:"center",display:"flex",children:y?(0,h.jsx)(a.Z,{size:w}):(0,h.jsx)(p.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:w})}),(0,h.jsxs)(p.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(p.xu,{paddingY:2,children:(0,h.jsx)(p.X6,{align:"center",size:"400",children:y?m._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):j})}),(0,h.jsx)(p.xv,{align:"center",size:"300",children:y?m._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):S}),(0,h.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(p.zx,{fullWidth:!0,size:"lg",color:"red",onClick:t,text:k})})]})]})]})})};function g({clientTrackingParams:e,isOpen:i,onDismiss:t,onOpenInApp:n,shouldTrackDismiss:a,to:o,viewParameter:r,viewType:l}){return(0,h.jsx)(u.Z,{clientTrackingParams:e,viewType:l,viewParameter:r,children:(0,h.jsx)(m,{isOpen:i,onDismiss:e=>{a&&(0,u.y)(),t(e)},onOpenInApp:()=>{(0,u.y)(),n()},to:o})})}},194095:(e,i,t)=>{t.d(i,{Z:()=>u,y:()=>c});var n=t(667294),a=t(807609),o=t(674806),r=t(30287),l=t(622096),s=t(957161),d=t(785893);const c=()=>{(0,s.Nh)("appUpsell",Date.now()),(0,s.qn)("firstUpsellTime")||(0,s.Nh)("firstUpsellTime",Date.now()),(0,l.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:t,viewType:l}){return(0,a.Z)()||(0,r.FP)(window)?null:(0,d.jsx)(o.Z,{viewType:l,viewParameter:t,component:13106,clientTrackingParams:i,children:(0,d.jsx)(n.Fragment,{children:e})})}},780622:(e,i,t)=>{t.d(i,{G:()=>s,L:()=>l});var n=t(667294),a=t(425288),o=t(785893);const{Provider:r,useHook:l}=(0,a.Z)("AppUpsell");function s({children:e}){const[i,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(!1),[s,d]=(0,n.useState)(!1),c=(0,n.useCallback)((e=>{t(e)}),[]),u=(0,n.useCallback)((e=>{l(e)}),[]),p=(0,n.useCallback)((e=>{d(e)}),[]),h=(0,n.useMemo)((()=>({type:i,setTypeVal:c,appUpsellFooterScrollDismissed:a,setAppUpsellFooterScrollDismissedVal:u,showLearningRelatedPinAppUpsell:s,setShowLearningRelatedPinAppUpsellVal:p})),[i,c,a,u,s,p]);return(0,o.jsx)(r,{value:h,children:e})}},949372:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(702664);const a=()=>(0,n.useSelector)((({session:{canUseNativeApp:e}})=>e))},217508:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(898781),a=t(883119),o=t(785893);function r({backgroundColor:e="darkGray",iconColor:i="inverse",iconSize:t,size:r=20}){const l=(0,n.ZP)();return(0,o.jsx)(a.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:r,height:r,rounding:"circle",justifyContent:"center",children:(0,o.jsx)(a.JO,{accessibilityLabel:l._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:i,icon:"lock",size:null!=t?t:r/2})})}},319670:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(749771),a=t(883119),o=t(785893);function r({title:{format:e,args:{query:i}}}){return(0,o.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,o.jsx)(a.xu,{marginBottom:2,paddingX:4,children:(0,o.jsx)(a.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,o.jsx)(n.Z,{query:i,showHeaderText:!1})]})}},127009:(e,i,t)=>{t.d(i,{Z:()=>ye});var n=t(460628),a=t.n(n),o=t(416131),r=t.n(o),l=t(483010),s=t.n(l),d=t(808310),c=t.n(d),u=t(963421),p=t.n(u),h=t(549658),m=t.n(h),g=t(275441),_=t.n(g),x=t(916611),v=t.n(x),f=t(344191),y=t.n(f),b=t(614860),w=t.n(b),P=t(317343),j=t.n(P),S=t(443140),k=t.n(S),T=t(522940),I=t.n(T),C=t(325634),A=t.n(C),z=t(204554),D=t.n(z),F=t(294700),L=t.n(F),Z=t(594701),E=t.n(Z),M=t(253833),U=t.n(M),R=t(495297),O=t.n(R),N=t(296875),B=t.n(N),H=t(231596),W=t.n(H),V=t(846653),K=t.n(V),$=t(47786),q=t.n($),G=t(830866),Y=t.n(G),X=t(375664),J=t.n(X),Q=t(214298),ee=t.n(Q),ie=t(647887),te=t.n(ie),ne=t(114200),ae=t.n(ne),oe=t(813150),re=t.n(oe),le=t(246184),se=t.n(le),de=t(935563),ce=t.n(de),ue=t(199081),pe=t.n(ue),he=t(671157),me=t.n(he),ge=t(898781),_e=t(968228),xe=t(883119),ve=t(785893);const fe={"AR-SA":a(),"ZH-CN":pe(),"ZH-TW":me(),CS:r(),DA:s(),DE:c(),EL:p(),EN:m(),ES:_(),FI:v(),FR:y(),HI:w(),HU:j(),ID:k(),IT:I(),JA:A(),KO:D(),ML:L(),MS:E(),NB:B(),NL:U(),NN:O(),NO:B(),PL:W(),PT:K(),RO:q(),RU:Y(),SK:J(),SV:ee(),TH:te(),TL:ae(),TR:re(),UK:se(),VI:ce()};function ye({locale:e}){const i=(0,ge.ZP)(),t=(0,_e.G3)(e),n=fe[t]||fe.EN,a=i._('Install the Pinterest app on Android', ' - ', ' -- ');return(0,ve.jsx)(xe.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:a})}},137618:(e,i,t)=>{t.d(i,{Z:()=>ye});var n=t(681384),a=t.n(n),o=t(747147),r=t.n(o),l=t(25078),s=t.n(l),d=t(622314),c=t.n(d),u=t(765409),p=t.n(u),h=t(690435),m=t.n(h),g=t(712627),_=t.n(g),x=t(387629),v=t.n(x),f=t(465843),y=t.n(f),b=t(951237),w=t.n(b),P=t(13820),j=t.n(P),S=t(990148),k=t.n(S),T=t(879191),I=t.n(T),C=t(59192),A=t.n(C),z=t(237258),D=t.n(z),F=t(424961),L=t.n(F),Z=t(436044),E=t.n(Z),M=t(206581),U=t.n(M),R=t(300633),O=t.n(R),N=t(690532),B=t.n(N),H=t(749406),W=t.n(H),V=t(370960),K=t.n(V),$=t(535389),q=t.n($),G=t(590716),Y=t.n(G),X=t(482925),J=t.n(X),Q=t(370216),ee=t.n(Q),ie=t(926410),te=t.n(ie),ne=t(777172),ae=t.n(ne),oe=t(305067),re=t.n(oe),le=t(621216),se=t.n(le),de=t(826132),ce=t.n(de),ue=t(729566),pe=t.n(ue),he=t(972841),me=t.n(he),ge=t(898781),_e=t(968228),xe=t(883119),ve=t(785893);const fe={"AR-SA":a(),"ZH-CN":pe(),"ZH-TW":me(),CS:r(),DA:s(),DE:c(),EL:p(),EN:m(),ES:_(),FI:v(),FR:y(),HI:w(),HU:j(),ID:k(),IT:I(),JA:A(),KO:D(),ML:L(),MS:E(),NB:B(),NL:U(),NN:O(),NO:B(),PL:W(),PT:K(),RO:q(),RU:Y(),SK:J(),SV:ee(),TH:te(),TL:ae(),TR:re(),UK:se(),VI:ce()};function ye({locale:e}){const i=(0,ge.ZP)(),t=(0,_e.G3)(e),n=fe[t]||fe.EN,a=i._('Install the Pinterest app on iOS', ' - ', ' -- ');return(0,ve.jsx)(xe.Ee,{naturalHeight:80,naturalWidth:270,src:n,alt:a})}},459523:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(667294),a=t(391254),o=t(454564),r=t(50286),l=t(444445),s=t(883119),d=t(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(s.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),h=({children:e})=>(0,d.jsx)(s.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const i="desktop"===(0,r.ZP)(),t=i?l.yF:l.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(a.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:i})=>(0,o.Z)({name:e,width:t,height:i}))).join("")}),(0,d.jsx)(s.xu,{marginStart:l.qG,marginEnd:l.qG,children:i?(0,d.jsxs)(s.kC,{direction:"row",gap:{row:l.jC,column:0},children:[(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(s.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},454564:(e,i,t)=>{t.d(i,{Z:()=>n});const n=({name:e,width:i,height:t})=>{const n=`${t}${"number"==typeof t?"px":""}`,a="number"==typeof i?i:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${n};\n  width: ${`${i}${"number"==typeof i?"px":""}`};\n  height: ${n};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},722647:(e,i,t)=>{t.d(i,{L:()=>s,T:()=>l});var n=t(667294),a=t(425288),o=t(785893);const{Provider:r,useMaybeHook:l}=(0,a.Z)("MainPinSwipeContextType");function s({children:e}){const[i,t]=(0,n.useState)(!1),[a,l]=(0,n.useState)(""),[s,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(0),[p,h]=(0,n.useState)(!1),m=(0,n.useMemo)((()=>({showMainPinSwipeOverlay:i,setShowMainPinSwipeOverlay:t,lastMainPinSwipeDirection:a,setLastMainPinSwipeDirection:l,firstRelatedPinId:s,setFirstRelatedPinId:d,numOfMainPinSwipes:c,setNumOfMainPinSwipes:u,shouldShowMainPinSwipeAppUpsell:p,setShouldShowMainPinSwipeAppUpsell:h})),[i,t,a,l,s,d,c,u,p,h]);return(0,o.jsx)(r,{value:m,children:e})}},987798:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(643010),a=t(773285),o=t(883119),r=t(785893);function l({color:e,image:i,isSelected:t,title:l}){var s,d,c;const{checkExperiment:u}=(0,a.F)();return(0,r.jsxs)(o.xu,{alignItems:"center","aria-selected":t,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,n.Yc)()&&u("mweb_pill_rep_dark_mode").anyEnabled?t?"#fff":"#767676":t?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,r.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:(0,r.jsx)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(s=i.height)&&void 0!==s?s:1,naturalWidth:null!==(d=i.width)&&void 0!==d?d:1,src:null!==(c=i.url)&&void 0!==c?c:""})}),(0,r.jsx)(o.xu,{marginStart:2,marginEnd:3,children:(0,r.jsx)(o.xv,{color:t?"inverse":(0,n.Yc)()?"light":"dark",weight:"bold",children:l})})]})}},568388:(e,i,t)=>{t.d(i,{Z:()=>m,z:()=>d});var n=t(667294),a=t(702664),o=t(391254),r=t(281180),l=t(883119),s=t(785893);const d=2500,c={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=(0,n.memo)((({children:e})=>{const i=(0,r.Tt)(),t=(0,a.useSelector)((({pins:e})=>{const t=null==i?void 0:i.last_repin_id;return t?e[t]:null})),n=(0,a.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!t||!n)return e;const{images:d}=t,{height:m,width:g,url:_}=(null==d?void 0:d["136x136"])||(null==d?void 0:d["236x"])||{};return(0,s.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(o.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,s.jsxs)(l.xu,{position:"relative",children:[(0,s.jsxs)(l.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:c,children:[(0,s.jsx)(l.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,s.jsx)(l.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,s.jsx)(l.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,s.jsx)(l.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=g?g:1,naturalHeight:null!=m?m:1,src:null!=_?_:""})})})]}),(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:h,children:e})]})]})}))},622359:(e,i,t)=>{t.d(i,{Z:()=>A});var n=t(667294),a=t(376030),o=t(391254),r=t(883119),l=t(785893);function s({addedStyles:e,button:i,headerText:t,icon:a,iconOverride:s,minHeight:d,subHeaderText:c}){return(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,l.jsxs)(r.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:d||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=s||(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(o.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,l.jsx)(r.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,l.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,l.jsx)(r.xu,{marginEnd:4,children:e})})(),(0,l.jsxs)(r.xu,{marginEnd:"auto",children:[(0,l.jsx)(r.xv,{color:"default",weight:"bold",children:t}),c&&(0,l.jsx)(r.xu,{paddingY:1,children:(0,l.jsx)(r.xv,{size:"300",color:"default",children:c})})]}),(0,l.jsx)(r.xu,{display:"flex",flex:"shrink",marginStart:2,children:i})]})})}t(794987);var d=t(223815),c=t(829407),u=t(898781),p=t(452130);function h(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const m=(e,i)=>(e-i)/2,g=68,_=m(g,68),x=m(g,66),v=m(g,60),f="cubicBezier(0.25, 0.1, 0.25, 1)",y="encourageToastIconContainer",b="encourageToastIconRadiateBg",w="encourageToastIconRadiateRing",P={targets:`#${y}`,duration:300,scale:1.4,easing:f},j={targets:`#${y}`,duration:300,scale:1,easing:f,endDelay:1e3},S={targets:`#${y}`,duration:300,scale:.42,easing:f},k={targets:`#${b}`,duration:400,opacity:0,scale:1.6,easing:f},T={targets:`#${w}`,duration:650,opacity:0,scale:2,easing:f};function I({hiding:e,visible:i}){return i?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class C extends n.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,a.Z)(k),(0,a.Z)(T),(0,a.Z)(P).finished.then((()=>{(0,a.Z)(j).finished.then((()=>{a.Z.set(`#${y}`,{transformOrigin:"top right"}),(0,a.Z)(S)}))}))}))})),h(this,"getHeaderText",(()=>{const{text:e}=this.props;return"string"==typeof e?e:e[0]?e[0]:e})),h(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}))),h(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),h(this,"renderAnimatedIcon",(()=>(0,l.jsxs)(r.xu,{height:g,position:"relative",width:g,children:[(0,l.jsx)(r.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${v}px`,top:`${v}px`}},children:this.props.thumbnail}),(0,l.jsxs)(r.xu,{id:y,height:g,width:g,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,l.jsx)(r.xu,{color:"infoBase",id:b,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${_}px`,top:`${_}px`,transform:"scale(0)"}}}),(0,l.jsx)(r.xu,{id:w,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${x}px`,top:`${x}px`,transform:"scale(0)"}}}),(0,l.jsx)(r.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:g,justifyContent:"center",minHeight:g,minWidth:g,position:"absolute",rounding:"circle",width:g,children:(0,l.jsx)(r.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:i}=this.props,t=e;return(0,l.jsx)(s,{button:i,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:t?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function A(e){const{duration:i,onHide:t}=e,a=(0,u.ZP)(),[o,s]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),g=(0,n.useRef)(),_=()=>{s(!0),g.current=setTimeout(t,200)},x=()=>{g.current&&clearTimeout(g.current)};(0,c.Z)((()=>(setTimeout((()=>m(!0)),100),g.current=setTimeout(_,i||p.w),x)));let v=(0,l.jsx)(C,{...e,i18n:a});return e.href&&(v=(0,l.jsx)(r.rU,{href:e.href,onClick:_,rounding:"pill",tapStyle:"none",children:v})),(0,l.jsx)(d.Z,{children:(0,l.jsx)(r.mh,{children:(0,l.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...I({hiding:o,visible:h})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:v})})})}},862501:(e,i,t)=>{t.d(i,{L:()=>u,q:()=>p});var n=t(794987),a=t(557182),o=t(191363),r=t(898781),l=t(883119),s=t(785893);const d=()=>{const e=(0,r.ZP)();return e._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},c=()=>{const e=(0,r.ZP)();return e._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')},u=e=>({duration:5e3,thumbnail:(0,s.jsx)(l.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,s.jsx)(o.Z,{boardId:e})})}),p=({boardId:e,isFBC:i,isTop:t,pinId:o})=>{return{...(r=o?"pin":"board",u=null!=o?o:e,{duration:5e3,thumbnail:(0,s.jsx)(l.xu,{"data-test-id":"pin-save-toast",children:"pin"===r?(0,s.jsx)(a.Z,{borderRadius:4,pinId:u}):(0,s.jsx)(n.Z,{boardId:u,type:"thumbnail"})})}),...i?{text:[(0,s.jsx)(d,{},"0"),(0,s.jsx)(c,{},"1")]}:Object.freeze({}),top:t?28:void 0};var r,u}},523504:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(702664),a=t(568388),o=t(343341),r=t(185894);function l(){const e=(0,n.useDispatch)(),{showToast:i,showOneToast:t}=(0,o.F9)();return{showToast:i,showOneToast:t,showRepinConfirmation:(t,n)=>{n||e((0,r.WF)()),setTimeout((()=>{n||e((0,r.a5)()),i(t)}),a.z)}}}},867405:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({borderRadius:e,description:i,imageUrl:t,imageHeight:o,imageWidth:r}){return(0,a.jsx)(n.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderRadius:e}},overflow:"hidden",children:(0,a.jsx)(n.Ee,{alt:null!=i?i:"",src:null!=t?t:"",fit:"cover",naturalHeight:null!=o?o:1,naturalWidth:null!=r?r:1,color:"#767676"})})}},557182:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(867405),a=t(606441),o=t(785893);function r({borderRadius:e,pinId:i,adhocPinData:t}){var r,l;const s=(0,a.N)(i)||t;if(!s)return null;const d=s.images&&(s.images.orig||s.images["736x"]||s.images["290x"]||s.images["236x"]);return(0,o.jsx)(n.Z,{borderRadius:e,description:s.description,imageUrl:(null==d?void 0:d.url)||(null==t?void 0:t.image_large_url),imageHeight:(null==d?void 0:d.height)||(null==t||null===(r=t.image_large_size_pixels)||void 0===r?void 0:r.height),imageWidth:(null==d?void 0:d.width)||(null==t||null===(l=t.image_large_size_pixels)||void 0===l?void 0:l.width)})}},195946:(e,i,t)=>{t.d(i,{A:()=>n});const n=e=>{const i=e.rich_metadata;return i?i.products?144:i.article?141:i.recipe?145:139:140}},927007:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(643010),a=t(883119),o=t(785893);function r({guide:e,guidedQuery:i,isSlot0Style:t=!1,onClick:r}){const{dominant_color:l,display:s}=e,d=(0,o.jsx)(a.iP,{role:"link",onTap:r,tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(i)}`,children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:l,whiteSpace:t?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:t?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(a.xv,{align:t?"start":"center",color:t?(0,n.Yc)()?"inverse":"default":"inverse",lineClamp:t?2:void 0,size:"200",weight:t?"normal":"bold",children:s})})});return t?d:(0,o.jsx)(a.xu,{flex:"none",marginStart:-7,paddingX:4,children:d})}var l=t(112690),s=t(473535);const d=-1,c=0;function u({guides:e,isSlot0Style:i=!1,query:t}){const n=(0,l.Z)(),u=({position:e,term:i})=>e===d?i:e===c?`${i} ${t}`:`${t} ${i}`,p=e=>()=>{(0,s.U3)({logContextEvent:n,searchScope:"pins",searchTerm:e,rs:"guide"})},h=()=>e.map((e=>(0,o.jsx)(r,{guide:e,guidedQuery:u(e),isSlot0Style:i,onClick:p(t)},e.display)));return i?(0,o.jsx)(a.xu,{padding:2,children:(0,o.jsx)(a.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:h()})}):(0,o.jsx)(a.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(a.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:h()})})}},209236:(e,i,t)=>{t.d(i,{Z:()=>N});var n=t(667294),a=t(702664),o=t(90771),r=t(31149),l=t(659522),s=t(214680),d=t(331744),c=t(172071),u=t(757146),p=t(785893);function h({size:e=56}){return(0,p.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,p.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var m=t(862960),g=t(941646),_=t(499128),x=t(464240),v=t(287072),f=t(89396),y=t(22641),b=t(467570),w=t(539497),P=t(773285),j=t(50286),S=t(167912),k=t(780280),T=t(898781),I=t(112690),C=t(52022),A=t(391968),z=t(833715),D=t(883119),F=t(957161),L=t(644035),Z=t(343341);function E(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const M=56,U=String(86),R=({text:e})=>(0,p.jsx)(D.xv,{align:"center",size:"100",children:e});class O extends n.PureComponent{constructor(...e){super(...e),E(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),E(this,"setClipboard",(e=>{const{Clipboard:i,invitePath:t}=this.state;(0,z.sF)(t,i,e,this.showCopyToast)})),E(this,"showCopyToast",(()=>{var e,i,t,n;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(i=this.props).onShare)||void 0===e||e.call(i),this.props.showToast((({hideToast:e})=>(0,p.jsx)(_.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(t=(n=this.props).setShareSent)||void 0===t||t.call(n,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),E(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:i}=this.props;return(0,z.pW)({country:e,isDesktop:i,shouldShowNativeShare:Boolean(navigator.share)})})),E(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let i=JSON.parse((0,F.qn)(A.B));return!i||e?this.getDefaultAppOrder():(i=[...i.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&i.push(11),i)})),E(this,"setNewAppOrder",(e=>{const{isDesktop:i}=this.props;i||A.F6.has(e)||(0,F.Nh)(A.B,JSON.stringify([e,...this.getAppOrder().filter((i=>i!==e))]))})),E(this,"handleMessagingAppClick",(e=>{var i,t,n,a;null===(i=(t=this.props).onShare)||void 0===i||i.call(t),null===(n=(a=this.props).setShareSent)||void 0===n||n.call(a,!0),this.logShareClick(e),this.setFreshInviteCode(e),A.rO.has(e)||(0,F.Nh)(A.Cq,e),this.setNewAppOrder(e)})),E(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),E(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),E(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),E(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),E(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),E(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),E(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),E(this,"handleFacebookClick",(e=>{var i,t,n,a;const{isDesktop:o}=this.props;e.preventDefault(),null===(i=(t=this.props).onShare)||void 0===i||i.call(t),null===(n=(a=this.props).setShareSent)||void 0===n||n.call(a,!0),(0,w.My)(`pcons.${o?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"});const{inviteCode:r,invitePath:l,fbLoaded:s}=this.state;(0,z.Rh)(s,l,r||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),E(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),E(this,"logShareClick",((e,i=this.state.inviteCode)=>{const{objectId:t,objectType:n,component:a,clientTrackingParams:o,logContextEvent:r,viewType:l,viewParameter:s}=this.props;(0,z.Iz)({inviteChannel:e,inviteCode:i,objectId:t,objectType:n,component:a,clientTrackingParams:o,logContextEvent:r,view_type:l,view_parameter:s})})),E(this,"copyButtonRef",null),E(this,"renderAppsInCustomOrder",(({Email:e,Facebook:i,FBMessenger:t,Line:a,WhatsApp:o,Twitter:r,Viber:l,Telegram:s,CopyLink:d,Sms:c,ShareVia:u})=>{const h=this.getAppOrder(),m=new Map([[6,t],[10,o],[5,i],[9,r],[3,e],[8,a],[20,s],[22,l],[4,c],[12,d],[11,u]]);return(0,p.jsx)(n.Fragment,{children:h.map((e=>m.get(e)))})})),E(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:i})=>{var t,n;i(),null===(t=(n=this.props).onSave)||void 0===t||t.call(n),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,b.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),t.e(6527).then(t.t.bind(t,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:i}=this.props;e!==i&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:i,objectType:t}=this.props,{invitePath:n,inviteCode:a,title:o,message:r}=await(0,z.yP)(e,i,t,this.props.relayEnvironment),l={};n&&(l.invitePath=n),a&&(l.inviteCode=a),o&&(l.inviteTitle=o),r&&(l.inviteMessage=r),this.setState(l)}render(){const{isDesktop:e,objectType:i,onSave:t,showSaveOption:n,isAppleDevice:a}=this.props,{invitePath:_,inviteMessage:v,inviteTitle:b}=this.state,{emailShareLink:w,messengerShareLink:P,twitterShareLink:j,whatsappShareLink:S,lineShareLink:k,telegramShareLink:T,viberShareLink:I,smsShareLink:C}=(0,z.tA)({invitePath:_,inviteTitle:b,objectType:i,i18n:this.props.i18n,isDesktop:e}),A=({children:i})=>(0,p.jsx)(D.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${U}px`:"100%",children:i}),F=({children:e})=>(0,p.jsx)(D.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),L=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(g.Z,{id:"fbmessenger-share-icon",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,p.jsx)(u.Z,{size:M})})})}),(0,p.jsx)(R,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),Z=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(g.Z,{id:"whatsapp-share-icon",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,p.jsx)(y.Z,{size:M})})})}),(0,p.jsx)(R,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),E=(0,p.jsx)(D.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,p.jsx)(l.Z,{size:M})})}),(0,p.jsx)(R,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),O=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(g.Z,{id:"twitter-share-icon",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,p.jsx)(x.Z,{size:M})})})}),(0,p.jsx)(R,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),N=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,p.jsx)(d.Z,{size:M})})}),(0,p.jsx)(R,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),B=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,p.jsx)(f.Z,{size:M})})}),(0,p.jsx)(R,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),H=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,p.jsx)(m.Z,{size:M})})}),(0,p.jsx)(R,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),W=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(g.Z,{id:"email-share-button",children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,p.jsx)(r.Z,{size:M})})})}),(0,p.jsx)(R,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),V=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{var t,n;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),i();const a=v.indexOf("https://");navigator.share&&navigator.share({url:_,text:a>0?v.slice(0,a):v,title:b}).then((()=>{this.handleMessagingAppClick(11),c.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{c.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,p.jsx)(D.xu,{height:M,children:(0,p.jsx)(D.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,p.jsx)(R,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),K=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:a?(0,p.jsx)(s.Z,{size:M}):(0,p.jsx)(o.Z,{size:M})})}),(0,p.jsx)(R,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),$=(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:M,children:(0,p.jsx)(D.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,p.jsx)(R,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,p.jsxs)(D.xu,{children:[(0,p.jsx)(D.xu,{height:4}),(0,p.jsx)(D.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,p.jsxs)(D.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[n&&t&&(()=>(0,p.jsxs)(A,{children:[(0,p.jsx)(F,{children:(0,p.jsx)(D.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,p.jsx)(h,{size:M})})}),(0,p.jsx)(R,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:W,Facebook:E,FBMessenger:L,Line:N,WhatsApp:Z,Twitter:O,Viber:B,Telegram:H,CopyLink:$,Sms:K,ShareVia:V})]})}),(0,p.jsx)(D.xu,{height:16})]})}}function N(e){const i=(0,T.ZP)(),t=(0,j.HG)(),{showToast:n}=(0,Z.F9)(),{country:o,locale:r}=(0,k.B)(),l=(0,v.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:s}=(0,P.F)(),d=(0,a.useSelector)((({session:e})=>e.userAgentPlatform)),c=d===L.RL||d===L.s4,u=s("graphql_migration_sharesheet_sgrowth_web").anyEnabled,h=(0,S.useRelayEnvironment)(),m=(0,I.Z)(),g=(0,C.Z)();return(0,p.jsx)(O,{...e,country:o,i18n:i,isDesktop:t,locale:r,showToast:n,onNavigation:l,logContextEvent:m,isAppleDevice:c,relayEnvironment:u?h:void 0,trackInteraction:g})}},833715:(e,i,t)=>{t.d(i,{Iz:()=>_,Rh:()=>p,pW:()=>c,rL:()=>g,sF:()=>h,tA:()=>u,yP:()=>m});var n,a,o=t(6637),r=t(467570),l=t(867060),s=t(167912);const d={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function c({country:e,isDesktop:i,shouldShowNativeShare:t}){const{FBMessenger:n,WhatsApp:a,Facebook:o,Twitter:r,Email:l,Line:s,Telegram:c,Viber:u,Sms:p,CopyLink:h,ShareVia:m}=d;function g(){switch(e){case"US":return i?[a,o,r,l]:[p,n,a,o,r];case"ID":return i?[a,s,l,o]:[a,c,p,s,l,o];case"JP":case"TH":case"TW":return i?[s,r,l,o]:[s,l,p,r,o];case"GR":return i?[a,o,r,l]:[u,n,a,p,o,r];case"IR":case"IQ":return i?[a,o,r,l]:[a,c,p,n,r];case"UA":case"RU":return i?[a,o,r,l]:[a,u,c,o,n,p,r];default:return i?[a,o,r,l]:[a,n,p,o,r]}}return i?[h,...g()]:[...g(),h,...t?[m]:[]]}function u({invitePath:e,inviteTitle:i,objectType:t,i18n:n,isDesktop:a}){let o=n._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===t&&(o=n._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const l=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(e)}`,s=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${r.GH}`,d=`${i}\n${e}`,c=a?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=a?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=a?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(i)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,h=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:l,messengerShareLink:s,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function p(e,i,t,n){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:i},(e=>{e&&!e.error_message&&n&&n()}))}function h(e,i,t,n){if(!t||!i)return;const a=new i(t,{text:()=>e});a.on("success",(e=>{n&&n(e)})),a.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function m(e,i,a,r){if(r)return((e,i,a,o,r)=>{const l=void 0!==n?n:n=t(865107),d={invite_category:i,invite_object:a,invite_channel:o};return(0,s.fetchQuery)(e,l,{inviteType:JSON.stringify(d),objectId:r}).toPromise().then((e=>{var i;return Promise.resolve((e=>{var i,t,n,a;return{inviteCode:null!==(i=null==e?void 0:e.inviteCode)&&void 0!==i?i:"",invitePath:null!==(t=null==e?void 0:e.inviteUrl)&&void 0!==t?t:"",title:null!==(n=null==e?void 0:e.title)&&void 0!==n?n:"",message:null!==(a=null==e?void 0:e.message)&&void 0!==a?a:""}})(null==e||null===(i=e.v3InviteUserExternalQuery)||void 0===i?void 0:i.data))}),(e=>Promise.reject(e)))})(r,3,a,e.toString(),i);{const t=o.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:a,invite_channel:e},object_id:i}),n=await t.callCreate(),{invite_url:r,invite_code:l,title:s,message:d}=n.resource_response.data;return{inviteCode:l,invitePath:r,title:s,message:d}}}const g=(e,i,n,o,r,l)=>{const d=void 0!==a?a:a=t(361600),c={inviteType:JSON.stringify({invite_category:i,invite_object:n,invite_channel:o}),inviteCode:r,objectId:l};(0,s.commitMutation)(e,{mutation:d,variables:{...c}})};async function _({inviteChannel:e,inviteCode:i,objectId:t,objectType:n,component:a,clientTrackingParams:r,logContextEvent:s,view_parameter:d,view_type:c}){s({aux_data:{invite_object:n},object_id_str:t,component:a,clientTrackingParams:r,element:l.c[e],event_type:102,view_type:c,view_parameter:d}),o.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:n,invite_channel:e},invite_code:i,object_id:t,client_tracking_params:r}).callCreate()}},203345:(e,i,t)=>{t.r(i),t.d(i,{default:()=>$});var n=t(667294),a=t(209236),o=t(702664),r=t(766935),l=t(940519),s=t(936776),d=t(172071),c=t(6637),u=t(700380),p=t(784590),h=t(19121),m=t(479739),g=t(773285),_=t(281180),x=t(25719),v=t(116303),f=t(499128),y=t(898781),b=t(728214),w=t(349700),P=t(479301),j=t(883119),S=t(276775),k=t(343341),T=t(785893);function I(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class C extends n.PureComponent{constructor(...e){var i;super(...e),i=this,I(this,"state",{viewConversation:!1,isSent:!1,path:""}),I(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,T.jsxs)(j.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,T.jsx)(j.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,T.jsx)(j.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,T.jsxs)(j.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,T.jsx)(j.xu,{marginEnd:2,children:(0,T.jsx)(j.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,T.jsx)(j.xu,{marginEnd:2,children:(0,T.jsx)(j.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),I(this,"onViewConversation",(()=>{const{path:e}=this.state;d.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),I(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:t,i18n:n,isFullHeight:a,onDismiss:o,setShareSent:r,recipient:l,sendObject:s,showToast:c,email:u,updateCachedContactsAfterSend:p,userId:h}=i.props,m=e[s.objectType];i.setState({isSent:!0});try{const e=await t({user_ids:l?[l.id,h]:void 0,[m]:s.objectId,emails:u?[u]:void 0});if(e){const t=e.id;i.setState({path:`/conversation/${t}`,viewConversation:!0}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),r(!0),null==p||p(),!a&&o&&(c((({hideToast:e})=>(0,T.jsx)(f.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:n._('View the conversation', 'ContactItem.ConfirmationToast.a11yButtonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),label:n._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),onClick:i.onViewConversation},duration:4e3,onHide:e,text:(0,w.Wc)(n._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==l?void 0:l.full_name)||""}),iconThumbnail:(0,T.jsx)(v.Z,{size:"fit",src:(null==l?void 0:l.image_large_url)||"",name:(null==l?void 0:l.full_name)||""}),thumbnailShape:"circle"}))),o(t))}}catch(g){c((({hideToast:e})=>(0,T.jsx)(f.ZP,{variant:"error",text:(null==g?void 0:g.message_detail)||(null==g?void 0:g.message)||n._('Failed to create conversation.', 'ContactItem.errorToast.text', 'Error during message send from the share sheet'),onHide:e}))),i.setState({isSent:!1}),d.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:g})}}}))}render(){var e,i,t,n;const{isFullHeight:a,recipient:o,email:r}=this.props,{isSent:l}=this.state;return!a&&o?(0,T.jsxs)(j.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,T.jsx)(j.iP,{onTap:()=>this.onInlineSend(),children:(0,T.jsx)(j.xu,{height:56,marginBottom:1,width:56,children:(0,T.jsx)(v.Z,{size:"fit",src:null!==(e=o.image_large_url)&&void 0!==e?e:"",name:null!==(i=o.full_name)&&void 0!==i?i:""})})}),(0,T.jsx)(j.xu,{width:56,children:(0,T.jsx)(j.xv,{lineClamp:1,size:"100",align:"center",children:o.full_name})})]}):(0,T.jsxs)(j.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[o?(0,T.jsx)(j.xu,{children:(0,T.jsx)(v.Z,{size:"md",src:null!==(t=o.image_large_url)&&void 0!==t?t:"",name:null!==(n=o.full_name)&&void 0!==n?n:""})}):r&&(0,T.jsx)(j.xu,{children:(0,T.jsx)(v.Z,{size:"md",name:r})}),(0,T.jsx)(j.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,T.jsx)(j.xv,{lineClamp:1,weight:"bold",children:o?o.full_name:r&&l?r:(0,w.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:r})})}),(0,T.jsx)(j.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:l?this.renderViewConversationButton():(0,T.jsx)(j.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}})})]})}}function A(e){const i=(0,S.useHistory)(),t=(0,y.ZP)(),n=(0,b.Z)(),{showToast:a}=(0,k.F9)(),o=(0,P.aX)();return(0,p.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,T.jsx)(C,{...e,createConversation:o,history:i,i18n:t,requireAuthForLimitedLogin:n,showToast:a})}var z=t(112690),D=t(379725);function F(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const L={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class Z extends n.PureComponent{componentDidUpdate(e){const{fetching:i}=e,{value:t}=this.state,n=i&&!this.props.fetching,a=this.getContactSuggestions();if(!t&&n){const e=a.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),F(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),F(this,"onSearchChange",(({value:e})=>{const{userId:i,searchContacts:t}=this.props,n={options:{user:i,term:e}};this.setState({value:e},t(n))})),F(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:i,users:t}=this.props,{value:n,defaultSuggestions:a}=this.state;if(!n)return a.filter((e=>t[e.id]))||[];const o=`share-suggestions:${i}:${n}`,r=`share-suggestions:${i}:${n.slice(0,-1)}`;return e[o]||e[r]||[]})),F(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:i,i18n:t,isFullHeight:n,onDismiss:a,sendObject:o,setShareSent:r,userId:l,users:d,updateCachedContactsAfterSend:c}=this.props,{loadingDefaultSuggestions:u,value:p}=this.state,h=this.getContactSuggestions(),m=i||u;let g;return g=!n&&m?107:"100%",m?(0,T.jsx)(j.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:g,paddingY:2,children:(0,T.jsx)(j.$j,{show:!0,accessibilityLabel:t._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===h.length&&!(0,s.Z)(p)&&p&&n?(0,T.jsx)(j.xu,{marginTop:3,children:(0,T.jsx)(j.xv,{align:"center",children:t._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,T.jsx)(j.kC,{direction:n?"column":"row",overflow:n?void 0:"hidden",children:(0,T.jsxs)(j.xu,{display:n?void 0:"flex",height:g,overflow:n?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:n?4:1,paddingY:0,children:[0===h.length&&(0,s.Z)(p)&&(0,T.jsx)(A,{email:p,isFullHeight:n,sendObject:o,setShareSent:r,userId:l}),!n&&(0,T.jsxs)(j.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,T.jsx)(j.xu,{height:56,marginBottom:1,width:56,children:(0,T.jsx)(j.hU,{accessibilityLabel:t._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:e,size:"xl"})}),(0,T.jsx)(j.xv,{lineClamp:1,size:"100",children:t._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),h.map((e=>{var i;return(0,T.jsx)(A,{isFullHeight:n,onDismiss:a,recipient:d[null!==(i=e.id)&&void 0!==i?i:""],sendObject:o,setShareSent:r,userId:l,updateCachedContactsAfterSend:c},e.id)}))]})})})),this.scrollerRef=(0,n.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:i,getFreshContactSuggestions:t,updateCachedShareSuggestions:n}=this.props;if(e)if(i)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:i});else{const e=await t()||[];n(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await t()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:i,expandContactsList:t}=this.props,a=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,T.jsx)(n.Fragment,{children:i?(0,T.jsxs)(j.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,T.jsx)(j.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?L:null},children:(0,T.jsx)(l.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:t,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:i})}),(0,T.jsx)(j.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:a,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,T.jsx)(j.xu,{children:this.renderContactSuggestions()})})}}function E(e){const i=(0,y.ZP)(),t=(0,_.kW)(),n=(0,z.Z)(),{id:a}=(0,h.Z)(),l=(0,o.useDispatch)();(0,p.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:a}});const s=(0,o.useSelector)((i=>(0,m.oF)(i,e))),u=(0,o.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),v=Object.keys(u||{}).some((e=>u[e].fetching)),{cachedShareSuggestions:f,clearCachedShareSuggestions:b,updateCachedShareSuggestions:w}=(0,x.$)(),P=async()=>{let e;const i=c.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var t;e=null===(t=(await i.callGet()).resource_response)||void 0===t?void 0:t.data}catch(n){d.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:j}=(0,g.F)(),S=j("mweb_cache_contacts_share").anyEnabled;return(0,T.jsx)(Z,{...e,i18n:i,logContextEvent:n,users:t,searchContacts:e=>{(0,r.Z)(l((0,D.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:v,userId:a||"",typeaheadSuggestions:s,inContactsCacheExp:S,cachedShareSuggestions:f,getFreshContactSuggestions:P,updateCachedContactsAfterSend:async()=>{if(S){b();const e=await P();e&&w(e)}},updateCachedShareSuggestions:w})}var M=t(141280),U=t(121151),R=t(667679),O=t(52022),N=t(539497),B=t(53987),H=t(50286);const W=14121,V=({heading:e,onDismiss:i})=>{const t=(0,y.ZP)();return(0,T.jsxs)(j.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,T.jsx)(j.xu,{display:"flex",alignItems:"center",padding:1,children:(0,T.jsx)(j.hU,{accessibilityLabel:t._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:i,size:"sm",iconColor:"darkGray",padding:4})}),(0,T.jsx)(j.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,T.jsx)(j.xv,{align:"center",weight:"bold",children:(0,T.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},K=({children:e,isOpen:i,onDismiss:t,childPaddingX:n=3,shouldRenderCloseIcon:a,shouldRenderFullHeight:o,heading:r})=>{const l=(0,y.ZP)(),s={mobileAccessibilityCloseIconLabel:l._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:r,mobileHideCloseIcon:!a,isOpen:i,onDismiss:t,type:"share_menu"};return o?(0,T.jsxs)(M.Z,{isOpen:i,accessibilityModalLabel:r,children:[(0,T.jsx)(V,{heading:r,onDismiss:t}),e]}):(0,T.jsx)(U.ZP,{...s,children:(0,T.jsx)(j.xu,{marginTop:a?0:4,paddingX:n,children:e})})},$=({isOpen:e,onDismiss:i,objectType:t,objectId:o,hideContactsSuggestions:r,clientTrackingParams:l,element:s,viewType:c,viewParameter:u})=>{const p=(0,y.ZP)(),[m,_]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!1),f=m||!r,b=(0,S.useLocation)(),w=(0,H.HG)(),{isAuth:P}=(0,h.Z)(),{checkExperiment:k}=(0,g.F)(),I=(0,R.Z)(),C=(0,z.Z)(),A=(0,O.Z)(),D=e=>{k("mweb_share_menu_logging").anyEnabled&&C({clientTrackingParams:l,component:W,event_type:x||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:t}});const n=(e=>(0,B.cD)(e)?"profile_page":(0,B.am)(e)?"board_page":(0,B.uM)(e)?"pin_page":"unknown")(b),a=!w&&!P&&k("unauth_mweb_after_invite_signup_modal").anyEnabled;A({action:"click",item:"close-share-menu"}),i(),a&&x&&I({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap_unauth_${n}_share_menu_click_invite`}),v(!1),(0,N.My)(`mweb_${n}_share_menu.click_invite.close`)},F=k("mweb_share_menu_logging").anyEnabled;(0,n.useEffect)((()=>{e&&C({event_type:7120,component:W,object_id_str:o,clientTrackingParams:F?l:null,element:F?s:null,view_type:F?c:70,view_parameter:F?u:256,aux_data:F?{invite_object:t}:void 0})}),[e,k,F]);const L=(0,H.Wb)(),Z=p._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),M=p._('Share', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),U=m?Z:(0,T.jsx)(j.xu,{marginTop:0,children:(0,T.jsx)(j.xv,{align:"center",weight:"bold",size:"300",children:f?Z:M})});return(0,T.jsx)(K,{isOpen:e,onDismiss:m?()=>{_(!1),d.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>D(),shouldRenderFullHeight:m,shouldRenderCloseIcon:!0,childPaddingX:0,heading:U,children:(0,T.jsxs)(j.xu,{marginBottom:8,marginTop:m||!f?0:-4,maxWidth:L?440:"100%",children:[f&&(0,T.jsx)(E,{sendObject:{objectId:o,objectType:t},expandContactsList:()=>{_(!0),d.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:m,onDismiss:D,setShareSent:e=>v(e)}),!m&&(0,T.jsxs)(n.Fragment,{children:[f&&(0,T.jsxs)(j.xu,{marginTop:4,paddingX:4,children:[(0,T.jsx)(j.iz,{}),(0,T.jsx)(j.xu,{marginTop:8,children:(0,T.jsx)(j.xv,{align:"center",size:"300",weight:"bold",children:M})})]}),(0,T.jsx)(a.Z,{objectId:o,objectType:t,viewType:F?c:70,viewParameter:u,onDismiss:D,setShareSent:e=>v(e),clientTrackingParams:l,component:W})]})]})})}},25719:(e,i,t)=>{t.d(i,{$:()=>l,l:()=>s});var n=t(667294),a=t(425288),o=t(785893);const{Provider:r,useHook:l}=(0,a.Z)("ShareSuggestions");function s({children:e}){const[i,t]=(0,n.useState)(void 0),a=(0,n.useCallback)((()=>{t(void 0)}),[]),l=(0,n.useCallback)((e=>{t(e)}),[]),s=(0,n.useMemo)((()=>({cachedShareSuggestions:i,clearCachedShareSuggestions:a,updateCachedShareSuggestions:l})),[i,a,l]);return(0,o.jsx)(r,{value:s,children:e})}},391968:(e,i,t)=>{t.d(i,{B:()=>o,Cq:()=>a,F6:()=>u,RV:()=>n,VZ:()=>r,W_:()=>s,bm:()=>l,iS:()=>p,rO:()=>c,zn:()=>d});const n="animatedShareIconLastViewed",a="lastUsedSocialShare",o="customizedSocialAppOrder",r=44,l=9e5,s=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},940519:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(883119),o=t(785893);class r extends n.Component{constructor(...e){var i,t,n;super(...e),n=e=>{e&&(this.searchRef=e)},(t="setSearchRef")in(i=this)?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:i,onBlur:t,onChange:n,onFocus:r,placeholder:l,value:s}=this.props;return(0,o.jsx)(a.Um,{accessibilityLabel:e,id:i,onBlur:t,onChange:n,onFocus:r,placeholder:l,ref:this.setSearchRef,size:"lg",value:s})}}},226343:(e,i,t)=>{t.d(i,{Z:()=>g,e:()=>p});var n=t(702664),a=t(240684),o=t(46584),r=t(131108),l=t(599997),s=t(883119),d=t(332611),c=t(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-HlsVideoContainer",isReady(e){const i=this.resolve(e);return!0===this.resolved[i]&&!!t.m[i]},importAsync:()=>t.e(58922).then(t.bind(t,501685)),requireAsync(e){const i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then((e=>(this.resolved[i]=!0,e)))},requireSync(e){const i=this.resolve(e);return t(i)},resolve(){return 501685}}),p=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:i,videoPlaceholderImage:t}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(s.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:t||i.metadata.thumbnail}),aspectRatio:l.q4,controls:!1,poster:t||i.metadata.thumbnail,src:i.url})}function g({buttonAction:e,buttonCustomization:i,buttonText:t,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:g,openNewTab:_,storyType:x,titleText:v,titleTextColor:f,titleTextCustomization:y,videoPin:b,videoPlaceholderImage:w}){var P;const j=(0,n.useDispatch)(),{experience_id:S,placement_id:k}=a||{},T=(0,o.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",j((0,d.UT)(k,S,!1,!0)))}}),I=(0,l.zn)(x),C=I?r.f8:r.hm,A=I?r.sH:r.HI,z=!I,{color:D,fontStyle:F,fontWeight:L,horizontalAlignment:Z,fontSize:E}=(0,l.Mf)(y||{},"mweb"),{button_background_color:M,button_text_color:U}=i||{};return(0,c.jsx)(s.xu,{position:"relative",padding:1,marginBottom:2,ref:T,children:(0,c.jsxs)(s.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&j((0,d.CK)(k,S,!1,!0))},target:_?"blank":null,children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===x&&b?(0,c.jsx)(m,{titleText:v,videoPin:b,videoPlaceholderImage:w}):g&&(0,c.jsx)(s.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:g,fit:"cover"})}),z&&(0,c.jsx)(s.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(C,{children:(0,c.jsx)(s.xv,{align:Z,color:f,italic:"italics"===F,weight:L,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=D||f)&&void 0!==P?P:void 0,fontSize:E}},children:v})})})]})}),!u&&(0,c.jsx)(A,{children:(0,c.jsx)(s.xu,{display:"flex",rounding:"pill",color:I?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:M}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(s.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{color:U}},children:t})})})})]})})}},189500:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(667294),a=t(702664),o=t(149230),r=t(984766),l=t(112690),s=t(825077),d=t(883119),c=t(785893);function u({auxData:e,slotIndex:i,storyId:t,trafficSource:u,viewParameter:p,viewType:h}){const m=(0,l.Z)(),g=(0,a.useSelector)((({stories:e,pins:i})=>e[t].objects.map((e=>i[e.id])))),_=(0,a.useSelector)((({stories:e})=>e[t])),{action:x,story_type:v,title:f}=_,y=g.map((({type:e,id:i})=>e+":"+i)).join("|"),b={story_type:v,story_id:t,content_ids:y,...e};return(0,c.jsx)(s.Hs,{loggingId:t,objectIdStr:t,viewParameter:p,viewType:h,slotIndex:i,component:200,auxData:b,children:(0,c.jsxs)(n.Fragment,{children:[f&&(0,c.jsx)(d.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,c.jsx)(d.xv,{weight:"bold",children:f.format})}),(0,c.jsx)(d.kC,{wrap:!0,children:g.map((e=>(0,c.jsx)(d.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,c.jsx)(r.default,{auxData:b,componentType:0,pinId:e.id,slotIndex:i,trafficSource:u,viewParameter:p,viewType:h})},e.id)))}),x&&x.url&&(0,c.jsx)(d.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:x.text,color:"gray",onClick:()=>{m({view_type:h,view_parameter:p,aux_data:b,event_type:102})},text:x.text,href:x.url,rel:(0,o.Z)(x.url)?"nofollow":void 0,target:(0,o.Z)(x.url)?"blank":void 0,size:"md"})})]})})}},481277:(e,i,t)=>{t.d(i,{Z:()=>Se});var n=t(667294),a=t(702664),o=t(474635),r=t(127009),l=t(137618),s=t(898781),d=t(957161),c=t(773285),u=t(883119),p=t(785893);function h(){const e=(0,s.ZP)(),{checkExperiment:i}=(0,c.F)(),{locale:t,userAgentPlatform:h}=(0,a.useSelector)((({session:e})=>e));(0,n.useEffect)((()=>{"enabled_no_double"===i("mweb_hf_story_app_upsell2").group&&(0,d.Nh)("appUpsell",Date.now())}),[]);const m="ios"===h;return(0,p.jsxs)(u.xu,{color:"infoBase",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,p.jsx)(u.xv,{color:"inverse",weight:"bold",children:m?e._('Pinterest works best if you switch to our iPhone app', 'app upsell', 'app upsell'):e._('Pinterest works best if you switch to our Android app', 'app upsell', 'app upsell')}),(0,p.jsx)(u.xu,{marginTop:3,children:(0,p.jsx)(o.Z,{componentType:14159,within:"app-upsell-story",children:({handleOpenApp:e})=>(0,p.jsx)(u.iP,{onTap:()=>e({deepLinkUri:"/"}),children:m?(0,p.jsx)(l.Z,{locale:t}):(0,p.jsx)(r.Z,{locale:t})})})})]})}var m=t(856919),g=t(281180);const _={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function x({buttonAction:e,buttonText:i,imageUrl:t,brands:n}){const a=(0,g.kW)(),o=n.slice(0,3).map((e=>{var i,t;return{name:null!==(i=a[e.id].username)&&void 0!==i?i:"",src:null!==(t=a[e.id].image_medium_url)&&void 0!==t?t:""}}));return(0,p.jsx)(u.xu,{position:"relative",padding:1,marginBottom:2,children:(0,p.jsxs)(m.MZ,{to:e,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,p.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:t&&(0,p.jsx)(u.Ee,{alt:i,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:t,fit:"cover"})}),(0,p.jsx)(u.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:_.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,p.jsx)(u.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,p.jsx)(u.xu,{width:24*(2*o.length+1),height:64,children:(0,p.jsx)(u.HE,{accessibilityLabel:"",collaborators:o})})})]})}),(0,p.jsx)(u.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,p.jsx)(u.xv,{weight:"bold",children:(0,p.jsx)(u.xu,{children:i})})})]})})}var v=t(843242),f=t(319670);const y="49.5%";function b({buttonAction:e,buttonText:i,colors:t}){const n=(0,a.useSelector)((({pins:e})=>t.slice(0,4).map((i=>{var t;return{...null===(t=e[i.id].images)||void 0===t?void 0:t["736x"],title:e[i.id].description}}))));if(t.length<4)return null;const o=e=>{var i,t,n,a;return(0,p.jsx)(u.xu,{width:y,height:"100%",children:(0,p.jsx)(u.Ee,{alt:null!==(i=e.title)&&void 0!==i?i:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(t=e.height)&&void 0!==t?t:1,naturalWidth:null!==(n=e.width)&&void 0!==n?n:1,src:null!==(a=e.url)&&void 0!==a?a:"",fit:"cover"})})};return(0,p.jsx)(u.xu,{position:"relative",padding:1,marginBottom:2,children:(0,p.jsxs)(m.MZ,{to:e,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,p.jsx)(u.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[n.slice(0,2),n.slice(2,4)].map((e=>(0,p.jsx)(u.kC,{width:"100%",height:y,justifyContent:"between",children:e.map(o)})))})})}),(0,p.jsx)(u.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,p.jsx)(u.xv,{weight:"bold",children:(0,p.jsx)(u.xu,{children:i})})})]})})}var w=t(116303);const P=(0,a.connect)((({pins:e},i)=>({pin:e[i.id]})),(()=>({})))((({isFirstChild:e,pin:i})=>{var t;if(!i)return null;const n=null===(t=i.images)||void 0===t?void 0:t["170x"];if(!n)return null;const a=i.pinner,{full_name:o,image_medium_url:r}=a||{},{dominant_color:l}=i,{height:s,width:d,url:c}=n;return(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,p.jsxs)(u.xu,{position:"relative",children:[(0,p.jsx)(u.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,p.jsx)(u.Ee,{alt:i.title||"",color:null!=l?l:"",fit:"cover",naturalHeight:null!=s?s:1,naturalWidth:null!=d?d:1,src:null!=c?c:""})}),r&&(0,p.jsx)(u.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,p.jsx)(w.Z,{name:null!=o?o:"",src:r})})})]})})}));function j({pinIds:e}){const i=e.concat(e).concat(e).concat(e);return(0,p.jsx)(u.xu,{height:174,overflow:"hidden",width:"100%",children:(0,p.jsx)(u.xu,{overflow:"scroll",children:(0,p.jsx)(u.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:i.map(((e,i)=>(0,p.jsx)(P,{id:e,isFirstChild:0===i},e)))})})})}var S=t(30700),k=t(112690),T=t(825077);const I="creator_spotlight_";function C({id:e}){const i=(0,k.Z)(),t=(0,a.useSelector)((({stories:i})=>i[e]));if(!t||"social_seasonal_pin"===t.story_type)return null;const{button_text:n,objects:o,story_type:r,subtitle:l,title:s,background_colour:d,display_options:c}=t,{title_text_color:h,subtitle_text_color:m}=c;if(!r.startsWith(I)||!o||o.length<3)return null;const g=`/creator-spotlight/${r.slice(I.length)}`;return(0,p.jsx)(u.xu,{marginBottom:3,children:(0,p.jsx)(T.Hs,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:r},children:(0,p.jsx)(u.iP,{onTap:()=>{i({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:r},event_type:102})},tapStyle:"none",role:"link",href:g,rounding:2,children:(0,p.jsx)(u.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:d}},children:(0,p.jsx)(u.xu,{width:"100%",height:"100%",children:(0,p.jsxs)(u.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!l||!!s)&&(0,p.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[s&&s.format&&(0,p.jsx)(u.X6,{size:"400",children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{color:h}},children:s.format})}),l&&l.format&&(0,p.jsx)(u.xv,{align:"center",children:(0,p.jsx)(u.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:m}},children:l.format})})]}),(0,p.jsx)(u.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,p.jsx)(j,{pinIds:o.map((e=>e.id))})}),n&&n.format&&(0,p.jsx)(u.xu,{display:"inlineBlock",children:(0,p.jsx)(S.Z,{pressState:"compress",children:(0,p.jsx)(u.xu,{color:"primary",rounding:"pill",position:"relative",children:(0,p.jsx)(u.xu,{paddingX:5,paddingY:5,children:(0,p.jsx)(u.xv,{color:"inverse",weight:"bold",children:n.format})})})})})]})})})})})})}var A=t(319915),z=t(121093),D=t(19121),F=t(276775);function L({pin:e,width:i,height:t,showDivider:n}){var a,o,r,l,s,d,c;const h=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,p.jsx)(u.GH,{contentAspectRatio:(null!==(o=null==h?void 0:h.width)&&void 0!==o?o:1)/(null!==(r=null==h?void 0:h.height)&&void 0!==r?r:1),height:t,width:i,children:(0,p.jsx)(u.Ee,{alt:null!==(l=e.description)&&void 0!==l?l:"",naturalWidth:null!==(s=null==h?void 0:h.width)&&void 0!==s?s:1,naturalHeight:null!==(d=null==h?void 0:h.height)&&void 0!==d?d:1,src:null!==(c=null==h?void 0:h.url)&&void 0!==c?c:""})})})}function Z({storyId:e,slotIndex:i}){const t=(0,F.useHistory)(),o=(0,F.useLocation)(),{isAuth:r}=(0,D.Z)(),{checkExperiment:l}=(0,c.F)(),[s,d]=(0,n.useState)(0),h=(0,n.useRef)(),m=(0,k.Z)();(0,n.useLayoutEffect)((()=>{const e=h.current;e&&d(e.offsetWidth)}),[]);const g=(0,a.useSelector)((({stories:i})=>i[e])),_=(0,a.useSelector)((({pins:e})=>g.objects.map((i=>e[i.id])))).slice(0,2),{story_type:x,action:v}=g,f=`${o.pathname}products/${o.search}`,y=()=>{m({component:200,event_type:102,view_parameter:3050,view_type:72}),t.push(f)};return l(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(T.qS,{auxData:{story_type:x,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:i,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>s?(0,p.jsx)(u.xu,{padding:2,ref:e,children:(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsxs)(u.iP,{onTap:y,children:[(0,p.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,i)=>(0,p.jsx)(L,{pin:e,width:(s-16)/2-1,height:s-16,showDivider:!i},e.id)))}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,p.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,p.jsx)(u.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,p.jsx)(u.xv,{weight:"bold",children:v.text})})})})]})})}):(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,p.jsx)(T.Hs,{auxData:{story_type:x,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:i,viewParameter:3050,viewType:72,children:s?(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsxs)(u.iP,{onTap:y,children:[(0,p.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,i)=>(0,p.jsx)(L,{pin:e,width:(s-16)/2-1,height:s-16,showDivider:!i},e.id)))}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,p.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,p.jsx)(u.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,p.jsx)(u.xv,{weight:"bold",children:v.text})})})})]})})}):(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:h})})}var E=t(419685),M=t(189500),U=t(907231);const R=["shop_tab_upsell","user_style_story_v2"];function O({auxData:e,slotIndex:i,storyId:t,storyType:n,trafficSource:o,viewParameter:r,viewType:l}){const s=(0,a.useSelector)((({stories:e})=>{var i;return null===(i=e[t].objects[0])||void 0===i?void 0:i.schema})),d=(0,a.useSelector)((({stories:e})=>{var i;return null===(i=e[t])||void 0===i?void 0:i.title}));if(R.includes(n))return(0,p.jsx)(E.Z,{auxData:e,slotIndex:i,storyId:t,storyType:n,viewParameter:r,viewType:l});switch(s){case"pin":return(0,p.jsx)(M.Z,{auxData:e,slotIndex:i,storyId:t,trafficSource:o,viewParameter:r,viewType:l});case"article":return(0,p.jsx)(v.Z,{auxData:e,pattern:[U.UG.extra_small],slotIndex:i,storyId:t,viewParameter:r,viewType:l});default:return d&&(0,p.jsx)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,p.jsx)(u.xv,{weight:"bold",children:d.format})})}}var N=t(700398),B=t(609700);function H({slotIndex:e,storyId:i,exactMatch:t=!1}){const{isAuth:o}=(0,D.Z)(),{checkExperiment:r}=(0,c.F)(),{action:l,aux_fields:s,objects:d,story_type:h,title:m}=(0,a.useSelector)((({stories:e})=>e[i])),g=d[0].id,_=(0,a.useSelector)((({pins:e})=>d.slice(1,3).map((({id:i})=>e[i]))));return!t&&_.length<2?null:r(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(T.qS,{auxData:{content_ids:_.map((({id:e})=>e)),story_id:i,story_type:h,...s},component:200,loggingId:i,objectIdStr:i,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,p.jsxs)(u.xu,{ref:e,children:[m&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:m.format})}),(0,p.jsx)(B.Z,{action:l,auxData:s,isPinnerAuthorityHero:t,userId:g,userPins:t?void 0:_,userSearchRepStyle:t,viewParameter:43,viewType:2})]})}):(0,p.jsx)(T.Hs,{auxData:{content_ids:_.map((({id:e})=>e)),story_id:i,story_type:h,...s},component:200,loggingId:i,objectIdStr:i,slotIndex:e,viewParameter:43,viewType:2,children:(0,p.jsxs)(n.Fragment,{children:[m&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:m.format})}),(0,p.jsx)(B.Z,{action:l,auxData:s,isPinnerAuthorityHero:t,userId:g,userPins:t?void 0:_,userSearchRepStyle:t,viewParameter:43,viewType:2})]})})}var W=t(947599),V=t(927007),K=t(826067);const $=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],q=e=>$[e.charCodeAt(0)%$.length];function G({guides:e,storyId:i,slotIndex:t,title:a}){var o;const{isAuth:r}=(0,D.Z)(),{checkExperiment:l}=(0,c.F)(),s=null!==(o=(0,K.mB)((0,F.useLocation)().search).q)&&void 0!==o?o:"";return l(r?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(T.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:43,viewType:2,children:({impressionTrackerRef:i})=>(0,p.jsxs)(u.xu,{ref:i,children:[a&&a.format&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:a.format})}),(0,p.jsx)(V.Z,{guides:e.map((e=>({display:e.display,dominant_color:q(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:s})]})}):(0,p.jsx)(T.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:43,viewType:2,children:(0,p.jsxs)(n.Fragment,{children:[a&&a.format&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:a.format})}),(0,p.jsx)(V.Z,{guides:e.map((e=>({display:e.display,dominant_color:q(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:s})]})})}class Y extends n.PureComponent{render(){const{seasonalBlob:e,size:i}=this.props,{story_title:t,pin_image:n,pin_image_gif:a,user_name:o,board_name:r,header_background_color:l,textIconColor:s}=e,d=l||"orchid",c=this.props.i18n._('Take a look', 'Button text asking users to take a look at Seasonal pages', 'Button text asking users to take a look at Seasonal pages'),h=o&&r?`/${o}/${r}`:"/pinterestindonesia/happy-halloween/",g=t||"unknown",_=a||n||"",x=s||"white";return(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsx)(u.xu,{padding:3,children:(0,p.jsx)(m.MZ,{to:h,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,p.jsx)(u.xu,{children:(0,p.jsx)(u.xu,{display:"flex",margin:-1,height:i,children:(0,p.jsx)(u.xu,{width:"100%",children:(0,p.jsxs)(u.zd,{rounding:2,height:"100%",children:[(0,p.jsx)(u.xu,{height:i,children:(0,p.jsx)(u.Ee,{alt:g,color:d,fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}),(0,p.jsx)(u.xu,{height:i,position:"absolute",top:!0,left:!0}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,p.jsx)(u.xv,{color:x,weight:"bold",children:g})}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,p.jsx)(u.zx,{fullWidth:!0,size:"sm",text:c})})]})})})})})})})}}const X=(0,a.connect)((({stories:e},i)=>({seasonalBlob:e[i.storyId].custom_properties,storyType:e[i.storyId].story_type,referringSource:e[i.storyId].referring_source})),(()=>({})))((function(e){const i=(0,s.ZP)();return(0,p.jsx)(Y,{...e,i18n:i})}));var J=t(959322);function Q({storyId:e,viewParameter:i,viewType:t}){const o=(0,k.Z)(),r=(0,a.useSelector)((({stories:i})=>i[e])),l=(0,a.useSelector)((({session:e})=>e.isTablet)),s=r.objects;return(0,n.useEffect)((()=>{o({event_type:9024,view_type:t,view_parameter:i})}),[]),r?(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(u.iz,{}),(0,p.jsxs)(u.xu,{paddingY:1,children:[(0,p.jsx)(u.xu,{paddingY:2,marginTop:3,children:(0,p.jsx)(u.X6,{align:"center",size:"400",children:r.title.format})}),1===s.length?(0,p.jsx)(u.xu,{width:l?400:"auto",paddingY:2,margin:"auto",children:(0,p.jsx)(J.Z,{id:s[0].id,gridIndex:0,viewParameter:i,viewType:t})}):(0,p.jsx)(u.xu,{overflow:"auto",children:(0,p.jsx)(u.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:s.map(((e,n)=>(0,p.jsx)(u.xu,{width:l?400:"80vw",marginStart:0===n?0:2,paddingY:2,children:(0,p.jsx)(J.Z,{id:e.id,gridIndex:n,viewParameter:i,viewType:t})},e.id)))})})]})]}):null}var ee=t(949372);const ie=(0,a.connect)((({pins:e},i)=>({pin:e[i.id]})),(()=>({})))((({pin:e})=>{var i;if(!e)return null;const t=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,p.jsx)(u.zd,{wash:!0,height:ce,width:ce,children:(0,p.jsx)(u.xu,{height:ce,position:"relative",width:ce,children:(0,p.jsx)(u.Ee,{alt:e.description||"",src:null!==(i=null==t?void 0:t.url)&&void 0!==i?i:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var te=t(558150),ne=t(609943),ae=t(349700),oe=t(643010),re=t(755506);const le=(0,a.connect)(((e,i)=>({pin:e.pins[i.pinId]})),(()=>({})))((({pin:e,shouldRoundPrice:i,showSalePrice:t})=>{const n=(0,s.ZP)();if(!e)return null;const{pinProduct:a}=(0,re.Fi)({i18n:n,pin:e});if(!a||!a.price)return null;const o=a.price||a.max_price,r=a.standard_price,l=/^(\$\d+)(\.?\d\d)*$/g,d=r&&l.exec(r),c=l.exec(o),h=(0,oe.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",m=(0,oe.Yc)()?"light":"dark";return(0,p.jsxs)(u.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:h,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[t&&d&&(0,p.jsxs)(u.xv,{align:"center",size:"100",weight:"bold",color:"subtle",inline:!0,children:[(0,p.jsx)("s",{children:(0,ae.nk)("{{ priceRounded }}",{priceRounded:d[1]})})," "]}),(0,p.jsx)(u.xv,{align:"center",size:"100",weight:"bold",color:m,inline:!0,children:(t&&r||i)&&c&&c[1]?(0,ae.nk)("{{ priceRounded }}",{priceRounded:c[1]}):o})]})}));var se=t(512176),de=t(407043);const ce=114;function ue({handleClick:e,isVerifiedMerchant:i,marginTop:t=12,pins:n,showVerifiedBadge:a,showVerifiedIdentityBadge:o,storyAction:r,storyType:l,title:s,viewParameter:d,trackingParams:c}){const{logContextEvent:h}=(0,de.v)(),m=(0,F.useHistory)(),{text:g}=r||{};return(0,p.jsxs)(u.xu,{marginTop:t,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[s&&(0,p.jsxs)(u.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,p.jsx)(u.xv,{weight:"bold",children:s}),a&&(0,p.jsx)(u.xu,{marginStart:1,children:(0,p.jsx)(se.Z,{size:"sm",isVerifiedMerchant:i,showVerifiedIdentity:o})})]}),(0,p.jsx)(u.xu,{display:"flex",marginTop:4,justifyContent:"center",children:n.map(((e,i)=>(0,p.jsx)(T.GR,{viewType:3,loggingId:e.id,viewParameter:d,component:ye[l],auxData:{commerce_data:(0,te.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})},slotIndex:i,children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==i?2:0,overflow:"hidden",position:"relative",rounding:4,width:ce,children:(0,p.jsxs)(u.iP,{onTap:()=>(e=>{const i=(0,ne.Z)(c,e.tracking_params);h({component:ye[l],element:fe[l],event_type:101,view_type:3,view_parameter:d,object_id_str:e.id,clientTrackingParams:i,aux_data:{closeup_navigation_type:"click",commerce_data:(0,te.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags}),cosmic_ray_count:"5",image_signature:e.image_signature}}),h({component:13680,event_type:101,view_type:3,view_parameter:d,aux_data:{commerce_data:(0,te.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})}}),m.push(`/pin/${e.id}/`,{trackingParams:c})})(e),children:[(0,p.jsx)(ie,{id:e.id}),(0,p.jsx)(u.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,p.jsx)(le,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),g&&(0,p.jsx)(u.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,p.jsx)(u.zx,{onClick:e,size:"lg",text:g})})]})}var pe=t(722767);function he({componentType:e,handleClick:i,isVerifiedMerchant:t,marginTop:a,objects:o,showVerifiedBadge:r,showVerifiedIdentityBadge:l,storyAction:s,storyType:d,title:c,viewParameter:u,trackingParams:h}){const[m,g]=(0,n.useState)(!1),_=(0,k.Z)();if(!o||!Array.isArray(o))return null;const x=o.filter((e=>"pin"===e.schema));if(x.length<3)return null;const v=Array.from(new Array(3)).map(((e,i)=>x[i]));return(0,p.jsx)(pe.Z,{options:{threshold:0},onVisibilityChange:i=>{const{intersectionRatio:t}=i[0];t>0&&!m&&(_({event_type:3400,view_type:3,view_parameter:u,component:e}),g(!0))},children:(0,p.jsx)(ue,{handleClick:i,isVerifiedMerchant:t,marginTop:a,pins:v,showVerifiedBadge:r,showVerifiedIdentityBadge:l,storyAction:s,storyType:d,title:c,viewParameter:u,trackingParams:h})})}var me=t(536454);const ge=()=>{};function _e({marginTop:e=12,onRelatedPinsTitleEnter:i,onRelatedPinsTitleExit:t,onRelatedPinsInView:a,title:o}){return o?(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(u.xu,{marginTop:e,marginBottom:2,children:(0,p.jsx)(me.Z,{onEnter:i||ge,onExit:t||ge,onView:a||ge,children:(0,p.jsx)(u.xv,{size:"300",align:"center",weight:"bold",children:o})})})}):null}var xe=t(802201);const ve=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],fe={related_domain_collage:11830,related_domain_collage_similar:11829},ye={related_domain_collage:13327,related_domain_collage_similar:13882,related_products_collage:13176,related_products_feed_header:13176};const be=function(e){var i,t;const{marginTop:o,onRelatedPinsTitleEnter:r,onRelatedPinsTitleExit:l,onRelatedPinsInView:s,pinId:d,searchQuery:h,slotIndex:m,storyId:g,trafficSource:_,viewType:x,viewParameter:v}=e,f=(0,xe.S6)()(d),{logContextEvent:y}=(0,de.v)(),{isAuth:b}=(0,D.Z)(),{checkExperiment:w}=(0,c.F)(),P=(0,F.useHistory)(),j=null==f?void 0:f.is_eligible_for_pdp,S=(0,n.useMemo)((()=>j?8:0===o||o?o:12),[o,j]),k=(0,a.useSelector)((({stories:e})=>e[g]));if(!k)return null;const{action:I,content_ids:C,objects:A,story_type:z,title:{format:L},tracking_params:Z}=k,E=ye[z];if("related_modules_header"===z||"related_products_feed_header"===z)return w(b?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(T.qS,{auxData:{story_id:g,story_type:z},loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:v,viewType:x,component:E,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(_e,{marginTop:S,onRelatedPinsTitleEnter:r,onRelatedPinsTitleExit:l,onRelatedPinsInView:s,title:L})})}):(0,p.jsx)(T.Hs,{auxData:{story_id:g,story_type:z},loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:v,viewType:x,component:E,children:(0,p.jsx)(_e,{marginTop:S,onRelatedPinsTitleEnter:r,onRelatedPinsTitleExit:l,onRelatedPinsInView:s,title:L})});const{url:M}=I||{};if(!f||!d||!M)return null;const U=function(e,i){const t=e?`q=${e}`:null,n=i&&"unknown"!==i?`rs=${i}`:null;let a="";return t&&n?a=`?${t}&${n}`:!t&&n&&(a=`?${n}`),a}(h,_);let R=`${M}${U}`;"related_products_collage"===z&&(R=U?`/pin/${d}/visual-search/${U}source=shopping&tab=1`:`/pin/${d}/visual-search/?source=shopping&tab=1`);const O=(C||[]).map((e=>`pin:${e}`)).join("|"),N=()=>{const e="related_domain_collage"===z?"related_domain_collage_similar":z;y({aux_data:{content_ids:O,story_id:g,story_type:z},component:ye[e],element:fe[e],event_type:101,object_id_str:d,view_type:3,view_parameter:v}),y({aux_data:{commerce_data:(0,te.Z)({isEligibleForPdp:f.is_eligible_for_pdp,isOosProduct:f.is_oos_product,isStaleProduct:f.is_stale_product,pinShoppingFlags:f.shopping_flags})},component:13680,event_type:101,object_id_str:d,view_type:3,view_parameter:v}),P.push(R)};let B,H;if("related_domain_collage"===z){var W;const e=(null===(W=f.link_domain)||void 0===W?void 0:W.official_user)||{};B=e.is_verified_merchant,H=e.verified_identity}return w(b?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(T.qS,{auxData:{content_ids:O,story_id:g,story_type:z},component:E,loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:v,viewType:x,children:({impressionTrackerRef:e})=>{var i,t;return(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(he,{componentType:E,handleClick:N,isVerifiedMerchant:B,objects:A,showVerifiedBadge:B||(null===(i=H)||void 0===i?void 0:i.verified),showVerifiedIdentityBadge:!B&&(null===(t=H)||void 0===t?void 0:t.verified),storyAction:I,title:L,viewParameter:v,trackingParams:Z,storyType:z,marginTop:S})})}}):(0,p.jsx)(T.Hs,{auxData:{content_ids:O,story_id:g,story_type:z},component:E,loggingId:g,objectIdStr:g,slotIndex:m,viewParameter:v,viewType:x,children:(0,p.jsx)(he,{componentType:E,handleClick:N,isVerifiedMerchant:B,objects:A,showVerifiedBadge:B||(null===(i=H)||void 0===i?void 0:i.verified),showVerifiedIdentityBadge:!B&&(null===(t=H)||void 0===t?void 0:t.verified),storyAction:I,title:L,viewParameter:v,trackingParams:Z,storyType:z,marginTop:S})})};var we=t(226343);const Pe=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],je=(0,n.lazy)((()=>t.e(93810).then(t.bind(t,896731))));function Se({auxData:e,fullWidth:i,isMwebStructuredFeedExpEnabled:t,marginTop:n,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,onRelatedPinsInView:l,pinId:s,slotIndex:d,storyData:c,storyId:m,trafficSource:g,viewParameter:_,viewType:y}){const w=(0,a.useSelector)((({stories:e})=>e[m])),P=c||w,j=(0,ee.Z)();if(!P||!P.story_type)return null;const{action:S,container_type:k,custom_properties:T,display_options:I,experience:D,story_type:F,title:L,objects:E}=P;if(i)return t&&(0,N.Z)(P.container_type)?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(A.Z,{name:"SafeSuspense_MobileApp_StructuredFeedStoryModule",children:(0,p.jsx)(W.Z,{children:(0,p.jsx)(je,{surface:"ShoppingDynamicHeightGrid",view:3,componentFallback:13176,viewParameter:_,initialSlotIndex:d,story:P})})})}):Pe.includes(F)&&0===I.num_columns_requested?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(O,{auxData:e,slotIndex:d,storyId:m,storyType:F,trafficSource:g,viewParameter:_,viewType:y})}):F.startsWith("creator_spotlight_")?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(C,{id:m})}):ve.includes(F)&&s?(0,p.jsx)(be,{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:r,onRelatedPinsInView:l,pinId:s,storyId:m,slotIndex:d,viewParameter:_,viewType:y,marginTop:n}):F.startsWith("related_articles")?(0,p.jsx)(Q,{storyId:m,viewType:y,viewParameter:_}):F.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,p.jsx)(f.Z,{title:L}):F.startsWith("search_pinner_authority_hero")?(0,p.jsx)(H,{storyId:m,slotIndex:0,exactMatch:!0}):null;if(Pe.includes(F)&&0===(null==I?void 0:I.num_columns_requested))return null;switch(k){case 56:return(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(v.Z,{slotIndex:d,storyId:m,viewType:y,viewParameter:_})})}switch(F){case"app_upsell":return j?(0,p.jsx)(z.Z,{experience:D,eligibleIds:[D.experience_id],children:(0,p.jsx)(h,{})}):null;case"feed_card_default":case"feed_card_video":return(0,p.jsx)(we.Z,{buttonAction:S.url,buttonCustomization:T.button_customization,buttonText:S.text,experience:D,hideCompleteButton:T.hide_complete_button,imageAlt:T.image_alt,imageUrl:T.image,openNewTab:T.open_new_tab,storyType:F,titleText:L.format,titleTextColor:we.e[I.title_text_color],titleTextCustomization:T.title_text_customization,videoPin:T.video_pin,videoPlaceholderImage:T.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,p.jsx)(we.Z,{buttonAction:S.url,buttonText:S.text,imageAlt:T.image_alt,imageUrl:T.image,storyType:F,titleText:L.format,titleTextColor:we.e[I.title_text_color]});case"user_brand_story_v1":return(0,p.jsx)(x,{buttonAction:S.url,buttonText:S.text,imageUrl:T.image,brands:E});case"user_color_story_v1":return(0,p.jsx)(b,{buttonAction:S.url,buttonText:S.text,colors:E});case"BUBBLE_ONE_COL":return(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(v.Z,{slotIndex:d,storyId:m,viewType:y,viewParameter:_})});case"social_seasonal_pin":return(0,p.jsx)(X,{slotIndex:d,storyId:m,viewType:y,viewParameter:_,size:290});case"pinner_authority":case"pinner_authority_unified":return(0,p.jsx)(H,{storyId:m,slotIndex:d});case"stela_in_flashlight_onecol":return(0,p.jsx)(Z,{storyId:m,slotIndex:d});case"search_guides":return(0,p.jsx)(G,{guides:P.objects,slotIndex:d,storyId:m,title:L});default:return null}}},907231:(e,i,t)=>{t.d(i,{UG:()=>u,ZP:()=>h,aG:()=>p});var n=t(667294),a=t(116303),o=t(898781),r=t(52022),l=t(856919),s=t(940882),d=t(883119),c=t(785893);const u={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function h({backgroundColor:e,bubbleId:i,bubbleUrl:t,coverImageUrl:h,curator:m,font:g,format:_,height:x,identifierIconType:v,onTap:f,pwtSurfaceContext:y,referringSource:b,subtitle:w,title:P,buttonFormat:j,contentAlign:S="center",textAlign:k="center",width:T="100%"}){const I=(0,o.ZP)(),C=(0,r.Z)(),[A,z]=(0,n.useState)("string"==typeof x?void 0:x),D=e=>{if(e){const i=e.offsetWidth,t="string"==typeof x?Number.parseFloat(x):100;z(i*t/100)}};if(!A)return(0,c.jsx)(d.xu,{ref:D,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof x?Number.parseFloat(x)+"%":"100%",width:T}}});const F=_===u.article,L=_===u.interest,Z=g||A>250&&"lg"||A>140&&_&&[u.medium,u.small,u.article].includes(_)&&"md"||A<120&&_&&_===u.small&&"xs"||"sm";return(0,c.jsx)(d.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":b,children:(0,c.jsx)(l.MZ,{to:t,isAppUpsellDisabled:!0,onTouch:()=>{f&&(C({action:"click",item:"search-suggestion"}),f(i))},rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[(0,c.jsx)(d.xu,{width:T,height:A,children:h&&(0,c.jsx)(d.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{y&&y.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:h})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:A,width:T,position:"absolute",top:!0,left:!0}),m&&!F&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),!!v&&v!==s.J&&(0,c.jsx)(d.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,c.jsx)(d.JO,{icon:(0,s.Z)(v),accessibilityLabel:I._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,c.jsx)(d.xu,{display:"flex",position:"absolute",top:!0,width:T,height:A,padding:F||L?6:A>100?3:1,alignItems:F||L?"end":"center",justifyContent:S,children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[w&&(0,c.jsx)(d.xv,{align:k,color:"light",size:"lg"===Z?"300":"100",overflow:"normal",children:w}),["lg","md"].includes(Z)?(0,c.jsx)(d.X6,{align:k,size:"md"===Z&&L?"500":"lg"===Z?"600":"400",color:"light",overflow:"normal",children:P}):(0,c.jsx)(d.xv,{align:k,color:"light",size:"sm"===Z?"300":"100",overflow:"normal",weight:"bold",children:P}),m&&F&&(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:m.image_small_url,name:m.full_name})}),(0,c.jsx)(d.xv,{size:"100",color:"light",weight:"bold",children:m.full_name})]}),j&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.zx,{role:"link",text:j.text,href:j.href,size:j.size,accessibilityLabel:j.accessibilityLabel})})]})})]})})})}},843242:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(667294),a=t(702664),o=t(95244),r=t(149230),l=t(112690),s=t(825077),d=t(281180),c=t(940882),u=t(883119),p=t(785893);function h(e){const{auxData:i,pattern:t,slotIndex:h,storyId:m,viewType:g,viewParameter:_}=e,x=(0,d.mN)(),v=(0,l.Z)(),f=(0,a.useSelector)((({stories:e,articles:i})=>e[m].objects.map((e=>{const t=i[e.id];return t.curator&&"string"==typeof t.curator?{...t,curator:x(t.curator)}:t})))),y=(0,a.useSelector)((({stories:e})=>e[m])),{story_type:b,referring_source:w,title:P,display_options:j,action:S}=y,{identifier_icon_name:k}=j||{},T=f.map((({type:e,id:i})=>e+":"+i)).join("|"),I={story_type:b,story_id:m,content_ids:T,...i};return(0,p.jsx)(s.Hs,{loggingId:m,objectIdStr:m,viewParameter:_,viewType:g,slotIndex:h,component:200,auxData:I,children:(0,p.jsxs)(n.Fragment,{children:[P&&(0,p.jsxs)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof k&&k!==c.J&&(0,p.jsx)(u.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,p.jsx)(u.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(k),size:14})}),(0,p.jsx)(u.xv,{weight:"bold",children:P.format})]}),(0,p.jsx)(o.Z,{bubbles:f,pattern:t,referringSource:w,storyId:m,storyType:b,viewParameter:_,viewType:g}),S&&S.url&&(0,p.jsx)(u.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(u.zx,{role:"link",accessibilityLabel:S.text,color:"gray",onClick:()=>{v({view_type:g,view_parameter:_,aux_data:I,event_type:102})},text:S.text,href:S.url,rel:(0,r.Z)(S.url)?"nofollow":void 0,target:(0,r.Z)(S.url)?"blank":void 0,size:"md"})})]})})}},95244:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(151365),a=t(883119),o=t(907231),r=t(785893);function l(e){const{bubbles:i,onTouch:t,pattern:l=[o.UG.medium],pwtSurfaceContext:s,referringSource:d,storyId:c,storyType:u,viewParameter:p,viewType:h}=e,m=i.map((({type:e,id:i})=>e+":"+i)).join("|");return(0,r.jsx)(a.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:i.map(((e,i)=>{const g=l[i%l.length];return(0,r.jsx)(a.xu,{paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(g)?"calc(50% - 4px)":"100%",children:(0,r.jsx)(n.Z,{auxData:{content_ids:m,story_type:u,grid_index:i},bubble:e,format:g,height:([o.UG.medium,o.UG.extra_small].includes(g)?"50%":g===o.UG.article&&"73%")||"100%",onTouch:t,pwtSurfaceContext:s,referringSource:d,slotIndex:i,storyId:c,viewParameter:p,viewType:h})},`bubble-${i}`)}))})}},906935:(e,i,t)=>{t.d(i,{Z:()=>j});var n=t(667294),a=t(151365),o=t(164985),r=t(907231),l=t(785893);function s({bubble:e,font:i,height:t,width:n="100%",onTouch:a}){const{id:o,url:s,title:d,dominant_color_css:c,image_urls:u,buttonText:p}=e;if(!d||!o||!u)return null;const h={text:p,accessibilityLabel:p,href:s,size:"md"};return(0,l.jsx)(r.ZP,{backgroundColor:null!=c?c:void 0,bubbleId:o,bubbleUrl:s,coverImageUrl:u[0],font:i,format:"interest",height:t,title:d,width:n,contentAlign:"start",textAlign:"start",buttonFormat:h,onTap:()=>a&&a({query:d})})}var d=t(984766),c=t(407043),u=t(366428),p=t(883119);function h({bubble:e,component:i,height:t,slotIndex:a,storyId:o,storyType:r,viewParameter:s,viewType:d}){var h;const{logContextEvent:m}=(0,c.v)(),[g,_]=(0,n.useState)("string"==typeof t?void 0:t),x=e=>{if(e){const i=e.offsetWidth,n="string"==typeof t?Number.parseFloat(t):100;_(i*n/100)}},{action:v,aux_fields:f,cover_images:y,dominant_colors:b,title:w,id:P}=e,j=(0,u.Z)({componentType:null!=i?i:void 0,contextLogData:{story_type:r},impressionType:"Article",loggingId:P,slotIndex:a,viewParameter:s,viewType:d});if(!g)return(0,l.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof t?Number.parseFloat(t)+"%":"100%"}},ref:x,width:"100%"});if(!y||y.length<=0||!w)return null;const{button_background_color:S,button_text_color:k}=f,T=y.slice(0,2).map((e=>{var i;return null===(i=e["474x"]||e["236x"])||void 0===i?void 0:i.url}));return(0,l.jsx)(p.iP,{role:"link",href:null!==(h=null==v?void 0:v.url)&&void 0!==h?h:"",onTap:()=>{m({aux_data:{story_id:o,story_type:"user_style_story_v2"},component:200,event_type:102,view_parameter:s,view_type:d})},rounding:4,children:(0,l.jsxs)(p.xu,{alignItems:"center",display:"flex",height:g,justifyContent:"center",overflow:"hidden",position:"relative",ref:j,rounding:4,width:"100%",children:[(0,l.jsx)(p.kC,{width:"100%",children:T.map(((e,i)=>(0,l.jsx)(p.zd,{height:g,wash:!0,width:2===T.length?"50%":"100%",children:(0,l.jsx)(p.Ee,{alt:"",color:(null!=b?b:[])[i],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:""})},i)))}),(0,l.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:S}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,l.jsx)(p.xv,{align:"center",weight:"bold",children:(0,l.jsx)("p",{style:{color:k,margin:"0"},children:w.format})})})]})})}var m=t(112690),g=t(52022),_=t(856919),x=t(784641),v=t(643010),f=t(825077);const y=["#FFF8FA","#F8F7FF","#F7FBFF","#F7FDFC","#F6FDF5","#FFFEDB","#FFF6EB"];function b({backgroundColor:e,coverImageUrl:i,height:t,pwtTrackImageLoad:a,subtitle:o,title:s,width:d}){return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(p.xu,{width:d,height:t,children:(0,l.jsx)(p.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:a,role:"presentation",src:i})}),(0,l.jsx)(p.xu,{dangerouslySetInlineStyle:r.aG.bubbleOverlay,height:t,left:!0,position:"absolute",top:!0,width:d}),(0,l.jsx)(p.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",marginTop:4,padding:8,position:"absolute",top:!0,width:d,children:(0,l.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[o&&(0,l.jsx)(p.xv,{align:"center",color:"light",lineClamp:1,size:"300",overflow:"normal",children:o}),(0,l.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:"light",lineClamp:3,size:"400",overflow:"normal",children:s})]})})]})}function w({backgroundColor:e,coverImageUrl:i,height:t,imgBackgroundColor:a,isDarkBackground:o,pwtTrackImageLoad:s,subtitle:d,title:c,width:u}){return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e||y[c.charCodeAt(0)%y.length]}},height:t,position:"relative",width:u,children:[(0,v.Yc)()&&(0,l.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,l.jsx)(p.xu,{alignItems:"center",display:"flex",height:.6*t,justifyContent:"center",marginTop:8,padding:8,position:"absolute",top:!0,width:u,children:(0,l.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[d&&(0,l.jsx)(p.xv,{align:"center",color:o?"light":"dark",overflow:"normal",size:"300",children:d}),(0,l.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:o?"light":"dark",overflow:"normal",size:"400",children:c})]})})]}),(0,l.jsx)(p.xu,{alignItems:"end",bottom:!0,display:"flex",height:.5*t,marginBottom:-5,justifyContent:"center",position:"absolute",width:u,children:i.slice(0,3).map(((e,i)=>(0,l.jsx)(p.xu,{dangerouslySetInlineStyle:r.aG.bubbleOverlay,height:1===i?"100%":"80%",overflow:"hidden",rounding:4,width:1===i?"36%":"28.8%",zIndex:1===i?new p.Ry(1):void 0,marginStart:0!==i?-5:void 0,children:(0,l.jsx)(p.Ee,{alt:"",color:a,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:s,role:"presentation",src:e})},`TripleImageBubble-${i}`)))})]})}function P({auxData:e,bubble:i,immersiveHeader:t,onTouch:a,pwtSurfaceContext:o,referringSource:s,slotIndex:d,storyId:c,storyType:u,viewParameter:h,viewType:v}){const{article_creator_user:y,display_color:P,dominant_color_css:j,feed_source:S,has_dark_display_color:k=!1,id:T,image_urls:I,is_product_pin_feed:C,subtitle:A,title:z}=i,D=y&&y.full_name&&y.image_small_url?{full_name:y.full_name,image_small_url:y.image_small_url}:void 0,F=(0,m.Z)(),L=(0,g.Z)(),[Z,E]=(0,n.useState)();if(!z||!T||!I)return null;const M=(0,x.T7)(null!=S?S:1,null!=C&&C,z,T),U=()=>{L({action:"click",item:"search-suggestion"}),F({view_type:v,view_parameter:h,object_id_str:T,component:13525,event_type:102,aux_data:{grid_index:d,story_id:c,story_type:u,today_article_id:T}}),a&&a({query:z})},R="100%",O=e=>{if(e){const i=e.offsetWidth,t=Number.parseFloat("85%");E(i*t/100)}};if(!Z)return(0,l.jsx)(p.xu,{ref:O,dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat("85%")+"%",width:R}}});const N=()=>{o&&o.markConstraintComplete("RenderSearchLandingPageBubbles")};return(0,l.jsx)(f.Y4,{auxData:{grid_index:d.toString(),story_id:c,story_type:u,today_article_id:T,...e},component:13525,impressionData:{storyIdStr:c},loggingId:c,objectIdStr:c,slotIndex:d,viewParameter:h,viewType:v,children:({impressionTrackerRef:e})=>t?(0,l.jsx)(p.xu,{"data-test-id":"search-suggestion","data-test-type":s,position:"relative",ref:e,children:(0,l.jsx)(_.MZ,{to:M,isAppUpsellDisabled:!0,onTouch:U,children:I.length>=3?(0,l.jsx)(w,{backgroundColor:P,coverImageUrl:I,height:Z,imgBackgroundColor:null!=j?j:void 0,isDarkBackground:k,pwtTrackImageLoad:N,subtitle:null!=A?A:"",title:z,width:R}):(0,l.jsx)(b,{backgroundColor:null!=j?j:void 0,coverImageUrl:I[0],height:Z,pwtTrackImageLoad:N,subtitle:null!=A?A:"",title:z,width:R})})}):(0,l.jsx)(r.ZP,{backgroundColor:j||"",bubbleId:T,bubbleUrl:M,curator:D,coverImageUrl:I[0],format:r.UG.article,height:"75%",onTap:U,pwtSurfaceContext:o,title:z,width:R})})}function j(e){const{action:i,bubbles:t,component:r,format:c,onTouch:u,pwtSurfaceContext:g,query:_,referringSource:x,storyId:v,storyType:f,viewParameter:y,viewType:b}=e,w=t.filter((e=>null!=e)),j=w.map((({type:e,id:i})=>`${null!=e?e:""}:${null!=i?i:""}`)).join("|"),S="slp_immersive_header"===f,k="user_style_story_v2"===f,T="shop_tab_upsell"===f,I="interest"===w[0].type,C=(0,n.useRef)(),A=(0,n.useRef)(),[z,D]=(0,n.useState)(0),{windowWidth:F}=(0,o.Z)(),L=S?F:F-32,Z=w.length,E=T?"50%":"100%",[M,U]=(0,n.useState)(S||I),[R,O]=(0,n.useState)(!1),N=(0,m.Z)();return(0,n.useEffect)((()=>{const e=C.current,i=A.current;if(!e)return;const t=i=>{e.scrollTo({top:0,left:i,behavior:"smooth"})};let n;const a=()=>{clearTimeout(n),U(!1),O(!0),setTimeout((()=>{var e;let n=-(null!==(e=null==i?void 0:i.getBoundingClientRect().left)&&void 0!==e?e:0);n=S?n:n+16;const a=Math.floor((n+L/2)/L);t(a!==Z-1||S?a*L:a*L-4),D(a)}),500)},o=()=>{const e=z===Z-1?0:z+1;return t(e*L),D(e),n=setTimeout(o,4e3),()=>clearTimeout(n)};return M?(e.addEventListener("touchend",a),n=setTimeout(o,4e3)):R&&e.addEventListener("touchend",a),()=>{clearTimeout(n),M&&e.removeEventListener("touchend",a)}})),(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(p.xu,{marginEnd:-4,marginStart:-4,overflow:"hidden",width:"100vw",children:(0,l.jsx)(p.xu,{display:"flex",marginBottom:-2,overflow:"scrollX",paddingX:S?void 0:I?3:4,paddingY:S?void 0:3,ref:C,children:w.map(((e,t)=>{var n;const{type:o,schema:m}=e;let T=null;switch(o||m){case"explorearticle":T=k?(0,l.jsx)(h,{bubble:e,component:r,height:"75%",storyId:v,slotIndex:t,storyType:f,viewParameter:y,viewType:b}):(0,l.jsx)(a.Z,{auxData:{content_ids:j,story_type:f},bubble:e,format:c,height:"75%",onTouch:u,pwtSurfaceContext:g,referringSource:x,slotIndex:t,storyId:v,viewParameter:y,viewType:b});break;case"todayarticle":T=(0,l.jsx)(P,{auxData:{content_ids:j,story_type:f},bubble:e,immersiveHeader:S,onTouch:u,pwtSurfaceContext:g,referringSource:x,slotIndex:t,storyId:v,storyType:f,viewParameter:y,viewType:b});break;case"interest":T=(0,l.jsx)(s,{bubble:e,font:"md",height:"65%",onTouch:u});break;case"pin":T=t===w.length-1&&i?(0,l.jsx)(p.iP,{href:i.url,onTap:()=>{N({view_type:b,view_parameter:y,component:r,element:179,event_type:102,aux_data:{content_ids:j,entered_query:_,grid_index:t,story_type:f}})},role:"link",rounding:4,children:(0,l.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:[(0,l.jsx)(p.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,l.jsx)(d.default,{auxData:{content_ids:j,entered_query:_,grid_index:t,story_type:f},componentType:r||14026,imageOnlyOption:"image-only",duploIsSquarePin:!0,pinId:e.id,slotIndex:t,viewParameter:y,viewType:b})}),(0,l.jsx)(p.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,l.jsx)(p.zx,{accessibilityLabel:i.text,size:"sm",text:i.text})})]})}):(0,l.jsx)(d.default,{auxData:{content_ids:j,entered_query:_,grid_index:t,story_type:f},componentType:r||14026,duploIsSquarePin:!0,pinId:e.id,slotIndex:t,trafficSource:"shop_feed",viewParameter:y,viewType:b})}return(0,l.jsx)(p.xu,{flex:"none",paddingX:S?void 0:1,ref:0===t?A:void 0,width:E,children:T},`bubble-${null!==(n=e.id)&&void 0!==n?n:""}`)}))})}),(S||I)&&(0,l.jsx)(p.xu,{marginBottom:S?5:-2,marginTop:S?-6:1,position:"relative",zIndex:new p.Ry(100),children:(0,l.jsx)(p.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},justifyContent:"center",children:[...Array(Z).keys()].map((e=>{const i=z===e?"tertiary":"lightWash";return(0,l.jsx)(p.xu,{color:i,height:6,rounding:"circle",width:6},`indicator-dot-${e}`)}))})})]})}},419685:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(702664),a=t(906935),o=t(366428),r=t(883119),l=t(785893);function s({auxData:e,slotIndex:i,storyId:t,storyType:s,viewParameter:d,viewType:c}){var u;const p=(0,n.useSelector)((({stories:e})=>e[t])),{action:h,display_options:m,objects:g,title:_}=p,x=null==m||null===(u=m.content_display)||void 0===u?void 0:u.component_type,v=(null==e?void 0:e.entered_query)||"",f={entered_query:v,grid_index:i,story_id:t,story_type:s},y=(0,o.Z)({componentType:x,contextLogData:f,impressionType:"Story",loggingId:t,slotIndex:i,viewParameter:d,viewType:c}),b=(0,n.useSelector)((({articles:e})=>g.map((i=>{switch(i.schema){case"article":return e[i.id];case"pin":return i;default:return null}}))));return(0,l.jsxs)(r.xu,{ref:y,children:[_&&(0,l.jsx)(r.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,l.jsx)(r.xv,{weight:"bold",children:_.format})}),(0,l.jsx)(a.Z,{action:h,bubbles:b,component:x,query:v,storyId:t,storyType:s,viewParameter:d,viewType:c})]})}},151365:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(112690),a=t(825077),o=t(826067),r=t(907231),l=t(613316),s=t(785893);function d({auxData:e,bubble:i,font:t,format:d,height:c,onTouch:u,pwtSurfaceContext:p,referringSource:h,slotIndex:m,storyId:g,viewParameter:_,viewType:x,width:v="100%"}){var f;const{action:y,cover_images:b,curator:w,dominant_colors:P,id:j,identifier_icon_type:S,story_category:k,title:T}=i,I=(0,n.Z)();if(!b||!T)return null;const C=w&&w.full_name&&w.image_small_url?{full_name:w.full_name,image_small_url:w.image_small_url}:void 0,A=null===(f=b[0]&&(b[0]["474x"]||b[0]["236x"]))||void 0===f?void 0:f.url,z=T.format,D=(null==y?void 0:y.url)||(({storyCategory:e,query:i,referringSource:t,bubbleId:n,storyId:a,title:r})=>{const s=null!=e&&(0,l.y)(e),d=(0,o.XP)({q:i,rs:t||void 0,b_id:n,source_id:a}),c=s&&r?(0,l.x)({title:r,id:n,articleType:"discover"}):`/discover/article/${n}/`;return s?c:"/search/pins/"+(d?"?"+d:"")})({storyCategory:k,query:z,referringSource:h,bubbleId:j,storyId:g,title:z}),F=d===r.UG.article?13865:200,L=d===r.UG.article?102:6940,Z=P&&P.length?P[0]:void 0;return(0,s.jsx)(a.fv,{auxData:{story_id:g,...e},impressionData:{storyCategory:k,storyIdStr:g},impressionType:"articleImpressions",loggingId:g,slotIndex:m,viewParameter:_,viewType:x,children:(0,s.jsx)(r.ZP,{backgroundColor:Z,bubbleId:j,bubbleUrl:D,coverImageUrl:A,curator:C,font:t,format:d,height:c,identifierIconType:S,onTap:i=>{var t;(I({component:F,event_type:L,object_id_str:i,view_parameter:_,view_type:x,aux_data:{article_id:i,grid_index:m,...e}}),u)&&u({query:z,url:null!==(t=null==y?void 0:y.url)&&void 0!==t?t:void 0})},pwtSurfaceContext:p,referringSource:h,title:z,width:v})})}},285230:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(166300),a=t(898781),o=t(883119),r=t(785893);function l({isPinRep:e}){const i=(0,a.ZP)(),t=e?"default":"inverse",l=(0,r.jsx)(o.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(o.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:t,icon:"alert",size:20})}),(0,r.jsx)(o.xv,{align:"center",color:t,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{align:"center",color:t,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?l:(0,r.jsx)(o.xu,{height:"100vh",children:(0,r.jsx)(n.Z,{children:l})})}},191363:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(904411),o=t(785893);function r({boardId:e}){var i;const t=(0,a.gC)()(e),r=null!=t&&t.images&&t.images["170x"]?t.images["170x"][0]:void 0;return e&&r?(0,o.jsx)(n.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(i=r.url)&&void 0!==i?i:""}):null}},452130:(e,i,t)=>{t.d(i,{k:()=>r,w:()=>o});var n=t(707853),a=t(883119);const o=2e3,r=new a.H3([n.Z])},959322:(e,i,t)=>{t.d(i,{Z:()=>I});var n=t(702664),a=t(98207),o=t(116303),r=t(118725),l=t(757141),s=t(198125),d=t(112690),c=t(50286),u=t(780280),p=t(883119),h=t(785893);const m=Math.floor(24),g=({articleId:e,imageUrls:i,subtitle:t,title:n,viewParameter:a,viewType:g,user:_})=>{const{isAuthenticated:x}=(0,u.B)(),v=(0,c.HG)(),{isHovering:f,handleMouseEnter:y,handleMouseLeave:b}=(0,s.Z)(),w=(0,d.Z)();if(!_||!i||i.length<=0)return null;const{full_name:P,image_medium_url:j,image_small_url:S}=_,k=j||S||"",T=Math.min(i.length,3),I={aux_data:{today_article_id:e},component:13525,object_id_str:e,view_parameter:a,view_type:g};return(0,h.jsxs)(p.xu,{borderStyle:"shadow",color:"default",onMouseEnter:v?y:void 0,onMouseLeave:v?b:void 0,overflow:"hidden",rounding:8,children:[f&&(0,h.jsx)(l.Z,{}),(0,h.jsx)(p.xu,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:(0,h.jsx)(p.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:i.slice(0,T).map(((e,i)=>(0,h.jsx)(p.xu,{width:100/T+"%",children:(0,h.jsx)(p.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},i)})))})}),(0,h.jsxs)(p.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,h.jsx)(p.xu,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${m}px)`,top:`-${m}px`}},children:(0,h.jsx)(o.Z,{name:null!=P?P:"",outline:!0,size:"fit",src:k})}),n&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.X6,{size:"400",align:"center",children:n})}),t&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",size:"100",children:t})}),x&&(0,h.jsx)(p.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,h.jsx)(r.Z,{isSecondaryButton:!0,onTap:()=>{w({...I,element:62,event_type:v?101:102})},size:"lg",user:_,viewParameter:a,viewType:g})})]})]})};var _=t(235626),x=t(784641),v=t(606441);function f({articleId:e,gridIndex:i,pinId:t,pinOfficialUserId:n,showCreator:a,title:o,viewParameter:r,viewType:l}){const s=(0,v.N)(t);if(!s)return null;const{id:d,images:c,origin_pinner:u,pinner:p,tracking_params:m}=s,g=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!g)return null;const f=(0,x.xt)(n,null==u?void 0:u.id,null==p?void 0:p.id);return(0,h.jsx)(_.Z,{articleId:e,creatorId:f,gridIndex:i,pinId:d,imageHeight:g.height,imageUrl:g.url,imageWidth:g.width,showCreator:a,title:o,trackingParams:m,viewParameter:r,viewType:l})}var y=t(775007);const b=({articleId:e,gridIndex:i,pinId:t,title:n,viewParameter:a,viewType:o})=>{const r=(0,v.N)(t),l=null==r?void 0:r.pinner,s=null==r?void 0:r.story_pin_data;if(!r)return null;const d=(null==s?void 0:s.page_count)||"",{images:c}=r,u=(null==c?void 0:c["736x"])||(null==c?void 0:c["236x"])||(null==c?void 0:c["170x"]);if(!u)return null;const p=(null==l?void 0:l.image_medium_url)||(null==l?void 0:l.image_small_url)||"",m=(null==l?void 0:l.full_name)||"",g=Boolean(p||m);return(0,h.jsx)(y.Z,{articleId:e,imageHeight:u.height,imageWidth:u.width,imageUrl:u.url,gridIndex:i,hasPinnerAttribution:g,pageCount:d,pinId:r.id,pinnerImageSrc:p,pinnerName:m,pinTrackingParams:r.tracking_params,title:n,viewParameter:a,viewType:o})};var w=t(588979);function P({articleId:e,gridIndex:i,pinOfficialUserId:t,showCreator:n,title:a,videoPinId:o,viewParameter:r,viewType:l}){var s,d;const c=(0,v.N)(o);if(!c)return null;const{description:u,images:p,origin_pinner:m,pinner:g,tracking_params:_}=c,f=(0,x.xt)(t,null==m?void 0:m.id,null==g?void 0:g.id),y=(null==p?void 0:p["736x"])||(null==p?void 0:p["236x"])||(null==p?void 0:p["170x"])||{},{url:b,height:P,width:j}=null!=y?y:{},S=null===(s=c.videos)||void 0===s||null===(d=s.video_list)||void 0===d?void 0:d.V_720P,{height:k,thumbnail:T,url:I,width:C}=null!=S?S:{};return(0,h.jsx)(w.Z,{articleId:e,creatorId:f,gridIndex:i,height:k,pinDescription:u,pinImageHeight:P,pinImageUrl:b,pinImageWidth:j,showCreator:n,title:a,trackingParams:_,thumbnail:T,url:I,videoPinId:o,viewParameter:r,viewType:l,width:C})}var j=t(452985),S=t(465110),k=t(802201),T=t(281180);const I=({gridIndex:e,id:i,isTodayArticlePage:t,article:o,subtitleSize:r,subtitleWeight:l,titleSize:s,viewParameter:d,viewType:c})=>{const u=(0,T.kW)(),p=(0,k.AF)(),m=(0,n.useSelector)((({todayArticles:e})=>o||e[i]));if(!m)return null;const{article_creator_user:_,content_pin:v,content_pin_official_user:y,display_type:w,feed_source:I,header_pin_id:C,image_urls:A,is_product_pin_feed:z,show_creator:D,subtitle:F,title:L,video_pin:Z}=m,E=u[_||""],M=v||Z,U=M?p[M].tracking_params:void 0;let R=null,O=(0,x.T7)(I,null!=z&&z,L,i);switch(w){case 0:R=(0,h.jsx)(a.Z,{imageUrls:A,subtitle:F,subtitleSize:r||"300",subtitleWeight:l,title:L,titleSize:s||"500"});break;case 1:R=(0,h.jsx)(j.Z,{imageUrls:A,subtitle:F,subtitleSize:r||"300",title:L,titleSize:s||"500"});break;case 2:Z&&(R=(0,h.jsx)(P,{articleId:i,gridIndex:e,pinOfficialUserId:y,showCreator:D,title:L,videoPinId:Z,viewParameter:d,viewType:c}),O=`/pin/${Z}`);break;case 3:R=(0,h.jsx)(f,{articleId:i,gridIndex:e,pinId:v,pinOfficialUserId:y,showCreator:D,title:L,viewParameter:d,viewType:c}),O=`/pin/${C}`;break;case 6:R=(0,h.jsx)(b,{articleId:i,gridIndex:e,pinId:v,title:L,viewParameter:d,viewType:c}),O=`/pin/${C}`;break;case 8:E?(R=(0,h.jsx)(g,{articleId:i,imageUrls:A,subtitle:F,title:L,user:E,viewParameter:d,viewType:c}),O=`/${encodeURIComponent(E.username)}/`):R=null;break;default:R=null}return R?(0,h.jsx)(S.y,{ArticleModule:R,clientTrackingParams:U,displayType:w,gridIndex:e,id:i,isTodayArticlePage:t,onArticleTapUrl:O,pinId:M,viewParameter:d,viewType:c}):null}},5724:(e,i,t)=>{t.d(i,{Z:()=>w});var n,a=t(702664),o=t(70598),r=t(987798),l=t(898781),s=t(892819),d=t(883119),c=t(167912),u=t(785893);const p=({backgroundColor:e,decreaseNamePadding:i,isHomefeedTuner:t,isLego:n,isSelected:a,locale:o,nameTextSize:c,renderAsPill:p,showFollowerCount:h,topicName:m,followerCount:g,image:_})=>{var x;const v=(0,l.ZP)(),f=(0,s.Z)(),y=(0,u.jsx)(d.JO,{accessibilityLabel:v._('Selected', ' - ', ' -- '),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return p?(0,u.jsx)(r.Z,{color:e||"#767676",image:_,isSelected:null!=a&&a,title:m}):(0,u.jsxs)(d.xu,{position:"relative","aria-selected":a,children:[(0,u.jsx)(d.zd,{rounding:n||t?4:2,children:(0,u.jsxs)(d.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,u.jsx)(d.xu,{bottom:!0,left:!0,padding:n&&a?1:0,position:"absolute",right:!0,rounding:n&&a?4:0,top:!0,children:(0,u.jsx)(d.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(x=_.url)&&void 0!==x?x:""})}),(0,u.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&a?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&a&&(0,u.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),t?(0,u.jsx)(d.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,u.jsx)(d.xv,{align:"center",color:"light",size:c,weight:"bold",children:m})}):(0,u.jsxs)(d.xu,{bottom:!0,left:!0,padding:i?1:2,position:"absolute",right:!0,children:[(0,u.jsx)(d.xv,{color:"inverse",size:c,weight:"bold",children:m}),h&&g>=0&&(0,u.jsx)(d.xu,{paddingY:1,children:(0,u.jsxs)(d.xv,{color:"inverse",size:"100",children:[(0,u.jsx)(d.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(o,g,{shortform:!0,shortform_maximum_fraction_digits:1})}),v._('followers', ' - ', ' -- ')]})})]}),a&&(0,u.jsx)(d.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,u.jsx)(d.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:y}):y})]})},h=void 0!==n?n:n=t(133132),m=({topicRef:e,...i})=>{var t,n,a,o,r,l;const s=(0,c.useFragment)(h,e),d=s.images?{url:null!==(t=s.images.url)&&void 0!==t?t:"",width:null!==(n=s.images.width)&&void 0!==n?n:0,height:null!==(a=s.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,u.jsx)(p,{backgroundColor:null!==(o=s.background_color)&&void 0!==o?o:"",topicName:null!==(r=s.name)&&void 0!==r?r:"",followerCount:null!==(l=s.follower_count)&&void 0!==l?l:0,image:d,...i})},g=({topic:e,topicBlob:i,topicInfoForContextualExp:t,...n})=>{const a=t||e||i||{},o=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},r=a.follower_count||-1;return(0,u.jsx)(p,{backgroundColor:a.background_color,topicName:a.name,followerCount:r,image:o,...n})};var _,x=t(856585);const v=({decreaseNamePadding:e=!1,isHomefeedTuner:i,isLego:t,isSelected:n=!1,nameTextSize:r="lg",onTouch:l,padding:s=2,renderAsPill:c,showFollowButton:p=!1,showFollowerCount:h=!1,shouldClickthrough:_=!1,topic:v,viewParameter:f,viewType:y,enabledHomeFeedTunerDesignChanges:b})=>{const w=(0,a.useDispatch)(),P=(0,a.useSelector)((({session:e})=>e.locale)),j=(0,u.jsxs)(d.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==v.type?(0,u.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,locale:P,nameTextSize:r,renderAsPill:c,showFollowerCount:h,topic:v.topic,topicBlob:v.topicBlob,topicInfoForContextualExp:v.topicInfoForContextualExp}):(0,u.jsx)(m,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,locale:P,nameTextSize:r,renderAsPill:c,showFollowerCount:h,topicRef:v.topicRef}),!!v&&p&&(0,u.jsx)(d.xu,{paddingY:2,children:(0,u.jsx)(o.Z,{textType:i?"AddRemove":"FollowFollowing",followEventType:601,id:v.id,invertColors:i,inline:i&&b,isFollowed:v.is_followed,onFollow:e=>w((0,x.ZN)(e)),onUnfollow:e=>w((0,x.fv)(e)),size:"md",unfollowEventType:602,viewParameter:f||void 0,viewType:y||void 0})})]});let S="/";return v&&(S=`/topics/${v.id}`),_&&v.slug?(0,u.jsx)(d.iP,{role:"link",onTap:({event:e})=>{null==l||l(e)},tapStyle:"compress",rounding:2,href:S,children:(0,u.jsx)(d.xu,{padding:s,children:j})}):j},f=void 0!==_?_:_=t(964820),y=({topicRef:e,decreaseNamePadding:i=!1,isHomefeedTuner:t,isLego:n,isSelected:a=!1,nameTextSize:o="lg",onTouch:r,padding:l=2,renderAsPill:s,showFollowButton:d=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:g,enabledHomeFeedTunerDesignChanges:_})=>{var x,y;const b=(0,c.useFragment)(f,e);return(0,u.jsx)(v,{decreaseNamePadding:i,isHomefeedTuner:t,isLego:n,isSelected:a,nameTextSize:o,onTouch:r,padding:l,renderAsPill:s,showFollowButton:d,showFollowerCount:p,shouldClickthrough:h,viewParameter:m,viewType:g,enabledHomeFeedTunerDesignChanges:_,topic:{id:null!==(x=b.entityId)&&void 0!==x?x:"",type:"graphql",is_followed:null!==(y=b.is_followed)&&void 0!==y&&y,topicRef:b}})},b=({id:e,topic:i,topicBlob:t,topicInfoForContextualExp:n,decreaseNamePadding:o=!1,isHomefeedTuner:r,isLego:l,isSelected:s=!1,nameTextSize:d="lg",onTouch:c,padding:p=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:_=!1,viewParameter:x,viewType:f,enabledHomeFeedTunerDesignChanges:y})=>{const b=(0,a.useSelector)((({topics:i})=>i[e])),w=null!=i?i:b;return(0,u.jsx)(v,{decreaseNamePadding:o,isHomefeedTuner:r,isLego:l,isSelected:s,nameTextSize:d,onTouch:c,padding:p,renderAsPill:h,showFollowButton:m,showFollowerCount:g,shouldClickthrough:_,viewParameter:x,viewType:f,enabledHomeFeedTunerDesignChanges:y,topic:{id:e,is_followed:!(null==w||!w.is_followed),topic:w,topicBlob:t,topicInfoForContextualExp:n,type:"resource"}})},w=({decreaseNamePadding:e=!1,isHomefeedTuner:i,isLego:t,isSelected:n=!1,nameTextSize:a="lg",onTouch:o,padding:r=2,renderAsPill:l,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:p,viewType:h,enabledHomeFeedTunerDesignChanges:m,...g})=>g.topicRef?(0,u.jsx)(y,{decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,nameTextSize:a,onTouch:o,padding:r,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,viewParameter:p,viewType:h,topicRef:g.topicRef,enabledHomeFeedTunerDesignChanges:m}):(0,u.jsx)(b,{id:g.id,decreaseNamePadding:e,isHomefeedTuner:i,isLego:t,isSelected:n,nameTextSize:a,onTouch:o,padding:r,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,topic:g.topic,topicBlob:g.topicBlob,topicInfoForContextualExp:g.topicInfoForContextualExp,viewParameter:p,viewType:h,enabledHomeFeedTunerDesignChanges:m})},957980:(e,i,t)=>{t.d(i,{Z:()=>P});var n,a=t(667294),o=t(248975),r=t(862628),l=t(898781),s=t(250946),d=t(667679),c=t(755506),u=t(349700),p=t(539497),h=t(802201),m=t(276775),g=t(883119),_=t(167912),x=t(785893);const v=({children:e,onTap:i})=>{const[t,n]=(0,a.useState)(!1);return(0,x.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,x.jsx)(g.iP,{onTap:i,onBlur:()=>n(!1),onFocus:()=>n(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:e})})},f=void 0!==n?n:n=t(12617);function y({desktopContextMenuState:e,isMainPinImage:i,source:t,images:n,embedSrc:s,embedType:c,sourceUserUsername:h,sourceUserFullname:_,pinJoinVisualAnnotation:f,pinJoinSeoBreadcrumbName:y,pinJoinSeoBreadcrumbUrl:b,pinId:w,pinLink:P}){var j;const S=(0,l.ZP)(),k=(0,m.useHistory)(),T=(0,o.Z)({images:n,embedSrc:s,embedType:c}),I=y,C=b,A=null!==(j=null==f?void 0:f[0])&&void 0!==j?j:void 0,z=(0,r.Z)(A),D=`/search/pins/?q=${encodeURIComponent(z)}&rs=image_only_attribution`,F=(0,d.Z)(),L="dweb.plp.ellipsis.button"===t;return T?(0,x.jsxs)(g.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new g.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,x.jsx)(g.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,x.jsx)(g.JO,{icon:"pinterest",accessibilityLabel:S._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,x.jsx)(v,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),F({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:w}}})},children:(0,x.jsx)(g.xv,{size:"200",weight:"bold",children:S._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(i||L&&!P)&&(0,x.jsx)(v,{onTap:()=>{(0,p.My)(L?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(L?P:`/pin/${w}/`),L||F({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,x.jsx)(g.xv,{size:"200",weight:"bold",children:S._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(A||!(!I||!C))&&(0,x.jsx)(v,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),C?k.push(`${C}`):k.push(D)},children:I?(0,x.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(S._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:I})}):(0,x.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(S._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:A})})}),!(!_||!h)&&(0,x.jsx)(v,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),k.push(`/${h}/`)},children:(0,x.jsx)(g.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(S._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:_})})}),(0,x.jsx)(a.Fragment,{children:(0,x.jsx)(v,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),F({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup",desktopOptions:{modalType:"login"}})},children:(0,x.jsx)(g.xv,{size:"200",weight:"bold",children:S._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function b({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:t,...n}){var a,o,r,l,d;const c=(0,_.useFragment)(f,e),u=(0,s.Z)(c);let p;var h,m;(p=null!=c&&c.nativeCreator?c.nativeCreator:null!=c&&c.linkDomain?c.linkDomain.officialUser:(null==c?void 0:c.originPinner)||(null==c?void 0:c.pinner),p)||(p=null!==(h=null==c||null===(m=c.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==h?h:null==c?void 0:c.pinner);return(0,x.jsx)(y,{...n,embedSrc:(null==c?void 0:c.embed)&&c.embed.src,embedType:(null==c?void 0:c.embed)&&c.embed.type,images:u,sourceUserUsername:null===(a=p)||void 0===a?void 0:a.username,sourceUserFullname:null===(o=p)||void 0===o?void 0:o.fullName,pinJoinVisualAnnotation:null==c||null===(r=c.pinJoin)||void 0===r?void 0:r.visualAnnotation,pinJoinSeoBreadcrumbName:(null==c||null===(l=c.pinJoin)||void 0===l?void 0:l.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(d=c.pinJoin)||void 0===d?void 0:d.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].url:null),pinId:i})}function w({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:t,...n}){var a,o,r,l,s,d;const u=(0,h.S6)()(i);let p=(0,c.wS)(u);var m,g;p||(p=null!==(m=null==u||null===(g=u.link_domain)||void 0===g?void 0:g.official_user)&&void 0!==m?m:null==u?void 0:u.pinner);const{full_name:_,username:v}=null!==(a=p)&&void 0!==a?a:{};return(0,x.jsx)(y,{...n,embedSrc:null==u||null===(o=u.embed)||void 0===o?void 0:o.src,embedType:null==u||null===(r=u.embed)||void 0===r?void 0:r.type,images:null==u?void 0:u.images,sourceUserUsername:_,sourceUserFullname:v,pinJoinVisualAnnotation:null==u||null===(l=u.pin_join)||void 0===l?void 0:l.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(s=u.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(d=u.pin_join)||void 0===d?void 0:d.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:i})}function P(e){return e.graphqlRef?(0,x.jsx)(b,{...e}):(0,x.jsx)(w,{...e})}},743873:(e,i,t)=>{t.d(i,{n:()=>w,Z:()=>P});var n=t(702664),a=t(474635),o=t(104788),r=t(966476);const l=({children:e,fallback:i})=>(()=>{const e=(0,n.useSelector)((e=>{var i;return!(null==e||null===(i=e.session)||void 0===i||!i.isSeoBot)})),i=(0,r.Z)();return!e&&!i})()?i||null:e;var s=t(949372),d=t(898781),c=t(125920),u=t(112690),p=t(539497);var h=t(52022),m=t(643010),g=t(968228),_=t(773285),x=t(385740),v=t(53987),f=t(883119),y=t(276775),b=t(785893);const w=56;function P(){const e=(0,d.ZP)(),i=(0,y.useLocation)(),t=(0,y.useHistory)(),{viewType:r,viewParameter:P}=(0,x.SU)(),{userAgentPlatform:j,userAgent:S}=(0,n.useSelector)((({session:e})=>e)),k=(0,g.Rp)({platform:j,userAgent:S}),T=(0,c.Z)(),I=function(){const{isSeoBot:e}=(0,n.useSelector)((({session:e})=>e));return(i,t)=>{e||(0,p.NC)(i,t)}}(),C=(0,s.Z)(),{checkExperiment:A}=(0,_.F)(),z=(0,u.Z)(),D=(0,h.Z)(),F=e._('Log in', 'Label for log in button', 'Label for log in button'),L=e._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),Z=e._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),E=!k&&!(0,v.Xn)(i),M=((0,v.dr)(i)||(0,v.$Y)(i)||(0,v.E0)(i))&&!A("lex_follow_button").group.includes("main_cta"),U=!C||T||M?"signup":"download",R=(E?F.length:0)+("signup"===U?L.length:0)+("download"===U?Z.length:0);return(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,m.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,b.jsxs)(f.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,b.jsx)(f.iP,{accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:()=>{D({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,b.jsxs)(f.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,b.jsx)(f.xu,{alignItems:"center",display:"flex",height:w,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,b.jsx)(f.iP,{role:"link",tapStyle:"none",href:"/",children:k?(0,b.jsx)(o.Z,{size:24}):(0,b.jsx)(f.hU,{icon:"pinterest",iconColor:"red",padding:1,size:"xl",accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,b.jsx)(f.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:R<18&&(0,b.jsxs)(f.xu,{children:[(0,b.jsx)(f.X6,{color:"error",size:"400",overflow:"normal",children:k?e._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):e._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),k&&(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,b.jsx)(f.xu,{children:(0,b.jsx)(f.xv,{inline:!0,size:"100",color:"subtle",children:e._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,b.jsx)(l,{children:(0,b.jsxs)(f.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[E&&(0,b.jsx)(f.xu,{"data-test-id":"login-button",children:(0,b.jsx)(f.zx,{fullWidth:!0,color:"white",onClick:()=>{D({action:"click",within:"unauth-header",item:"login-button"}),z({component:13198,element:30,event_type:102,view_type:r,view_parameter:P}),I("press_header_login"),z({event_type:10241,element:30,component:14213,view_type:r,view_parameter:P,aux_data:{upsell_reason:"tap_unauth_header_login"}}),t.push("/login",i.state)},size:"md",text:F})}),"signup"===U?(0,b.jsx)(f.xu,{"data-test-id":"signup-button",children:(0,b.jsx)(f.zx,{fullWidth:!0,color:M?"red":"gray",onClick:()=>{D({action:"click",within:"unauth-header",item:"signup-button"}),z({component:13198,element:31,event_type:102,view_type:r,view_parameter:P}),I("press_header_signup"),z({event_type:10241,element:31,component:14215,view_type:r,view_parameter:P,aux_data:{upsell_reason:"tap_unauth_header_signup"}}),t.push("/signup",i.state)},size:"md",text:L})}):(0,b.jsx)(f.xu,{"data-test-id":"download-button",children:(0,b.jsx)(a.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,b.jsx)(f.zx,{fullWidth:!0,color:(0,v.j8)(i)||A("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:Z})})})]})})]})})}},884979:(e,i,t)=>{t.d(i,{Yw:()=>j,ZP:()=>C,nt:()=>P});var n,a=t(474635),o=t(155247),r=t(248975),l=t(30700),s=t(862628),d=t(949372),c=t(898781),u=t(250946),p=t(667679),h=t(755506),m=t(349700),g=t(539497),_=t(217013),x=t(773285),v=t(802201),f=t(276775),y=t(883119),b=t(167912),w=t(785893);const P=250,j={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},S=void 0!==n?n:n=t(167074);function k({mwebContextMenuState:e,openShareModal:i,setMwebContextMenuState:t,pinId:n,images:u,embedSrc:h,embedType:v,sourceUserUsername:b,sourceUserFullname:j,pinDownloadFilename:S,pinImageSignature:k,pinJoinVisualAnnotation:T,pinJoinSeoBreadcrumbName:I,pinJoinSeoBreadcrumbUrl:C}){var A;const z=(0,c.ZP)(),D=(0,f.useHistory)(),F=(0,r.Z)({images:u,embedSrc:h,embedType:v}),{isChromeOnIOS:L}=(0,_.R)(),Z=I,E=C,M=null!==(A=null==T?void 0:T[0])&&void 0!==A?A:void 0,U=(0,s.Z)(M),R=`/search/pins/?q=${encodeURIComponent(U)}&rs=image_only_attribution`,O=(0,p.Z)(),N=(0,_.R)(),{checkExperiment:B}=(0,x.F)(),H=(0,d.Z)();return F?(0,w.jsxs)(y.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new y.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:P,children:[(0,w.jsxs)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(y.JO,{icon:"pinterest",accessibilityLabel:z._('Pinterest logo', 'unauth.mweb.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"}),(0,w.jsx)(y.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,w.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),t(null)},children:(0,w.jsx)(y.JO,{icon:"cancel",accessibilityLabel:z._('Dismiss mweb context menu', 'unauth.mweb.context_menu.dismiss', 'Dismiss icon in mweb context menu')})})})]}),"main"===e.context&&H&&B("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,w.jsx)(a.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(y.iP,{onTap:({event:i})=>{i.stopPropagation(),t(null),e({deepLinkUri:`/pin/${n}/`}),(0,g.My)("unauth.mweb.context_menu.open_in_app")},children:(0,w.jsx)(y.xv,{size:"200",weight:"bold",children:z._('Open in App', 'unauth.mweb.context_menu.link.open_in_app', 'Link to open the pin in Pinterest app')})})})}),["download","short_d"].includes(e.context)&&k?(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(o.Z,{imgSrc:F,isChromeOnIOS:L,filename:S,pinId:n,viewType:3,imageSignature:k,children:e=>(0,w.jsx)(l.Z,{pressState:"none",onTouch:i=>{e().then((()=>{i.stopPropagation(),t(null),(0,g.My)("unauth.mweb.context_menu.download_image")}))},children:(0,w.jsx)(y.xv,{size:"200",weight:"bold",children:z._('Download image', 'unauth.mweb.related_pin.context_menu.link.download_image', 'Link to download image')})})})}):(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),t(null),(0,g.My)("unauth.mweb.context_menu.save_image"),e&&N.saveButtonConfig.onSaveButtonClick(e)},children:(0,w.jsx)(y.xv,{size:"200",weight:"bold",children:z._('Save image', 'unauth.mweb.context_menu.link.save_image', 'Link to save image')})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),t(null),i&&i(!0),(0,g.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,w.jsx)(y.xv,{size:"200",weight:"bold",children:z._('Share image', 'unauth.mweb.context_menu.link.share_menu', 'Link to open the share menu')})})}),(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),t(null),(0,g.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${n}/`)},children:(0,w.jsx)(y.xv,{size:"200",weight:"bold",children:z._('Open link in new tab', 'unauth.mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})})}),["download","save","main"].includes(e.context)&&(M||!(!Z||!E))&&(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(y.iP,{onTap:()=>{(0,g.My)("unauth.mweb.context_menu.see_more_pins"),D.push(E?`${E}`:R)},children:Z?(0,w.jsx)(y.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(z._('See more ideas about {{levelOneInterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:Z})}):(0,w.jsx)(y.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(z._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:M})})})}),["download","save","main"].includes(e.context)&&!(!j||!b)&&(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(y.iP,{onTap:()=>{(0,g.My)("unauth.mweb.context_menu.more_from_creator"),D.push(`/${b}/`)},children:(0,w.jsx)(y.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(z._('See more from {{full_name}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:j})})})}),(0,w.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),t(null),(0,g.My)("unauth.mweb.context_menu.login_signup"),O({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,w.jsx)(y.xv,{size:"200",weight:"bold",children:z._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function T({graphqlRef:e,pinId:i,...t}){var n,a,o,r,l;const s=(0,b.useFragment)(S,e),d=(0,u.Z)(s);let c;var p,h;(c=null!=s&&s.nativeCreator?s.nativeCreator:null!=s&&s.linkDomain?s.linkDomain.officialUser:(null==s?void 0:s.originPinner)||(null==s?void 0:s.pinner),c&&"string"!=typeof c)||(c=null!==(p=null==s||null===(h=s.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==p?p:null==s?void 0:s.pinner);const m=(null==s?void 0:s.gridTitle)||(null==s?void 0:s.closeupUnifiedDescription),g=null==s?void 0:s.imageSignature;return(0,w.jsx)(k,{...t,embedSrc:(null==s?void 0:s.embed)&&s.embed.src,embedType:(null==s?void 0:s.embed)&&s.embed.type,images:d,sourceUserUsername:null===(n=c)||void 0===n?void 0:n.username,sourceUserFullname:null===(a=c)||void 0===a?void 0:a.fullName,pinDownloadFilename:m,pinImageSignature:g,pinJoinVisualAnnotation:null==s||null===(o=s.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==s||null===(r=s.pinJoin)||void 0===r?void 0:r.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==s||null===(l=s.pinJoin)||void 0===l?void 0:l.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].url:null),pinId:i})}function I({graphqlRef:e,pinId:i,...t}){var n,a,o,r,l,s;const d=(0,v.S6)()(i),c=null==d?void 0:d.pinner;let u=(0,h.wS)(d);var p,m;u&&"string"!=typeof u||(u=null!==(p=null==d||null===(m=d.link_domain)||void 0===m?void 0:m.official_user)&&void 0!==p?p:c);const{full_name:g,username:_}=null!==(n=u)&&void 0!==n?n:{},x=(null==d?void 0:d.grid_title)||(null==d?void 0:d.closeup_unified_description),f=null==d?void 0:d.image_signature;return(0,w.jsx)(k,{...t,embedSrc:null==d||null===(a=d.embed)||void 0===a?void 0:a.src,embedType:null==d||null===(o=d.embed)||void 0===o?void 0:o.type,images:null==d?void 0:d.images,sourceUserUsername:g,sourceUserFullname:_,pinDownloadFilename:x,pinImageSignature:f,pinJoinVisualAnnotation:null==d||null===(r=d.pin_join)||void 0===r?void 0:r.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(l=d.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:i})}function C(e){return e.graphqlRef?(0,w.jsx)(T,{...e}):(0,w.jsx)(I,{...e})}},125920:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(702664),a=t(172071),o=t(949372),r=t(436851),l=t(968228),s=t(50286),d=t(276775),c=t(780280),u=t(419940),p=t(622096),h=t(53987);const m=()=>{const{isBot:e}=(0,c.B)(),i=(0,d.useLocation)(),{userAgentPlatform:t,userAgent:m}=(0,n.useSelector)((e=>e.session)),g=(0,o.Z)(),_=(0,s.ml)();return!e&&!(_&&!g)&&!(0,l.Rp)({platform:t,userAgent:m})&&((0,h.uM)(i)||(0,h.am)(i))&&!(0,u.P)()&&!(e=>!!(0,r.d)(e)&&((0,p.qn)("ufausfiiab")||(a.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(m)}},111168:(e,i,t)=>{t.d(i,{Z:()=>l});var n,a=t(667294),o=t(167912);const r=void 0!==n?n:n=t(569772),l=e=>{var i;const t=(0,o.useFragment)(r,e),n=null==t||null===(i=t.pinJoin)||void 0===i?void 0:i.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==n?void 0:n.reduce(((e,i)=>(i.name&&(e[i.name]={name:i.name,url:i.url}),e)),{})),[n])}},609700:(e,i,t)=>{t.d(i,{Z:()=>w});var n=t(667294),a=t(702664),o=t(116303),r=t(70598),l=t(149230),s=t(898781),d=t(883119),c=t(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:i,width:t})=>{var n,a,o;const r=(0,s.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:i?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:t,height:e,contentAspectRatio:"number"==typeof i.height&&"number"==typeof i.width?i.width/i.height:1,children:(0,c.jsx)(d.Ee,{alt:r._('pin image', 'alt text for pin image', 'alt text for pin image'),color:i.dominant_color||void 0,naturalWidth:null!==(n=i.width)&&void 0!==n?n:1,naturalHeight:null!==(a=i.height)&&void 0!==a?a:1,src:null!==(o=i.url)&&void 0!==o?o:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:u,height:e,width:t,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"secondary",width:t,height:e})})};var h=t(112690),m=t(892819),g=t(803035),_=t(856919),x=t(349700),v=t(281180),f=t(780280),y=t(825077),b=t(5226);function w({action:e,auxData:i,isPinnerAuthorityHero:t=!1,userSearchRepStyle:u=!1,onFollowUser:w,onUnfollowUser:P,userId:j,userPins:S,viewParameter:k,viewType:T,truncateName:I=!1}){const C=(0,s.ZP)(),A=(0,m.Z)(),z=(0,a.useDispatch)(),{locale:D}=(0,f.B)(),F=(0,h.Z)(),[L,Z]=(0,n.useState)(u?window.innerWidth-16:null),E=(0,v.mN)()(j);if(!E)return null;const{contextual_pin_image_urls:M,explicitly_followed_by_me:U,follower_count:R=0,full_name:O,image_medium_url:N,is_verified_merchant:B,recent_pin_images:H,username:W,verified_identity:V}=E,K=e=>L?(L-(e-1))/e:0,$=u?1.6*K(4):117,q=(null==S?void 0:S.map((e=>{var i;return null===(i=e.images)||void 0===i?void 0:i["236x"]})))||[],G=(null==H?void 0:H["222x"])||(null==H?void 0:H["192x"])||[];let Y=(null==M?void 0:M["222x"])||(null==M?void 0:M["192x"])||[];t&&0===Y.length&&(Y=G);const X=u&&Y.length<=0;let J=u?Y.concat(G).slice(0,4):q.concat(G).slice(0,2);0===J.length&&(J=[void 0,void 0]);const Q=!X&&(L?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:J.map(((e,i)=>(0,c.jsx)(p,{height:$,image:e,width:K(J.length)},`pinImage-${i}`)))})}):(0,c.jsx)(d.xu,{height:$,ref:e=>{e&&Z(e.offsetWidth)},width:"100%"})),ee=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(o.Z,{outline:!0,name:null!=O?O:"",src:null!=N?N:""})})}),ie=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(u?(L||0)/2:L)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:I?1:void 0,children:B||null!=V&&V.verified?(0,c.jsx)(g.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=O?O:"",verifiedType:B?"verifiedMerchant":"verifiedIdentity",truncate:I}):O})}),(0,c.jsx)(d.xv,{inline:!0,size:"100",align:e,children:(0,x.nk)(C.ngettext('{{followers}} follower', '{{followers}} followers', R, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:A(D,R,{shortform:!0})})})]}),te=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{F({event_type:9029,object_id_str:j,view_type:T,view_parameter:k,aux_data:i})},rel:(0,l.Z)({url:e.url})?"nofollow":void 0,target:(0,l.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(r.Z,{id:j,isSecondaryButton:!0,isFollowed:U,onFollow:e=>{w&&w(),z((0,b.ZN)(e))},onUnfollow:e=>{P&&P(),z((0,b.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:T})});return(0,c.jsx)(y.Cy,{loggingId:j,objectIdStr:j,slotIndex:0,viewParameter:k,viewType:T,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(_.MZ,{to:`/${W}/`,onTouch:()=>{F({event_type:43,object_id_str:j,view_parameter:k,view_type:T})},children:(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),ie("start")]}),te]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),ie("center"),te]})]})})})})}},803035:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),a=t(512176),o=t(883119),r=t(785893);const l=function({badgeSize:e,badgeSpacing:i,fullName:t,verifiedType:l,truncate:s=!1}){const d=t.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(o.xv,{lineClamp:1,weight:"bold",children:t}),(0,r.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,r.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]})]})}},139463:(e,i,t)=>{t.d(i,{Z:()=>c,e:()=>u});var n=t(667294),a=t(722767),o=t(867405),r=t(883119),l=t(606441),s=t(785893);function d(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class c extends n.PureComponent{constructor(...e){super(...e),d(this,"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),d(this,"handleVisibilityChanged",(e=>{const{intersectionRatio:i}=e[0],{isPlaying:t,isVideoReady:n,startLoading:a}=this.state;i>=.8?(this.setState({isVisibleForPlaying:!0}),this.videoRef&&(a?n&&!t&&this.videoRef.play():(this.videoRef.load(),this.setState({startLoading:!0})))):(this.setState({isVisibleForPlaying:!1}),this.videoRef&&n&&this.videoRef.pause())})),d(this,"handleVideoPause",(()=>this.setState({isPlaying:!1}))),d(this,"handleVideoPlay",(()=>this.setState({isPlaying:!0}))),d(this,"getVideoRef",(e=>this.videoRef=e)),d(this,"setIsVideoReadyTrue",(()=>{this.setState({isVideoReady:!0}),this.videoRef&&!this.state.isPlaying&&this.state.isVisibleForPlaying&&this.videoRef.play()}))}render(){const{height:e,thumbnail:i,url:t,width:n,pinDescription:l,pinImageHeight:d,pinImageUrl:c,pinImageWidth:u}=this.props,p=(null!=e?e:1)/(null!=n?n:1);return t?(0,s.jsx)(a.Z,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:(0,s.jsx)(r.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:100*p+"%"}},children:(0,s.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)("video",{height:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:i,preload:"none",ref:this.getVideoRef,src:t,width:"100%"})})})}):(0,s.jsx)(r.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,s.jsx)(o.Z,{description:l,imageUrl:c,imageHeight:d,imageWidth:u})})}}function u({pinId:e}){var i,t;const n=(0,l.N)(e);if(!n)return null;const a=n.images&&(n.images.orig||n.images["736x"]||n.images["290x"]||n.images["236x"]),{description:o}=n,{url:r,height:d,width:u}=null!=a?a:{},p=null===(i=n.videos)||void 0===i||null===(t=i.video_list)||void 0===t?void 0:t.V_720P,{height:h,thumbnail:m,url:g,width:_}=null!=p?p:{};return(0,s.jsx)(c,{height:h,thumbnail:m,url:g,width:_,pinDescription:o,pinImageUrl:r,pinImageHeight:d,pinImageWidth:u})}},104788:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);function a({size:e,noCircle:i}){return(0,n.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,n.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},408285:(e,i,t)=>{t.d(i,{$J:()=>S,AP:()=>Z,Dm:()=>k,Fv:()=>P,H$:()=>D,In:()=>L,Ng:()=>j,RH:()=>y,Wj:()=>F,_P:()=>T,go:()=>w});var n=t(126098),a=t(6637),o=t(360903),r=t(30287),l=t(53987),s=t(539497),d=t(957161);const c="home",u="closeup",p="news_hub",h="board",m="profile",g="topic",_="today",x="business",v="search";let f;const y="_push",b=e=>{e.onupdatefound=()=>{(0,s.My)("mweb_service_worker.update_found")}},w=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),P=()=>new Promise(((e,i)=>{const t=navigator.serviceWorker,{pwaType:n,twaType:a}=f.getState().session,o=new URLSearchParams({source_url:window.location.pathname});n&&a&&(0,r.Rx)(a)&&(o.append("pwa_type",n),o.append("twa_type",a)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&o.append("referrer",document.referrer),t&&t.register?((0,s.My)("mweb_service_worker.install_attempt"),t.register(`/sw.js?${o.toString()}`).then((i=>{(0,s.My)("mweb_service_worker.install_success"),b(i),e(i)})).catch((e=>{(0,s.tj)("mweb_service_worker.install_fail",{error:e.message}),i(e)}))):e()})),j=()=>new Promise(((e,i)=>{const t=navigator.serviceWorker;t&&t.getRegistration?((0,s.My)("mweb_service_worker.update_attempt"),t.getRegistration().then((t=>{t?t.update().then((()=>{(0,s.My)("mweb_service_worker.update_success"),b(t),e(t)})).catch((e=>{(0,s.tj)("mweb_service_worker.update_fail",{error:e.message}),i(e)})):P().then(e)}))):e()})),S=()=>{const e=f.getState().session.isAuthenticated;(0,s.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),P()},k=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,s.My)("mweb_service_worker.unregister_attempt"),(0,o.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,s.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const i=e.find((e=>e.startsWith("workbox-precaching")));return i?window.caches.delete(i):null})).then((()=>(0,s.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,s.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},T=()=>!(!w()||!("SyncManager"in window)),I=e=>(0,l.C$)(e)?c:(0,l.L6)(e)?u:(0,l.l4)(e)?p:(0,l.am)(e)?h:(0,l.cD)(e)?m:(0,l.En)(e)?v:(0,l.$V)(e)?g:(0,l.Zz)(e)?_:(0,l.Ni)(e)?x:"undefined",C=e=>{switch(I(e)){case c:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case p:return{viewType:107,viewParameter:3081};case h:return{viewType:5,viewParameter:void 0};case v:return{viewType:2,viewParameter:43};case g:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case x:return{viewType:409,viewParameter:3397};case _:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},A=(e,i)=>(0,s.tj)(e,{browser:f.getState().session.browser,version:Math.floor(parseInt(f.getState().session.browserVersion,10)),...i}),z=(0,n.Z)(),D="default"===z||"granted"===z,F=(e,i,t,n)=>{const o=navigator.serviceWorker,r=Boolean((0,d.qn)(y)),l={experimentName:t||"noExperiment",experimentGroup:n||"noGroup"};return o&&o.ready&&D&&!r?(i({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:t,experiment_group:n}}),A(`mweb.notifications_upsell.${I(e)}.viewed`,l),o.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((t=>((e,i,t,n)=>{a.Z.create("WebPushDeviceResource",{}).callGet().then((i=>{const t=(({subscriptionId:e,endpoint:i})=>{return e||(t=i.split("/"))[t.length-1];var t})(e);if(i.resource_response.data[t])return;const n={registration_id:t,subscription_endpoint:e.endpoint};a.Z.create("WebPushDeviceResource",n).callCreate()})),(0,d.Nh)(y,"subscribed"),A(`mweb.notifications_upsell.${I(i)}.subscribed`,t);const o=C(i);n({component:13125,element:10357,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(t,e,l,i)),(()=>((e,i,t)=>{(0,d.Nh)(y,"denied"),A(`mweb.notifications_upsell.${I(e)}.denied`,i);const n=C(e);t({component:13125,element:10358,event_type:102,view_type:n.viewType,view_parameter:n.viewParameter,aux_data:{experiment_name:i.experimentName,experiment_group:i.experimentGroup}})})(e,l,i)))):Promise.reject()},L=e=>{f=e},Z=({isAuthenticated:e,isAppShell:i})=>{let t=!1;const n=n=>{if(t)return;t=!0;const a=`${i?"warm":"cold"}.${e?"auth":"unauth"}`;(0,s.My)(`mweb_service_worker.appshell_status.${a}.${n}`)},a=navigator.serviceWorker,o=null==a?void 0:a.controller;a&&o?setTimeout((()=>n("timeout")),1e3):n("no_worker")}},473535:(e,i,t)=>{t.d(i,{AZ:()=>l,B7:()=>r,U3:()=>o});const n={my_content:63,pins:60,users:62,boards:61,buyable_pins:3800},a={my_content:189,boards:44,my_pins:107,users:45,pins:43,buyable_pins:254};function o({logContextEvent:e,searchScope:i,searchTerm:t,rs:o}){(t=t.trim())&&e({event_type:n[i],view_parameter:a[i],view_type:2,aux_data:{query:t,rs:o}})}function r(e,i,t){t({view_parameter:103,view_type:2,component:35,element:e,event_type:102,aux_data:i})}function l(e){return e.split("/")[2]}},968228:(e,i,t)=>{t.d(i,{G3:()=>c,Rp:()=>d,kp:()=>s});var n=t(622096),a=t(202139),o=t(957161);const r=14*a.F4;function l(e,i,t){return e-i>t}const s=e=>{const i=function(){const e=Date.now(),i=Number((0,o.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:i,showedAppUpsellCurrentSession:Boolean((0,n.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,i,t){const{currentTime:n,firstUpsellTime:a,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return t=t||r,!a||function(e,i,t){return e<i+t}(n,a,i)?!d:!!l(n,s,t)&&((0,o.L_)("firstUpsellTime"),!0)}(i,a.F4):function(e,i){const{currentTime:t,lastUpsellTime:n}=e;return i=i||r,!n||l(t,n,i)}(i)},d=({platform:e,userAgent:i})=>{try{return"android"===e&&parseFloat((e=>{const i=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return i?i[1]:void 0})(i))<7}catch(t){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},693099:(e,i,t)=>{t.d(i,{AA:()=>o,E9:()=>g,EU:()=>v,IO:()=>x,Jd:()=>h,KH:()=>c,QR:()=>d,Uw:()=>a,ZR:()=>f,dy:()=>s,eA:()=>p,fo:()=>m,k7:()=>r,rT:()=>_,tz:()=>u,u9:()=>y,zR:()=>l,zu:()=>n});const n="OPEN_UNAUTH",a="openUnauthType",o="_isAfterLogin",r="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,h="_unauthInviteCode",m="_unauthReferrerString",g="unauthTopicsFollowed",_=["US","CA","NZ","AU"],x=new Set(["GB","IE"]),v=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),f=new Set(["BR","MX","AR","CL","CO","PE"]),y="ad_img"},706512:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(172071),a=t(407043);const o={13:e=>!!e.view_parameter,9105:e=>!!e.view_parameter,9104:e=>!!e.view_parameter,10357:e=>!!e.view_parameter,10358:e=>!!e.view_parameter,10359:e=>!!e.view_parameter,10360:e=>!!e.view_parameter,102:e=>!!e.element&&!!e.view_parameter,101:e=>!!e.element&&!!e.view_parameter,4104:e=>!!e.view_parameter&&!e.element,4105:e=>!!e.view_parameter&&!e.element,8900:e=>!!e.view_parameter&&!e.element,9626:e=>!!e.view_parameter&&!e.element,9625:e=>!!e.view_parameter&&!e.element,46:e=>!!e.view_parameter&&!e.element,45:e=>!!e.view_parameter&&!e.element},r=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13],l=[259,3120,3139,172,3596,3542,261,171,260],s=()=>{const{logContextEvent:e}=(0,a.v)();return i=>{const{event_type:t,element:a,view_parameter:s,component:d,view_type:c,aux_data:u}=i,p=(e=>{const{event_type:i,element:t,view_parameter:n}=e;return!Object.keys(o).includes(`${i}`)||t&&!r.includes(t)||n&&!l.includes(n)?{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}:o[i](e)?-1===[213,24,260].indexOf(e.view_type)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}})(i);if(p)return console.error(p.message),void n.Z.increment("webapp.track_nux_invalid_parameters",1,{code:p.code,component:d,event_type:t,element:a,view_type:c,view_parameter:s});e({component:d,event_type:t,element:a,view_parameter:s,view_type:c,aux_data:u})}}},544826:(e,i,t)=>{t.d(i,{DZ:()=>u,Dv:()=>h,Es:()=>d,HW:()=>s,mv:()=>c,nb:()=>p});var n=t(957161),a=t(773285),o=t(693099);const r=e=>e>=Date.now()-72e5,l=(e,i)=>{const t=[];if(e)for(const n of e)i&&!n.is_shared||r(n.ts)&&t.push(n);return t},s=()=>{const e=(0,n.qn)(o.zR),i=e?JSON.parse(e):[],t=l(i,!1),a=l(i,!0),s=t.map((e=>e.first_pin_image_signature)),d=t.map((e=>e.pin_id)),c=a.map((e=>e.first_pin_image_signature)),u=(e=>{const i={};if(e)for(const t of e)t.is_shared&&r(t.ts)&&t.pin_id&&(i[t.pin_id]={inviteCode:t.pin_invite_code});return i})(i),p=(0,n.qn)(o.dy),h=p?JSON.parse(p):[];return{extraPlpImages:s,plpImageRenderData:t,extraPlpIds:d,extraBlpImages:l(h,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:c,sharedPinData:u}},d=(e,i)=>{if(e.length!==i.length)return!1;for(let t=0;t<e.length;t+=1){if(e[t].id!==i[t].id)return!1}return!0},c=(e,i)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>i[e])):[]).filter((e=>e.is_followed)),u=(e,i)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>i[e])):null;function p(){const{checkExperiment:e}=(0,a.F)(),{group:i}=e("activation_new_user_holdout_2022_h2");return i.includes("holdout")}const h=()=>{const{checkExperiment:e}=(0,a.F)(),{anyEnabled:i,group:t}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:i,interestsLimit:i?Number(t.slice(-1)):NaN}}},81759:(e,i,t)=>{t.d(i,{CC:()=>b,Cb:()=>v,Ff:()=>A,H$:()=>P,Mt:()=>y,OJ:()=>x,Yi:()=>k,Ys:()=>_,Yy:()=>I,Z4:()=>g,ZN:()=>p,dc:()=>S,dp:()=>w,i$:()=>m,kw:()=>f,p9:()=>j,t_:()=>h});var n=t(231486),a=t(6637),o=t(826067),r=t(400660),l=t(226198),s=t(539497),d=t(622096),c=t(957161),u=t(693099);const p=["utm_pai","utm_source","invite_code"],h=()=>(0,c.qn)(u.tz,""),m=()=>{const e=h();let i;try{i=JSON.parse(e)}catch(t){i=[]}return i},g=(e,i)=>{const t=m(),n=t.length,a=n?t[0].path:"";if(n<u.eA&&(!n||e!==a)){const n={path:e,pageType:i,ts:Date.now()};(0,c.Nh)(u.tz,JSON.stringify([n].concat(t)))}},_=e=>{(0,c.Nh)(u.Jd,e)},x=()=>(0,c.qn)(u.fo,""),v=e=>{(0,c.Nh)(u.fo,e)},f=()=>{h()&&(0,c.L_)(u.tz),(0,c.qn)(u.Jd,"")&&(0,c.L_)(u.Jd),x()&&(0,c.L_)(u.fo)},y=(e,i,t,n,a,o,r=u.k7)=>{const l=(0,c.qn)(r)?JSON.parse((0,c.qn)(r)):[];if(!l[0]||l[0].path!==e){const s=[{path:e,ts:Date.now(),pin_id:t||0,first_pin_image_signature:i||"",first_pin_id:t||"",image_info:n||"",pin_description:a||"",is_shared:!!o,pin_invite_code:o}];(0,c.Nh)(r,JSON.stringify(s.concat(l)))}},b=({path:e,image:i,dominant_color:t,pin_description:n,pin_id:a})=>{const o=(()=>{const e=(0,d.qn)(u.KH);if(!e)return[];let i;try{i=JSON.parse(e)}catch(t){i=[]}return i})();if(!o[0]||o[0].path!==e){const r=[{path:e,image:i,pin_description:n||"",dominant_color:t||"",pin_id:a||""}];(0,d.Nh)(u.KH,JSON.stringify(r.concat(o)))}};function w(e,i,t,n,a,o){y(e,i,t,n,a,o,u.zR)}const P=(e,i)=>{var t,n;y(e,i.image_signature,i.id,null===(t=i.images)||void 0===t?void 0:t["236x"],null!==(n=i.description)&&void 0!==n?n:"","",u.dy)};function j(e,i,t,n,a){y(e,i,t,n,a,"",u.QR)}function S(){return m().filter((e=>"closeup"===e.pageType)).length}function k(){const e=a.Z.create("UnauthUserDataResource");return new Promise(((i,t)=>{e.callGet().then((e=>{const a=e.resource_response.data,o=!!n.U2(l.x3);return a?((0,r.Wn)(a.medium_image_url)&&(a.medium_image_url=""),(0,s.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(o?"true":"false")),i(a)):((0,s.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(o?"true":"false")),t({}))})).catch((e=>{if(e&&e.message){const i=e.message.replace(/\s/g,"_").toLowerCase();(0,s.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${i}`)}else(0,s.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return t(e)}))}))}function T({i18n:e,location:i}){const t=i.pathname.startsWith("/signup"),n=i.pathname.startsWith("/login");if(!t&&!n)return{showPLPBanner:!1,pinForBanner:null};let a;try{a=JSON.parse((0,d.qn)(u.KH))}catch(o){a=[]}if(a&&a.length>0){const i=a[0];if(i)return i.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(i.image),pinForBanner:i}}return{showPLPBanner:!1,pinForBanner:null}}const I=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function C({i18n:e,location:i}){var t;const n=(null===(t=i.state)||void 0===t?void 0:t.next)||I(i);if(n){const i=n.indexOf("?"),t=(0,o.mB)(n.substring(i));if(t.url&&t.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,o.Jx)(t.media),height:1,width:1},pinDescription:t.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function A({i18n:e,location:i}){return C({i18n:e,location:i}).showPLPBanner?C({i18n:e,location:i}):T({i18n:e,location:i}).showPLPBanner?T({i18n:e,location:i}):{showPLPBanner:!1,pinForBanner:null}}},550407:(e,i,t)=>{t.d(i,{M:()=>x,g:()=>v});var n,a=t(667294),o=t(203345),r=(t(883119),t(539497)),l=t(743873),s=t(50286),d=t(957980),c=t(884979),u=t(167912),p=t(785893);const h=void 0!==n?n:n=t(110767);const m=({queryReference:e,...i})=>{var t;const n=(0,u.usePreloadedQuery)(h,e),a=null==n||null===(t=n.v3GetPinQuery)||void 0===t?void 0:t.data;return a?(0,p.jsx)(d.Z,{...i,graphqlRef:a}):null},g=({queryReference:e,...i})=>{var t;const n=(0,u.usePreloadedQuery)(h,e),a=null==n||null===(t=n.v3GetPinQuery)||void 0===t?void 0:t.data;return a?(0,p.jsx)(c.ZP,{...i,graphqlRef:a}):null},_=(0,a.createContext)((()=>()=>{})),x=()=>(0,a.useContext)(_),v=({children:e,feedRef:i,viewType:t,viewParameter:n,useGraphql:x})=>{const[v,f]=(0,a.useState)(null),[y,b]=(0,a.useState)(null),[w,P]=(0,a.useState)(!1),[j,S]=(0,a.useState)(null),[k,T]=(0,a.useState)(!1),I=(0,s.HG)(),[C,A]=(0,u.useQueryLoader)(h);if(x&&!C&&j){A(function({pinId:e}){return{query:h,variables:{pinId:e}}}({pinId:j}).variables)}const z=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,a.useEffect)((()=>z),[]);const D=(0,a.useCallback)((e=>t=>{const{pinId:n,deviceOptions:a}=e;if(t.stopPropagation(),t.preventDefault(),S(n),a.isDesktop)T(a.isMainPinImage),(0,r.My)("dweb.unauth.context_menu.open_menu"),f({xPosition:t.clientX,yPosition:t.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,r.My)("mweb.unauth.related_pin.context_menu.open");const e=t.changedTouches.item(0);if(i&&i.current){const t=i.current.getBoundingClientRect(),n=Math.min(e.pageX-t.left,t.width-c.nt),o=e.pageY-l.n;b({xPosition:n,yPosition:o,context:a.context})}}}),[i]),F=!!v;(0,a.useEffect)((()=>{const e=()=>{f(null),z(),(0,r.My)("dweb.unauth.context_menu.click_away")};return F&&document.addEventListener("click",e),()=>{F&&document.removeEventListener("click",e)}}),[F]);const L=v&&j?x?C&&(0,p.jsx)(m,{desktopContextMenuState:v,pinId:j,isMainPinImage:!!k,queryReference:C}):(0,p.jsx)(d.Z,{desktopContextMenuState:v,pinId:j,isMainPinImage:!!k,graphqlRef:null}):null,Z=y&&j?x?C&&(0,p.jsx)(g,{mwebContextMenuState:y,pinId:j,openShareModal:P,setMwebContextMenuState:b,queryReference:C}):(0,p.jsx)(c.ZP,{graphqlRef:null,mwebContextMenuState:y,pinId:j,openShareModal:P,setMwebContextMenuState:b}):null;return(0,p.jsx)(_.Provider,{value:D,children:(0,p.jsxs)(a.Fragment,{children:[e,I&&L,!I&&Z,!I&&w&&j&&(0,p.jsx)(o.default,{objectType:1,isOpen:w,onDismiss:()=>P(!1),objectId:j,hideContactsSuggestions:!0,element:12016,viewType:t,viewParameter:n})]})})}},634291:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(667294),a=t(807609),o=t(957161);const r=e=>{const i=(0,o.qn)(e);if(!i)return null;try{return JSON.parse(i)}catch(t){return null}};var l=t(773285);const s=()=>{const[e,i]=function(e){const i=(0,a.Z)(),[t,l]=(0,n.useState)(i?null:r(e));return(0,n.useEffect)((()=>{l(r(e))}),[e]),[t,(0,n.useCallback)((i=>{l(i),null===i?(0,o.L_)(e):(0,o.Nh)(e,JSON.stringify(i))}),[e])]}("unauthSavedPins"),t=null!==(d=null==(s=e)?void 0:s.pins)&&void 0!==d?d:[];var s,d;const c=e=>i((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,l.F)(),p=()=>{const{anyEnabled:e,group:i}=u("pcons_mweb_save_v3");let n=0;if(e){const e=i.split("_")[1];n=e?parseInt(e,10):0}return t.length<n};return{pins:t,save:e=>{p()&&c(t.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>c(t.filter((({id:i})=>i!==e))),isSaved:e=>t.some((({id:i})=>i===e)),clear:()=>c([]),canSaveMore:p}}},400660:(e,i,t)=>{function n(e){return Boolean(null==e?void 0:e.is_matured_new_user)}t.d(i,{IR:()=>r,V0:()=>n,Wn:()=>o,xT:()=>a});const a=e=>!!e&&2===e.login_state,o=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},419940:(e,i,t)=>{t.d(i,{C:()=>s,P:()=>l});var n=t(172071),a=t(53987),o=t(622096);const r="msmrsfda",l=()=>!!(0,o.qn)(r),s=e=>{(0,a.LM)(e)&&!l()&&((0,o.Nh)(r,"1"),n.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},716235:(e,i,t)=>{t.d(i,{a:()=>a,k:()=>o});var n=t(983360);const a=e=>({type:n.cZ,payload:e}),o=e=>({type:n.U1,payload:e})},358589:(e,i,t)=>{t.d(i,{DX:()=>C,iX:()=>Z,q$:()=>D,lr:()=>F,ES:()=>A,Bp:()=>k,wh:()=>T,Zf:()=>z,t_:()=>L,Mr:()=>S});var n=t(667294),a=t(622359),o=t(609943),r=t(499128),l=t(898781),s=t(349700),d=t(883119),c=t(785893);function u({hideToast:e,newPin:i,originalPinId:t}){var n,a;const o=(0,l.ZP)();return(0,c.jsx)(r.ZP,{primaryAction:{accessibilityLabel:o._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${i.id}/repin/?isEditingPin=true&pinBoardId=${null!==(n=null===(a=i.board)||void 0===a?void 0:a.id)&&void 0!==n?n:""}&&isFromToast=true&&originalPinId=${null!=t?t:""}`,label:o._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,c.jsx)(d.xv,{children:(0,s.nk)(o._('Saved to {{ profile }}', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile'),{profile:(0,c.jsx)(d.xv,{inline:!0,weight:"bold",children:o._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})}),iconThumbnail:(0,c.jsx)(d.xu,{color:"secondary",display:"flex",justifyContent:"center",alignItems:"center",height:48,width:48,children:(0,c.jsx)(d.JO,{accessibilityLabel:o._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})})})}var p=t(6637),h=t(47495),m=t(414327),g=t(332611),_=t(195946),x=t(862501),v=t(782677);const f=({board:e,section:i})=>{const t=(0,l.ZP)();return i?(0,s.nk)(t._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:i&&i.title,boardName:e.name}).join(""):(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.xv,{color:"default",children:t._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,c.jsx)(d.xv,{color:"default",weight:"bold",children:e.name})]})};class y{constructor({boardId:e,dispatch:i,history:t,isOneTapSave:n=!1,isQuickSave:a=!1,onSuccess:r,onUndo:l,originalPinId:s,pin:d,resourceName:c,saveToProfileToastExpGroup:u="",section:p,showRepinToasts:m,trackingParams:g,userId:_,viewType:x=3}){var f,y,b,w,P;P=e=>(0,v.Fv)(e.resource_response.data,h.Z[this.resourceName]),(w="_getNormalizedResponse")in(b=this)?Object.defineProperty(b,w,{value:P,enumerable:!0,configurable:!0,writable:!0}):b[w]=P,this.boardId=e,this.trackingParams=g,this.clientTrackingParams=(0,o.Z)(g.clientTrackingParams||"",d.tracking_params),this.dispatch=i,this.history=t,this.onSuccess=r,this.onUndo=l,this.originalPinId=s,this.pin=d,this.pinnedToBoardId=g.pinnedToBoardId||(null!==(f=null===(y=d.pinned_to_board)||void 0===y?void 0:y.id)&&void 0!==f?f:""),this.resourceName=c,this.saveToProfileToastExpGroup=u,this.showRepinToasts=m,this.section=p,this.isOneTapSave=n,this.isQuickSave=a,this.userId=_,this.viewType=x}get resourceOptions(){const{link:e,title:i,promoted_is_removable:t,id:n}=this.pin,a=t?{is_removable:!0}:{};return{pin_id:n,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=i?i:"",user_id:this.userId,is_removable:a}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:(0,_.A)(this.pin),object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId}}}_createRepin(){return p.Z.create(this.resourceName,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((i=>{this.onSuccess&&this.onSuccess();const t=i.resource_response.data,{board:n}=t,{isQuickSave:o,originalPinId:r}=this,s=!this.saveToProfileToastExpGroup.includes("holdout"),p=({hideToast:e})=>{var i;if(o&&!s)return(0,c.jsx)(u,{hideToast:e,newPin:t,originalPinId:r});const{thumbnail:p}=(0,x.L)(n.id);return(0,c.jsx)(a.Z,{button:s?(0,c.jsx)(l.oz,{children:e=>(0,c.jsx)(d.zx,{fullWidth:!0,onClick:({event:i})=>{i.preventDefault(),i.stopPropagation();const a=this.onUndo;var o;if(a&&!s)a(this.pin.id,t.id,n.id,null===(o=this.section)||void 0===o?void 0:o.id,e);else if(s){var l;null===(l=this.history)||void 0===l||l.push(`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${n.id}&&isFromToast=true&&originalPinId=${null!=r?r:""}`)}},text:s?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}):void 0,href:this.section?`${n.url}${null!==(i=this.section.slug)&&void 0!==i?i:""}`:n.url,isRepinToExistingBoard:!0,onHide:e,text:(0,c.jsx)(f,{board:n,section:this.section}),thumbnail:p})},h=this._getNormalizedResponse(i);if(this.dispatch((0,m.XM)(this.resourceName,this.resourceOptions,i,h)),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,m.XM)(this.resourceName,e,i,h))}this.dispatch(S(t.id,n.id,this.section?this.section.id:void 0,this.userId));const _=this.showRepinToasts;return _&&_(p),this.dispatch((0,g.fO)({event_type:5})),e(this.trackingData),t}))}}var b=t(875495),w=t(811403),P=t(987197),j=t(983360);const S=(e,i,t,n)=>({type:j.$o,payload:{pinId:e,boardId:i,boardSectionId:t,pinnerId:n}}),k=({history:e,i18n:i,logContextEvent:t,onSuccess:n,onUndo:a,originalPinId:o,pinId:r,trackingParams:l,disableRepinAnimation:s,saveToProfileToastExpGroup:d,showRepinConfirmation:c})=>(u,h)=>{const{pins:m,session:g}=h(),{userId:_}=g,x=m[r],v={name:i._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:_};return p.Z.create("BoardResource",v).callCreate().then((r=>{const p=r.resource_response.data;return new y({boardId:p.id,dispatch:u,isQuickSave:!0,history:e,i18n:i,onSuccess:n,onUndo:a,originalPinId:o,pin:x,resourceName:"RepinResource",saveToProfileToastExpGroup:d,section:void 0,showRepinToasts:e=>c?c(e,s):void 0,trackingParams:l,userId:g.userId}).processRepin(t)}))},T=({pinId:e,boardId:i,i18n:t,logContextEvent:n,onSuccess:a,onUndo:o,originalPinId:r,saveToProfileToastExpGroup:l,showRepinConfirmation:s,showToast:d,section:c,trackingParams:u,isOneTapSave:p,viewType:h})=>(m,g)=>{var _,x,v,f,w;const{pins:P,session:j,feeds:S}=g(),k=P[e];i&&((null===(_=null!==(x=null==k?void 0:k.shopping_flags)&&void 0!==x?x:[])||void 0===_?void 0:_.length)>0||null!=k&&k.rich_summary&&(null===(v=null!==(f=null==k||null===(w=k.rich_summary)||void 0===w?void 0:w.products)&&void 0!==f?f:[])||void 0===v?void 0:v.length)>0)&&(S[`board-shop-saved-preview:${i}`]&&m((0,b.Qv)(`board-shop-saved-preview:${i}`,[k],{isPrepend:!0})),S[`board-shop-saved:${i}`]&&m((0,b.Qv)(`board-shop-saved:${i}`,[k],{isPrepend:!0})));return new y({boardId:i,dispatch:m,i18n:t,isLegoSaveStyle:!0,isOneTapSave:p,onSuccess:a,onUndo:o,originalPinId:r,pin:k,resourceName:"RepinResource",saveToProfileToastExpGroup:l,section:c,showRepinToasts:e=>s?s(e):d?d(e):void 0,trackingParams:u,userId:j.userId,viewType:h}).processRepin(n)},I=[],C=e=>(i,t)=>{const{pinId:n}=e,a=t().pins[n];a&&!a.impressed&&(I.push(e),(e=>{e({type:"PIN_IMPRESSIONS",payload:I.slice()}),I.length=0})(i))},A=e=>i=>{const t=p.Z.create("PinFlagResource",e).callCreate().catch((()=>i((0,w.fH)(e.pin_id,"error"))));return i((0,w.fH)(e.pin_id,"reported")),t},z=e=>i=>{const t=p.Z.create("PinFeedbackResource",e).callUpdate().catch((()=>i((0,w.fH)(e.pin_id,"error"))));return i((0,w.fH)(e.pin_id,"hidden")),t},D=({pinId:e,boardId:i,boardSectionId:t,clientTrackingParams:n})=>(a,o)=>{const r=p.Z.create("PinResource",{id:e,client_tracking_params:n}).callDelete(),{session:{userId:l}}=o();return a(((e,i,t,n)=>({type:j.l_,payload:{pinId:e,boardId:i,boardSectionId:t,userId:n}}))(e,i,t,l)),r},F=e=>i=>{const{boardId:t,pinId:n,description:a,section:o,title:r}=e,l=p.Z.create("PinResource",{board_id:t,board_section_id:o&&o.id,description:a,id:n,title:r}).callUpdate();return i((e=>({type:j.fz,payload:e}))(e)),l},L=(e,i,t)=>({type:j.YZ,payload:{pinId:e,boardId:i,boardSectionId:t}}),Z=e=>i=>{const{method:t,guid:n,image_base64:a,image_url:o}=e;return((e,i)=>new Promise((t=>{e?(0,P.eR)(e).then((e=>{t(e)})):t(i)})))(a,o).then((a=>{const o={...e,method:"button"!==t||n?t:"button_external",image_url:a,image_base64:void 0},r="PinResource";return p.Z.create(r,o).callCreate().then((e=>{const t=(0,v.Fv)(e.resource_response.data,h.Z.PinResource);i((0,m.XM)(r,o,e,t));const n=e.resource_response.data,{board:{id:a},pinner:{id:l},section:s}=n,d=s&&s.id;return i(S(n.id,a,d,l)),e}))}))}},185894:(e,i,t)=>{t.d(i,{Cp:()=>p,FK:()=>u,H5:()=>I,MI:()=>b,Mj:()=>k,O0:()=>f,QZ:()=>c,W:()=>j,WF:()=>_,Wz:()=>C,YV:()=>g,a5:()=>x,dz:()=>P,e0:()=>v,e2:()=>d,gH:()=>y,iW:()=>S,n1:()=>s,rm:()=>m,wb:()=>T,xu:()=>w});var n=t(172071),a=t(360903),o=t(983360),r=t(53987),l=t(408285);const s=()=>({type:o.Wn}),d=()=>({type:o.lj}),c=e=>({type:o.j_,payload:{unauthSavePinId:e}}),u=()=>({type:o.JG}),p=()=>({type:o.pV}),h=e=>({type:o.BM,payload:e}),m=e=>({type:o.a9,payload:{from:e}}),g=()=>e=>{e(h({preparingNewVersion:!0})),(0,l.Ng)().catch((()=>(n.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,l.Dm)()))).finally((()=>{n.Z.increment("mweb.new_version.refresh",1),e(h({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,a.Qi)()},_=()=>({type:o.cs}),x=()=>({type:o.tg}),v=e=>({type:o.$t,payload:{steps:e}}),f=()=>({type:o.LB}),y=e=>({type:o.aj,payload:e}),b=e=>({type:o.HQ,payload:e}),w=e=>({type:o.vH,payload:{viewedImageSignature:e}}),P=e=>({type:o.le,payload:{pins:e}}),j=()=>({type:o.L6}),S=e=>e?{type:o.Pz,payload:e}:{type:o.OO},k=(e,i,t)=>n=>n(((e,i,t)=>({type:o.AO,payload:{isShareMenuOpen:e,objectType:i,objectId:t}}))(e,i,t)),T=()=>({type:o.dO}),I=e=>({type:o.UD,payload:e}),C=(e,i)=>{let t;return t=e?(0,r.bo)(e)?"today":(0,r.dr)(e)?"ideas":i&&(0,r.dZ)(e,i)?"own_section":i&&(0,r.J)(e,i)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,r.cD)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":"",{type:o.il,payload:t}}},856585:(e,i,t)=>{t.d(i,{ZN:()=>l,bJ:()=>d,fv:()=>s,hr:()=>r,lD:()=>c});var n=t(6637),a=t(983360);function o(e,i){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:i})}const r=(e,i)=>({type:a.K0,payload:{id:e,value:i}}),l=(e,i)=>t=>{o(e,i).callCreate().catch((()=>t(r(e,!1)))),t(r(e,!0))},s=(e,i)=>t=>{o(e,i).callDelete().catch((()=>t(r(e,!0)))),t(r(e,!1))},d=e=>i=>{const t=e.reduce(((e,i)=>(e[i.id]=!i.is_followed,e)),{});return n.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:t}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:t})=>{i(r(e,!t))}))}))},c=(e,i="")=>t=>n.Z.create("UpdateFollowedInterestsResource",{referrer:i,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((i=>{const n=e[i];t(r(i,n))}))}))},987197:(e,i,t)=>{t.d(i,{OF:()=>c,Q_:()=>o,b8:()=>r,eR:()=>d});var n=t(408285),a=t(6637);const o=(e,i)=>t=>a.Z.create("UserStateResource",{state:e,value:i}).callCreate(),r=(e,i,t)=>(o,r)=>{a.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{t({event_type:48,object_id_str:r().session.userId}),e(),(0,n.Dm)()}),i)};const l=async(e,i,t)=>{var n;const o=await a.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(n=o.resource_response)&&void 0!==n&&n.data[e]){const n=o.resource_response.data[e],{status:a,signature:r}=n;if("processing"===a||"registered"===a)setTimeout((async()=>{l(e,i,t)}),5e3);else if("succeeded"===a){const e=((e,i="150x150")=>e&&`https://i.pinimg.com/${i}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(r);i(e)}else t()}else t()},s=e=>new Promise(((i,t)=>{var n,o,r,s,d;n=e,o="pinimage",r=()=>{},s=e=>{i(e)},d=e=>{t(e)},(new FormData).append("img",n),a.Z.create("VIPResource",{type:o}).callCreate().then((e=>{var i;if(null!==(i=e.resource_response)&&void 0!==i&&i.data){const{upload_id:i,upload_url:t,upload_parameters:a}=e.resource_response.data,o=new XMLHttpRequest;o.open("POST",t,!0),o.onload=()=>{var e;(e=o.status)>=200&&e<400?(r(100),l(i,s,d)):d()},o.upload.onprogress=e=>{const i=Math.round(100*e.loaded/e.total);r(i)};const c=new FormData;for(const e in a)c.append(e,a[e]);c.append("file",n),o.send(c)}}),(()=>{d()}))})),d=e=>new Promise(((i,t)=>{"string"==typeof e?e.startsWith("data")&&s(function(e,i=512){const t=e.split(";"),n=t[0].split(":")[1],a=t[1].split(",")[1],o=atob(a),r=[];for(let l=0;l<o.length;l+=i){const e=o.slice(l,l+i),t=new Array(e.length);for(let i=0;i<e.length;i+=1)t[i]=e.charCodeAt(i);const n=new Uint8Array(t);r.push(n)}return new Blob(r,{type:n})}(e)).then((e=>i(e))):t("Invalid Image")})),c=e=>()=>a.Z.create("ApiResource",{url:"/v3/register/exists/",data:{email:e}}).callGet()},360903:(e,i,t)=>{t.d(i,{Qi:()=>d,RK:()=>s,$_:()=>l});var n=t(766935);var a=t(957161);const o="REDUX_STATE",r=()=>!!navigator.serviceWorker,l=()=>r()&&JSON.parse((0,a.qn)(o))||{},s=e=>(0,n.Z)((i=>{const t={};t[e]=i,r()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const i=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-i))})}),1)}})((()=>(e=>{r()&&(0,a.Nh)(o,JSON.stringify({...l(),...e}))})(t)))}),1e3),d=()=>{(0,a.L_)(o)}},479739:(e,i,t)=>{t.d(i,{CQ:()=>s,Cj:()=>m,Il:()=>g,In:()=>S,Is:()=>x,JF:()=>P,NZ:()=>p,PN:()=>v,R_:()=>c,T_:()=>b,Ud:()=>h,gI:()=>u,i3:()=>f,ik:()=>k,kT:()=>y,oF:()=>d,ts:()=>l,ut:()=>j});var n=t(442279);const a=e=>e.boards,o=e=>e.invites,r=e=>e.users,l=e=>e.users[e.session.userId]||null,s=e=>(e=>(i,t)=>i.feeds[((e,i)=>"string"==typeof e?e:e(i))(e,t)])(e),d=(0,n.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((i,t)=>({...i,[t]:e[t]})),{}))),c=(0,n.P1)(o,(e=>Object.keys(e).reduce(((i,t)=>{const n=t.split(":")[0],a=i[n]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[t]&&"not_invited"!==e[t].status&&("pending_approval"===e[t].status?a.pendingOwnerAction.push(t):a.notPendingOwnerAction.push(t),i[n]=a),i}),{}))),u=(0,n.P1)(o,(e=>Object.keys(e).reduce(((i,t)=>{const n=e[t];return i[t]=n,i}),{}))),p=(0,n.P1)(l,o,((e,i)=>Object.keys(i).reduce(((t,n)=>{const a=n.split(":"),o=a[0],r=a[1],l=e.id===r,s=i[n]&&["new","contact_request_not_approved"].includes(i[n].status);return l&&s&&(t[o]=n),t}),{}))),h=(0,n.P1)(r,o,((e,i)=>Object.keys(i).reduce(((t,n)=>{const a=i[n]||{};return t[n]=e[a.invited_by_user],t}),{}))),m=(0,n.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((i,t)=>{const n=e[t];return i[n.slug]=n,i[t]=n,i}),{}))),g=(0,n.P1)(r,(e=>Object.keys(e).reduce(((i,t)=>{const n=e[t];return i[n.username]=n,i}),{}))),_=(0,n.P1)(l,a,((e,i)=>Object.keys(i).reduce(((t,n)=>{var a;const o=i[n];return!o.archived_by_me_at&&((null===(a=o.owner)||void 0===a?void 0:a.id)===e.id||o.collaborating_users&&o.collaborating_users.map((({id:e})=>e)).includes(e.id))&&o.cover_images?t.concat([o]):t}),[]))),x=(0,n.P1)(_,(e=>e.sort(((e,i)=>e.name.localeCompare(i.name))))),v=(0,n.P1)(((e,i)=>e.users[i.user_id]||null),a,((e,i)=>Object.keys(i).reduce(((t,n)=>{var a;const o=i[n];return!o.archived_by_me_at&&e&&((null===(a=o.owner)||void 0===a?void 0:a.id)===e.id||o.collaborating_users&&o.collaborating_users.map((({id:e})=>e)).includes(e.id))&&t.push(o),t}),[]))),f=(0,n.P1)(a,(e=>Object.keys(e).reduce(((i,t)=>{const n=e[t];return i[n.url]=n,n.oldSlugUrl&&(i[n.oldSlugUrl]=n),i}),{}))),y=(0,n.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((i,t)=>{var n;const a=e[t];return i[`${null===(n=a.board)||void 0===n?void 0:n.id}_${a.slug}`]=a,i}),{}))),b=s((({boardId:e})=>`board-sections:${e}`)),w=s((({pinId:e})=>`call-to-create-pins:${e}`)),P=(0,n.P1)((e=>e.pins),w,((e=[],i=[])=>i.map((i=>e[i.id])))),j=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),S=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,k=({pins:e},{pinId:i})=>{const t=e[i];return{callToCreateResponseCount:t.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:t.call_to_create_responses_preview_image_urls,callToCreateSourcePin:t.call_to_create_source_pin,callToCreateSourcePinId:t.call_to_create_source_pin_id,isCallToCreate:t.is_call_to_create}}},157796:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(667294),a=t(883119),o=t(785893);function r({color:e="red",duration:i,finalProgress:t,shape:r="pill"}){const[l,s]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===r;return(0,o.jsx)(a.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${t}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${l?"-5px":"-100%"})`:`scaleX(${l?1:0})`,transformOrigin:"left",transitionDuration:`${i}ms`,transitionTimingFunction:"ease-in"}}})}},512176:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(667294),a=t(898781),o=t(112690),r=t(967181),l=t(883119),s=t(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:i,showText:t,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,a.ZP)(),[m,g]=(0,n.useState)(!1),{dangerousInlineStyle:_,iconColor:x}=(0,r.W)(!!e),v=(0,o.Z)();return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(l.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(l.JO,{accessibilityLabel:e?h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):h._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:x,inline:!0,size:d[i]}),t&&!c&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:_,children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||t&&!c)&&(0,s.jsx)(r.Z,{showModal:m,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},967181:(e,i,t)=>{t.d(i,{W:()=>u,Z:()=>p});var n=t(667294),a=t(121151),o=t(898781),r=t(112690),l=t(966113),s=t(752403),d=t(883119),c=t(785893);const u=e=>{const i=e?"shopping":"error";return{iconColor:i,dangerousInlineStyle:{__style:{color:i}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:i,showModal:t,setShowModal:p}){const h=(0,o.ZP)(),[m,g]=(0,n.useState)(!0),{dangerousInlineStyle:_,iconColor:x}=u(!0),v=(0,r.Z)();return(0,n.useEffect)((()=>{t&&m&&(g(!1),v({event_type:13,component:13534}))}),[t]),(0,c.jsx)(a.ZP,{"data-test-id":"modal",isOpen:t,mobileAccessibilityCloseIconLabel:h._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(d.xu,{padding:3,children:(0,c.jsxs)(d.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(d.xu,{display:"flex",dangerouslySetInlineStyle:_,justifyContent:"center",children:(0,c.jsx)(d.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:x,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:_,children:h._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(d.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:h._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,c.jsxs)(d.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(d.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(d.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,s.ym)(i)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(d.xu,{marginTop:2,children:(0,c.jsx)(d.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(d.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:l.vBy,text:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},283698:(e,i,t)=>{function n(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}t.d(i,{Z:()=>n})},436851:(e,i,t)=>{t.d(i,{$:()=>a,d:()=>n});const n=e=>/instagram/i.test(e||""),a=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},752403:(e,i,t)=>{t.d(i,{Bu:()=>m,Dm:()=>l,I:()=>x,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>h,eT:()=>g,hm:()=>_,yQ:()=>s,ym:()=>f});var n=t(642345);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),l=[...Object.keys(a).map((e=>a[e])),...Object.keys(o).map((e=>o[e]))],s=[...Object.keys(r).map((e=>r[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function m({verifiedMerchant:e}){var i,t;const n=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_inspirational,o=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_eligible_for_storefront_badges;return Boolean(n&&a&&o)}function g(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function _(e){return(null==e?void 0:e.profile_badges)||[]}function x(e,i,t){return i&&t?i.map((e=>t.find((i=>i.id===e.trim())))).filter(Boolean):[]}function v(e){const i=(0,n.oo)(e);if(!i)return"white";const[t,a,o]=i;return(0,n.DW)(t,a,o)<=n.I?"white":"black"}function f(e){const i=e||c[0];return{backgroundColor:i,color:v(i)}}},642345:(e,i,t)=>{t.d(i,{DW:()=>l,I:()=>r,oo:()=>o,vq:()=>a});const n=e=>{const i=e.toString(16);return 1===i.length?"0"+i:i},a=(e,i,t)=>"#"+n(e)+n(i)+n(t),o=e=>{const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i&&[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]},r=.18,l=(e,i,t)=>.2126*(e/255)**2.2+.7151*(i/255)**2.2+.0721*(t/255)**2.2},816068:(e,i,t)=>{t.d(i,{Z:()=>n});const n=e=>Math.floor(new Date(e).getTime()/1e3)},780679:(e,i,t)=>{t.d(i,{g:()=>r,t:()=>o});var n=t(667294);const a=(0,n.createContext)(null),o=a.Provider,r=()=>(0,n.useContext)(a)},903095:(e,i,t)=>{t.d(i,{Mi:()=>a,lO:()=>o});var n=t(425288);const{Provider:a,useMaybeHook:o}=(0,n.Z)("pageContext")},131108:(e,i,t)=>{t.d(i,{HI:()=>r,f8:()=>s,hm:()=>l,sH:()=>o});var n=t(883119),a=t(785893);const o=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),r=({children:e})=>(0,a.jsx)(n.xu,{padding:2,children:e}),l=({children:e})=>(0,a.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),s=({children:e})=>(0,a.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,i,t)=>{t.d(i,{Mf:()=>d,q4:()=>a,zn:()=>n});const n=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,o={0:"start",1:"center",2:"end"},r={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18"}},l={1:"italics",0:"normal"},s={1:"bold",0:"normal"},d=({color:e,font_style:i,font_weight:t,horizontal_alignment:n,size:a},d)=>({color:e,fontStyle:l[null!=i?i:0],fontWeight:s[null!=t?t:1],horizontalAlignment:o[null!=n?n:0],fontSize:r[d][null!=a?a:0]+"px"})},378518:(e,i,t)=>{t.d(i,{_:()=>d,a:()=>c});var n=t(667294),a=t(702664),o=t(618446),r=t.n(o),l=t(780280),s=t(332611);const d=({extraContext:e,id:i,shouldUsePlacedExperience:t=!0})=>{const o=(0,n.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,l.B)(),u=(0,a.useSelector)((e=>e.experiences[i]));return(0,n.useEffect)((()=>{d((0,s.kd)(i))}),[d,u,i]),(0,n.useEffect)((()=>{t||r()(o.current,e)||(d((0,s.pz)([i],c,e)),o.current=e)}),[d,e,c,i,t]),u},c=e=>(d(e),(0,a.useSelector)((i=>i.experiencesMulti[e.id])))},373420:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var n=t(667294),a=t(124580),o=t(223815),r=t(968121),l=t(883119),s=t(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:t,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:_,role:x,size:v,subHeading:f}){(0,n.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,s.jsx)(l.mh,{zIndex:r.b7,children:(0,s.jsx)(o.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(l.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:t,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{a.Z.resume(),_()},role:x,size:v,subHeading:f,padding:"none",children:p})})})}},430322:(e,i,t)=>{t.r(i),t.d(i,{default:()=>g});var n=t(667294),a=t(124580),o=t(283698),r=t(223815),l=t(50286),s=t(898781),d=t(494349),c=t(780280),u=t(883119),p=t(968121),h=t(539497),m=t(785893);function g({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:t="center",allowScroll:g=!1,children:_,closeOnOutsideClick:x=!0,footer:v,heading:f,mobileAccessibilityCloseIconLabel:y,mobileHideCloseIcon:b,mobileIsFullscreen:w,isOpen:P,mobileIsSlideUp:j,modalStyle:S,onDismiss:k,overrideZDepth:T,subHeading:I,type:C}){const A=(0,s.ZP)(),{isRTL:z}=(0,c.B)(),D=(0,n.useRef)(!1),[F,L]=(0,n.useState)(!1),{setAppFocusState:Z}=(0,d.I)(),E=(0,l.ZP)();(0,n.useEffect)((()=>{(0,h.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!P)}`)}),[P,C]),(0,n.useEffect)((()=>(D.current=(0,o.Z)((()=>{D.current&&L(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&D.current&&(window.cancelAnimationFrame(D.current),D.current=null)})),[]),(0,n.useEffect)((()=>(P?(a.Z.pause(),Z(!1)):(a.Z.resume(),Z(!0)),()=>{P&&(a.Z.resume(),Z(!0))})),[Z,P]);const M=P&&!g;(0,n.useEffect)((()=>(M&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{M&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[M]);const U=(0,p.bf)();if(!P)return null;const R=j?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===E,isShowing:F,type:C}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===E,modalStyle:S,type:C});return(0,m.jsx)(r.Z,{children:(0,m.jsx)(u.mh,{children:(0,m.jsxs)(u.xu,{"aria-label":i,display:"inlineBlock",zIndex:T?new u.Ry(T):p.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(u.iP,{accessibilityLabel:A._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const i=e,t=k?"with":"without",n=C||"unknown_type";(0,h.tj)(`mweb_unauth.mobile_modal.wash_tap.${n}.${t}_dismissal`,{x:i.clientX,y:i.clientY}),x&&k&&k()},tapStyle:"none",children:(0,m.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:U})}),(0,m.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:R,children:[(0,m.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[y&&!b?(0,m.jsx)(u.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,m.jsx)(u.hU,{accessibilityLabel:y,iconColor:"darkGray",icon:"cancel",onClick:k,padding:4,size:"sm"})}):null,f?(0,m.jsx)(u.kC.Item,{flex:"grow",children:(0,m.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:y&&!b?(0,p.ju)(z):{__style:{}},children:[w?f:(0,m.jsx)(u.xv,{align:t,weight:"bold",size:"400",children:f}),I?(0,m.jsx)(u.xv,{align:t,children:I}):null]})})}):null]}),(0,m.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[_,v]})]})]})})})}},166300:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(50286),a=t(883119),o=t(444445),r=t(134879),l=t(785893);const s=({children:e,roundedForLargeDevice:i})=>{const t="phone"!==(0,n.ZP)()&&i;return(0,r.V)()?(0,l.jsx)(a.xu,{marginStart:-o.D6,marginEnd:-o.D6,rounding:t?6:void 0,overflow:t?"hidden":void 0,children:(0,l.jsx)(r.C,{value:!1,children:e})}):e}},627995:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(927104),a=t(898781),o=t(903095),r=t(112690),l=t(883119),s=t(785893);const d=(e,i)=>{let t={};if(e){const{pinData:n,viewData:a}=e;t={unauth_click_pin_id:n.id,unauth_click_pin_image_signature:n.imageSignature},3===i?t={...t,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===i&&(t={...t,unauth_page_board_id:a.id})}return t},c=({clickLoggingOptions:e,domain:i,link:t,onClick:c})=>{var u;const p=null===(u=(0,o.lO)())||void 0===u?void 0:u.logging,h=(0,a.ZP)(),m=(0,r.Z)(),g=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((i=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,s.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),g().forEach((e=>m(e))),c(e)},children:(0,s.jsxs)(l.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(l.xu,{marginEnd:1,children:(0,s.jsx)(l.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:h._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,s.jsx)("a",{href:t,onClick:e=>{e.stopPropagation(),g().forEach((e=>m(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(l.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,n.Z)(i,27)})})]})})}},958007:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:i,richMetadataDescription:t,richSummaryDisplayName:o,placeSummaryName:r,closeupDescription:l,closeupUnifiedDescription:s})=>!!e?a(i):a((0,n.eK)({richMetadataDescription:t,richSummaryDisplayName:o,placeSummaryName:r,closeupUnifiedDescription:s}).description)||a(s||"")||a(l)||a(i)||a(t)||""},992750:(e,i,t)=>{t.d(i,{hP:()=>u,fs:()=>s,eK:()=>d,Ly:()=>c,BY:()=>p,bN:()=>h,RC:()=>r,EU:()=>l});const n=/\s\s+/g,a=e=>e.replace(n," ");var o=t(883561);const r=({storyPinDataMetadataPinTitle:e,pinTitle:i})=>e||i,l=(e,i)=>e?e.trim().length>i?(0,o.ZP)(e.trim(),i).trim():e.trim():"",s=({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})=>{const s=o||e,d=l(i,200);return d||(t||(r||(n||(a&&s?s:null))))},d=e=>{var i,t,n,r;const{richSummaryDisplayName:l,placeSummaryName:s}=e,d=null!==(i=e.pinJoinVisualAnnotation)&&void 0!==i?i:[],c=null!==(t=e.pinJoinAnnotationsWithLinks)&&void 0!==t?t:{},u=null!==(n=e.richMetadataDescription)&&void 0!==n?n:"",p=null!==(r=e.closeupUnifiedDescription)&&void 0!==r?r:"",h=d.map((e=>(c||{})[e]||{name:e,url:""}));let m="";const g=(({richSummaryDisplayName:e,placeSummaryName:i})=>e||i||"")({richSummaryDisplayName:l,placeSummaryName:s}).toLocaleLowerCase().trim(),_=u.toLocaleLowerCase().trim(),x=p.toLocaleLowerCase().trim();return p&&p.length>3&&x!==g?m=p:u&&u.length>3&&_!==g&&(m=u),m&&(m=a((0,o.ZP)(m,496)).trim()),{description:m,annotationsWithLinks:h}},c=({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r,pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:c})=>{const{annotationsWithLinks:u}=d({pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:c}),p=(u||[]).map((e=>e.name)),h=e=>(e||[])[0]||null;return s({pinTitle:e,gridTitle:i,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:r})||h(l)||h(p)||e},u=(e,i,t,n)=>{var a;let o=(a=e,"string"==typeof a?a:"").trim();if(!t)return n&&n.trim().length?n:o;n&&n.trim().length&&(o=n);let r=t;return r&&r.length>0&&(r=r.join(", "),o&&(o+=" "),o+=r),o},p=e=>`/pin/${e}/`,h=({pinId:e,seoUrl:i})=>i&&"string"==typeof i?i:p(e)},467570:(e,i,t)=>{t.d(i,{$:()=>d,GH:()=>s,JF:()=>_,Jb:()=>h,MI:()=>g,sl:()=>u,we:()=>p});var n=t(935879),a=t(713930),o=t(816068),r=t(6637),l=t(539497);const s="274266067164",d=["public_profile","email","user_birthday","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,l.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,l.dy)({event:"global_object_not_found",provider:"facebook"})},p=(e,i)=>{i&&(0,l.dy)({event:"load_script_start",provider:"facebook"});return(0,a.Z)((0,n.Z)(e),"FACEBOOK").then((()=>u(i)))},h=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),m=({userID:e,accessToken:i,data:{birthday:t,email:n,first_name:a,gender:r,last_name:l,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:i,birthday:t?(0,o.Z)(t):void 0,email:n,first_name:a,gender:r,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:l});async function g(e){var i;const t=(null===(i=(await r.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:c.join(",")}}).callCreate()).resource_response)||void 0===i?void 0:i.data)||{};return{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}const _=()=>new Promise((e=>{window.FB.login(e,{scope:d.join(",")})})).then((e=>((e,i)=>new Promise(((t,n)=>{if("connected"!==e.status)return void n({status:e.status||"unknown"});const{userID:a,accessToken:o}=e.authResponse;g(o).then((e=>{t({creds:{facebook_id:a,facebook_token:o,facebook_autologin:(null==i?void 0:i.autologin)||!1},signupOptions:m({userID:a,accessToken:o,data:e})})}),n)})))(e)))},857079:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},740990:(e,i,t)=>{t.d(i,{Z:()=>n});const n=(0,t(667294).createContext)("undefined"!=typeof window?window:null)},458882:(e,i,t)=>{t.d(i,{l:()=>o,r:()=>r});var n=t(667294);const a=(0,n.createContext)(null),o=()=>(0,n.useContext)(a),r=a.Provider},667679:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(458882),a=t(780679);const o=()=>{const e=(0,a.g)(),i=(0,n.l)();return t=>{const{mobileOptions:n,desktopOptions:a,reason:o,attributionLabel:r}=t;e?e.showDesktopSignupModal({signupFlow:"login"===(null==a?void 0:a.modalType)?{type:"login"}:{type:"signup"},reason:o,attributionLabel:r,...null==a?void 0:a.modalOptions}):i&&i.showMobileSignupModal({reason:o,attributionLabel:r,headingType:null==n?void 0:n.headingType})}}},90771:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,n.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,n.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,n.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},214680:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,n.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#0CBD2A"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},862960:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,n.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,n.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,n.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#37AEE2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#EFF7FC"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},89396:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(785893);function a({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},619277:(e,i,t)=>{t.d(i,{o$:()=>a,ty:()=>o,vE:()=>r});var n=t(425288);const{Provider:a,MaybeConsumer:o,useMaybeHook:r}=(0,n.Z)("inviteContext")},296011:(e,i,t)=>{t.d(i,{Z:()=>s,t:()=>d});var n=t(667294),a=t(6637),o=t(167912);function r(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}const l={};class s extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e}=this.props;a.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((i=>{if(i&&i.resource_response){const t=i.resource_response.data;l[e]=t,this.setState({invite:t,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e,relayEnvironment:i,inviteQuery:t}=this.props;(0,o.fetchQuery)(i,t,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){const i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},200310:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),a=t(116303),o=t(898781),r=t(112690),l=t(719626),s=t(349700),d=t(591042),c=t(883119),u=t(785893);function p({color:e="default",pinId:i,title:t,user:p,startsAt:h,isEpisodeUpcoming:m,isEpisodeReplay:g,viewParameterType:_=3582,viewType:x=1}){const v=(0,o.ZP)(),f=(0,r.Z)(),{referrer:y}=(0,d.iH)(),[b,w]=(0,n.useState)({});if((0,n.useEffect)((()=>{w((0,l.p)(h))}),[h]),!p)return null;const P=e=>{f({event_type:102,view_type:x,view_parameter:_,component:0,...e})};return(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{padding:"8px 6px 16px"}},children:[!!t&&(m||g)&&(0,u.jsx)(c.xu,{marginBottom:2,children:(0,u.jsxs)(c.iP,{href:`/tv/${i}/?referrer=${y}`,onTap:()=>P(),role:"link",children:[m&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xv,{size:"200",weight:"bold",lineClamp:2,children:t}),(0,u.jsx)(c.xv,{size:"100",color:"default",lineClamp:2,children:(0,s.nk)(v._('Live on {{ date }} {{ time }}', 'episodeAttribution.formattedDateTime.text', 'When the episode will go live'),{date:b.shortDate,time:b.time})})]}),g&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xv,{size:"200",weight:"bold",lineClamp:2,children:t}),(0,u.jsx)(c.xv,{size:"100",color:"default",lineClamp:2,children:(0,s.nk)(v._('Aired on {{ mmddyyy }}', 'episodeAttribution.formattedDateTime.text', 'When the episode was aired'),{mmddyyy:b.mmddyyy})})]})]})}),(0,u.jsx)(c.iP,{href:`/${p.username}`,onTap:()=>P({element:11619}),role:"link",children:(0,u.jsxs)(c.kC,{alignItems:"center",children:[(0,u.jsx)(c.xu,{marginStart:-2,paddingX:2,children:(0,u.jsx)(a.Z,{name:"",size:"sm",src:p.image_medium_url})}),(0,u.jsx)(c.xv,{color:e,size:"200",lineClamp:1,children:p.full_name||""})]})})]})}},447635:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(667294),a=t(200310),o=t(218672),r=t(898781),l=t(112690),s=t(349700),d=t(591042),c=t(883119),u=t(582637),p=t(785893);const h=16/9;function m({feedItem:e,gridIndex:i}){const t=(0,r.ZP)(),m=(0,l.Z)(),{gridItemWidth:g,referrer:_}=(0,d.iH)(),{creator_class:x,creator_class_instance:v,id:f}=e,{creator:y,hero_images:b}=x,{title:w,starts_at:P,hero_images:j}=v,S=j?j["312x"]:b?b["312x"]:{},k=(0,u.Zz)(v),T=(0,u.oi)(v),I=(e=>{const{duration:i}=e&&e.video_list&&e.video_list.V_HLSV4||{};if(!i)return"";const t=Math.trunc(i/1e3),n=Math.trunc(i/6e4),a=Math.trunc(i/36e5),o=n-60*a,r=t-60*o-60*a*60;let l=a>0?`${a}:${o.toString().padStart(2,"0")}`:`${o}`;return l+=`:${r.toString().padStart(2,"0")}`,l})(v.replay_video),C=I.length>0?I:t._('Processing video', 'EpisodeGridRep.pillText.fallback', 'A label indicating that the video is still processing.'),A=new c.Ry(1),z=t._('Watch', 'EpisodeGridRep.button.text', 'A label indicating that button can be interacted with to watch the video.'),[D,F]=(0,n.useState)(g?g*h:void 0);return(0,p.jsx)(c.xu,{children:S.url&&(0,p.jsxs)(n.Fragment,{children:[D?(0,p.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",height:D,justifyContent:"between",position:"relative",rounding:3,width:g,children:[(0,p.jsx)(c.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:A,children:(0,p.jsx)(o.Z,{text:C,backgroundColor:"black"})}),(0,p.jsx)(c.iP,{fullHeight:!0,fullWidth:!0,href:`/tv/${f}/?referrer=${_}`,onTap:()=>{var e;return m({event_type:102,view_type:1,view_parameter:3582,component:0,aux_data:{content_ids:{pin:f},grid_index:i,referrer:_,story_id:null===(e=x.recap_pin)||void 0===e?void 0:e.id}})},role:"link",children:(0,p.jsx)(c.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(c.Ee,{alt:w,color:"gray",fit:"cover",naturalHeight:S.height,naturalWidth:S.width,src:S.url})})}),(0,p.jsx)(c.xu,{position:"absolute",bottom:!0,marginBottom:4,children:(0,p.jsx)(c.zx,{text:z,role:"link",href:`/tv/${f}/?referrer=${_}`,accessibilityLabel:(0,s.nk)(t._('Watch {{episodeTitle}}', 'webapp.app.pinTv.watchBtn.a11yText', 'episodeTitle: a11y text for watch button for the episode'),{episodeTitle:w}).join("")})})]}):(0,p.jsx)(c.xu,{ref:e=>{if(e){const i=e.offsetWidth;F(i*h)}},width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}}),(0,p.jsx)(a.Z,{isEpisodeReplay:T,isEpisodeUpcoming:k,pinId:f,startsAt:P,title:w,user:y})]})})}},218672:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({text:e,backgroundColor:i}){return(0,a.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:i}},display:"flex",paddingX:2,paddingY:1,rounding:"pill",children:[(0,a.jsx)(n.xu,{color:"primary"===i?"default":"primary",dangerouslySetInlineStyle:{__style:{marginRight:5}},height:6,rounding:"circle",width:6}),(0,a.jsx)(n.xv,{color:"inverse",size:"100",weight:"bold",children:e})]})}},591042:(e,i,t)=>{t.d(i,{J1:()=>l,iH:()=>s,xs:()=>r});var n=t(667294),a=(t(883119),t(425288)),o=t(273712);const r=({pinId:e})=>{const[i,t]=(0,n.useState)({}),[a,r]=(0,n.useState)(e),[l,s]=(0,n.useState)(0);return{activePinId:a,getSubscription:e=>{if(!i)return o.d0.UNKNOWN;switch(i[e]){case!0:return o.d0.TRUE;case!1:return o.d0.FALSE;default:return o.d0.UNKNOWN}},setSubscription:(e,i)=>{t((t=>t&&t[e]!==i?{...t,[e]:i}:t))},setActivePinId:r,setVolume:s,volume:l}},{Provider:l,useHook:s}=(0,a.Z)("LiveSessionContext")},38530:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(6637),a=t(898781),o=t(112690),r=t(19121),l=t(883119),s=t(273712),d=t(591042),c=t(785893);function u({color:e="white",componentType:i,creatorClassId:t,pinId:u,size:p,viewParameterType:h,viewType:m}){const g=(0,a.ZP)(),_=(0,o.Z)(),{isAuth:x}=(0,r.Z)(),{getSubscription:v,referrer:f,setSubscription:y,showSignup:b}=(0,d.iH)(),w=v(u);if(w===s.d0.UNKNOWN)return null;const P=w?{text:g._('Attending', 'liveSession.button.attending', 'Button indicating user is subscribed to reminders; click to unsubscribe')}:{text:g._('Remind me', 'liveSession.button.remindMe', 'Button to subscribe to reminders')};return(0,c.jsx)(l.zx,{color:e,onClick:({event:e})=>{if(e.preventDefault(),e.stopPropagation(),_({event_type:102,view_type:m,view_parameter:h,component:i,element:w?12384:12383,aux_data:{content_ids:{pin:u},referrer:f}}),x){const e=n.Z.create("ApiResource",{url:`/v3/classes/${t}/subscription/`,data:{id:u}});w?e.callDelete():e.callUpdate(),y(u,!w)}else b&&b()},selected:w,size:p,text:P.text})}},585112:(e,i,t)=>{t.d(i,{Z:()=>g,t:()=>h});var n=t(667294),a=t(218672),o=t(38530),r=t(898781),l=t(112690),s=t(349700),d=t(591042),c=t(666842),u=t(883119),p=t(785893);const h={grid:2,closeup:6},m=16/9;function g({creatorClass:e,creatorClassInstance:i,pinId:t,variant:h="grid",width:g,height:_}){const x=(0,l.Z)(),{referrer:v}=(0,d.iH)(),f=(0,r.ZP)(),{id:y}=e,{starts_at:b,title:w,hero_images:P}=i,{url:j,width:S,height:k}=P["624x"],{V_HLSV4:T}=i.preview_video&&i.preview_video.video_list||{},I="closeup"===h,C=()=>{const e=function(e){const i=new Date(e)-new Date;return Math.floor(i/864e5)}(b),i=function(e){const i=new Date(e)-new Date;return Math.floor(i/36e5)}(b),t=function(e){const i=new Date(e)-new Date;return Math.floor(i/36e5)}(b);return e>=1?(0,s.nk)(f.ngettext('{{ numDaysUntilEvent }} day', '{{ numDaysUntilEvent }} days', e, 'upcomingEpisode.badge.daysUntil', 'Number of days remaining until the event'),{numDaysUntilEvent:e}):i>=1?(0,s.nk)(f.ngettext('{{ numHoursUntilEvent }} hour', '{{ numHoursUntilEvent }} hours', i, 'upcomingEpisode.badge.hoursUntil', 'Number of hours remaining until the event'),{numHoursUntilEvent:i}):t>1?(0,s.nk)(f.ngettext('{{ numMinutesUntilEvent }} minute', '{{ numMinutesUntilEvent }} minutes', t, 'upcomingEpisode.badge.minutesUntil', 'Number of minutes remaining until the event'),{numMinutesUntilEvent:t}):f._('Live soon', 'liveSession.badge.liveSoon', 'A label indicating event is happening soon.')},{gridItemWidth:A}=(0,d.iH)(),z=g||A,D=_||(z?z*m:void 0),F=new u.Ry(1),L=(0,p.jsx)(o.Z,{componentType:200,creatorClassId:y,pinId:t,size:I?"lg":"md",viewParameterType:3582,viewType:1}),[Z,E]=(0,n.useState)(_||(z?z*m:void 0)),M=e=>{if(e){const i=e.offsetWidth;E(i*m)}};return D?I?(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:z,height:D||Z,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:F,children:(0,p.jsx)(a.Z,{text:C(),backgroundColor:"black"})}),T?(0,p.jsx)(u.xu,{width:"100%",height:"100%",rounding:3,children:(0,p.jsx)(c.Z,{autoplay:!0,format:c.k.CLOSEUP,height:D,video:T,width:z,bgImgUrl:j})}):(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:j,alt:w,naturalWidth:S,naturalHeight:k,color:"gray",fit:"cover"})})]}):(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:z,height:D,"data-test-id":`upcoming-episode-${t}`,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:F,children:(0,p.jsx)(a.Z,{text:C(),backgroundColor:"black"})}),(0,p.jsx)(u.iP,{href:`/tv/${t}/?referrer=${v}`,onTap:()=>{var i;return x({event_type:102,view_type:1,view_parameter:3582,component:200,aux_data:{content_ids:{pin:t},referrer:v,story_id:null===(i=e.recap_pin)||void 0===i?void 0:i.id,story_type:"upcoming_creator_classes"}})},role:"link",fullHeight:!0,fullWidth:!0,children:(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:j,alt:w,naturalWidth:S,naturalHeight:k,color:"gray",fit:"cover"})})}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,marginBottom:4,children:L})]}):(0,p.jsx)(u.xu,{ref:M,width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}})}},666842:(e,i,t)=>{t.d(i,{Z:()=>d,k:()=>s});var n=t(667294),a=t(898781),o=t(591042),r=t(883119),l=t(785893);const s={GRID:"grid",HERO:"hero",HEAD:"head",CLOSEUP:"closeup"};function d({autoplay:e=!1,children:i,controls:t,height:d,format:c,video:u,width:p,bgImgUrl:h}){const{volume:m,setVolume:g,renderTvVideo:_}=(0,o.iH)(),[x,v]=(0,n.useState)(e),f=(0,a.ZP)();if(!u)return null;const{height:y,url:b,width:w}=u,P=p/d;return(0,l.jsx)(r.zd,{height:d,rounding:c===s.HEAD?"circle":c===s.CLOSEUP?0:4,width:p,children:c===s.GRID?(0,l.jsx)(r.Ee,{alt:"",color:"",naturalHeight:y,naturalWidth:w,src:h,children:(0,l.jsx)(r.xu,{height:"100%",position:"relative",width:"100%",children:i})}):_&&_({autoplay:e,accessibilityMaximizeLabel:f._('Maximize', 'Video.accessibilityMaximizeLabel', 'Maximize accessibility Label'),accessibilityMinimizeLabel:f._('Minimize', 'Video.accessibilityMinimizeLabel', 'Minimize accessibility Label'),accessibilityMuteLabel:f._('Mute', 'Video.accessibilityMuteLabel', 'Mute accessibility Label'),accessibilityPauseLabel:f._('Pause', 'Video.accessibilityPauseLabel', 'Pause accessibility Label'),accessibilityPlayLabel:f._('Play', 'Video.accessibilityPlayLabel', 'Play accessibility Label'),accessibilityProgressBarLabel:f._('Progress bar', 'Video.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:f._('Unmute', 'Video.accessibilityUnmuteLabel', 'Unmute accessibility Label'),aspectRatio:P,captions:"",controls:t,loop:!0,onPlay:()=>{},onPlayError:()=>{},playing:x,playsInline:!0,poster:h,src:b,volume:m,setPlaying:v,setVolume:g,children:(0,l.jsx)(r.xu,{height:"100%",position:"relative",width:"100%",children:i})})})}},273712:(e,i,t)=>{t.d(i,{$J:()=>n,Ct:()=>p,Ff:()=>u,Md:()=>s,My:()=>r,Rp:()=>l,ak:()=>o,d0:()=>h,jm:()=>d,oo:()=>a,vw:()=>c});const n={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},a=2,o=6,r=3,l=1.5,s=16,d=8,c=16/9,u=25,p={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},h={TRUE:!0,FALSE:!1,UNKNOWN:void 0}},582637:(e,i,t)=>{t.d(i,{Zz:()=>r,fN:()=>o,oi:()=>a});var n=t(273712);const a=e=>e.live_status===n.Ct.POST_LIVE,o=e=>e.live_status===n.Ct.LIVE,r=e=>e.live_status===n.Ct.PRE_LIVE},719626:(e,i,t)=>{t.d(i,{Z:()=>r,p:()=>o});var n=t(926467),a=t(273712);function o(e){return{date:e?(0,n.Z)(new Date(e),"eeee, MMMM do,"):"",shortDate:e?(0,n.Z)(new Date(e),"eee, MMM do,"):"",formalDate:e?(0,n.Z)(new Date(e),"d MMM yyy"):"",dayOfWeek:e?(0,n.Z)(new Date(e),"EEEE"):"",time:e?(0,n.Z)(new Date(e),"h:mm aaa"):"",mmddyyy:e?(0,n.Z)(new Date(e),"MM/dd/yyyy"):"",Emmmdd:e?(0,n.Z)(new Date(e),"E, MMM dd"):""}}function r(e){var i,t;const n=e.creator_class_instance.live_status===a.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:null===(i=e.creator_class.recap_pin)||void 0===i?void 0:i.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===a.Ct.LIVE,postLive:n,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${(null===(t=e.creator_class.recap_pin)||void 0===t?void 0:t.id)||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:n&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}},758127:(e,i,t)=>{t.d(i,{U:()=>o,Z:()=>r});var n=t(883119),a=t(785893);const o=", ";function r(){return(0,a.jsx)(n.xu,{display:"visuallyHidden",children:o})}},753311:(e,i,t)=>{t.d(i,{M:()=>r,Q:()=>o});var n=t(667294);const a=(0,n.createContext)(null),o=()=>(0,n.useContext)(a),r=a.Provider},690035:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(753311);const a=()=>{const e=(0,n.Q)();return i=>{if(e){const{pinId:t,location:n,seoPlacementConfig:a}=i;e.showUnauthContextMenu({pinId:t,location:n,seoPlacementConfig:a})}}}},198125:(e,i,t)=>{t.d(i,{Z:()=>a});var n=t(667294);function a(){const[e,i]=(0,n.useState)(!1);return{isHovering:e,handleMouseEnter:(0,n.useCallback)((()=>i(!0)),[i]),handleMouseLeave:(0,n.useCallback)((()=>i(!1)),[i])}}},644035:(e,i,t)=>{t.d(i,{GW:()=>a,RL:()=>n,s4:()=>o});const n="ios",a="android",o="ipad"},70598:(e,i,t)=>{t.d(i,{Z:()=>P});var n=t(829407),a=t(898781),o=t(112690),r=t(728214),l=t(602574),s=t(667679),d=t(52022),c=t(19121),u=t(957314),p=t(755506),h=t(773285),m=t(802201),g=t(281180),_=t(50286),x=t(343341),v=t(687999),f=t(539497),y=t(883119),b=t(785893);const w=({children:e,pulsar:i,testId:t})=>i.show?(0,b.jsx)(y.xu,{position:"relative","data-test-id":t,children:(0,b.jsxs)(y.iP,{tapStyle:"none",onTap:i.onClick,children:[(0,b.jsx)(y.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(y.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(y.o3,{})})]})}):(0,b.jsx)(y.xu,{"data-test-id":t,children:e});function P({auxData:e,disabled:i,disableLog:t,followEventType:P,id:j,inline:S,invertColors:k,isFollowed:T,isIdeaPin:I,isLegoEnabled:C,isSecondaryButton:A,isUserFollowButton:z,isUserMe:D,onFollow:F,onUnfollow:L,pinId:Z,shouldUseLegoColors:E,showPulsar:M,size:U,textType:R="FollowFollowing",unfollowEventType:O,viewParameter:N,viewType:B}){const H=(0,a.ZP)(),W=(0,_.HG)(),{showToast:V}=(0,x.F9)(),K=(0,d.Z)(),$=(0,o.Z)(),q=(0,s.Z)(),{checkExperiment:G}=(0,h.F)(),Y=(0,r.Z)(),X=(0,c.Z)(),J=X&&X.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,v.f)(),ie=(0,g.mN)()(j),te=(0,m.S6)()(null!=Z?Z:""),ne=(0,p.wS)(te),ae=null!=ie?ie:ne;(0,n.Z)((()=>{!W&&J&&Q&&j&&Q===j&&F(j)}));const oe=Y({fn:()=>{J?T?(L(j),t||$({event_type:O,view_type:B,view_parameter:N,object_id_str:j,aux_data:e})):(F(j),z&&V((({hideToast:e})=>{if(!ae)return null;const i=ae.username?`/${ae.username}/`:"";return(0,b.jsx)(l.Z,{handleHide:e,text:(0,b.jsx)(y.xv,{children:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:j,href:i,imageUrl:ae.image_medium_url})})),t||$({event_type:P,view_type:B,view_parameter:N,object_id_str:j,aux_data:e})):((0,f.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===P&&(0,f.My)("mweb_unauth_board_page_follow_button.tap"),(0,f.NC)(T?"press_profile_unfollow":"press_profile_follow"),K({action:"click",item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:I?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:W&&G("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!W&&G("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),W||ee(null!=j?j:""),(0,f.NC)("clickthrough"))},modalHeader:(0,u.N4)({i18n:H,toFollow:!T})}),re=!T&&!!M,le=()=>{if(D)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===R)return T?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===R?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return T?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(w,{pulsar:re?{show:!0,onClick:oe}:{show:!1},testId:D||T?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(y.zx,{color:E||"AddRemove"===R||!C&&A||T?"gray":"red",disabled:D||i,fullWidth:S,onClick:re?void 0:({event:i})=>{i.preventDefault(),i.stopPropagation(),t||$({event_type:101,component:13672,element:11951,object_id_str:j,view_type:B,view_parameter:N,aux_data:e}),oe()},selected:k?!T:E&&T||!!T&&A,size:U,text:le(),accessibilityLabel:le()})})}},98207:(e,i,t)=>{t.d(i,{Z:()=>s});var n=t(757141),a=t(198125),o=t(50286),r=t(883119),l=t(785893);const s=({imageUrls:e,subtitle:i,subtitleSize:t,subtitleWeight:s,title:d,titleSize:c})=>{var u;const p=(0,o.HG)(),{isHovering:h,handleMouseEnter:m,handleMouseLeave:g}=(0,a.Z)();return!e||e.length<=0?null:(0,l.jsxs)(r.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?m:void 0,onMouseLeave:p?g:void 0,children:[h&&(0,l.jsx)(n.Z,{}),(0,l.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,l.jsx)(r.Ee,{alt:d,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(u=e[0])&&void 0!==u?u:"",children:(0,l.jsx)(r.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:(0,l.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[i&&(0,l.jsx)(r.xu,{marginBottom:1,children:(0,l.jsx)(r.xv,{color:"light",size:t,align:"center",weight:s,children:i})}),(0,l.jsx)(r.X6,{color:"light",size:c,align:"center",children:d})]})})})})]})}},235626:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(609943),a=t(757141),o=t(510552),r=t(198125),l=t(825077),s=t(50286),d=t(276775),c=t(883119),u=t(785893);const p=function({articleId:e,creatorId:i,creatorFullName:t,creatorImgSrc:p,creatorIsVerified:h,gridIndex:m,imageHeight:g,imageWidth:_,imageUrl:x,pinId:v,showCreator:f,trackingParams:y,title:b,viewParameter:w,viewType:P}){const j=(0,d.useLocation)(),{isHovering:S,handleMouseEnter:k,handleMouseLeave:T}=(0,r.Z)(),I=(0,s.HG)();return(0,u.jsxs)(c.xu,{borderStyle:"shadow",position:"relative",color:"default",onMouseEnter:I?k:void 0,onMouseLeave:I?T:void 0,overflow:"hidden",rounding:8,children:[S&&(0,u.jsx)(a.Z,{}),(0,u.jsx)(l.dL,{auxData:{grid_index:m,today_article_id:e},loggingId:v,objectIdStr:v,slotIndex:m,impressionData:{imageURL:x},component:13525,trackingParams:(0,n.Z)((j.state||{}).trackingParams,y),viewParameter:w,viewType:P,children:({impressionTrackerRef:e})=>(0,u.jsx)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof g&&"number"==typeof _?g/_*100+"%":"100%"}},ref:e,children:(0,u.jsx)(c.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,u.jsx)(c.Ee,{alt:b,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=x?x:""})})})}),(0,u.jsxs)(c.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(c.X6,{align:"center",size:"400",children:b}),f&&(i||t)&&(0,u.jsx)(c.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,u.jsx)(o.Z,{userId:i,creatorFullName:t,creatorImgSrc:p,creatorIsVerified:h})})]})]})}},775007:(e,i,t)=>{t.d(i,{Z:()=>c});var n=t(116303),a=t(609943),o=t(252745),r=t(825077),l=t(276775),s=t(883119),d=t(785893);const c=({articleId:e,gridIndex:i,hasPinnerAttribution:t,imageHeight:c,imageWidth:u,imageUrl:p,pageCount:h,pinId:m,pinnerImageSrc:g,pinnerName:_,pinTrackingParams:x,title:v,viewParameter:f,viewType:y})=>{const b=(0,l.useLocation)();return(0,d.jsxs)(s.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",paddingY:6,rounding:8,children:[(0,d.jsx)(s.xu,{paddingX:6,display:"flex",justifyContent:"center",children:(0,d.jsx)(s.X6,{align:"center",size:"400",children:v})}),(0,d.jsx)(r.dL,{auxData:{grid_index:i,today_article_id:e},loggingId:m,objectIdStr:m,slotIndex:i,impressionData:{imageURL:p},component:13525,trackingParams:(0,a.Z)((b.state||{}).trackingParams,x),viewParameter:f,viewType:y,children:({impressionTrackerRef:e})=>(0,d.jsxs)(s.xu,{marginTop:4,paddingX:12,ref:e,children:[(0,d.jsx)(s.zd,{rounding:8,children:(0,d.jsx)(s.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof c&&"number"==typeof u?c/u*100+"%":"100%"}},children:(0,d.jsx)(s.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,d.jsx)(s.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=p?p:"",children:(0,d.jsx)(s.xu,{position:"relative",marginStart:1,marginTop:1,children:(0,d.jsx)(o.Z,{icon:"idea-pin",text:h.toString()})})})})})}),t&&(0,d.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,d.jsx)(s.xu,{flex:"none",height:44,width:44,marginEnd:2,children:(0,d.jsx)(n.Z,{name:"",outline:!0,size:"fit",src:g})}),(0,d.jsx)(s.xv,{lineClamp:1,children:_})]})]})})]})}},588979:(e,i,t)=>{t.d(i,{Z:()=>h});var n=t(609943),a=t(757141),o=t(510552),r=t(198125),l=t(139463),s=t(825077),d=t(50286),c=t(276775),u=t(883119),p=t(785893);const h=function({articleId:e,creatorId:i,creatorFullName:t,creatorImgSrc:h,creatorIsVerified:m,gridIndex:g,height:_,pinDescription:x,pinImageHeight:v,pinImageUrl:f,pinImageWidth:y,showCreator:b,thumbnail:w,title:P,trackingParams:j,url:S,videoPinId:k,viewParameter:T,viewType:I,width:C}){const A=(0,c.useLocation)(),z=(0,d.HG)(),{isHovering:D,handleMouseEnter:F,handleMouseLeave:L}=(0,r.Z)();return(0,p.jsxs)(u.xu,{borderStyle:"shadow",color:"default",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},onMouseEnter:z?F:void 0,onMouseLeave:z?L:void 0,children:[D&&(0,p.jsx)(a.Z,{}),(0,p.jsx)(s.dL,{auxData:{grid_index:g,today_article_id:e},loggingId:k,objectIdStr:k,slotIndex:g,impressionData:{imageURL:f},component:13525,trackingParams:(0,n.Z)((A.state||{}).trackingParams,j),viewParameter:T,viewType:I,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(l.Z,{height:_,thumbnail:w,url:S,width:C,pinDescription:x,pinImageUrl:f,pinImageHeight:v,pinImageWidth:y})})}),(0,p.jsxs)(u.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,p.jsx)(u.X6,{align:"center",size:"400",children:P}),b&&(i||t)&&(0,p.jsx)(u.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,p.jsx)(o.Z,{userId:i,creatorFullName:t,creatorImgSrc:h,creatorIsVerified:m})})]})]})}},452985:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(757141),a=t(198125),o=t(50286),r=t(276602),l=t(883119),s=t(785893);function d({imageUrls:e,rounding:i,subtitle:t,subtitleSize:d,title:c,titleSize:u}){const p=(0,o.HG)(),h=(0,r.EV)();let m=0;const g=()=>{m-=1,0===m&&(null==h||h.markConstraintComplete("idea_module_loaded"))},{isHovering:_,handleMouseEnter:x,handleMouseLeave:v}=(0,a.Z)();if(!e||e.length<=0)return null;const f=e.slice(0,3);return h&&(m=f.length),(0,s.jsxs)(l.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:null!=i?i:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?x:void 0,onMouseLeave:p?v:void 0,children:[_&&(0,s.jsx)(n.Z,{}),(0,s.jsxs)(l.xu,{display:"flex",direction:"column",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,s.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:f.map(((e,i)=>(0,s.jsx)(l.xu,{width:100/f.length+"%",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:(0,s.jsx)(l.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:"",onLoad:g})},i)))}),(0,s.jsxs)(l.xu,{flex:"none",paddingX:5,paddingY:6,width:"100%",children:[t&&(0,s.jsx)(l.xu,{marginBottom:1,children:(0,s.jsx)(l.xv,{size:d,align:"center",weight:p?"bold":"normal",children:t})}),(0,s.jsx)(l.X6,{size:u,align:"center",children:c})]})]})]})}},465110:(e,i,t)=>{t.d(i,{i:()=>j,y:()=>b});var n,a=t(458843),o=t(98207),r=t(235626),l=t(775007),s=t(588979),d=t(452985),c=t(112690),u=t(52022),p=t(825077),h=t(276775),m=t(50286),g=t(780280),_=t(784641),x=t(883119),v=t(167912),f=t(785893);const y=new Set([3,2,6]),b=({ArticleModule:e,clientTrackingParams:i,id:t,displayType:n,gridIndex:o,isTodayArticlePage:r=!1,onArticleTapUrl:l,pinId:s,viewParameter:d,viewType:g})=>{const _=(0,h.useHistory)(),v=(0,c.Z)(),b=(0,u.Z)(),P=(0,m.HG)();return(0,f.jsx)(p.Y4,{auxData:{grid_index:o.toString(),today_article_id:t},loggingId:t,objectIdStr:t,slotIndex:o,viewParameter:d||3372,viewType:g||1,children:({impressionTrackerRef:c})=>(0,f.jsx)(x.xu,{ref:c,"data-test-id":"suggested-articles-link",children:(0,f.jsx)(w,{href:l,isTodayArticlePage:r,onTap:()=>{v({event_type:P?101:102,view_type:g||1,view_parameter:d||3372,component:13525,aux_data:{today_article_id:t,grid_index:o.toString()}}),b({action:"click",item:"suggested-articles-link"}),"number"==typeof n&&y.has(n)&&i&&s&&v({event_type:P?101:102,view_type:g||1,view_parameter:d||3372,object_id_str:s,clientTrackingParams:i,aux_data:{today_article_id:s,grid_index:o.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,a.Z)(_)}}),_.push(l)},children:e})})})},w=({children:e,href:i,isTodayArticlePage:t,onTap:n})=>{const{isAuthenticated:a}=(0,g.B)(),o=(0,m.HG)();return a?(0,f.jsx)(x.iP,{onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),n({event:e})},tapStyle:"compress",children:o?(0,f.jsx)(x.xu,{width:t?void 0:408,minHeight:t?void 0:306,children:e}):e}):(0,f.jsx)(x.iP,{href:i,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),n({event:e})},role:"link",children:o?(0,f.jsx)(x.xu,{width:t?void 0:408,minHeight:t?void 0:306,children:e}):e})},P=void 0!==n?n:n=t(584818),j=({containerKey:e,gridIndex:i,subtitleSize:t,titleSize:n,viewParameter:a,viewType:c})=>{var u,p,h,m,g,x,y,w,j,S,k,T,I,C,A,z;const{contentPinOfficialUser:D,contentPin:F,displayType:L,feedSource:Z,headerPinId:E,id:M,imageUrls:U,isProductPinFeed:R,showCreator:O,subtitle:N,title:B,videoPin:H}=(0,v.useFragment)(P,e);let W=null,V=(0,_.T7)(null!=Z?Z:0,null!=R&&R,null!=B?B:"",null!=M?M:"");const{description:K,images170x:$,images236x:q,images736x:G,pinner:Y,storyPinData:X,trackingParams:J}=null!=F?F:{},Q=null!==(u=null!==(p=null!==(h=null==G?void 0:G.url)&&void 0!==h?h:null==q?void 0:q.url)&&void 0!==p?p:null==$?void 0:$.url)&&void 0!==u?u:"",ee=null!==(m=null!==(g=null==G?void 0:G.width)&&void 0!==g?g:null==q?void 0:q.width)&&void 0!==m?m:null==$?void 0:$.width,ie=null!==(x=null!==(y=null==G?void 0:G.height)&&void 0!==y?y:null==q?void 0:q.height)&&void 0!==x?x:null==$?void 0:$.height,{originPinner:te}=null!=F?F:{},ne=D||te||Y;switch(L){case 0:W=(0,f.jsx)(o.Z,{imageUrls:U,subtitle:null!=N?N:"",subtitleSize:t||"300",title:null!=B?B:"",titleSize:n||"500"});break;case 1:W=(0,f.jsx)(d.Z,{imageUrls:U,subtitle:null!=N?N:"",subtitleSize:t||"300",title:null!=B?B:"",titleSize:n||"500"});break;case 2:const{entityId:e,videos:u}=null!=H?H:{},p=null!==(w=null==u||null===(j=u.videoList)||void 0===j?void 0:j.v720P)&&void 0!==w?w:{};var ae;if(e)W=(0,f.jsx)(s.Z,{articleId:null!=M?M:"",creatorFullName:null==ne?void 0:ne.fullName,creatorImgSrc:(null==ne?void 0:ne.imageMediumUrl)||(null==ne?void 0:ne.imageSmallUrl),creatorIsVerified:Boolean(null==ne||null===(ae=ne.verifiedIdentity)||void 0===ae?void 0:ae.verified),gridIndex:i,height:p.height,pinDescription:K,pinImageUrl:Q,pinImageHeight:ie,pinImageWidth:ee,showCreator:Boolean(O),thumbnail:p.thumbnail,title:null!=B?B:"",trackingParams:J,url:p.url,videoPinId:e,viewParameter:a,viewType:c,width:p.width}),V=`/pin/${e}`;break;case 3:if(!Q)return null;W=(0,f.jsx)(r.Z,{articleId:null!=M?M:"",creatorFullName:null==ne?void 0:ne.fullName,creatorImgSrc:(null==ne?void 0:ne.imageMediumUrl)||(null==ne?void 0:ne.imageSmallUrl),creatorIsVerified:Boolean(null==ne||null===(S=ne.verifiedIdentity)||void 0===S?void 0:S.verified),imageUrl:Q,imageHeight:null!=ie?ie:0,imageWidth:null!=ee?ee:0,gridIndex:i,pinId:null!==(k=null==F?void 0:F.entityId)&&void 0!==k?k:"",showCreator:Boolean(O),title:null!=B?B:"",trackingParams:J,viewParameter:a,viewType:c}),V=E?`/pin/${E}`:V;break;case 6:if(!Q)return null;const h=null!==(T=null!==(I=null==Y?void 0:Y.imageMediumUrl)&&void 0!==I?I:null==Y?void 0:Y.imageSmallUrl)&&void 0!==T?T:"",m=null!==(C=null==Y?void 0:Y.fullName)&&void 0!==C?C:"",g=Boolean(h||m);return(0,f.jsx)(l.Z,{articleId:null!=M?M:"",gridIndex:i,hasPinnerAttribution:g,imageUrl:Q,imageHeight:null!=ie?ie:0,imageWidth:null!=ee?ee:0,pageCount:null!==(A=null==X?void 0:X.pageCount)&&void 0!==A?A:"",pinId:null!==(z=null==F?void 0:F.entityId)&&void 0!==z?z:"",pinnerImageSrc:h,pinnerName:m,pinTrackingParams:J,title:null!=B?B:"",viewParameter:a,viewType:c});default:W=null}return W?(0,f.jsx)(b,{ArticleModule:W,displayType:L,gridIndex:i,id:null!=M?M:"",onArticleTapUrl:V,viewParameter:a,viewType:c}):null}},757141:(e,i,t)=>{t.d(i,{Z:()=>r});var n=t(883119),a=t(785893);const o=new n.Ry(1);function r(){return(0,a.jsx)(n.xu,{opacity:.1,color:"transparentDarkGray",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:o})}},510552:(e,i,t)=>{t.d(i,{Z:()=>d});var n=t(667294),a=t(116303),o=t(993786),r=t(281180),l=t(883119),s=t(785893);const d=function({userId:e,creatorFullName:i,creatorImgSrc:t,creatorIsVerified:d}){var c;const u=null!==(c=(0,r.mN)()(null!=e?e:""))&&void 0!==c?c:{},{fullNameFromStore:p,imgSrcFromStore:h,isVerifiedFromStore:m}=function(e){const{full_name:i,image_medium_url:t,image_small_url:n,verified_identity:a}=e;return{fullNameFromStore:i,imgSrcFromStore:t||n,isVerifiedFromStore:Boolean(null==a?void 0:a.verified)}}(u),g=e?p:i,_=e?h:t,x=e?m:d;return(0,s.jsx)(l.kC,{alignContent:"center",alignItems:"center",flex:"none",justifyContent:"center",width:"100%",children:g&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(l.xu,{paddingX:1,children:(0,s.jsx)(a.Z,{name:g,size:"sm",src:null!=_?_:""})}),(0,s.jsx)(l.xu,{minWidth:0,paddingX:1,children:(0,s.jsx)(l.xv,{lineClamp:1,size:"300",weight:"bold",children:g})}),x&&(0,s.jsx)(l.xu,{paddingX:1,children:(0,s.jsx)(o.Z,{hasVerifiedIdentity:x,iconOnly:!0,size:"xs"})})]})})}},687999:(e,i,t)=>{t.d(i,{f:()=>l,w:()=>s});var n=t(667294),a=t(425288),o=t(785893);const{Provider:r,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[i,t]=(0,n.useState)(void 0),a=(0,n.useCallback)((()=>t(void 0)),[]),l=(0,n.useMemo)((()=>({unauthFollowUserId:i,setUnauthFollowUserId:t,removeUnauthFollowUserId:a})),[i,a]);return(0,o.jsx)(r,{value:l,children:e})}},674806:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(667294),a=t(112690),o=t(539497);const r=({viewType:e,viewParameter:i,viewData:t,auxData:n,objectIdStr:a,component:r,clientTrackingParams:l,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:i,view_data:t,aux_data:n,object_id_str:a,component:r,clientTrackingParams:l,element:s},Object.keys(u).reduce(((e,i)=>(void 0!==u[i]&&(e[i]=u[i]),e)),{}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),d(c)};function l(e){const{auxData:i,clientTrackingParams:t,children:o,component:l,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,h=(0,a.Z)(),m=JSON.stringify(i),g=JSON.stringify(c);return(0,n.useEffect)((()=>{r(e,h)}),[h,m,t,l,s,d,g,u,p]),n.Children.only(o)}},14254:(e,i,t)=>{t.d(i,{Z:()=>w});var n=t(667294),a=t(948618),o=t(70598),r=t(298361),l=t(112690),s=t(892819),d=t(19121),c=t(349700),u=t(539497),p=t(773285),h=t(50286),m=t(758127),g=t(322937),_=t(898781),x=t(808058),v=t(883119),f=t(785893);function y(e,i){const{full_name:t,username:n}=e,a=(0,f.jsx)(v.rU,{href:`/${n}`,inline:!0,underline:"hover",children:t});return(0,c.nk)(i._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a})}const b=({children:e})=>{const i=(0,d.Z)(),t=(0,h.HG)(),n=i&&i.isAuth;return t&&n?(0,f.jsx)(v.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,f.jsx)(v.xv,{lineClamp:1,weight:"bold",children:e})};function w({archivedDate:e,boardUrl:i,canEdit:t,collaborators:d,collaboratorsCount:w=0,containerBackgroundColor:P,coverPhoto:j,followedByMe:S,fullSizeDrawer:k,sensitivityScreen:T,handleInviteResponse:I,hideMeta:C,id:A,invite:z,imagesLego:D=[],isBoardInviteAccepted:F,isActive:L,isAuthenticated:Z,isCollaborative:E,isCollaborator:M,isOwner:U,isSecret:R,lastModifiedDate:O,layout:N,locale:B,name:H,numCols:W,onEditClick:V,onFollow:K,onUnfollow:$,owner:q,pinCount:G=0,sectionCount:Y,showFollowButton:X,viewParameter:J,viewType:Q,viewerId:ee}){const ie=(0,_.ZP)(),te=(0,r.Z)(),ne=(0,s.Z)(),ae=(0,l.Z)(),oe=(0,h.HG)(),re=oe&&Z,le="square"===N?x.M0:x.z9,se=D.map((e=>({url:e.url,name:H}))),de=!!q&&!t&&X,{checkExperiment:ce}=(0,p.F)(),ue=!U&&!M&&ce("mweb_board_sensitivity_screen").anyEnabled,pe=!(null==T||!T.show_warning)&&ue,he={board_id:A,reason:null==T?void 0:T.reason};(0,n.useEffect)((()=>{pe&&ae({event_type:13,component:13861,view_type:215,aux_data:he})}),[]);const me=q?q.id:void 0,ge=[...d.filter((({id:e})=>e===me)),...d.filter((({id:e})=>e===ee&&e!==me)),...d.filter((({id:e})=>![me,ee].includes(e)))].map((e=>{var i,t;return{name:null!==(i=re?e.full_name:e.username)&&void 0!==i?i:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(t=e.image_medium_url)&&void 0!==t?t:""}}));let _e=w>=ge.length?w-ge.length:0;_e=_e>99?100:_e;const xe=[...ge,...Array(_e).fill({name:"",src:""})],ve=re?24:16,fe=ve/3*(2*(ge.length>2?3:ge.length)+1);return(0,f.jsxs)(v.xu,{"data-test-id":`boardCard-${H}`,position:"relative",height:de?"max(calc(25vh + 10px), 220px)":"100%",width:re?le:"100%",children:[(0,f.jsx)(g.Z,{canEdit:t,containerBackgroundColor:P,coverPhoto:j,images:se,isSecret:R,fullSize:k,showSensitivityScreen:pe,isActive:L,onEditClick:V,layout:N}),!C&&(0,f.jsx)(n.Fragment,{children:z?(0,f.jsxs)(n.Fragment,{children:[(0,f.jsxs)(v.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsxs)(v.xu,{width:"100%",children:[(0,f.jsx)(v.rU,{href:null!=i?i:"",children:(0,f.jsx)(v.xu,{marginTop:0,marginBottom:1,children:(0,f.jsx)(b,{children:H})})}),F?(0,f.jsx)(v.xv,{size:"200",lineClamp:1,children:ie._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,f.jsx)(v.xv,{size:"200",children:y(z.invited_by_user,ie)})]}),(0,f.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:fe,minWidth:fe,height:ve,children:(0,f.jsx)(v.HE,{accessibilityLabel:m.U+(ie._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:xe})})]}),F?(0,f.jsx)(v.xu,{direction:"row",display:"flex",paddingX:2,children:(0,f.jsx)(v.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,f.jsx)(v.zx,{role:"link",href:null!=i?i:"",fullWidth:!0,size:"lg",text:ie._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,f.jsxs)(v.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,f.jsx)(v.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(v.zx,{fullWidth:!0,onClick:()=>{null==I||I(!1)},size:"lg",text:ie._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,f.jsx)(v.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(v.zx,{fullWidth:!0,color:"red",onClick:()=>{null==I||I(!0)},size:"lg",text:ie._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,f.jsxs)(v.xu,{height:re?void 0:x.s0,marginTop:re?0:1,paddingX:2,paddingY:re?2:0,children:[(0,f.jsxs)(v.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsx)(b,{children:H}),E&&(0,f.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:fe,minWidth:fe,height:ve,children:(0,f.jsx)(v.HE,{accessibilityLabel:m.U+(ie._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:xe})})]}),(0,f.jsxs)(v.xu,{alignItems:oe?"center":"start",direction:oe?"row":"column",display:"flex",marginTop:1,children:[(0,f.jsxs)(v.xv,{size:"100",lineClamp:1,children:[(0,f.jsx)(m.Z,{}),(0,c.nk)(ie.ngettext('{{ count }} Pin', '{{ count }} Pins', G, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ne(B,G,{})}),!!Y&&(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(a.Z,{ariaHidden:!0}),(0,f.jsx)(m.Z,{}),(0,c.nk)(ie.ngettext('{{ count }} section', '{{ count }} sections', Y, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:Y})]})]}),!e&&(0,f.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{display:re?"inline-flex":"inline",paddingLeft:oe?7:0}},children:(0,f.jsxs)(v.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,f.jsx)(m.Z,{}),te(O,!0)]})})]}),!!e&&(0,f.jsxs)(v.xu,{marginTop:1,children:[(0,f.jsx)(m.Z,{}),(0,f.jsx)(v.xv,{color:"subtle",size:"100",lineClamp:1,children:ie._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),de&&(0,f.jsx)(v.xu,{marginTop:2===W?3:void 0,column:2===W?12:void 0,flex:"none",children:(0,f.jsx)(o.Z,{disabled:null==q?void 0:q.blocked_by_me,followEventType:26,id:A,isFollowed:S,onFollow:e=>{Z||(0,u.NC)("press_follow_board"),K&&K(e)},onUnfollow:e=>{Z||(0,u.NC)("press_unfollow_board"),$&&$(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:J,viewType:Q})})]})})]})}},794987:(e,i,t)=>{t.d(i,{Z:()=>_});var n=t(702664),a=t(14254),o=t(851850),r=t(52022),l=t(19121),s=t(539497),d=t(904411),c=t(780280),u=t(286268),p=t(883119),h=t(628358),m=t(785893);const g=["thumbnail","imageOnly"];function _({boardId:e,containerBackgroundColor:i,forwardedRef:t,fullSize:_,showFollowButton:x=!0,showPinCount:v=!0,type:f,viewParameter:y,viewType:b}){var w,P,j;const S=(0,l.Z)(),k=S&&S.isAuth,T=(0,n.useDispatch)(),{locale:I}=(0,c.B)(),C=(0,r.Z)(),A=(0,d.gC)()(e),z=(0,o.Z)(),D=S.isAuth?S.id:"";if(!A)return null;const F=A.owner,L=[F,...A.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:i,username:t})=>({id:e,image_medium_url:i,username:t}))),Z=(null==F?void 0:F.id)===D,E=L.filter((({id:e})=>e===D)).length>0;if("secret"===A.privacy&&!E)return null;const M="grid"===f||"thumbnail"===f?2:4,U=z(A,M),R={isCustom:A.has_custom_cover,url:U,position:(0,u.Bw)(A.cover_pin)},O=(0,u.Jx)(A,U).map((({url:e})=>({name:(0,u.po)(e),url:e}))),N=(0,m.jsx)(a.Z,{archivedDate:null!==(w=A.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!A.access&&A.access.includes("write"),collaborators:L,collaboratorsCount:A.collaborator_count,containerBackgroundColor:i,coverPhoto:U?R:null,followedByMe:A.followed_by_me,fullSizeDrawer:_,hideMeta:g.includes(f),id:A.id,imagesLego:O,isAuthenticated:k,isCollaborative:A.is_collaborative,isCollaborator:E,isOwner:Z,isSecret:"secret"===A.privacy,lastModifiedDate:"full"===f?A.board_order_modified_at:"",locale:I,name:null!==(P=A.name)&&void 0!==P?P:"",numCols:M,onFollow:e=>T((0,h.Z)(e)),onUnfollow:e=>T((0,h.f)(e)),owner:F,pinCount:v&&A.pin_count?A.pin_count:void 0,sectionCount:null!==(j=A.section_count)&&void 0!==j?j:0,sensitivityScreen:A.sensitivity_screen,showFollowButton:x,viewParameter:y,viewType:b,viewerId:D});return!g.includes(f)&&A.url?(0,m.jsx)(p.iP,{role:"link",href:A.url,rounding:2,tapStyle:"compress",onTap:()=>{k||((0,s.NC)("click_go_to_board"),C({action:"click",item:"board-card"}))},children:(0,m.jsx)(p.xu,{ref:t,paddingY:3,children:N})}):N}},371918:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(883119),a=t(785893);function o({customCover:e,height:i,imgUrl:t,imgPos:o,width:r}){const l=i/r;let s="center center";if(e&&o){let e=1;e=o.height/o.width>l?r/o.width:i/o.height;s=`-${o.x*e}px -${o.y*e}px`}const d={backgroundImage:`url(${t})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{height:i,width:r}},children:(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(371918),a=t(217508),o=t(898781),r=t(50286),l=t(780280),s=t(808058),d=t(883119),c=t(785893);const u="100%";function p(e){var i,t,p,h;const m=(0,o.ZP)(),{containerBackgroundColor:g="white",coverPhoto:_,fullSize:x,images:v,isSecret:f,showSensitivityScreen:y,isActive:b,canEdit:w,onEditClick:P,layout:j}=e,S=(0,r.HG)(),{isRTL:k,isAuthenticated:T}=(0,l.B)(),I=S&&T,C=v[0],A=!_&&(null===(i=v[0])||void 0===i?void 0:i.name)||m._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),z=Array(2).fill(),D=new d.Ry(1),F="square"===j?s.M0:s.z9,L="square"===j?s.FP:s.FC,Z=y?{filter:"blur(20px)"}:{};return(0,c.jsx)(d.zd,{height:x?"100%":void 0,rounding:4,width:"100%",wash:b,children:(0,c.jsxs)(d.xu,{"aria-hidden":!0,display:"flex",height:I?L:"100%",direction:"row",children:[(0,c.jsx)(d.sg,{span:8,children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:Z},position:"relative",height:x?"100%":void 0,children:(0,c.jsx)(d.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:g,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[f&&(0,c.jsx)(d.xu,{left:!k,right:k,margin:2,position:"absolute",top:!0,zIndex:D,children:(0,c.jsx)(a.Z,{backgroundColor:"default",iconColor:"default",size:I?32:24})}),I&&null!=_&&_.url?(0,c.jsx)(n.Z,{customCover:_.isCustom,imgPos:_.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(t=_.url)&&void 0!==t?t:"",width:Math.floor(F/3*2),height:L}):(0,c.jsx)(d.Ee,{alt:A,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(p=null!==(h=null==_?void 0:_.url)&&void 0!==h?h:null==C?void 0:C.url)&&void 0!==p?p:""})]})})})}),(0,c.jsx)(d.sg,{span:4,children:(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:Z},height:"100%",children:[w&&b&&(0,c.jsx)(d.xu,{left:k,right:!k,margin:2,position:"absolute",bottom:!0,zIndex:D,children:(0,c.jsx)(d.hU,{accessibilityLabel:m._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==P?void 0:P(e),size:"sm"})}),z.map(((e,i)=>{var t,n;const a=v[I?i:i+1];return(0,c.jsx)(d.xu,{position:"relative",height:x?"50%":void 0,children:(0,c.jsx)(d.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderColor:g,borderStyle:"solid",borderWidth:0===i?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,c.jsx)(d.Ee,{alt:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(n=null==a?void 0:a.url)&&void 0!==n?n:""})})})},i)}))]})}),y&&(0,c.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(d.X6,{align:"center",color:"light",size:"400",children:m._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},808058:(e,i,t)=>{t.d(i,{FC:()=>l,FP:()=>o,M0:()=>a,s0:()=>n,z9:()=>r});const n=40,a=236,o=157,r=320,l=213},851850:(e,i,t)=>{t.d(i,{Z:()=>o});var n=t(19121),a=t(50286);function o(){const e=(0,a.HG)(),i=(0,n.Z)(),t=i&&i.isAuth;if(e&&t){return e=>{var i,t;const n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=null!==(i=null===(t=e.cover_pin)||void 0===t?void 0:t.image_url)&&void 0!==i?i:n,o=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return a||o}}return(e,i)=>{var t,n;const a=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!a)return"";const o=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,r=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(t=null!==(n=null!=o?o:r)&&void 0!==n?n:l)&&void 0!==t?t:"",d=e.image_cover_url||"";return a||(i&&i>2&&s?s:"")||d}}},286268:(e,i,t)=>{t.d(i,{Bw:()=>l,Jx:()=>r,po:()=>n});const n=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;const i=n(e);return e=>{var t;return"string"==typeof e?n(e)!==i:n(null!==(t=e.url)&&void 0!==t?t:"")!==i}},r=(e,i)=>e.images&&e.images["170x"]?e.images["170x"].filter(o(i)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(o(i)).map(a):[],l=e=>{var i;return null!==(i=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==i?i:{x:0,y:0,width:0,height:0}}},957314:(e,i,t)=>{t.d(i,{N4:()=>o,Wh:()=>n,hr:()=>a});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:i})=>i?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(898781),a=t(50286),o=t(154391),r=t(957314);const l=()=>{const e=(0,n.ZP)(),i=(0,a.HG)(),{viewer:t,loginForMore:l,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,o.H)();return"LIMITED_LOGIN"===t.type?({modalHeader:t,nextLocation:n})=>a=>{let o=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?o=a:a.event&&(o=a.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),t||(t=i?(0,r.hr)(e):(0,r.Wh)(e)),null==l||l.setVisible(!0),null==s||s.setText(t),n&&(null==d||d.setRoute(n))}:({fn:e})=>e}},628358:(e,i,t)=>{t.d(i,{Z:()=>r,f:()=>l});var n=t(6637),a=t(935409);function o(e){return n.Z.create("BoardFollowResource",{board_id:e})}function r(e){return i=>{o(e).callCreate().catch((()=>{i((0,a.md)(e,!1))})),i((0,a.md)(e,!0))}}function l(e){return i=>{o(e).callDelete().catch((()=>{i((0,a.md)(e,!0))})),i((0,a.md)(e,!1))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68919-f10675332f93fb4a.mjs.map